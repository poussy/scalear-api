!function(){"use strict";function l(r,t){var e;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=r,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!l.notNeeded(r)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,o=0,s=n.length;o<s;o++)i[n[o]]=a(i[n[o]],i);c&&(r.addEventListener("mouseover",this.onMouse,!0),r.addEventListener("mousedown",this.onMouse,!0),r.addEventListener("mouseup",this.onMouse,!0)),r.addEventListener("click",this.onClick,!0),r.addEventListener("touchstart",this.onTouchStart,!1),r.addEventListener("touchmove",this.onTouchMove,!1),r.addEventListener("touchend",this.onTouchEnd,!1),r.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(r.removeEventListener=function(t,e,n){var i=Node.prototype.removeEventListener;"click"===t?i.call(r,t,e.hijacked||e,n):i.call(r,t,e,n)},r.addEventListener=function(t,e,n){var i=Node.prototype.addEventListener;"click"===t?i.call(r,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),n):i.call(r,t,e,n)}),"function"==typeof r.onclick&&(e=r.onclick,r.addEventListener("click",function(t){e(t)},!1),r.onclick=null)}function a(t,e){return function(){return t.apply(e,arguments)}}}var t=0<=navigator.userAgent.indexOf("Windows Phone"),c=0<navigator.userAgent.indexOf("Android")&&!t,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,u=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),h=a&&/OS [6-7]_\d/.test(navigator.userAgent),r=0<navigator.userAgent.indexOf("BB10");l.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(a&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},l.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},l.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},l.prototype.determineEventType=function(t){return c&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},l.prototype.focus=function(t){var e;a&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},l.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},l.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},l.prototype.onTouchStart=function(t){var e,n,i;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],a){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!u){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},l.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},l.prototype.onTouchMove=function(t){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0},l.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},l.prototype.onTouchEnd=function(t){var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,h&&(o=t.changedTouches[0],(s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),c)return!1;s=e}}else if(this.needsFocus(s))return 100<t.timeStamp-n||a&&window.top!==window&&"input"===i?this.targetElement=null:(this.focus(s),this.sendClick(s,t),a&&"select"===i||(this.targetElement=null,t.preventDefault())),!1;return!(!a||u||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},l.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},l.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},l.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},l.prototype.destroy=function(){var t=this.layer;c&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},l.notNeeded=function(t){var e,n,i;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<n&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&10<=(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=i[2]&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},l.attach=function(t,e){return new l(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return l}):"undefined"!=typeof module&&module.exports?(module.exports=l.attach,module.exports.FastClick=l):window.FastClick=l}(),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(C,t){var e=[],_=C.document,u=e.slice,g=e.concat,a=e.push,r=e.indexOf,n={},i=n.toString,p=n.hasOwnProperty,m={},S=function(t,e){return new S.fn.init(t,e)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,s=/^-ms-/,l=/-([\da-z])/gi,c=function(t,e){return e.toUpperCase()};function h(t){var e=!!t&&"length"in t&&t.length,n=S.type(t);return"function"!==n&&!S.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}S.fn=S.prototype={jquery:"2.2.4",constructor:S,selector:"",length:0,toArray:function(){return u.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:u.call(this)},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return S.each(this,t)},map:function(n){return this.pushStack(S.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||S.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(c&&i&&(S.isPlainObject(i)||(r=S.isArray(i)))?(r?(r=!1,o=n&&S.isArray(n)?n:[]):o=n&&S.isPlainObject(n)?n:{},s[e]=S.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},S.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===S.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!S.isArray(t)&&0<=e-parseFloat(e)+1},isPlainObject:function(t){var e;if("object"!==S.type(t)||t.nodeType||S.isWindow(t))return!1;if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||p.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[i.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=S.trim(t))&&(1===t.indexOf("use strict")?((e=_.createElement("script")).text=t,_.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(s,"ms-").replace(l,c)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(h(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(o,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(h(Object(t))?S.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:r.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(h(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return g.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),S.isFunction(t)?(i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||S.guid++,r):void 0},now:Date.now,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=e[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var d=function(n){var t,p,w,o,r,g,h,m,x,l,c,k,C,s,_,v,a,u,y,S="sizzle"+1*new Date,b=n.document,$=0,i=0,d=ot(),f=ot(),E=ot(),T=function(t,e){return t===e&&(c=!0),0},D=1<<31,M={}.hasOwnProperty,e=[],A=e.pop,P=e.push,O=e.push,N=e.slice,I=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+H+"*("+R+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+H+"*\\]",z=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(H+"+","g"),B=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),W=new RegExp("^"+H+"*,"+H+"*"),V=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),q=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),Y=new RegExp(z),U=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=function(){k()};try{O.apply(e=N.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(t){O={apply:e.length?function(t,e){P.apply(t,N.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function rt(t,e,n,i){var r,o,s,a,l,c,u,h,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:b)!==C&&k(e),e=e||C,_)){if(11!==f&&(c=Q.exec(t)))if(r=c[1]){if(9===f){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&y(e,s)&&s.id===r)return n.push(s),n}else{if(c[2])return O.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&p.getElementsByClassName&&e.getElementsByClassName)return O.apply(n,e.getElementsByClassName(r)),n}if(p.qsa&&!E[t+" "]&&(!v||!v.test(t))){if(1!==f)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(tt,"\\$&"):e.setAttribute("id",a=S),o=(u=g(t)).length,l=U.test(a)?"#"+a:"[id='"+a+"']";o--;)u[o]=l+" "+gt(u[o]);h=u.join(","),d=J.test(t)&&ft(e.parentNode)||e}if(h)try{return O.apply(n,d.querySelectorAll(h)),n}catch(t){}finally{a===S&&e.removeAttribute("id")}}}return m(t.replace(B,"$1"),e,n,i)}function ot(){var i=[];return function t(e,n){return i.push(e+" ")>w.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function st(t){return t[S]=!0,t}function at(t){var e=C.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||D)-(~t.sourceIndex||D);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ut(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ht(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function dt(s){return st(function(o){return o=+o,st(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=rt.support={},r=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},k=rt.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:b;return i!==C&&9===i.nodeType&&i.documentElement&&(s=(C=i).documentElement,_=!r(C),(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",it,!1):n.attachEvent&&n.attachEvent("onunload",it)),p.attributes=at(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=at(function(t){return t.appendChild(C.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=Z.test(C.getElementsByClassName),p.getById=at(function(t){return s.appendChild(t).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),p.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(et,nt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=p.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&_?e.getElementsByClassName(t):void 0},a=[],v=[],(p.qsa=Z.test(C.querySelectorAll))&&(at(function(t){s.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+H+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+S+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]")}),at(function(t){var e=C.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+H+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(p.matchesSelector=Z.test(u=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&at(function(t){p.disconnectedMatch=u.call(t,"div"),u.call(t,"[s!='']:x"),a.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),a=a.length&&new RegExp(a.join("|")),e=Z.test(s.compareDocumentPosition),y=e||Z.test(s.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===C||t.ownerDocument===b&&y(b,t)?-1:e===C||e.ownerDocument===b&&y(b,e)?1:l?I(l,t)-I(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===C?-1:e===C?1:r?-1:o?1:l?I(l,t)-I(l,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===b?-1:a[i]===b?1:0}),C},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==C&&k(t),e=e.replace(q,"='$1']"),p.matchesSelector&&_&&!E[e+" "]&&(!a||!a.test(e))&&(!v||!v.test(e)))try{var n=u.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<rt(e,C,null,[t]).length},rt.contains=function(t,e){return(t.ownerDocument||t)!==C&&k(t),y(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==C&&k(t);var n=w.attrHandle[e.toLowerCase()],i=n&&M.call(w.attrHandle,e.toLowerCase())?n(t,e,!_):void 0;return void 0!==i?i:p.attributes||!_?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,n=[],i=0,r=0;if(c=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(T),c){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return l=null,t},o=rt.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(w=rt.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=d[t+" "];return e||(e=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&d(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=rt.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(j," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,l,c=v!==y?"nextSibling":"previousSibling",u=t.parentNode,h=b&&t.nodeName.toLowerCase(),d=!n&&!b,f=!1;if(u){if(v){for(;c;){for(s=t;s=s[c];)if(b?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&d){for(f=(a=(i=(r=(o=(s=u)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===$&&i[1])&&i[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(f=a=0)||l.pop();)if(1===s.nodeType&&++f&&s===t){r[p]=[$,a,f];break}}else if(d&&(f=a=(i=(r=(o=(s=t)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===$&&i[1]),!1===f)for(;(s=++a&&s&&s[c]||(f=a=0)||l.pop())&&((b?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((r=(o=s[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[$,f]),s!==t)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,o){var e,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return s[S]?s(o):1<s.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=I(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:st(function(t){var i=[],r=[],a=h(t.replace(B,"$1"));return a[S]?st(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),i[0]=null,!r.pop()}}),has:st(function(e){return function(t){return 0<rt(e,t).length}}),contains:st(function(e){return e=e.replace(et,nt),function(t){return-1<(t.textContent||t.innerText||o(t)).indexOf(e)}}),lang:st(function(n){return U.test(n||"")||rt.error("unsupported lang: "+n),n=n.replace(et,nt).toLowerCase(),function(t){var e;do{if(e=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===s},focus:function(t){return t===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[t]=ut(t);for(t in{submit:!0,reset:!0})w.pseudos[t]=ht(t);function pt(){}function gt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(a,t,e){var l=t.dir,c=e&&"parentNode"===l,u=i++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||c)return a(t,e,n)}:function(t,e,n){var i,r,o,s=[$,u];if(n){for(;t=t[l];)if((1===t.nodeType||c)&&a(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||c){if((i=(r=(o=t[S]||(t[S]={}))[t.uniqueID]||(o[t.uniqueID]={}))[l])&&i[0]===$&&i[1]===u)return s[2]=i[2];if((r[l]=s)[2]=a(t,e,n))return!0}}}function vt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function yt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function bt(f,p,g,m,v,t){return m&&!m[S]&&(m=bt(m)),v&&!v[S]&&(v=bt(v,t)),st(function(t,e,n,i){var r,o,s,a=[],l=[],c=e.length,u=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)rt(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?u:yt(u,a,f,n,i),d=g?v||(t?f:c||m)?[]:e:h;if(g&&g(h,d,n,i),m)for(r=yt(d,l),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(d[l[o]]=!(h[l[o]]=s));if(t){if(v||f){if(v){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);v(null,d=[],r,i)}for(o=d.length;o--;)(s=d[o])&&-1<(r=v?I(t,s):a[o])&&(t[r]=!(e[r]=s))}}else d=yt(d===e?d.splice(c,d.length):d),v?v(null,e,d,i):O.apply(e,d)})}function wt(t){for(var r,e,n,i=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,l=mt(function(t){return t===r},s,!0),c=mt(function(t){return-1<I(r,t)},s,!0),u=[function(t,e,n){var i=!o&&(n||e!==x)||((r=e).nodeType?l(t,e,n):c(t,e,n));return r=null,i}];a<i;a++)if(e=w.relative[t[a].type])u=[mt(vt(u),e)];else{if((e=w.filter[t[a].type].apply(null,t[a].matches))[S]){for(n=++a;n<i&&!w.relative[t[n].type];n++);return bt(1<a&&vt(u),1<a&&gt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(B,"$1"),e,a<n&&wt(t.slice(a,n)),n<i&&wt(t=t.slice(n)),n<i&&gt(t))}u.push(e)}return vt(u)}return pt.prototype=w.filters=w.pseudos,w.setFilters=new pt,g=rt.tokenize=function(t,e){var n,i,r,o,s,a,l,c=f[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],l=w.preFilter;s;){for(o in n&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=V.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),w.filter)!(i=G[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?rt.error(t):f(t,a).slice(0)},h=rt.compile=function(t,e){var n,m,v,y,b,i,r=[],o=[],s=E[t+" "];if(!s){for(e||(e=g(t)),n=e.length;n--;)(s=wt(e[n]))[S]?r.push(s):o.push(s);(s=E(t,(m=o,y=0<(v=r).length,b=0<m.length,i=function(t,e,n,i,r){var o,s,a,l=0,c="0",u=t&&[],h=[],d=x,f=t||b&&w.find.TAG("*",r),p=$+=null==d?1:Math.random()||.1,g=f.length;for(r&&(x=e===C||e||r);c!==g&&null!=(o=f[c]);c++){if(b&&o){for(s=0,e||o.ownerDocument===C||(k(o),n=!_);a=m[s++];)if(a(o,e||C,n)){i.push(o);break}r&&($=p)}y&&((o=!a&&o)&&l--,t&&u.push(o))}if(l+=c,y&&c!==l){for(s=0;a=v[s++];)a(u,h,e,n);if(t){if(0<l)for(;c--;)u[c]||h[c]||(h[c]=A.call(i));h=yt(h)}O.apply(i,h),r&&!t&&0<h.length&&1<l+v.length&&rt.uniqueSort(i)}return r&&($=p,x=d),u},y?st(i):i))).selector=t}return s},m=rt.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,u=!i&&g(t=c.selector||t);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&p.getById&&9===e.nodeType&&_&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(et,nt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=G.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((l=w.find[a])&&(i=l(s.matches[0].replace(et,nt),J.test(o[0].type)&&ft(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&gt(o)))return O.apply(n,i),n;break}}return(c||h(t,u))(i,e,!_,n,!e||J.test(t)&&ft(e.parentNode)||e),n},p.sortStable=S.split("").sort(T).join("")===S,p.detectDuplicates=!!c,k(),p.sortDetached=at(function(t){return 1&t.compareDocumentPosition(C.createElement("div"))}),at(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&at(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),at(function(t){return null==t.getAttribute("disabled")})||lt(L,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),rt}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains;var f=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(n))break;i.push(t)}return i},v=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},y=S.expr.match.needsContext,b=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(t,n,i){if(S.isFunction(n))return S.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return S.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(w.test(n))return S.filter(n,t,i);n=S.filter(n,t)}return S.grep(t,function(t){return-1<r.call(n,t)!==i})}S.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<n;e++)if(S.contains(r[e],this))return!0}));for(e=0;e<n;e++)S.find(t,r[e],i);return(i=this.pushStack(1<n?S.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(x(this,t||[],!1))},not:function(t){return this.pushStack(x(this,t||[],!0))},is:function(t){return!!x(this,"string"==typeof t&&y.test(t)?S(t):t||[],!1).length}});var k,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(S.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||k,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:$.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),b.test(i[1])&&S.isPlainObject(e))for(i in e)S.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=_.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=_,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):S.isFunction(t)?void 0!==n.ready?n.ready(t):t(S):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),S.makeArray(t,this))}).prototype=S.fn,k=S(_);var E=/^(?:parents|prev(?:Until|All))/,T={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=y.test(t)||"string"!=typeof t?S(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?r.call(S(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,n){return f(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,n){return f(t,"nextSibling",n)},prevUntil:function(t,e,n){return f(t,"previousSibling",n)},siblings:function(t){return v((t.parentNode||{}).firstChild,t)},children:function(t){return v(t.firstChild)},contents:function(t){return t.contentDocument||S.merge([],t.childNodes)}},function(i,r){S.fn[i]=function(t,e){var n=S.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=S.filter(e,n)),1<this.length&&(T[i]||S.uniqueSort(n),E.test(i)&&n.reverse()),this.pushStack(n)}});var M,A=/\S+/g;function P(){_.removeEventListener("DOMContentLoaded",P),C.removeEventListener("load",P),S.ready()}S.Callbacks=function(i){var t,n;i="string"==typeof i?(t=i,n={},S.each(t.match(A)||[],function(t,e){n[e]=!0}),n):S.extend({},i);var r,e,o,s,a=[],l=[],c=-1,u=function(){for(s=i.once,o=r=!0;l.length;c=-1)for(e=l.shift();++c<a.length;)!1===a[c].apply(e[0],e[1])&&i.stopOnFalse&&(c=a.length,e=!1);i.memory||(e=!1),r=!1,s&&(a=e?[]:"")},h={add:function(){return a&&(e&&!r&&(c=a.length-1,l.push(e)),function n(t){S.each(t,function(t,e){S.isFunction(e)?i.unique&&h.has(e)||a.push(e):e&&e.length&&"string"!==S.type(e)&&n(e)})}(arguments),e&&!r&&u()),this},remove:function(){return S.each(arguments,function(t,e){for(var n;-1<(n=S.inArray(e,a,n));)a.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<S.inArray(t,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=e="",this},disabled:function(){return!a},lock:function(){return s=l=[],e||(a=e=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),r||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},S.extend({Deferred:function(t){var o=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return S.Deferred(function(i){S.each(o,function(t,e){var n=S.isFunction(r[t])&&r[t];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&S.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===s?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?S.extend(t,s):s}},a={};return s.pipe=s.then,S.each(o,function(t,e){var n=e[2],i=e[3];s[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?s:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var r,e,n,i=0,o=u.call(arguments),s=o.length,a=1!==s||t&&S.isFunction(t.promise)?s:0,l=1===a?t:S.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?u.call(arguments):t,i===r?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(1<s)for(r=new Array(s),e=new Array(s),n=new Array(s);i<s;i++)o[i]&&S.isFunction(o[i].promise)?o[i].promise().progress(c(i,e,r)).done(c(i,n,o)).fail(l.reject):--a;return a||l.resolveWith(n,o),l.promise()}}),S.fn.ready=function(t){return S.ready.promise().done(t),this},S.extend({isReady:!1,readyWait:1,holdReady:function(t){t?S.readyWait++:S.ready(!0)},ready:function(t){(!0===t?--S.readyWait:S.isReady)||((S.isReady=!0)!==t&&0<--S.readyWait||(M.resolveWith(_,[S]),S.fn.triggerHandler&&(S(_).triggerHandler("ready"),S(_).off("ready"))))}}),S.ready.promise=function(t){return M||(M=S.Deferred(),"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?C.setTimeout(S.ready):(_.addEventListener("DOMContentLoaded",P),C.addEventListener("load",P))),M.promise(t)},S.ready.promise();var O=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===S.type(n))for(a in r=!0,n)O(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,S.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(S(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},N=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function I(){this.expando=S.expando+I.uid++}I.uid=1,I.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!N(t))return{};var e=t[this.expando];return e||(e={},N(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,S.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{S.isArray(e)?i=e.concat(e.map(S.camelCase)):(r=S.camelCase(e),e in o?i=[e,r]:i=(i=r)in o?[i]:i.match(A)||[]),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||S.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var L=new I,H=new I,R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/[A-Z]/g;function z(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(F,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?S.parseJSON(n):n)}catch(t){}H.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return H.hasData(t)||L.hasData(t)},data:function(t,e,n){return H.access(t,e,n)},removeData:function(t,e){H.remove(t,e)},_data:function(t,e,n){return L.access(t,e,n)},_removeData:function(t,e){L.remove(t,e)}}),S.fn.extend({data:function(i,t){var e,n,r,o=this[0],s=o&&o.attributes;if(void 0===i){if(this.length&&(r=H.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&(0===(n=s[e].name).indexOf("data-")&&(n=S.camelCase(n.slice(5)),z(o,n,r[n])));L.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof i?this.each(function(){H.set(this,i)}):O(this,function(e){var t,n;if(o&&void 0===e){if(void 0!==(t=H.get(o,i)||H.get(o,i.replace(F,"-$&").toLowerCase())))return t;if(n=S.camelCase(i),void 0!==(t=H.get(o,n)))return t;if(void 0!==(t=z(o,n,void 0)))return t}else n=S.camelCase(i),this.each(function(){var t=H.get(this,n);H.set(this,n,e),-1<i.indexOf("-")&&void 0!==t&&H.set(this,i,e)})},null,t,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){H.remove(this,t)})}}),S.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=L.get(t,e),n&&(!i||S.isArray(n)?i=L.access(t,e,S.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),i=n.length,r=n.shift(),o=S._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){S.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return L.get(t,n)||L.access(t,n,{empty:S.Callbacks("once memory").add(function(){L.remove(t,[e+"queue",n])})})}}),S.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?S.queue(this[0],e):void 0===n?this:this.each(function(){var t=S.queue(this,e,n);S._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&S.dequeue(this,e)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=S.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=L.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var j=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,B=new RegExp("^(?:([+-])=|)("+j+")([a-z%]*)$","i"),W=["Top","Right","Bottom","Left"],V=function(t,e){return t=e||t,"none"===S.css(t,"display")||!S.contains(t.ownerDocument,t)};function q(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return S.css(t,e,"")},l=a(),c=n&&n[3]||(S.cssNumber[e]?"":"px"),u=(S.cssNumber[e]||"px"!==c&&+l)&&B.exec(S.css(t,e));if(u&&u[3]!==c)for(c=c||u[3],n=n||[],u=+l||1;u/=o=o||".5",S.style(t,e,u+c),o!==(o=a()/l)&&1!==o&&--s;);return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,U=/<([\w:-]+)/,G=/^$|\/(?:java|ecma)script/i,X={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function K(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&S.nodeName(t,e)?S.merge([t],n):n}function Z(t,e){for(var n=0,i=t.length;n<i;n++)L.set(t[n],"globalEval",!e||L.get(e[n],"globalEval"))}X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td;var Q,J,tt=/<|&#?\w+;/;function et(t,e,n,i,r){for(var o,s,a,l,c,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===S.type(o))S.merge(d,o.nodeType?[o]:o);else if(tt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(U.exec(o)||["",""])[1].toLowerCase(),l=X[a]||X._default,s.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;S.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&-1<S.inArray(o,i))r&&r.push(o);else if(c=S.contains(o.ownerDocument,o),s=K(h.appendChild(o),"script"),c&&Z(s),n)for(u=0;o=s[u++];)G.test(o.type||"")&&n.push(o);return h}Q=_.createDocumentFragment().appendChild(_.createElement("div")),(J=_.createElement("input")).setAttribute("type","radio"),J.setAttribute("checked","checked"),J.setAttribute("name","t"),Q.appendChild(J),m.checkClone=Q.cloneNode(!0).cloneNode(!0).lastChild.checked,Q.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!Q.cloneNode(!0).lastChild.defaultValue;var nt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function st(){return!1}function at(){try{return _.activeElement}catch(t){}}function lt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)lt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=st;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each(function(){S.event.add(this,e,r,i,n)})}S.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=L.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(A)||[""]).length;c--;)f=g=(a=rt.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=S.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=S.event.special[f]||{},u=S.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),S.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=L.hasData(t)&&L.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(A)||[""]).length;c--;)if(f=g=(a=rt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!r&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||S.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)S.event.remove(t,f+e[c],n,i,!0);S.isEmptyObject(l)&&L.remove(t,"handle events")}},dispatch:function(t){t=S.event.fix(t);var e,n,i,r,o,s=[],a=u.call(arguments),l=(L.get(this,"events")||{})[t.type]||[],c=S.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=S.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?-1<S(r,this).index(l):S.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||_).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[S.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=it.test(r)?this.mouseHooks:nt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new S.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=_),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==at()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&S.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return S.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){return this instanceof S.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?ot:st):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||S.now(),void(this[S.expando]=!0)):new S.Event(t,e)},S.Event.prototype={constructor:S.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){S.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||S.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),S.fn.extend({on:function(t,e,n,i){return lt(this,t,e,n,i)},one:function(t,e,n,i){return lt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=st),this.each(function(){S.event.remove(this,t,n,e)})}});var ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ut=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^true\/(.*)/,ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pt(t,e){return S.nodeName(t,"table")&&S.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function gt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function mt(t){var e=dt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function vt(t,e){var n,i,r,o,s,a,l,c;if(1===e.nodeType){if(L.hasData(t)&&(o=L.access(t),s=L.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)S.event.add(e,r,c[r][n]);H.hasData(t)&&(a=H.access(t),l=S.extend({},a),H.set(e,l))}}function yt(n,i,r,o){i=g.apply([],i);var t,e,s,a,l,c,u=0,h=n.length,d=h-1,f=i[0],p=S.isFunction(f);if(p||1<h&&"string"==typeof f&&!m.checkClone&&ht.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),yt(e,i,r,o)});if(h&&(e=(t=et(i,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=S.map(K(t,"script"),gt)).length;u<h;u++)l=t,u!==d&&(l=S.clone(l,!0,!0),a&&S.merge(s,K(l,"script"))),r.call(n[u],l,u);if(a)for(c=s[s.length-1].ownerDocument,S.map(s,mt),u=0;u<a;u++)l=s[u],G.test(l.type||"")&&!L.access(l,"globalEval")&&S.contains(c,l)&&(l.src?S._evalUrl&&S._evalUrl(l.src):S.globalEval(l.textContent.replace(ft,"")))}return n}function bt(t,e,n){for(var i,r=e?S.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(K(i)),i.parentNode&&(n&&S.contains(i.ownerDocument,i)&&Z(K(i,"script")),i.parentNode.removeChild(i));return t}S.extend({htmlPrefilter:function(t){return t.replace(ct,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l,c,u=t.cloneNode(!0),h=S.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=K(u),i=0,r=(o=K(t)).length;i<r;i++)a=o[i],l=s[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&Y.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(n)for(o=o||K(t),s=s||K(u),i=0,r=o.length;i<r;i++)vt(o[i],s[i]);else vt(t,u);return 0<(s=K(u,"script")).length&&Z(s,!h&&K(t,"script")),u},cleanData:function(t){for(var e,n,i,r=S.event.special,o=0;void 0!==(n=t[o]);o++)if(N(n)){if(e=n[L.expando]){if(e.events)for(i in e.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,e.handle);n[L.expando]=void 0}n[H.expando]&&(n[H.expando]=void 0)}}}),S.fn.extend({domManip:yt,detach:function(t){return bt(this,t,!0)},remove:function(t){return bt(this,t)},text:function(t){return O(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return yt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pt(this,t).appendChild(t)})},prepend:function(){return yt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(K(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return O(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ut.test(t)&&!X[(U.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(K(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return yt(this,arguments,function(t){var e=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(K(this)),e&&e.replaceChild(t,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){S.fn[t]=function(t){for(var e,n=[],i=S(t),r=i.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),S(i[o])[s](e),a.apply(n,e.get());return this.pushStack(n)}});var wt,xt={HTML:"block",BODY:"block"};function kt(t,e){var n=S(e.createElement(t)).appendTo(e.body),i=S.css(n[0],"display");return n.detach(),i}function Ct(t){var e=_,n=xt[t];return n||("none"!==(n=kt(t,e))&&n||((e=(wt=(wt||S("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=kt(t,e),wt.detach()),xt[t]=n),n}var _t=/^margin/,St=new RegExp("^("+j+")(?!px)[a-z%]+$","i"),$t=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=C),e.getComputedStyle(t)},Et=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},Tt=_.documentElement;function Dt(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||$t(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||S.contains(t.ownerDocument,t)||(s=S.style(t,e)),n&&!m.pixelMarginRight()&&St.test(s)&&_t.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function Mt(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){var e,n,i,r,o=_.createElement("div"),s=_.createElement("div");if(s.style){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Tt.appendChild(o);var t=C.getComputedStyle(s);e="1%"!==t.top,r="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Tt.removeChild(o)}s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),S.extend(m,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),i},reliableMarginLeft:function(){return null==n&&t(),r},reliableMarginRight:function(){var t,e=s.appendChild(_.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",Tt.appendChild(o),t=!parseFloat(C.getComputedStyle(e).marginRight),Tt.removeChild(o),s.removeChild(e),t}})}}();var At=/^(none|table(?!-c[ea]).+)/,Pt={position:"absolute",visibility:"hidden",display:"block"},Ot={letterSpacing:"0",fontWeight:"400"},Nt=["Webkit","O","Moz","ms"],It=_.createElement("div").style;function Lt(t){if(t in It)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Nt.length;n--;)if((t=Nt[n]+e)in It)return t}function Ht(t,e,n){var i=B.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Rt(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=S.css(t,n+W[o],!0,r)),i?("content"===n&&(s-=S.css(t,"padding"+W[o],!0,r)),"margin"!==n&&(s-=S.css(t,"border"+W[o]+"Width",!0,r))):(s+=S.css(t,"padding"+W[o],!0,r),"padding"!==n&&(s+=S.css(t,"border"+W[o]+"Width",!0,r)));return s}function Ft(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=$t(t),s="border-box"===S.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Dt(t,e,o))<0||null==r)&&(r=t.style[e]),St.test(r))return r;i=s&&(m.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Rt(t,e,n||(s?"border":"content"),i,o)+"px"}function zt(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(o[s]=L.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&V(i)&&(o[s]=L.access(i,"olddisplay",Ct(i.nodeName)))):(r=V(i),"none"===n&&r||L.set(i,"olddisplay",r?n:S.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function jt(t,e,n,i,r){return new jt.prototype.init(t,e,n,i,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Dt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=S.camelCase(e),l=t.style;return e=S.cssProps[a]||(S.cssProps[a]=Lt(a)||a),s=S.cssHooks[e]||S.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:("string"===(o=typeof n)&&(r=B.exec(n))&&r[1]&&(n=q(t,e,r),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(S.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=S.camelCase(e);return e=S.cssProps[a]||(S.cssProps[a]=Lt(a)||a),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Dt(t,e,i)),"normal"===r&&e in Ot&&(r=Ot[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),S.each(["height","width"],function(t,s){S.cssHooks[s]={get:function(t,e,n){return e?At.test(S.css(t,"display"))&&0===t.offsetWidth?Et(t,Pt,function(){return Ft(t,s,n)}):Ft(t,s,n):void 0},set:function(t,e,n){var i,r=n&&$t(t),o=n&&Rt(t,s,n,"border-box"===S.css(t,"boxSizing",!1,r),r);return o&&(i=B.exec(e))&&"px"!==(i[3]||"px")&&(t.style[s]=e,e=S.css(t,s)),Ht(0,e,o)}}}),S.cssHooks.marginLeft=Mt(m.reliableMarginLeft,function(t,e){return e?(parseFloat(Dt(t,"marginLeft"))||t.getBoundingClientRect().left-Et(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),S.cssHooks.marginRight=Mt(m.reliableMarginRight,function(t,e){return e?Et(t,{display:"inline-block"},Dt,[t,"marginRight"]):void 0}),S.each({margin:"",padding:"",border:"Width"},function(r,o){S.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+W[e]+o]=i[e]||i[e-2]||i[0];return n}},_t.test(r)||(S.cssHooks[r+o].set=Ht)}),S.fn.extend({css:function(t,e){return O(this,function(t,e,n){var i,r,o={},s=0;if(S.isArray(e)){for(i=$t(t),r=e.length;s<r;s++)o[e[s]]=S.css(t,e[s],!1,i);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)},t,e,1<arguments.length)},show:function(){return zt(this,!0)},hide:function(){return zt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){V(this)?S(this).show():S(this).hide()})}}),((S.Tween=jt).prototype={constructor:jt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=jt.propHooks[this.prop];return t&&t.get?t.get(this):jt.propHooks._default.get(this)},run:function(t){var e,n=jt.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):jt.propHooks._default.set(this),this}}).init.prototype=jt.prototype,(jt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[S.cssProps[t.prop]]&&!S.cssHooks[t.prop]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=jt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=jt.prototype.init,S.fx.step={};var Bt,Wt,Vt,qt,Yt,Ut=/^(?:toggle|show|hide)$/,Gt=/queueHooks$/;function Xt(){return C.setTimeout(function(){Bt=void 0}),Bt=S.now()}function Kt(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=W[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Zt(t,e,n){for(var i,r=(Qt.tweeners[e]||[]).concat(Qt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function Qt(o,t,e){var n,s,i=0,r=Qt.prefilters.length,a=S.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Bt||Xt(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return a.notifyWith(o,[c,n,e]),n<1&&r?e:(a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},e),originalProperties:t,originalOptions:e,startTime:Bt||Xt(),duration:e.duration,tweens:[],createTween:function(t,e){var n=S.Tween(o,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)c.tweens[e].run(1);return t?(a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c,t])):a.rejectWith(o,[c,t]),this}}),u=c.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=S.camelCase(n)],o=t[n],S.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=S.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);i<r;i++)if(n=Qt.prefilters[i].call(c,o,u,c.opts))return S.isFunction(n.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=S.proxy(n.stop,n)),n;return S.map(u,Zt,c),S.isFunction(c.opts.start)&&c.opts.start.call(o,c),S.fx.timer(S.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}S.Animation=S.extend(Qt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return q(n.elem,t,B.exec(e),n),n}]},tweener:function(t,e){S.isFunction(t)?(e=t,t=["*"]):t=t.match(A);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Qt.tweeners[n]=Qt.tweeners[n]||[],Qt.tweeners[n].unshift(e)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,u=this,h={},d=e.style,f=e.nodeType&&V(e),p=L.get(e,"fxshow");for(i in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=S.css(e,"display"))?L.get(e,"olddisplay")||Ct(e.nodeName):c)&&"none"===S.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(r=t[i],Ut.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}h[i]=p&&p[i]||S.style(e,i)}else c=void 0;if(S.isEmptyObject(h))"inline"===("none"===c?Ct(e.nodeName):c)&&(d.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=L.access(e,"fxshow",{}),o&&(p.hidden=!f),f?S(e).show():u.done(function(){S(e).hide()}),u.done(function(){var t;for(t in L.remove(e,"fxshow"),h)S.style(e,t,h[t])}),h)s=Zt(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Qt.prefilters.unshift(t):Qt.prefilters.push(t)}}),S.speed=function(t,e,n){var i=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||S.isFunction(t)&&t,duration:t,easing:n&&e||e&&!S.isFunction(e)&&e};return i.duration=S.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in S.fx.speeds?S.fx.speeds[i.duration]:S.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){S.isFunction(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,n,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=S.isEmptyObject(e),o=S.speed(t,n,i),s=function(){var t=Qt(this,S.extend({},e),o);(r||L.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,t,o){var s=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=S.timers,i=L.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&Gt.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||S.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=L.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=S.timers,o=n?n.length:0;for(e.finish=!0,S.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),S.each(["toggle","show","hide"],function(t,i){var r=S.fn[i];S.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(Kt(i,!0),t,e,n)}}),S.each({slideDown:Kt("show"),slideUp:Kt("hide"),slideToggle:Kt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){S.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(Bt=S.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),Bt=void 0},S.fx.timer=function(t){S.timers.push(t),t()?S.fx.start():S.timers.pop()},S.fx.interval=13,S.fx.start=function(){Wt||(Wt=C.setInterval(S.fx.tick,S.fx.interval))},S.fx.stop=function(){C.clearInterval(Wt),Wt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,t){return i=S.fx&&S.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=C.setTimeout(t,i);e.stop=function(){C.clearTimeout(n)}})},Vt=_.createElement("input"),qt=_.createElement("select"),Yt=qt.appendChild(_.createElement("option")),Vt.type="checkbox",m.checkOn=""!==Vt.value,m.optSelected=Yt.selected,qt.disabled=!0,m.optDisabled=!Yt.disabled,(Vt=_.createElement("input")).value="t",Vt.type="radio",m.radioValue="t"===Vt.value;var Jt,te=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return O(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(e=e.toLowerCase(),r=S.attrHooks[e]||(S.expr.match.bool.test(e)?Jt:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=S.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&S.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(A);if(o&&1===t.nodeType)for(;n=o[r++];)i=S.propFix[n]||n,S.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Jt={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var o=te[e]||S.find.attr;te[e]=function(t,e,n){var i,r;return n||(r=te[e],te[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,te[e]=r),i}});var ee=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;S.fn.extend({prop:function(t,e){return O(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ee.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;function re(t){return t.getAttribute&&t.getAttribute("class")||""}S.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(S.isFunction(e))return this.each(function(t){S(this).addClass(e.call(this,t,re(this)))});if("string"==typeof e&&e)for(t=e.match(A)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=S.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(S.isFunction(e))return this.each(function(t){S(this).removeClass(e.call(this,t,re(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(A)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=S.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):S.isFunction(r)?this.each(function(t){S(this).toggleClass(r.call(this,t,re(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===o)for(e=0,n=S(this),i=r.match(A)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==r&&"boolean"!==o||((t=re(this))&&L.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===r?"":L.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+re(n)+" ").replace(ie," ").indexOf(e))return!0;return!1}});var oe=/\r/g,se=/[\x20\t\r\n\f]+/g;S.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=S.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,S(this).val()):n)?e="":"number"==typeof e?e+="":S.isArray(e)&&(e=S.map(e,function(t){return null==t?"":t+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=S.valHooks[e.type]||S.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(oe,""):null==t?"":t:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:S.trim(S.text(t)).replace(se," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(((n=i[l]).selected||l===r)&&(m.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!S.nodeName(n.parentNode,"optgroup"))){if(e=S(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=S.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){return S.isArray(e)?t.checked=-1<S.inArray(S(t).val(),e):void 0}},m.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ae=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(t,e,n,i){var r,o,s,a,l,c,u,h=[n||_],d=p.call(t,"type")?t.type:t,f=p.call(t,"namespace")?t.namespace.split("."):[];if(o=s=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!ae.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),l=d.indexOf(":")<0&&"on"+d,(t=t[S.expando]?t:new S.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),u=S.event.special[d]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!S.isWindow(n)){for(a=u.delegateType||d,ae.test(a+d)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(n.ownerDocument||_)&&h.push(s.defaultView||s.parentWindow||C)}for(r=0;(o=h[r++])&&!t.isPropagationStopped();)t.type=1<r?a:u.bindType||d,(c=(L.get(o,"events")||{})[t.type]&&L.get(o,"handle"))&&c.apply(o,e),(c=l&&o[l])&&c.apply&&N(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),e)||!N(n)||l&&S.isFunction(n[d])&&!S.isWindow(n)&&((s=n[l])&&(n[l]=null),n[S.event.triggered=d](),S.event.triggered=void 0,s&&(n[l]=s)),t.result}},simulate:function(t,e,n){var i=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(i,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?S.event.trigger(t,e,n,!0):void 0}}),S.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){S.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),m.focusin="onfocusin"in C,m.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){S.event.simulate(i,t.target,S.event.fix(t))};S.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=L.access(t,i);e||t.addEventListener(n,r,!0),L.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=L.access(t,i)-1;e?L.access(t,i,e):(t.removeEventListener(n,r,!0),L.remove(t,i))}}});var le=C.location,ce=S.now(),ue=/\?/;S.parseJSON=function(t){return JSON.parse(t+"")},S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new C.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var he=/#.*$/,de=/([?&])_=[^&]*/,fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:GET|HEAD)$/,ge=/^\/\//,me={},ve={},ye="*/".concat("*"),be=_.createElement("a");function we(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(A)||[];if(S.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function xe(e,r,o,s){var a={},l=e===ve;function c(t){var i;return a[t]=!0,S.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||l||a[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!a["*"]&&c("*")}function ke(t,e){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&S.extend(!0,t,i),t}be.href=le.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":S.parseJSON,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ke(ke(t,S.ajaxSettings),e):ke(S.ajaxSettings,t)},ajaxPrefilter:we(me),ajaxTransport:we(ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var u,h,d,n,f,i,p,r,g=S.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?S(m):S.event,y=S.Deferred(),b=S.Callbacks("once memory"),w=g.statusCode||{},o={},s={},x=0,a="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!n)for(n={};e=fe.exec(d);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=s[n]=s[n]||t,o[t]=e),this},overrideMimeType:function(t){return x||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)w[e]=[w[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||a;return u&&u.abort(e),l(0,e),this}};if(y.promise(k).complete=b.add,k.success=k.done,k.error=k.fail,g.url=((t||g.url||le.href)+"").replace(he,"").replace(ge,le.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=S.trim(g.dataType||"*").toLowerCase().match(A)||[""],null==g.crossDomain){i=_.createElement("a");try{i.href=g.url,i.href=i.href,g.crossDomain=be.protocol+"//"+be.host!=i.protocol+"//"+i.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=S.param(g.data,g.traditional)),xe(me,g,e,k),2===x)return k;for(r in(p=S.event&&g.global)&&0==S.active++&&S.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!pe.test(g.type),h=g.url,g.hasContent||(g.data&&(h=g.url+=(ue.test(h)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=de.test(h)?h.replace(de,"$1_="+ce++):h+(ue.test(h)?"&":"?")+"_="+ce++)),g.ifModified&&(S.lastModified[h]&&k.setRequestHeader("If-Modified-Since",S.lastModified[h]),S.etag[h]&&k.setRequestHeader("If-None-Match",S.etag[h])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&k.setRequestHeader("Content-Type",g.contentType),k.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+ye+"; q=0.01":""):g.accepts["*"]),g.headers)k.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,k,g)||2===x))return k.abort();for(r in a="abort",{success:1,error:1,complete:1})k[r](g[r]);if(u=xe(ve,g,e,k)){if(k.readyState=1,p&&v.trigger("ajaxSend",[k,g]),2===x)return k;g.async&&0<g.timeout&&(f=C.setTimeout(function(){k.abort("timeout")},g.timeout));try{x=1,u.send(o,l)}catch(t){if(!(x<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var r,o,s,a,l,c=e;2!==x&&(x=2,f&&C.clearTimeout(f),u=void 0,d=i||"",k.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(g,k,n)),a=function(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(g,a,k,r),r?(g.ifModified&&((l=k.getResponseHeader("Last-Modified"))&&(S.lastModified[h]=l),(l=k.getResponseHeader("etag"))&&(S.etag[h]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=a.state,o=a.data,r=!(s=a.error))):(s=c,!t&&c||(c="error",t<0&&(t=0))),k.status=t,k.statusText=(e||c)+"",r?y.resolveWith(m,[o,c,k]):y.rejectWith(m,[k,c,s]),k.statusCode(w),w=void 0,p&&v.trigger(r?"ajaxSuccess":"ajaxError",[k,g,r?o:s]),b.fireWith(m,[k,c]),p&&(v.trigger("ajaxComplete",[k,g]),--S.active||S.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,r){S[r]=function(t,e,n,i){return S.isFunction(e)&&(i=i||n,n=e,e=void 0),S.ajax(S.extend({url:t,type:r,dataType:i,data:e,success:n},S.isPlainObject(t)&&t))}}),S._evalUrl=function(t){return S.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){var t;return S.isFunction(e)?this.each(function(t){S(this).wrapAll(e.call(this,t))}):(this[0]&&(t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return S.isFunction(n)?this.each(function(t){S(this).wrapInner(n.call(this,t))}):this.each(function(){var t=S(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=S.isFunction(e);return this.each(function(t){S(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){S.nodeName(this,"body")||S(this).replaceWith(this.childNodes)}).end()}}),S.expr.filters.hidden=function(t){return!S.expr.filters.visible(t)},S.expr.filters.visible=function(t){return 0<t.offsetWidth||0<t.offsetHeight||0<t.getClientRects().length};var Ce=/%20/g,_e=/\[\]$/,Se=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Te(n,t,i,r){var e;if(S.isArray(t))S.each(t,function(t,e){i||_e.test(n)?r(n,e):Te(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==S.type(t))r(n,t);else for(e in t)Te(n+"["+e+"]",t[e],i,r)}S.param=function(t,e){var n,i=[],r=function(t,e){e=S.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){r(this.name,this.value)});else for(n in t)Te(n,t[n],e,r);return i.join("&").replace(Ce,"+")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Ee.test(this.nodeName)&&!$e.test(t)&&(this.checked||!Y.test(t))}).map(function(t,e){var n=S(this).val();return null==n?null:S.isArray(n)?S.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}}),S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(t){}};var De={0:200,1223:204},Me=S.ajaxSettings.xhr();m.cors=!!Me&&"withCredentials"in Me,m.ajax=Me=!!Me,S.ajaxTransport(function(r){var o,s;return m.cors||Me&&!r.crossDomain?{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(De[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=o("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&C.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}:void 0}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=S("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),_.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ae=[],Pe=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ae.pop()||S.expando+"_"+ce++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(Pe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=S.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Pe,"$1"+i):!1!==t.jsonp&&(t.url+=(ue.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=C[i],C[i]=function(){o=arguments},n.always(function(){void 0===r?S(C).removeProp(i):C[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ae.push(i)),o&&S.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),S.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||_;var i=b.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=et([t],e,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes))};var Oe=S.fn.load;function Ne(t){return S.isWindow(t)?t:9===t.nodeType&&t.defaultView}S.fn.load=function(t,e,n){if("string"!=typeof t&&Oe)return Oe.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=S.trim(t.slice(a)),t=t.slice(0,a)),S.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&S.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.expr.filters.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=S.css(t,"position"),u=S(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=S.css(t,"top"),l=S.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),S.isFunction(e)&&(e=e.call(t,n,S.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,S.contains(t,i)?(r=i.getBoundingClientRect(),n=Ne(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===S.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),S.nodeName(t[0],"html")||(i=t.offset()),i.top+=S.css(t[0],"borderTopWidth",!0),i.left+=S.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-S.css(n,"marginTop",!0),left:e.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||Tt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;S.fn[e]=function(t){return O(this,function(t,e,n){var i=Ne(t);return void 0===n?i?i[r]:t[e]:void(i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):t[e]=n)},e,t,arguments.length)}}),S.each(["top","left"],function(t,n){S.cssHooks[n]=Mt(m.pixelPosition,function(t,e){return e?(e=Dt(t,n),St.test(e)?S(t).position()[n]+"px":e):void 0})}),S.each({Height:"height",Width:"width"},function(o,s){S.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,t){S.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return O(this,function(t,e,n){var i;return S.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?S.css(t,e,r):S.style(t,e,n,r)},s,n?t:void 0,n,null)}})}),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),S.fn.andSelf=S.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Ie=C.jQuery,Le=C.$;return S.noConflict=function(t){return C.$===S&&(C.$=Le),t&&C.jQuery===S&&(C.jQuery=Ie),S},t||(C.jQuery=C.$=S),S}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function($){function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.regional.en=$.extend(!0,{},this.regional[""]),this.regional["en-US"]=$.extend(!0,{},this.regional.en),this.dpDiv=n($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){$(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,o)}function o(){$.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))}function h(t,e){for(var n in $.extend(t,e),e)null==e[n]&&(t[n]=e[n]);return t}function e(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}$.ui=$.ui||{},$.ui.version="1.12.1";var i,r,s=0,a=Array.prototype.slice;$.cleanData=(r=$.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=$._data(n,"events"))&&e.remove&&$(n).triggerHandler("remove")}catch(t){}r(t)}),$.widget=function(t,n,e){var i,r,o,s={},a=t.split(".")[0],l=a+"-"+(t=t.split(".")[1]);return e||(e=n,n=$.Widget),$.isArray(e)&&(e=$.extend.apply(null,[{}].concat(e))),$.expr[":"][l.toLowerCase()]=function(t){return!!$.data(t,l)},$[a]=$[a]||{},i=$[a][t],r=$[a][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},$.extend(r,i,{version:e.version,_proto:$.extend({},e),_childConstructors:[]}),(o=new n).options=$.widget.extend({},o.options),$.each(e,function(e,o){return $.isFunction(o)?void(s[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=r,t=o.apply(this,arguments),this._super=e,this._superApply=n,t}}()):void(s[e]=o)}),r.prototype=$.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||t},s,{constructor:r,namespace:a,widgetName:t,widgetFullName:l}),i?($.each(i._childConstructors,function(t,e){var n=e.prototype;$.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),$.widget.bridge(t,r),r},$.widget.extend=function(t){for(var e,n,i=a.call(arguments,1),r=0,o=i.length;r<o;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&void 0!==n&&(t[e]=$.isPlainObject(n)?$.isPlainObject(t[e])?$.widget.extend({},t[e],n):$.widget.extend({},n):n);return t},$.widget.bridge=function(o,e){var s=e.prototype.widgetFullName||o;$.fn[o]=function(n){var t="string"==typeof n,i=a.call(arguments,1),r=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=$.data(this,s);return"instance"===n?(r=e,!1):e?$.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&void 0!==t?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:$.error("no such method '"+n+"' for "+o+" widget instance"):$.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):r=void 0:(i.length&&(n=$.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=$.data(this,s);t?(t.option(n||{}),t._init&&t._init()):$.data(this,s,new e(n,this))})),r}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=$(e||this.defaultElement||this)[0],this.element=$(e),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),this.classesElementLookup={},e!==this&&($.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=$(e.style?e.ownerDocument:e.document||e),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var n=this;this._destroy(),$.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,o=t;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(i=o[t]=$.widget.extend({},this.options[t]),r=0;n.length-1>r;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=$(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function t(t,e){var n,i;for(i=0;t.length>i;i++)n=s.classesElementLookup[t[i]]||$(),n=r.add?$($.unique(n.get().concat(r.element.get()))):$(n.not(r.element).get()),s.classesElementLookup[t[i]]=n,o.push(t[i]),e&&r.classes[t[i]]&&o.push(r.classes[t[i]])}var o=[],s=this;return r=$.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&t(r.keys.match(/\S+/g)||[],!0),r.extra&&t(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var i=this;$.each(i.classesElementLookup,function(t,e){-1!==$.inArray(n.target,e)&&(i.classesElementLookup[t]=$(e.not(n.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(s,a,t){var l,c=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=l=$(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),$.each(t,function(t,e){function n(){return s||!0!==c.options.disabled&&!$(this).hasClass("ui-state-disabled")?("string"==typeof e?c[e]:e).apply(c,arguments):void 0}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||$.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.on(r,o,n):a.on(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=$(this.bindings.not(t).get()),this.focusable=$(this.focusable.not(t).get()),this.hoverable=$(this.hoverable.not(t).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass($(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass($(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass($(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass($(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,r,o=this.options[t];if(n=n||{},(e=$.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!($.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(o,s){$.Widget.prototype["_"+o]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,r=t?!0===t||"number"==typeof t?s:t.effect||s:o;"number"==typeof(t=t||{})&&(t={duration:t}),i=!$.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&$.effects&&$.effects.effect[r]?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){$(this)[o](),n&&n.call(e[0]),t()})}}),$.widget,function(){function k(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function C(t,e){return parseInt($.css(t,e),10)||0}var r,_=Math.max,S=Math.abs,i=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=$.fn.position;$.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,e,n=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return $("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),r=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?$.position.scrollbarWidth():0,height:i?$.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=$(t||window),n=$.isWindow(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:!n&&!i?$(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},$.fn.position=function(h){if(!h||!h.of)return c.apply(this,arguments);h=$.extend({},h);var d,f,p,g,m,t,e,n,v=$(h.of),y=$.position.getWithinInfo(h.within),b=$.position.getScrollInfo(y),w=(h.collision||"flip").split(" "),x={};return t=9===(n=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:$.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},v[0].preventDefault&&(h.at="left top"),f=t.width,p=t.height,g=t.offset,m=$.extend({},g),$.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",t=s.exec(n[0]),e=s.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],h[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===h.at[0]?m.left+=f:"center"===h.at[0]&&(m.left+=f/2),"bottom"===h.at[1]?m.top+=p:"center"===h.at[1]&&(m.top+=p/2),d=k(x.at,f,p),m.left+=d[0],m.top+=d[1],this.each(function(){var n,t,s=$(this),a=s.outerWidth(),l=s.outerHeight(),e=C(this,"marginLeft"),i=C(this,"marginTop"),r=a+e+C(this,"marginRight")+b.width,o=l+i+C(this,"marginBottom")+b.height,c=$.extend({},m),u=k(x.my,s.outerWidth(),s.outerHeight());"right"===h.my[0]?c.left-=a:"center"===h.my[0]&&(c.left-=a/2),"bottom"===h.my[1]?c.top-=l:"center"===h.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],n={marginLeft:e,marginTop:i},$.each(["left","top"],function(t,e){$.ui.position[w[t]]&&$.ui.position[w[t]][e](c,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[d[0]+u[0],d[1]+u[1]],my:h.my,at:h.at,within:y,elem:s})}),h.using&&(t=function(t){var e=g.left-c.left,n=e+f-a,i=g.top-c.top,r=i+p-l,o={target:{element:v,left:g.left,top:g.top,width:f,height:p},element:{element:s,left:c.left,top:c.top,width:a,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};f<a&&f>S(e+n)&&(o.horizontal="center"),p<l&&p>S(i+r)&&(o.vertical="middle"),o.important=_(S(e),S(n))>_(S(i),S(r))?"horizontal":"vertical",h.using.call(this,t,o)}),s.offset($.extend(c,{using:t}))})},$.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,a=r-s,l=s+e.collisionWidth-o-r;e.collisionWidth>o?0<a&&l<=0?(n=t.left+a+e.collisionWidth-o-r,t.left+=a-n):t.left=0<l&&a<=0?r:l<a?r+o-e.collisionWidth:r:0<a?t.left+=a:0<l?t.left-=l:t.left=_(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,a=r-s,l=s+e.collisionHeight-o-r;e.collisionHeight>o?0<a&&l<=0?(n=t.top+a+e.collisionHeight-o-r,t.top+=a-n):t.top=0<l&&a<=0?r:l<a?r+o-e.collisionHeight:r:0<a?t.top+=a:0<l?t.top-=l:t.top=_(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,u=l+e.collisionWidth-s-a,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+h+d+f+e.collisionWidth-s-o)<0||S(c)>n)&&(t.left+=h+d+f):0<u&&((0<(i=t.left-e.collisionPosition.marginLeft+h+d+f-a)||u>S(i))&&(t.left+=h+d+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,u=l+e.collisionHeight-s-a,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?((i=t.top+h+d+f+e.collisionHeight-s-o)<0||S(c)>i)&&(t.top+=h+d+f):0<u&&((0<(n=t.top-e.collisionPosition.marginTop+h+d+f-a)||u>S(n))&&(t.top+=h+d+f))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}}}(),$.ui.position,$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(e){return function(t){return!!$.data(t,e)}}):function(t,e,n){return!!$.data(t,n[3])}}),$.fn.extend({disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var l,c="ui-effects-",d="ui-effects-style",f="ui-effects-animated",u=$;$.effects={effect:{}},function(u,h){function d(t,e,n){var i=m[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:t>i.max?i.max:t)}function a(s){var a=p(),l=a._rgba=[];return s=s.toLowerCase(),v(t,function(t,e){var n,i=e.re.exec(s),r=i&&e.parse(i),o=e.space||"rgba";return r?(n=a[o](r),a[g[o].cache]=n[g[o].cache],l=a._rgba=n._rgba,!1):h}),l.length?("0,0,0,0"===l.join()&&u.extend(l,c.transparent),a):c[s]}function l(t,e,n){return 6*(n=(n+1)%1)<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+6*(e-t)*(2/3-n):t}var c,f=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],p=u.Color=function(t,e,n,i){return new u.Color.fn.parse(t,e,n,i)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=p.support={},e=u("<p>")[0],v=u.each;e.style.cssText="background-color:rgba(1,1,1,.5)",s.rgba=-1<e.style.backgroundColor.indexOf("rgba"),v(g,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),p.fn=u.extend(p.prototype,{parse:function(r,t,e,n){if(r===h)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=u(r).css(t),t=h);var o=this,i=u.type(r),s=this._rgba=[];return t!==h&&(r=[r,t,e,n],i="array"),"string"===i?this.parse(a(r)||c._default):"array"===i?(v(g.rgba.props,function(t,e){s[e.idx]=d(r[e.idx],e)}),this):"object"===i?(v(g,r instanceof p?function(t,e){r[e.cache]&&(o[e.cache]=r[e.cache].slice())}:function(t,n){var i=n.cache;v(n.props,function(t,e){if(!o[i]&&n.to){if("alpha"===t||null==r[t])return;o[i]=n.to(o._rgba)}o[i][e.idx]=d(r[t],e,!0)}),o[i]&&u.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):h},is:function(t){var r=p(t),o=!0,s=this;return v(g,function(t,e){var n,i=r[e.cache];return i&&(n=s[e.cache]||e.to&&e.to(s._rgba)||[],v(e.props,function(t,e){return null!=i[e.idx]?o=i[e.idx]===n[e.idx]:h})),o}),o},_space:function(){var n=[],i=this;return v(g,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,s){var a=p(t),e=a._space(),n=g[e],i=0===this.alpha()?p("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();return a=a[n.cache],v(n.props,function(t,e){var n=e.idx,i=l[n],r=a[n],o=m[e.type]||{};null!==r&&(null===i?c[n]=r:(o.mod&&(r-i>o.mod/2?i+=o.mod:i-r>o.mod/2&&(i-=o.mod)),c[n]=d((r-i)*s+i,e)))}),this[e](c)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=p(t)._rgba;return p(u.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=u.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=u.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+u.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,g.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},g.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*l(s,o,e+1/3)),Math.round(255*l(s,o,e)),Math.round(255*l(s,o,e-1/3)),r]},v(g,function(l,t){var n=t.props,s=t.cache,a=t.to,c=t.from;p.fn[l]=function(t){if(a&&!this[s]&&(this[s]=a(this._rgba)),t===h)return this[s].slice();var e,i=u.type(t),r="array"===i||"object"===i?t:arguments,o=this[s].slice();return v(n,function(t,e){var n=r["object"===i?t:e.idx];null==n&&(n=o[e.idx]),o[e.idx]=d(n,e)}),c?((e=p(c(o)))[s]=o,e):p(o)},v(n,function(s,a){p.fn[s]||(p.fn[s]=function(t){var e,n=u.type(t),i="alpha"===s?this._hsla?"hsla":"rgba":l,r=this[i](),o=r[a.idx];return"undefined"===n?o:("function"===n&&(t=t.call(this,o),n=u.type(t)),null==t&&a.empty?this:("string"===n&&((e=f.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1))),r[a.idx]=t,this[i](r)))})})}),p.hook=function(t){var e=t.split(" ");v(e,function(t,o){u.cssHooks[o]={set:function(t,e){var n,i,r="";if("transparent"!==e&&("string"!==u.type(e)||(n=a(e)))){if(e=p(n||e),!s.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===o?t.parentNode:t;(""===r||"transparent"===r)&&i&&i.style;)try{r=u.css(i,"backgroundColor"),i=i.parentNode}catch(t){}e=e.blend(r&&"transparent"!==r?r:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},u.fx.step[o]=function(t){t.colorInit||(t.start=p(t.elem,o),t.end=p(t.end),t.colorInit=!0),u.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})},p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),u.cssHooks.borderColor={expand:function(n){var i={};return v(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},c=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(u),function(){function s(t){var e,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[e=i[n]]&&(r[$.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(r[e]=i[e]);return r}var o,r,a,l=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){$.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(u.style(t.elem,e,t.end),t.setAttr=!0)}}),$.fn.addBack||($.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),$.effects.animateClass=function(r,t,e,n){var o=$.speed(t,e,n);return this.queue(function(){var t,n=$(this),e=n.attr("class")||"",i=o.children?n.find("*").addBack():n;i=i.map(function(){return{el:$(this),start:s(this)}}),(t=function(){$.each(l,function(t,e){r[e]&&n[e+"Class"](r[e])})})(),i=i.map(function(){return this.end=s(this.el[0]),this.diff=function(t,e){var n,i,r={};for(n in e)i=e[n],t[n]!==i&&(c[n]||($.fx.step[n]||!isNaN(parseFloat(i)))&&(r[n]=i));return r}(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var t=this,e=$.Deferred(),n=$.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),$.when.apply($,i.get()).done(function(){t(),$.each(arguments,function(){var e=this.el;$.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(n[0])})})},$.fn.extend({addClass:(a=$.fn.addClass,function(t,e,n,i){return e?$.effects.animateClass.call(this,{add:t},e,n,i):a.apply(this,arguments)}),removeClass:(r=$.fn.removeClass,function(t,e,n,i){return 1<arguments.length?$.effects.animateClass.call(this,{remove:t},e,n,i):r.apply(this,arguments)}),toggleClass:(o=$.fn.toggleClass,function(t,e,n,i,r){return"boolean"==typeof e||void 0===e?n?$.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,r):o.apply(this,arguments):$.effects.animateClass.call(this,{toggle:t},e,n,i)}),switchClass:function(t,e,n,i,r){return $.effects.animateClass.call(this,{add:e,remove:t},n,i,r)}})}(),function(){function u(t,e,n,i){return $.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),$.isFunction(e)&&(i=e,n=null,e={}),("number"==typeof e||$.fx.speeds[e])&&(i=n,n=e,e={}),$.isFunction(n)&&(i=n,n=null),e&&$.extend(t,e),n=n||e.duration,t.duration=$.fx.off?0:"number"==typeof n?n:n in $.fx.speeds?$.fx.speeds[n]:$.fx.speeds._default,t.complete=i||e.complete,t}function n(t){return!(t&&"number"!=typeof t&&!$.fx.speeds[t])||("string"==typeof t&&!$.effects.effect[t]||(!!$.isFunction(t)||"object"==typeof t&&!t.effect))}function e(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}var i,r,o,s;$.expr&&$.expr.filters&&$.expr.filters.animated&&($.expr.filters.animated=(s=$.expr.filters.animated,function(t){return!!$(t).data(f)||s(t)})),!1!==$.uiBackCompat&&$.extend($.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data(c+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data(c+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},t=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return n.wrap(t),(n[0]===r||$.contains(n[0],r))&&$(r).trigger("focus"),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):($.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),$.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||$.contains(t[0],e))&&$(e).trigger("focus")),t}}),$.extend($.effects,{version:"1.12.1",define:function(t,e,n){return n||(n=e,e="effect"),$.effects.effect[t]=n,$.effects.effect[t].mode=e,n},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();1<e&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(d,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(d)||"",t.removeData(d)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(t){var e,n=t.css("position"),i=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",e=$("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(c+"placeholder",e)),t.css({position:n,left:i.left,top:i.top}),e},removePlaceholder:function(t){var e=c+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(t){$.effects.restoreStyle(t),$.effects.removePlaceholder(t)},setTransition:function(i,t,r,o){return o=o||{},$.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(o[e]=n[0]*r+n[1])}),o}}),$.fn.extend({effect:function(){function t(t){function e(){$.isFunction(s)&&s.call(n[0]),$.isFunction(t)&&t()}var n=$(this);i.mode=l.shift(),!1===$.uiBackCompat||o?"none"===i.mode?(n[a](),e()):r.call(n[0],i,function(){n.removeData(f),$.effects.cleanUp(n),"hide"===i.mode&&n.hide(),e()}):(n.is(":hidden")?"hide"===a:"show"===a)?(n[a](),e()):r.call(n[0],i,e)}var i=u.apply(this,arguments),r=$.effects.effect[i.effect],o=r.mode,e=i.queue,n=e||"fx",s=i.complete,a=i.mode,l=[],c=function(t){var e=$(this),n=$.effects.mode(e,a)||o;e.data(f,!0),l.push(n),o&&("show"===n||n===o&&"hide"===n)&&e.show(),o&&"none"===n||$.effects.saveStyle(e),$.isFunction(t)&&t()};return $.fx.off||!r?a?this[a](i.duration,s):this.each(function(){s&&s.call(this)}):!1===e?this.each(c).each(t):this.queue(n,c).queue(n,t)},show:(o=$.fn.show,function(t){if(n(t))return o.apply(this,arguments);var e=u.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(r=$.fn.hide,function(t){if(n(t))return r.apply(this,arguments);var e=u.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(i=$.fn.toggle,function(t){if(n(t)||"boolean"==typeof t)return i.apply(this,arguments);var e=u.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var n=this.css(t),i=[];return $.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):e(this.css("clip"),this)},transfer:function(t,e){var n=$(this),i=$(t.to),r="fixed"===i.css("position"),o=$("body"),s=r?o.scrollTop():0,a=r?o.scrollLeft():0,l=i.offset(),c={top:l.top-s,left:l.left-a,height:i.innerHeight(),width:i.innerWidth()},u=n.offset(),h=$("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:u.top-s,left:u.left-a,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){h.remove(),$.isFunction(e)&&e()})}}),$.fx.step.clip=function(t){t.clipInit||(t.start=$(t.elem).cssClip(),"string"==typeof t.end&&(t.end=e(t.end,t.elem)),t.clipInit=!0),$(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),l={},$.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){l[t]=function(t){return Math.pow(t,e+2)}}),$.extend(l,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),$.each(l,function(t,e){$.easing["easeIn"+t]=e,$.easing["easeOut"+t]=function(t){return 1-e(1-t)},$.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});var p,g;$.effects;$.effects.define("blind","hide",function(t,e){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},i=$(this),r=t.direction||"up",o=i.cssClip(),s={clip:$.extend({},o)},a=$.effects.createPlaceholder(i);s.clip[n[r][0]]=s.clip[n[r][1]],"show"===t.mode&&(i.cssClip(s.clip),a&&a.css($.effects.clipToBox(s)),s.clip=o),a&&a.animate($.effects.clipToBox(s),t.duration,t.easing),i.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),$.effects.define("bounce",function(t,e){var n,i,r,o=$(this),s=t.mode,a="hide"===s,l="show"===s,c=t.direction||"up",u=t.distance,h=t.times||5,d=2*h+(l||a?1:0),f=t.duration/d,p=t.easing,g="up"===c||"down"===c?"top":"left",m="up"===c||"left"===c,v=0,y=o.queue().length;for($.effects.createPlaceholder(o),r=o.css(g),u||(u=o["top"===g?"outerHeight":"outerWidth"]()/3),l&&((i={opacity:1})[g]=r,o.css("opacity",0).css(g,m?2*-u:2*u).animate(i,f,p)),a&&(u/=Math.pow(2,h-1)),(i={})[g]=r;v<h;v++)(n={})[g]=(m?"-=":"+=")+u,o.animate(n,f,p).animate(i,f,p),u=a?2*u:u/2;a&&((n={opacity:0})[g]=(m?"-=":"+=")+u,o.animate(n,f,p)),o.queue(e),$.effects.unshift(o,y,d+1)}),$.effects.define("clip","hide",function(t,e){var n,i={},r=$(this),o=t.direction||"vertical",s="both"===o,a=s||"horizontal"===o,l=s||"vertical"===o;n=r.cssClip(),i.clip={top:l?(n.bottom-n.top)/2:n.top,right:a?(n.right-n.left)/2:n.right,bottom:l?(n.bottom-n.top)/2:n.bottom,left:a?(n.right-n.left)/2:n.left},$.effects.createPlaceholder(r),"show"===t.mode&&(r.cssClip(i.clip),i.clip=n),r.animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),$.effects.define("drop","hide",function(t,e){var n,i=$(this),r="show"===t.mode,o=t.direction||"left",s="up"===o||"down"===o?"top":"left",a="up"===o||"left"===o?"-=":"+=",l="+="===a?"-=":"+=",c={opacity:0};$.effects.createPlaceholder(i),n=t.distance||i["top"===s?"outerHeight":"outerWidth"](!0)/2,c[s]=a+n,r&&(i.css(c),c[s]=l+n,c.opacity=1),i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),$.effects.define("explode","hide",function(t,e){function n(){m.push(this),m.length===c*u&&(h.css({visibility:"visible"}),$(m).remove(),e())}var i,r,o,s,a,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=c,h=$(this),d="show"===t.mode,f=h.show().css("visibility","hidden").offset(),p=Math.ceil(h.outerWidth()/u),g=Math.ceil(h.outerHeight()/c),m=[];for(i=0;i<c;i++)for(s=f.top+i*g,l=i-(c-1)/2,r=0;r<u;r++)o=f.left+r*p,a=r-(u-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*p,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:g,left:o+(d?a*p:0),top:s+(d?l*g:0),opacity:d?0:1}).animate({left:o+(d?0:a*p),top:s+(d?0:l*g),opacity:d?1:0},t.duration||500,t.easing,n)}),$.effects.define("fade","toggle",function(t,e){var n="show"===t.mode;$(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),$.effects.define("fold","hide",function(e,t){var n=$(this),i=e.mode,r="show"===i,o="hide"===i,s=e.size||15,a=/([0-9]+)%/.exec(s),l=!!e.horizFirst?["right","bottom"]:["bottom","right"],c=e.duration/2,u=$.effects.createPlaceholder(n),h=n.cssClip(),d={clip:$.extend({},h)},f={clip:$.extend({},h)},p=[h[l[0]],h[l[1]]],g=n.queue().length;a&&(s=parseInt(a[1],10)/100*p[o?0:1]),d.clip[l[0]]=s,f.clip[l[0]]=s,f.clip[l[1]]=0,r&&(n.cssClip(f.clip),u&&u.css($.effects.clipToBox(f)),f.clip=h),n.queue(function(t){u&&u.animate($.effects.clipToBox(d),c,e.easing).animate($.effects.clipToBox(f),c,e.easing),t()}).animate(d,c,e.easing).animate(f,c,e.easing).queue(t),$.effects.unshift(n,g,4)}),$.effects.define("highlight","show",function(t,e){var n=$(this),i={backgroundColor:n.css("backgroundColor")};"hide"===t.mode&&(i.opacity=0),$.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),$.effects.define("size",function(r,e){var t,o,n,i=$(this),s=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=r.mode,u="effect"!==c,h=r.scale||"both",d=r.origin||["middle","center"],f=i.css("position"),p=i.position(),g=$.effects.scaledDimensions(i),m=r.from||g,v=r.to||$.effects.scaledDimensions(i,0);$.effects.createPlaceholder(i),"show"===c&&(n=m,m=v,v=n),o={from:{y:m.height/g.height,x:m.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},("box"===h||"both"===h)&&(o.from.y!==o.to.y&&(m=$.effects.setTransition(i,a,o.from.y,m),v=$.effects.setTransition(i,a,o.to.y,v)),o.from.x!==o.to.x&&(m=$.effects.setTransition(i,l,o.from.x,m),v=$.effects.setTransition(i,l,o.to.x,v))),("content"===h||"both"===h)&&o.from.y!==o.to.y&&(m=$.effects.setTransition(i,s,o.from.y,m),v=$.effects.setTransition(i,s,o.to.y,v)),d&&(t=$.effects.getBaseline(d,g),m.top=(g.outerHeight-m.outerHeight)*t.y+p.top,m.left=(g.outerWidth-m.outerWidth)*t.x+p.left,v.top=(g.outerHeight-v.outerHeight)*t.y+p.top,v.left=(g.outerWidth-v.outerWidth)*t.x+p.left),i.css(m),("content"===h||"both"===h)&&(a=a.concat(["marginTop","marginBottom"]).concat(s),l=l.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var t=$(this),e=$.effects.scaledDimensions(t),n={height:e.height*o.from.y,width:e.width*o.from.x,outerHeight:e.outerHeight*o.from.y,outerWidth:e.outerWidth*o.from.x},i={height:e.height*o.to.y,width:e.width*o.to.x,outerHeight:e.height*o.to.y,outerWidth:e.width*o.to.x};o.from.y!==o.to.y&&(n=$.effects.setTransition(t,a,o.from.y,n),i=$.effects.setTransition(t,a,o.to.y,i)),o.from.x!==o.to.x&&(n=$.effects.setTransition(t,l,o.from.x,n),i=$.effects.setTransition(t,l,o.to.x,i)),u&&$.effects.saveStyle(t),t.css(n),t.animate(i,r.duration,r.easing,function(){u&&$.effects.restoreStyle(t)})})),i.animate(v,{queue:!1,duration:r.duration,easing:r.easing,complete:function(){var t=i.offset();0===v.opacity&&i.css("opacity",m.opacity),u||(i.css("position","static"===f?"relative":f).offset(t),$.effects.saveStyle(i)),e()}})}),$.effects.define("scale",function(t,e){var n=$(this),i=t.mode,r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==i?0:100),o=$.extend(!0,{from:$.effects.scaledDimensions(n),to:$.effects.scaledDimensions(n,r,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),$.effects.effect.size.call(this,o,e)}),$.effects.define("puff","hide",function(t,e){var n=$.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});$.effects.effect.scale.call(this,n,e)}),$.effects.define("pulsate","show",function(t,e){var n=$(this),i=t.mode,r="show"===i,o=r||"hide"===i,s=2*(t.times||5)+(o?1:0),a=t.duration/s,l=0,c=1,u=n.queue().length;for((r||!n.is(":visible"))&&(n.css("opacity",0).show(),l=1);c<s;c++)n.animate({opacity:l},a,t.easing),l=1-l;n.animate({opacity:l},a,t.easing),n.queue(e),$.effects.unshift(n,u,s+1)}),$.effects.define("shake",function(t,e){var n=1,i=$(this),r=t.direction||"left",o=t.distance||20,s=t.times||3,a=2*s+1,l=Math.round(t.duration/a),c="up"===r||"down"===r?"top":"left",u="up"===r||"left"===r,h={},d={},f={},p=i.queue().length;for($.effects.createPlaceholder(i),h[c]=(u?"-=":"+=")+o,d[c]=(u?"+=":"-=")+2*o,f[c]=(u?"-=":"+=")+2*o,i.animate(h,l,t.easing);n<s;n++)i.animate(d,l,t.easing).animate(f,l,t.easing);i.animate(d,l,t.easing).animate(h,l/2,t.easing).queue(e),$.effects.unshift(i,p,a+1)}),$.effects.define("slide","show",function(t,e){var n,i,r=$(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u=t.distance||r["top"===l?"outerHeight":"outerWidth"](!0),h={};$.effects.createPlaceholder(r),n=r.cssClip(),i=r.position()[l],h[l]=(c?-1:1)*u+i,h.clip=r.cssClip(),h.clip[o[a][1]]=h.clip[o[a][0]],"show"===s&&(r.cssClip(h.clip),r.css(l,h[l]),h.clip=n,h[l]=i),r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),!1!==$.uiBackCompat&&$.effects.define("transfer",function(t,e){$(this).transfer(t,e)}),$.ui.focusable=function(t,e){var n,i,r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(0<(r=$("img[usemap='#"+i+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(o=!t.disabled)&&((s=$(t).closest("fieldset")[0])&&(o=!s.disabled)):o="a"===a&&t.href||e,o&&$(t).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}($(t)))},$.extend($.expr[":"],{focusable:function(t){return $.ui.focusable(t,null!=$.attr(t,"tabindex"))}}),$.ui.focusable,$.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):$(this[0].form)},$.ui.formResetMixin={_formResetHandler:function(){var e=$(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");$.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice($.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===$.fn.jquery.substring(0,3)&&($.each(["Width","Height"],function(t,n){function i(t,e,n,i){return $.each(r,function(){e-=parseFloat($.css(t,"padding"+this))||0,n&&(e-=parseFloat($.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat($.css(t,"margin"+this))||0)}),e}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){$(this).css(o,i(this,t)+"px")})},$.fn["outer"+n]=function(t,e){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){$(this).css(o,i(this,t,!0,e)+"px")})}}),$.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},$.ui.escapeSelector=(g=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(g,"\\$1")}),$.fn.labels=function(){var t,e,n,i,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),(n=this.attr("id"))&&(r=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),e="label[for='"+$.ui.escapeSelector(n)+"']",i=i.add(r.find(e).addBack(e))),this.pushStack(i))},$.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=$(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:$(this[0].ownerDocument||document)},$.extend($.expr[":"],{tabbable:function(t){var e=$.attr(t,"tabindex"),n=null!=e;return(!n||0<=e)&&$.ui.focusable(t,n)}}),$.fn.extend({uniqueId:(p=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++p)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=$(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():$()}},_createIcons:function(){var t,e,n=this.options.icons;n&&(t=$("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+n.header),t.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,n.header)._addClass(e,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=$.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),r=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:r=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:r=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:r=this.headers[0];break;case e.END:r=this.headers[n-1]}r&&($(t.target).attr("tabIndex",-1),$(r).attr("tabIndex",0),$(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===$.ui.keyCode.UP&&t.ctrlKey&&$(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=$()):!1===t.active?this._activate(0):this.active.length&&!$.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=$()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var n,t=this.options,e=t.heightStyle,i=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=$(this),e=t.uniqueId().attr("id"),n=t.next(),i=n.uniqueId().attr("id");t.attr("aria-controls",i),n.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(n=i.height(),this.element.siblings(":visible").each(function(){var t=$(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.headers.each(function(){n-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,n-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){var t=$(this).is(":visible");t||$(this).show(),n=Math.max(n,$(this).css("height","").height()),t||$(this).hide()}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:$.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):$()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&$.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e,n,i=this.options,r=this.active,o=$(t.currentTarget),s=o[0]===r[0],a=s&&i.collapsible,l=a?$():o.next(),c={oldHeader:r,oldPanel:r.next(),newHeader:a?$():o,newPanel:l};t.preventDefault(),s&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!a&&this.headers.index(o),this.active=s?$():o,this._toggle(c),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(e=r.children(".ui-accordion-header-icon"),this._removeClass(e,null,i.icons.activeHeader)._addClass(e,null,i.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),i.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,i.icons.header)._addClass(n,null,i.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt($(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,n,e){var i,r,o,s=this,a=0,l=t.css("box-sizing"),c=t.length&&(!n.length||t.index()<n.index()),u=this.options.animate||{},h=c&&u.down||u,d=function(){s._toggleComplete(e)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,o=o||h.duration||u.duration,n.length?t.length?(i=t.show().outerHeight(),n.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===l&&(a+=e.now):"content"!==s.options.heightStyle&&(e.now=Math.round(i-n.outerHeight()-a),a=0)}})):n.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),$.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n},$.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=$(t.target),n=$($.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var e=$(t.target).closest(".ui-menu-item"),n=$(t.currentTarget);e[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=$(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,n,i,r,o=!0;switch(t.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(t);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case $.ui.keyCode.HOME:this._move("first","first",t);break;case $.ui.keyCode.END:this._move("last","last",t);break;case $.ui.keyCode.UP:this.previous(t);break;case $.ui.keyCode.DOWN:this.next(t);break;case $.ui.keyCode.LEFT:this.collapse(t);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(t);break;case $.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",r=!1,i=96<=t.keyCode&&t.keyCode<=105?""+(t.keyCode-96):String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===n?r=!0:i=n+i,e=this._filterMenuItems(i),(e=r&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,n,i,r=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=$(this),e=t.prev(),n=$("<span>").data("ui-menu-submenu-caret",!0);r._addClass(n,"ui-menu-icon","ui-icon "+o),e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=$(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(n=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,r,o,s;this._hasScroll()&&(e=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):o<i+s&&this.activeMenu.scrollTop(r+i-o+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=$.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:$(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!$(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=$(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var e,n,i;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=$(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||$(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test($.trim($(this).children(".ui-menu-item-wrapper").text()))})}}),$.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,o="input"===t;this.isMultiLine=e||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[e||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var e=$.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&t.preventDefault());if(!i){var e=$.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){return r?(r=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=$("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==$.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,e){var n,i;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){$(t.target).trigger(t.originalEvent)})):(i=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),void((n=e.item.attr("aria-label")||i.value)&&$.trim(n).length&&(this.liveRegion.children().hide(),$("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==$.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=$("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||$.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?$(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var n,i,r=this;$.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e($.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){r.xhr&&r.xhr.abort(),r.xhr=$.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;(!t||t&&!e&&!n)&&(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return $.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:$.map(t,function(t){return"string"==typeof t?{label:t,value:t}:$.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;$.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return $("<li>").append($("<div>").text(e.label)).appendTo(t)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),$.extend($.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=RegExp($.ui.autocomplete.escapeRegex(e),"i");return $.grep(t,function(t){return n.test(t.label||t.value||t)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),$("<div>").text(e).appendTo(this.liveRegion))}}),$.ui.autocomplete;var m,v,y=/ui-corner-([a-z]){2,6}/g;$.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var s=this,a=[];$.each(this.options.items,function(r,t){var e,o={};return t?"controlgroupLabel"===r?((e=s.element.find(t)).each(function(){var t=$(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),s._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(e.get()))):void($.fn[r]&&(o=s["_"+r+"Options"]?s["_"+r+"Options"]("middle"):{classes:{}},s.element.find(t).each(function(){var t=$(this),e=t[r]("instance"),n=$.widget.extend({},o);if("button"!==r||!t.parent(".ui-spinner").length){e||(e=t[r]()[r]("instance")),e&&(n.classes=s._resolveClassesValues(n.classes,e)),t[r](n);var i=t[r]("widget");$.data(i[0],"ui-controlgroup-data",e||t[r]("instance")),a.push(i[0])}}))):void 0}),this.childWidgets=$($.unique(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=$(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(n,i){var r={};return $.each(n,function(t){var e=i.options.classes[t]||"";e=$.trim(e.replace(y,"")),r[t]=(e+" "+n[t]).replace(/\s+/g," ")}),r},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var r,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),r=this.childWidgets,this.options.onlyVisible&&(r=r.filter(":visible")),r.length&&($.each(["first","last"],function(t,e){var n=r[e]().data("ui-controlgroup-data");if(n&&o["_"+n.widgetName+"Options"]){var i=o["_"+n.widgetName+"Options"](1===r.length?"only":e);i.classes=o._resolveClassesValues(i.classes,n),n.element[n.widgetName](i)}else o._updateCornerClass(r[e](),e)}),this._callChildMethod("refresh"))}}),$.widget("ui.checkboxradio",[$.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e,n=this,i=this._super()||{};return this._readType(),e=this.element.labels(),this.label=$(e[e.length-1]),this.label.length||$.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?$(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||$.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+$.ui.escapeSelector(t)+"']";return t?(this.form.length?$(this.form[0].elements).filter(e):$(e).filter(function(){return 0===$(this).form().length})).not(this.element):$([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=$(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=$("<span>"),this.iconSpace=$("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),$.ui.checkboxradio,$.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===$.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var n="iconPosition"!==t,i=n?this.options.iconPosition:e,r="top"===i||"bottom"===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=$("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,e),this._attachIcon(i),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=$("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==$.uiBackCompat&&($.widget("ui.button",$.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),$.fn.button=(m=$.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?m.apply(this,arguments):($.ui.checkboxradio||$.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),$.fn.buttonset=function(){return $.ui.controlgroup||$.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),$.ui.button,$.extend($.ui,{datepicker:{version:"1.12.1"}}),$.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return h(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var n,i,r;i="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(r=this._newInst($(t),i)).settings=$.extend({},e||{}),"input"===n?this._connectDatepicker(t,r):i&&this._inlineDatepicker(t,r)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?n($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var n=$(t);e.append=$([]),e.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),$.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n,i,r,o=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),o&&(e.append=$("<span class='"+this._appendClass+"'>"+o+"</span>"),t[s?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),("focus"===(n=this._get(e,"showOn"))||"both"===n)&&t.on("focus",this._showDatepicker),("button"===n||"both"===n)&&(i=this._get(e,"buttonText"),r=this._get(e,"buttonImage"),e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):$("<button type='button'></button>").addClass(this._triggerClass).html(r?$("<img/>").attr({src:r,alt:i,title:i}):i)),t[s?"before":"after"](e.trigger),e.trigger.on("click",function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput===t[0]?$.datepicker._hideDatepicker():($.datepicker._datepickerShowing&&$.datepicker._lastInput!==t[0]&&$.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(r=i=n=0;t.length>r;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(t,e){var n=$(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.dpDiv),$.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,r){var o,s,a,l,c,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=$("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),$("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],"datepicker",u)),h(u.settings,i||{}),e=e&&e.constructor===Date?this._formatDate(u,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(s=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+l,a/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(t){var e,n=$(t),i=$.data(t,"datepicker");n.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),$.removeData(t,"datepicker"),"input"===e?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===e||"span"===e)&&n.removeClass(this.markerClassName).empty(),v===i&&(v=null))},_enableDatepicker:function(e){var t,n,i=$(e),r=$.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===t||"span"===t)&&((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=$.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,n,i=$(e),r=$.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===t||"span"===t)&&((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=$.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return $.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i,r,o,s,a=this._getInst(t);return 2===arguments.length&&"string"==typeof e?"defaults"===e?$.extend({},$.datepicker._defaults):a?"all"===e?$.extend({},a.settings):this._get(a,e):null:(i=e||{},"string"==typeof e&&((i={})[e]=n),void(a&&(this._curInst===a&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(a,"min"),s=this._getMinMaxDate(a,"max"),h(a.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(a.settings.minDate=this._formatDate(a,o)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(a.settings.maxDate=this._formatDate(a,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments($(t),a),this._autoSize(a),this._setDate(a,r),this._updateAlternate(a),this._updateDatepicker(a))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e,n,i,r=$.datepicker._getInst(t.target),o=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),o=!1;break;case 13:return(i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",r.dpDiv))[0]&&$.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,i[0]),(e=$.datepicker._get(r,"onSelect"))?(n=$.datepicker._formatDate(r),e.apply(r.input?r.input[0]:null,[n,r])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(r,"stepBigMonths"):-$.datepicker._get(r,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(r,"stepBigMonths"):+$.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,s?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(r,"stepBigMonths"):-$.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,s?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(r,"stepBigMonths"):+$.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,n,i=$.datepicker._getInst(t.target);return $.datepicker._get(i,"constrainInput")?(e=$.datepicker._possibleChars($.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!e||-1<e.indexOf(n)):void 0},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e))&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,n,i,r,o,s,a;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),$.datepicker._isDisabledDatepicker(t)||$.datepicker._lastInput===t)||(e=$.datepicker._getInst(t),$.datepicker._curInst&&$.datepicker._curInst!==e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0])),!1!==(i=(n=$.datepicker._get(e,"beforeShow"))?n.apply(t,[t,e]):{})&&(h(e.settings,i),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight),r=!1,$(t).parents().each(function(){return!(r|="fixed"===$(this).css("position"))}),o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),o=$.datepicker._checkOffset(e,o,r),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),e.inline||(s=$.datepicker._get(e,"showAnim"),a=$.datepicker._get(e,"duration"),e.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}($(t))+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects.effect[s]?e.dpDiv.show(s,$.datepicker._get(e,"showOptions"),a):e.dpDiv[s||"show"](s?a:null),$.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),$.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(v=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,n=this._getNumberOfMonths(t),i=n[1],r=t.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-o:0,e.left-=n&&e.left===t.input.offset().left?$(document).scrollLeft():0,e.top-=n&&e.top===t.input.offset().top+s?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>a&&i<a?Math.abs(e.left+i-a):0),e.top-=Math.min(e.top,e.top+r>l&&r<l?Math.abs(r+s):0),e},_findPos:function(t){for(var e,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=$(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,n,i,r,o=this._curInst;!o||t&&o!==$.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(o,"showAnim"),n=this._get(o,"duration"),i=function(){$.datepicker._tidyDialog(o)},$.effects&&($.effects.effect[e]||$.effects[e])?o.dpDiv.hide(e,$.datepicker._get(o,"showOptions"),n,i):o.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?n:null,i),e||i(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),n=$.datepicker._getInst(e[0]);(e[0].id!==$.datepicker._mainDivId&&0===e.parents("#"+$.datepicker._mainDivId).length&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=$(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,e+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var e,n=$(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,e,n){var i=$(t),r=this._getInst(i[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,e,n,i){var r,o=$(t);$(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=$("a",i).html(),r.selectedMonth=r.currentMonth=e,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var e=$(t);this._selectDate(e,"")},_selectDate:function(t,e){var n,i=$(t),r=this._getInst(i[0]);e=null!=e?e:this._formatDate(r),r.input&&r.input.val(e),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[e,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,n,i,r=this._get(t,"altField");r&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(e,n,this._getFormatConfig(t)),$(r).val(i))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(n,o,t){if(null==n||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?""+o:o+""))return null;var i,e,r,s,a=0,l=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,h=(t?t.dayNames:null)||this._defaults.dayNames,d=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,f=(t?t.monthNames:null)||this._defaults.monthNames,p=-1,g=-1,m=-1,v=-1,y=!1,b=function(t){var e=n.length>i+1&&n.charAt(i+1)===t;return e&&i++,e},w=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i=RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),r=o.substring(a).match(i);if(!r)throw"Missing number at position "+a;return a+=r[0].length,parseInt(r[0],10)},x=function(t,e,n){var i=-1,r=$.map(b(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if($.each(r,function(t,e){var n=e[1];return o.substr(a,n.length).toLowerCase()===n.toLowerCase()?(i=e[0],a+=n.length,!1):void 0}),-1!==i)return i+1;throw"Unknown name at position "+a},k=function(){if(o.charAt(a)!==n.charAt(i))throw"Unexpected literal at position "+a;a++};for(i=0;n.length>i;i++)if(y)"'"!==n.charAt(i)||b("'")?k():y=!1;else switch(n.charAt(i)){case"d":m=w("d");break;case"D":x("D",u,h);break;case"o":v=w("o");break;case"m":g=w("m");break;case"M":g=x("M",d,f);break;case"y":p=w("y");break;case"@":p=(s=new Date(w("@"))).getFullYear(),g=s.getMonth()+1,m=s.getDate();break;case"!":p=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=s.getMonth()+1,m=s.getDate();break;case"'":b("'")?k():y=!0;break;default:k()}if(o.length>a&&(r=o.substr(a),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=c?0:-100)),-1<v)for(g=1,m=v;!(m<=(e=this._getDaysInMonth(p,g-1)));)g++,m-=e;if((s=this._daylightSavingAdjust(new Date(p,g-1,m))).getFullYear()!==p||s.getMonth()+1!==g||s.getDate()!==m)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,e){if(!t)return"";var i,r=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,o=(e?e.dayNames:null)||this._defaults.dayNames,s=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,a=(e?e.monthNames:null)||this._defaults.monthNames,l=function(t){var e=n.length>i+1&&n.charAt(i+1)===t;return e&&i++,e},c=function(t,e,n){var i=""+e;if(l(t))for(;n>i.length;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(t)for(i=0;n.length>i;i++)if(d)"'"!==n.charAt(i)||l("'")?h+=n.charAt(i):d=!1;else switch(n.charAt(i)){case"d":h+=c("d",t.getDate(),2);break;case"D":h+=u("D",t.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",t.getMonth()+1,2);break;case"M":h+=u("M",t.getMonth(),s,a);break;case"y":h+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=n.charAt(i)}return h},_possibleChars:function(n){var i,t="",e=!1,r=function(t){var e=n.length>i+1&&n.charAt(i+1)===t;return e&&i++,e};for(i=0;n.length>i;i++)if(e)"'"!==n.charAt(i)||r("'")?t+=n.charAt(i):e=!1;else switch(n.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":e=!0;break;default:t+=n.charAt(i)}return t},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(a,t,e){var n,i,r=null==t||""===t?e:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),t,$.datepicker._getFormatConfig(a))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(t);s;){switch(s[2]||"d"){case"d":case"D":r+=parseInt(s[1],10);break;case"w":case"W":r+=7*parseInt(s[1],10);break;case"m":case"M":i+=parseInt(s[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(s[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i))}s=o.exec(t)}return new Date(n,i,r)}(t):"number"==typeof t?isNaN(t)?e:(n=t,(i=new Date).setDate(i.getDate()+n),i):new Date(t.getTime());return(r=r&&"Invalid Date"==""+r?e:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){$.datepicker._adjustDate(n,-e,"M")},next:function(){$.datepicker._adjustDate(n,+e,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(n)},selectDay:function(){return $.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return $.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return $.datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,k,C,_,S,$,E,T,D,M,A,P,O,N,I,L,H,R,F,z=new Date,j=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),B=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-U,tt=t.drawYear;if(J<0&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-Y[0]*Y[1]+1,Q.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=q?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:j,s=q?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",k=0;Y[0]>k;k++){for(C="",this.maxRows=4,_=0;Y[1]>_;_++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),$=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",1<Y[1])switch(_){case 0:E+=" ui-datepicker-group-first",$=" ui-corner-"+(B?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",$=" ui-corner-"+(B?"left":"right");break;default:E+=" ui-datepicker-group-middle",$=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+$+"'>"+(/all|left/.test($)&&0===k?B?o:i:"")+(/all|right/.test($)&&0===k?B?i:o:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,0<k||0<_,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)T+="<th scope='col'"+(5<=(x+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D=(x+u)%7]+"'>"+f[D]+"</span></th>";for(E+=T+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(tt,J)-u+7)%7,P=Math.ceil((A+M)/7),O=X&&this.maxRows>P?this.maxRows:P,this.maxRows=O,N=this._daylightSavingAdjust(new Date(tt,J,1-A)),I=0;I<O;I++){for(E+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",x=0;x<7;x++)H=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],F=(R=N.getMonth()!==J)&&!y||!H[0]||Z&&N<Z||Q&&Q<N,L+="<td class='"+(5<=(x+u+6)%7?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+H[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===j.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);E+=L+"</tr>"}11<++J&&(J=0,tt++),C+=E+="</tbody></table>"+(X?"</div>"+(0<Y[0]&&_===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=C}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,c,u,h,d,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||r.getMonth()>=u)&&(w+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),g=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+"</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&i<r?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).on("mousedown",$.datepicker._checkExternalClick),$.datepicker.initialized=!0),0===$("#"+$.datepicker._mainDivId).length&&$("body").append($.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new t,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.12.1",$.datepicker,$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var b=!1;$(document).on("mouseup",function(){b=!1}),$.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){return!0===$.data(t.target,e.widgetName+".preventClickEvent")?($.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!b){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&$(t.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===$.data(t.target,this.widgetName+".preventClickEvent")&&$.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),b=!0)),!0}},_mouseMove:function(t){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&$.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,b=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),$.ui.plugin={add:function(t,e,n){var i,r=$.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([e,n[i]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},$.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&$(t).trigger("blur")},$.widget("ui.draggable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<$(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=$(this);return $("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=$.ui.safeActiveElement(this.document[0]);$(t.target).closest(e).length||$.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===$(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!e.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new $.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",$.ui.ddmanager&&$.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,n=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(n=$.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),$.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new $.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!$(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,n=$.isFunction(e.helper),i=n?$(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),$.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options,r=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?void(this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,$(r).width()-this.helperProportions.width-this.margins.left,($(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),void((n=(e=$(i.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,n){return n=n||this._uiHash(),$.ui.plugin.call(this,t,[e,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),$.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,n){var i=$.extend({},t,{item:n.element});n.sortables=[],$(n.options.connectToSortable).each(function(){var t=$(this).sortable("instance");t&&!t.options.disabled&&(n.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,i))})},stop:function(e,t,n){var i=$.extend({},t,{item:n.element});n.cancelHelperRemoval=!1,$.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))})},drag:function(n,i,r){$.each(r.sortables,function(){var t=!1,e=this;e.positionAbs=r.positionAbs,e.helperProportions=r.helperProportions,e.offset.click=r.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,$.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&$.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,r._parent=i.helper.parent(),e.currentItem=i.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return i.helper[0]},n.target=e.currentItem[0],e._mouseCapture(n,!0),e._mouseStart(n,!0,!0),e.offset.click.top=r.offset.click.top,e.offset.click.left=r.offset.click.left,e.offset.parent.left-=r.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=r.offset.parent.top-e.offset.parent.top,r._trigger("toSortable",n),r.dropped=e.element,$.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,e.fromOutside=r),e.currentItem&&(e._mouseDrag(n),i.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",n,e._uiHash(e)),e._mouseStop(n,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(n),i.position=r._generatePosition(n,!0),r._trigger("fromSortable",n),r.dropped=!1,$.each(r.sortables,function(){this.refreshPositions()}))})}}),$.ui.plugin.add("draggable","cursor",{start:function(t,e,n){var i=$("body"),r=n.options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(t,e,n){var i=n.options;i._cursor&&$("body").css("cursor",i._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(t,e,n){var i=$(e.helper),r=n.options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,e,n){var i=n.options;i._opacity&&$(e.helper).css("opacity",i._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,e,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],s=n.document[0];o!==s&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-$(s).scrollTop()<i.scrollSensitivity?r=$(s).scrollTop($(s).scrollTop()-i.scrollSpeed):$(window).height()-(t.pageY-$(s).scrollTop())<i.scrollSensitivity&&(r=$(s).scrollTop($(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-$(s).scrollLeft()<i.scrollSensitivity?r=$(s).scrollLeft($(s).scrollLeft()-i.scrollSpeed):$(window).width()-(t.pageX-$(s).scrollLeft())<i.scrollSensitivity&&(r=$(s).scrollLeft($(s).scrollLeft()+i.scrollSpeed)))),!1!==r&&$.ui.ddmanager&&!i.dropBehaviour&&$.ui.ddmanager.prepareOffsets(n,t)}}),$.ui.plugin.add("draggable","snap",{start:function(t,e,n){var i=n.options;n.snapElements=[],$(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=$(this),e=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,n){var i,r,o,s,a,l,c,u,h,d,f=n.options,p=f.snapTolerance,g=e.offset.left,m=g+n.helperProportions.width,v=e.offset.top,y=v+n.helperProportions.height;for(h=n.snapElements.length-1;0<=h;h--)l=(a=n.snapElements[h].left-n.margins.left)+n.snapElements[h].width,u=(c=n.snapElements[h].top-n.margins.top)+n.snapElements[h].height,m<a-p||l+p<g||y<c-p||u+p<v||!$.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,$.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(i=p>=Math.abs(c-y),r=p>=Math.abs(u-v),o=p>=Math.abs(a-m),s=p>=Math.abs(l-g),i&&(e.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(e.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),d=i||r||o||s,"outer"!==f.snapMode&&(i=p>=Math.abs(c-v),r=p>=Math.abs(u-y),o=p>=Math.abs(a-g),s=p>=Math.abs(l-m),i&&(e.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(e.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a}).left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(i||r||o||s||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,$.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=i||r||o||s||d)}}),$.ui.plugin.add("draggable","stack",{start:function(t,e,n){var i,r=n.options,o=$.makeArray($(r.stack)).sort(function(t,e){return(parseInt($(t).css("zIndex"),10)||0)-(parseInt($(e).css("zIndex"),10)||0)});o.length&&(i=parseInt($(o[0]).css("zIndex"),10)||0,$(o).each(function(t){$(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(t,e,n){var i=$(e.helper),r=n.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,e,n){var i=n.options;i._zIndex&&$(e.helper).css("zIndex",i._zIndex)}}),$.ui.draggable,$.widget("ui.resizable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===$(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",i=!1;return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},_create:function(){var t,e=this.options,n=this;this._addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&$(this.element).on("mouseenter",function(){e.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){e.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){$(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,n,i,r,o=this.options,s=this;if(this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=$(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},e=0;n.length>e;e++)i="ui-resizable-"+(t=$.trim(n[e])),r=$("<div>"),this._addClass(r,"ui-resizable-handle "+i),r.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(r);this._renderAxis=function(t){var e,n,i,r;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=$(this.handles[e]),this._on(this.handles[e],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=$(this.handles[e],this.element),r=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,n,i=!1;for(e in this.handles)((n=$(this.handles[e])[0])===t.target||$.contains(n,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var e,n,i,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(e+=$(r.containment).scrollLeft()||0,n+=$(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=$(".ui-resizable-"+this.axis).css("cursor"),$("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,n,i=this.originalMousePosition,r=this.axis,o=t.pageX-i.left||0,s=t.pageY-i.top||0,a=this._change[r];return this._updatePrevProperties(),a&&(e=a.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),$.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,n,i,r,o,s,a,l=this.options,c=this;return this._helper&&(i=(n=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,o={width:c.helper.width()-r,height:c.helper.height()-i},s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,a=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css($.extend(o,{top:a,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),$("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||$("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){$.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","animate",{stop:function(e){var n=$(this).resizable("instance"),t=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,a={width:n.size.width-s,height:n.size.height-o},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate($.extend(a,c&&l?{top:c,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&$(i[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var n,i,t,e,r,o,s,a=$(this).resizable("instance"),l=a.options,c=a.element,u=l.containment,h=u instanceof $?u.get(0):/parent/.test(u)?c.parent().get(0):u;h&&(a.containerElement=$(h),/document/.test(u)||u===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}):(n=$(h),i=[],$(["Top","Right","Left","Bottom"]).each(function(t,e){i[t]=a._num(n.css("padding"+e))}),a.containerOffset=n.offset(),a.containerPosition=n.position(),a.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},t=a.containerOffset,e=a.containerSize.height,r=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:r,s=a._hasScroll(h)?h.scrollHeight:e,a.parentData={element:h,left:t.left,top:t.top,width:o,height:s}))},resize:function(t){var e,n,i,r,o=$(this).resizable("instance"),s=o.options,a=o.containerOffset,l=o.position,c=o._aspectRatio||t.shiftKey,u={top:0,left:0},h=o.containerElement,d=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=a),l.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,d=!1),o.position.left=s.helper?a.left:0),l.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,d=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-a.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-a.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,c&&(o.size.height=o.size.width/o.aspectRatio,d=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,d=!1)),d||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=$(this).resizable("instance"),e=t.options,n=t.containerOffset,i=t.containerPosition,r=t.containerElement,o=$(t.helper),s=o.offset(),a=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(r.css("position"))&&$(this).css({left:s.left-i.left-n.left,width:a,height:l}),t._helper&&!e.animate&&/static/.test(r.css("position"))&&$(this).css({left:s.left-i.left-n.left,width:a,height:l})}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var t=$(this).resizable("instance").options;$(t.alsoResize).each(function(){var t=$(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var e=$(this).resizable("instance"),i=e.options,r=e.originalSize,o=e.originalPosition,s={height:e.size.height-r.height||0,width:e.size.width-r.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};$(i.alsoResize).each(function(){var t=$(this),i=$(this).data("ui-resizable-alsoresize"),r={},e=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(e,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&0<=n&&(r[e]=n||null)}),t.css(r)})},stop:function(){$(this).removeData("ui-resizable-alsoresize")}}),$.ui.plugin.add("resizable","ghost",{start:function(){var t=$(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==$.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=$(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=$(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(){var t,e=$(this).resizable("instance"),n=e.options,i=e.size,r=e.originalSize,o=e.originalPosition,s=e.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,c=a[1]||1,u=Math.round((i.width-r.width)/l)*l,h=Math.round((i.height-r.height)/c)*c,d=r.width+u,f=r.height+h,p=n.maxWidth&&d>n.maxWidth,g=n.maxHeight&&f>n.maxHeight,m=n.minWidth&&n.minWidth>d,v=n.minHeight&&n.minHeight>f;n.grid=a,m&&(d+=l),v&&(f+=c),p&&(d-=l),g&&(f-=c),/^(se|s|e)$/.test(s)?(e.size.width=d,e.size.height=f):/^(ne)$/.test(s)?(e.size.width=d,e.size.height=f,e.position.top=o.top-h):/^(sw)$/.test(s)?(e.size.width=d,e.size.height=f,e.position.left=o.left-u):((f-c<=0||d-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<f-c?(e.size.height=f,e.position.top=o.top-h):(f=c-t.height,e.size.height=f,e.position.top=o.top+r.height-f),0<d-l?(e.size.width=d,e.position.left=o.left-u):(d=l-t.width,e.size.width=d,e.position.left=o.left+r.width-d))}}),$.ui.resizable,$.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=$(this).css(t).offset().top;e<0&&$(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&$.fn.draggable&&this._makeDraggable(),this.options.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?$(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:$.noop,enable:$.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||$.ui.safeBlur($.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+$(this).css("z-index")}).get(),r=Math.max.apply(null,i);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!e&&this._trigger("focus",t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=$($.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(t){function e(){var t=$.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||$.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=$("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===$.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===$.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),n=e.filter(":first"),i=e.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.trigger("focus")}),t.preventDefault()):(this._delay(function(){n.trigger("focus")}),t.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=$("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){$(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:$("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=$("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=$("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var r=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),$.isEmptyObject(t)||$.isArray(t)&&!t.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):($.each(t,function(t,e){var n,i;e=$.isFunction(e)?{click:e,text:t}:e,e=$.extend({type:"button"},e),n=e.click,i={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,$("<button></button>",e).button(i).appendTo(r.uiButtonSet).on("click",function(){n.apply(r.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function r(t){return{position:t.position,offset:t.offset}}var o=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){o._addClass($(this),"ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",t,r(e))},drag:function(t,e){o._trigger("drag",t,r(e))},stop:function(t,e){var n=e.offset.left-o.document.scrollLeft(),i=e.offset.top-o.document.scrollTop();s.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:o.window},o._removeClass($(this),"ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",t,r(e))}})},_makeResizable:function(){function o(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var s=this,a=this.options,t=a.resizable,e=this.uiDialog.css("position"),n="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:n,start:function(t,e){s._addClass($(this),"ui-dialog-resizing"),s._blockFrames(),s._trigger("resizeStart",t,o(e))},resize:function(t,e){s._trigger("resize",t,o(e))},stop:function(t,e){var n=s.uiDialog.offset(),i=n.left-s.document.scrollLeft(),r=n.top-s.document.scrollTop();a.height=s.uiDialog.height(),a.width=s.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=r?"+":"")+r,of:s.window},s._removeClass($(this),"ui-dialog-resizing"),s._unblockFrames(),s._trigger("resizeStop",t,o(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=$(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=$.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};$.each(t,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var n,i,r=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:$("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((n=r.is(":data(ui-draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=r.is(":data(ui-resizable)"))&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=$(this);return $("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!$(t.target).closest(".ui-dialog").length||!!$(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=$("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==$.uiBackCompat&&$.widget("ui.dialog",$.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),$.ui.dialog,$.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,n=e.accept;this.isover=!1,this.isout=!0,this.accept=$.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){$.ui.ddmanager.droppables[t]=$.ui.ddmanager.droppables[t]||[],$.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=$.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){if("accept"===t)this.accept=$.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var n=$.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=$.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=$.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=$.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=$.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var n=t||$.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=$(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&x(n,$.extend(t,{offset:t.element.offset()}),t.options.tolerance,e)?(i=!0,!1):void 0}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var w,x=$.ui.intersect=function(){function d(t,e,n){return e<=t&&t<e+n}return function(t,e,n,i){if(!e.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,s=r+t.helperProportions.width,a=o+t.helperProportions.height,l=e.offset.left,c=e.offset.top,u=l+e.proportions().width,h=c+e.proportions().height;switch(n){case"fit":return l<=r&&s<=u&&c<=o&&a<=h;case"intersect":return r+t.helperProportions.width/2>l&&u>s-t.helperProportions.width/2&&o+t.helperProportions.height/2>c&&h>a-t.helperProportions.height/2;case"pointer":return d(i.pageY,c,e.proportions().height)&&d(i.pageX,l,e.proportions().width);case"touch":return(c<=o&&o<=h||c<=a&&a<=h||o<c&&h<a)&&(l<=r&&r<=u||l<=s&&s<=u||r<l&&u<s);default:return!1}}}();$.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var n,i,r=$.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(n=0;r.length>n;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(i=0;s.length>i;i++)if(s[i]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],e),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,e){var n=!1;return $.each(($.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&x(t,this,this.options.tolerance,e)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||$.ui.ddmanager.prepareOffsets(t,e)})},drag:function(o,s){o.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(o,s),$.each($.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,n,i=x(o,this,this.options.tolerance,s),r=!i&&this.isover?"isout":i&&!this.isover?"isover":null;r&&(this.options.greedy&&(e=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===e})).length&&((t=$(n[0]).droppable("instance")).greedyChild="isover"===r)),t&&"isover"===r&&(t.isover=!1,t.isout=!0,t._out.call(t,s)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,s),t&&"isout"===r&&(t.isout=!1,t.isover=!0,t._over.call(t,s)))}})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||$.ui.ddmanager.prepareOffsets(t,e)}},!1!==$.uiBackCompat&&$.widget("ui.droppable",$.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),$.ui.droppable,$.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=$("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=$("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),$.widget("ui.selectable",$.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=$(i.element[0]).offset(),i.selectees=$(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var t=$(this),e=t.offset(),n={left:e.left-i.elementPos.left,top:e.top-i.elementPos.top};$.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=$("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(n){var i=this,t=this.options;this.opos=[n.pageX,n.pageY],this.elementPos=$(this.element[0]).offset(),this.options.disabled||(this.selectees=$(t.filter,this.element[0]),this._trigger("start",n),$(t.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=$.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(i._removeClass(t.$element,"ui-selected"),t.selected=!1,i._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),$(n.target).parents().addBack().each(function(){var t,e=$.data(this,"selectable-item");return e?(t=!n.metaKey&&!n.ctrlKey||!e.$element.hasClass("ui-selected"),i._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?i._trigger("selecting",n,{selecting:e.element}):i._trigger("unselecting",n,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var t,r=this,o=this.options,s=this.opos[0],a=this.opos[1],l=i.pageX,c=i.pageY;return l<s&&(t=l,l=s,s=t),c<a&&(t=c,c=a,a=t),this.helper.css({left:s,top:a,width:l-s,height:c-a}),this.selectees.each(function(){var t=$.data(this,"selectable-item"),e=!1,n={};t&&t.element!==r.element[0]&&(n.left=t.left+r.elementPos.left,n.right=t.right+r.elementPos.left,n.top=t.top+r.elementPos.top,n.bottom=t.bottom+r.elementPos.top,"touch"===o.tolerance?e=!(n.left>l||s>n.right||n.top>c||a>n.bottom):"fit"===o.tolerance&&(e=n.left>s&&l>n.right&&n.top>a&&c>n.bottom),e?(t.selected&&(r._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(r._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(r._addClass(t.$element,"ui-selecting"),t.selecting=!0,r._trigger("selecting",i,{selecting:t.element}))):(t.selecting&&((i.metaKey||i.ctrlKey)&&t.startselected?(r._removeClass(t.$element,"ui-selecting"),t.selecting=!1,r._addClass(t.$element,"ui-selected"),t.selected=!0):(r._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(r._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),r._trigger("unselecting",i,{unselecting:t.element}))),t.selected&&(i.metaKey||i.ctrlKey||t.startselected||(r._removeClass(t.$element,"ui-selected"),t.selected=!1,r._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,r._trigger("unselecting",i,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,$(".ui-unselecting",this.element[0]).each(function(){var t=$.data(this,"selectable-item");n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),$(".ui-selecting",this.element[0]).each(function(){var t=$.data(this,"selectable-item");n._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),$.widget("ui.selectmenu",[$.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=$()},_drawButton:function(){var t,e=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=$("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=$("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=$("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var n=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",t,{item:n}),i.isOpen||i._select(n,t)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=$("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(i,t){var r=this,o="";$.each(t,function(t,e){var n;e.optgroup!==o&&(n=$("<li>",{text:e.optgroup}),r._addClass(n,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),n.appendTo(i),o=e.optgroup),r._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var n=$("<li>"),i=$("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(i,e.label),n.append(i).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&($(t.target).closest(".ui-selectmenu-menu, #"+$.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case $.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case $.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case $.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case $.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case $.ui.keyCode.LEFT:this._move("prev",t);break;case $.ui.keyCode.RIGHT:this._move("next",t);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",t);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?$(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var n=this,i=[];t.each(function(t,e){i.push(n._parseOption($(e),t))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),$.widget("ui.slider",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e,n=this.options,i=this.element.find(".ui-slider-handle"),r=[];for(e=n.values&&n.values.length||1,i.length>e&&(i.slice(e).remove(),i=i.slice(0,e)),t=i.length;t<e;t++)r.push("<span tabindex='0'></span>");this.handles=i.add($(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){$(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:$.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=$("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===t.range||"max"===t.range)&&this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,r,o,s,a,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-l.values(t));(e<i||i===e&&(t===l._lastChangedValue||l.values(t)===c.min))&&(i=e,r=$(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),s=r.offset(),a=!$(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-s.left-r.width()/2,top:t.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(i=n/e)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&(!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,r;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!$.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,i=t,r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),$.isArray(this.options.values)&&(i=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=i-1;0<=n;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,t,i,r,o=this.options.range,s=this.options,a=this,l=!this._animateOff&&s.animate,c={};this._hasMultipleValues()?this.handles.each(function(t){n=(a.values(t)-a._valueMin())/(a._valueMax()-a._valueMin())*100,c["horizontal"===a.orientation?"left":"bottom"]=n+"%",$(this).stop(1,1)[l?"animate":"css"](c,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===t&&a.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===t&&a.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(t=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(t-i)/(r-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(t){var e,n,i,r=$(t.target).data("ui-slider-handle-index");switch(t.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass($(t.target),null,"ui-state-active"),!1===this._start(t,r)))return}switch(i=this.options.step,e=n=this._hasMultipleValues()?this.values(r):this.value(),t.keyCode){case $.ui.keyCode.HOME:n=this._valueMin();break;case $.ui.keyCode.END:n=this._valueMax();break;case $.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,r,n)},keyup:function(t){var e=$(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass($(t.target),null,"ui-state-active"))}}}),$.widget("ui.sortable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),$.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),$(t.target).parents().each(function(){return $.data(this,r.widgetName+"-item")===r?(n=$(this),!1):void 0}),$.data(t.target,r.widgetName+"-item")===r&&(n=$(t.target)),!!n&&(!(this.options.handle&&!e&&($(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,r,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==i&&!$.contains(this.placeholder[0],i)&&("semi-dynamic"!==this.options.type||!$.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),$.ui.ddmanager&&$.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,$(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new $.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},$(t).each(function(){var t=($(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push($(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||a<i+c&&i+c<l,d="y"===this.options.axis||o<e+u&&e+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!!(i&&r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){s.push(this)}var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;0<=n;n--)for(i=(r=$(l[n],this.document[0])).length-1;0<=i;i--)(o=$.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([$.isFunction(o.options.items)?o.options.items.call(o.element):$(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;0<=n;n--)a[n][0].each(e);return $(s)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(t){for(var e=0;n.length>e;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,r,o,s,a,l,c=this.items,u=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):$(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(e=h.length-1;0<=e;e--)for(n=(i=$(h[e],this.document[0])).length-1;0<=n;n--)(r=$.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([$.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):$(r.options.items,r.element),r]),this.containers.push(r));for(e=u.length-1;0<=e;e--)for(o=u[e][1],n=0,l=(s=u[e][0]).length;n<l;n++)(a=$(s[n])).data(this.widgetName+"-item",o),c.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?$(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)r=this.containers[e].element.offset(),this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=$("<"+t+">",n.document[0]);return n._addClass(e,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),$("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){(!i||r.forcePlaceholderSize)&&(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=$(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){$("<td>&#160;</td>",n.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,n,i,r,o,s,a,l,c,u,h=null,d=null;for(e=this.containers.length-1;0<=e;e--)if(!$.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(h&&$.contains(this.containers[e].element[0],h.element[0]))continue;h=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(i=1e4,r=null,o=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",s=c?"width":"height",u=c?"pageX":"pageY",n=this.items.length-1;0<=n;n--)$.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(a=this.items[n].item.offset()[o],l=!1,t[u]-a>this.items[n][s]/2&&(l=!0),i>Math.abs(t[u]-a)&&(i=Math.abs(t[u]-a),r=this.items[n],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=$.isFunction(e.helper)?$(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||$("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||e.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||e.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),$.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=$(i.containment)[0],e=$(i.containment).offset(),n="hidden"!==$(t).css("overflow"),this.containment=[e.left+(parseInt($(t).css("borderLeftWidth"),10)||0)+(parseInt($(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt($(t).css("borderTopWidth"),10)||0)+(parseInt($(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt($(t).css("borderLeftWidth"),10)||0)-(parseInt($(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt($(t).css("borderTopWidth"),10)||0)-(parseInt($(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,r=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===$.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||$([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}}),$.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super(),r=this.element;return $.each(["min","max","step"],function(t,e){var n=r.attr(e);null!=n&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){function e(){this.element[0]===$.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===$.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),e.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,e.call(this)}),!1!==this._start(t)&&this._repeat(null,$(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return $(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,$(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,n=$.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?$.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&i.min>t?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:e(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==$.uiBackCompat&&$.widget("ui.spinner",$.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),$.ui.spinner,$.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(w=/#.*$/,function(t){var e,n;e=t.href.replace(w,""),n=location.href.replace(w,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return 1<t.hash.length&&e===n}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),$.isArray(t.disabled)&&(t.disabled=$.unique(t.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(t.active):$(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var n=this.options.active,t=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(t,e){return $(e).attr("aria-controls")===i?(n=t,!1):void 0}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===n||-1===n)&&(n=!!this.tabs.length&&0)),!1!==n&&(-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t&&0)),!t&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(t){var e=$($.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:n++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:i=!1,n--;break;case $.ui.keyCode.END:n=this.anchors.length-1;break;case $.ui.keyCode.HOME:n=0;break;case $.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case $.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===$.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){for(var n=this.tabs.length-1;-1!==$.inArray((n<t&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=$.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,t=this.tabs,e=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){$(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return $("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=$(),this.anchors.each(function(t,e){var n,i,r,o=$(e).uniqueId().attr("id"),s=$(e).closest("li"),a=s.attr("aria-controls");l._isLocal(e)?(r=(n=e.hash).substring(1),i=l.element.find(l._sanitizeSelector(n))):(n="#"+(r=s.attr("aria-controls")||$({}).uniqueId()[0].id),(i=l.element.find(n)).length||(i=l._createPanel(r)).insertAfter(l.panels[t-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":r,"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return $("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,n,i;for($.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),i=0;n=this.tabs[i];i++)e=$(n),!0===t||-1!==$.inArray(i,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&$.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e=this.element.parent();"fill"===t?(n=e.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=$(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,n-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,$(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=$(t.currentTarget).closest("li"),r=i[0]===n[0],o=r&&e.collapsible,s=o?$():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):$(),l={oldTab:n,oldPanel:a,newTab:o?$():i,newPanel:s};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!o&&this.tabs.index(i),this.active=r?$():i,this.xhr&&this.xhr.abort(),a.length||s.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),t),this._toggle(t,l))},_toggle:function(t,e){function n(){r.running=!1,r._trigger("activate",t,e)}function i(){r._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,n):(o.show(),n())}var r=this,o=e.newPanel,s=e.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){r._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),i()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),i()),s.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&s.length?e.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:$.noop}))},_findActive:function(t){return!1===t?$():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+$.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=$(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(void 0===n?t=!1:(n=this._getIndex(n),t=$.isArray(t)?$.map(t,function(t){return t!==n?t:null}):$.map(this.tabs,function(t,e){return e!==n?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==$.inArray(t,e))return;e=$.isArray(e)?$.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,i){t=this._getIndex(t);var r=this,n=this.tabs.eq(t),e=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),s={tab:n,panel:o},a=function(t,e){"abort"===e&&r.panels.stop(!1,!0),r._removeClass(n,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===r.xhr&&delete r.xhr};this._isLocal(e[0])||(this.xhr=$.ajax(this._ajaxSettings(e,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){o.html(t),r._trigger("load",i,s),a(n,e)},1)}).fail(function(t,e){setTimeout(function(){a(t,e)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return r._trigger("beforeLoad",n,$.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=$(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==$.uiBackCompat&&$.widget("ui.tabs",$.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),$.ui.tabs,$.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=$(this).attr("title")||"";return $("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",$.trim(n.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),i=$.inArray(e,n);-1!==i&&n.splice(i,1),t.removeData("ui-tooltip-id"),(n=$.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=$([])},_setOption:function(t,e){var n=this;this._super(t,e),"content"===t&&$.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var i=this;$.each(this.tooltips,function(t,e){var n=$.Event("blur");n.target=n.currentTarget=e.element[0],i.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=$(this);return t.is("[title]")?t.data("ui-tooltip-title",t.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var t=$(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=$([])},open:function(t){var n=this,e=$(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=$(this);e.data("ui-tooltip-open")&&((t=$.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,r=this,o=n?n.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(n,e,i):void((t=i.call(e[0],function(t){r._delay(function(){e.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,e,t))})}))&&this._open(n,e,t))},_open:function(t,e,n){function i(t){l.of=t,o.is(":hidden")||o.position(l)}var r,o,s,a,l=$.extend({},this.options.position);if(n){if(r=this._find(e))return void r.tooltip.find(".ui-tooltip-content").html(n);e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),r=this._tooltip(e),o=r.tooltip,this._addDescribedBy(e,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(a=$("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):o.position($.extend({of:e},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){o.is(":visible")&&(i(l.of),clearInterval(s))},$.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,n){var e={keyup:function(t){if(t.keyCode===$.ui.keyCode.ESCAPE){var e=$.Event(t);e.currentTarget=n[0],this.close(e,!0)}}};n[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(e.mouseleave="close"),t&&"focusin"!==t.type||(e.focusout="close"),this._on(!0,n,e)},close:function(t){var e,n=this,i=$(t?t.currentTarget:this.element),r=this._find(i);return r?(e=r.tooltip,void(r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){n._removeTooltip($(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&$.each(this.parents,function(t,e){$(e.element).attr("title",e.title),delete n.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:e}),r.hiding||(r.closing=!1)))):void i.removeData("ui-tooltip-open")},_tooltip:function(t){var e=$("<div>").attr("role","tooltip"),n=$("<div>").appendTo(e),i=e.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[i]={element:t,tooltip:e}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var r=this;$.each(this.tooltips,function(t,e){var n=$.Event("blur"),i=e.element;n.target=n.currentTarget=i[0],r.close(n,!0),$("#"+t).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==$.uiBackCompat&&$.widget("ui.tooltip",$.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),$.ui.tooltip}),function(c,J,tt){"use strict";function d(i){return function(){var t,e=arguments[0];for(t="["+(i?i+":":"")+e+"] http://errors.angularjs.org/1.4.14/"+(i?i+"/":"")+e,e=1;e<arguments.length;e++){var n;t=t+(1==e?"?":"&")+"p"+(e-1)+"=",t+=encodeURIComponent(n="function"==typeof(n=arguments[e])?n.toString().replace(/ \{[\s\S]*$/,""):void 0===n?"undefined":"string"!=typeof n?JSON.stringify(n):n)}return Error(t)}}function T(t){if(null==t||h(t))return!1;if(Wn(t)||lt(t)||En&&t instanceof En)return!0;var e="length"in Object(t)&&t.length;return b(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function et(t,e,n){var i,r;if(t)if(ct(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Wn(t)||T(t)){var o="object"!=typeof t;for(i=0,r=t.length;i<r;i++)(o||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==et)t.forEach(e,n,t);else if(a(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Pn.call(t,i)&&e.call(n,t[i],i,t);return t}function o(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function f(n){return function(t,e){n(e,t)}}function p(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var s=e[r];if(at(s)||ct(s))for(var a=Object.keys(s),l=0,c=a.length;l<c;l++){var u=a[l],h=s[u];n&&at(h)?v(h)?t[u]=new Date(h.valueOf()):y(h)?t[u]=new RegExp(h):h.nodeName?t[u]=h.cloneNode(!0):x(h)?t[u]=h.clone():(at(t[u])||(t[u]=Wn(h)?[]:{}),p(t[u],[h],!0)):t[u]=h}}return i?t.$$hashKey=i:delete t.$$hashKey,t}function nt(t){return p(t,Nn.call(arguments,1),!1)}function t(t){return p(t,Nn.call(arguments,1),!0)}function g(t){return parseInt(t,10)}function it(t,e){return nt(Object.create(t),e)}function rt(){}function l(t){return t}function m(t){return function(){return t}}function u(t){return ct(t.toString)&&t.toString!==Hn}function ot(t){return void 0===t}function st(t){return void 0!==t}function at(t){return null!==t&&"object"==typeof t}function a(t){return null!==t&&"object"==typeof t&&!Rn(t)}function lt(t){return"string"==typeof t}function b(t){return"number"==typeof t}function v(t){return"[object Date]"===Hn.call(t)}function ct(t){return"function"==typeof t}function y(t){return"[object RegExp]"===Hn.call(t)}function h(t){return t&&t.window===t}function ut(t){return t&&t.$evalAsync&&t.$watch}function ht(t){return"boolean"==typeof t}function w(t){return t&&b(t.length)&&Vn.test(Hn.call(t))}function x(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function dt(t){return An(t.nodeName||t[0]&&t[0].nodeName)}function ft(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function _(t,n){function i(t,e){var n,i=e.$$hashKey;if(Wn(t)){n=0;for(var r=t.length;n<r;n++)e.push(o(t[n]))}else if(a(t))for(n in t)e[n]=o(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=o(t[n]));else for(n in t)Pn.call(t,n)&&(e[n]=o(t[n]));return i?e.$$hashKey=i:delete e.$$hashKey,e}function o(t){if(!at(t))return t;if(-1!==(n=r.indexOf(t)))return s[n];if(h(t)||ut(t))throw Fn("cpws");var e,n=!1;return Wn(t)?(e=[],n=!0):w(t)?e=new t.constructor(t):v(t)?e=new Date(t.getTime()):y(t)?(e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0])).lastIndex=t.lastIndex:"[object Blob]"===Hn.call(t)?e=new t.constructor([t],{type:t.type}):ct(t.cloneNode)?e=t.cloneNode(!0):(e=Object.create(Rn(t)),n=!0),r.push(t),s.push(e),n?i(t,e):e}var r=[],s=[];if(n){if(w(n))throw Fn("cpta");if(t===n)throw Fn("cpi");return Wn(n)?n.length=0:et(n,function(t,e){"$$hashKey"!==e&&delete n[e]}),r.push(t),s.push(n),i(t,n)}return o(t)}function k(t,e){if(Wn(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(at(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function pt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i=typeof t;if(i==typeof e&&"object"==i){if(!Wn(t)){if(v(t))return!!v(e)&&pt(t.getTime(),e.getTime());if(y(t))return!!y(e)&&t.toString()==e.toString();if(ut(t)||ut(e)||h(t)||h(e)||Wn(e)||v(e)||y(e))return!1;for(n in i=yt(),t)if("$"!==n.charAt(0)&&!ct(t[n])){if(!pt(t[n],e[n]))return!1;i[n]=!0}for(n in e)if(!(n in i)&&"$"!==n.charAt(0)&&st(e[n])&&!ct(e[n]))return!1;return!0}if(!Wn(e))return!1;if((i=t.length)==e.length){for(n=0;n<i;n++)if(!pt(t[n],e[n]))return!1;return!0}}return!1}function S(t,e,n){return t.concat(Nn.call(e,n))}function C(t,e){var n=2<arguments.length?Nn.call(arguments,2):[];return!ct(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,S(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function n(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=tt:h(e)?n="$WINDOW":e&&J===e?n="$DOCUMENT":ut(e)&&(n="$SCOPE"),n}function $(t,e){return ot(t)?tt:(b(e)||(e=e?2:null),JSON.stringify(t,n,e))}function r(t){return lt(t)?JSON.parse(t):t}function E(t,e){t=t.replace(Xn,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function D(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return n*=(e=E(e,i))-i,(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}function gt(t){t=En(t).clone();try{t.empty()}catch(t){}var e=En("<div>").append(t).html();try{return t[0].nodeType===Jn?An(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+An(e)})}catch(t){return An(e)}}function s(t){try{return decodeURIComponent(t)}catch(t){}}function M(t){var r={};return et((t||"").split("&"),function(t){var e,n,i;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(e=t.indexOf("="))&&(n=t.substring(0,e),i=t.substring(e+1)),st(n=s(n))&&(i=!st(i)||s(i),Pn.call(r,n)?Wn(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i))}),r}function i(t){var n=[];return et(t,function(t,e){Wn(t)?et(t,function(t){n.push(P(e,!0)+(!0===t?"":"="+P(t,!0)))}):n.push(P(e,!0)+(!0===t?"":"="+P(t,!0)))}),n.length?n.join("&"):""}function A(t){return P(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function P(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function e(n,t){var i,r,e={};et(Kn,function(t){t+="app",!i&&n.hasAttribute&&n.hasAttribute(t)&&(r=(i=n).getAttribute(t))}),et(Kn,function(t){var e;t+="app",!i&&(e=n.querySelector("["+t.replace(":","\\:")+"]"))&&(r=(i=e).getAttribute(t))}),i&&(e.strictDi=null!==function(t,e){var n,i,r=Kn.length;for(i=0;i<r;++i)if(n=Kn[i]+e,lt(n=t.getAttribute(n)))return n;return null}(i,"strict-di"),t(i,r?[r]:[],e))}function O(e,n,i){at(i)||(i={}),i=nt({strictDi:!1},i);var r=function(){if((e=En(e)).injector()){var t=e[0]===J?"document":gt(e);throw Fn("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng"),(t=At(n,i.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},t=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(c&&t.test(c.name)&&(i.debugInfoEnabled=!0,c.name=c.name.replace(t,"")),c&&!o.test(c.name))return r();c.name=c.name.replace(o,""),zn.resumeBootstrap=function(t){return et(t,function(t){n.push(t)}),r()},ct(zn.resumeDeferredBootstrap)&&zn.resumeDeferredBootstrap()}function N(){c.name="NG_ENABLE_DEBUG_INFO!"+c.name,c.location.reload()}function I(t){if(!(t=zn.element(t).injector()))throw Fn("test");return t.get("$$testability")}function mt(t,n){return n=n||"_",t.replace(Zn,function(t,e){return(e?n:"")+t.toLowerCase()})}function vt(t,e,n){if(!t)throw Fn("areq",e||"?",n||"required");return t}function L(t,e,n){return n&&Wn(t)&&(t=t[t.length-1]),vt(ct(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function H(t,e){if("hasOwnProperty"===t)throw Fn("badname",e)}function R(t,e,n){if(!e)return t;for(var i,r=t,o=(e=e.split(".")).length,s=0;s<o;s++)i=e[s],t&&(t=(r=t)[i]);return!n&&ct(t)?C(r,t):t}function F(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=En(Nn.call(t,0,r))),e.push(n));return e||t}function yt(){return Object.create(null)}function z(t){return t.replace(ii,function(t,e,n,i){return i?n.toUpperCase():n}).replace(ri,"Moz$1")}function j(t){return 1===(t=t.nodeType)||!t||9===t}function B(t,e){var n,i,r=e.createDocumentFragment(),o=[];if(li.test(t)){for(n=n||r.appendChild(e.createElement("div")),i=(ci.exec(t)||["",""])[1].toLowerCase(),i=hi[i]||hi._default,n.innerHTML=i[1]+t.replace(ui,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;o=S(o,n.childNodes),(n=r.firstChild).textContent=""}else o.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",et(o,function(t){r.appendChild(t)}),r}function bt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function W(t){if(t instanceof W)return t;var e,n;if(lt(t)&&(t=qn(t),e=!0),!(this instanceof W)){if(e&&"<"!=t.charAt(0))throw si("nosel");return new W(t)}e&&(e=J,t=(n=ai.exec(t))?[e.createElement(n[1])]:(n=B(t,e))?n.childNodes:[]);Q(this,t)}function wt(t){return t.cloneNode(!0)}function V(t,e){if(e||Y(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Y(n[i])}function q(n,t,i,e){if(st(e))throw si("offargs");var r=(e=U(n))&&e.events,o=e&&e.handle;if(o)if(t){var s=function(t){var e=r[t];st(i)&&ft(e||[],i),st(i)&&e&&0<e.length||(n.removeEventListener(t,o,!1),delete r[t])};et(t.split(" "),function(t){s(t),oi[t]&&s(oi[t])})}else for(t in r)"$destroy"!==t&&n.removeEventListener(t,o,!1),delete r[t]}function Y(t,e){var n=t.ng339,i=n&&ei[n];i&&(e?delete i.data[e]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),q(t)),delete ei[n],t.ng339=tt))}function U(t,e){var n=(n=t.ng339)&&ei[n];return e&&!n&&(t.ng339=n=++ni,n=ei[n]={events:{},data:{},handle:tt}),n}function G(t,e,n){if(j(t)){var i=st(n),r=!i&&e&&!at(e),o=!e;if(t=(t=U(t,!r))&&t.data,i)t[e]=n;else{if(o)return t;if(r)return t&&t[e];nt(t,e)}}}function X(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function K(e,t){t&&e.setAttribute&&et(t.split(" "),function(t){e.setAttribute("class",qn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+qn(t)+" "," ")))})}function Z(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");et(e.split(" "),function(t){t=qn(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",qn(n))}}function Q(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function xt(t,e){return kt(t,"$"+(e||"ngController")+"Controller")}function kt(t,e,n){for(9==t.nodeType&&(t=t.documentElement),e=Wn(e)?e:[e];t;){for(var i=0,r=e.length;i<r;i++)if(st(n=En.data(t,e[i])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function Ct(t){for(V(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function _t(t,e){e||V(t);var n=t.parentNode;n&&n.removeChild(t)}function St(t,e){var n=pi[e.toLowerCase()];return n&&gi[dt(t)]&&n}function $t(t,e,n){n.call(t,e)}function Et(t,e,n){var i=e.relatedTarget;i&&(i===t||di.call(t,i))||n.call(t,e)}function Tt(){this.$get=function(){return nt(W,{hasClass:function(t,e){return t.attr&&(t=t[0]),X(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Z(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),K(t,e)}})}}function Dt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):"function"==(n=typeof t)||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||function(){return++jn})():n+":"+t}function Mt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}et(t,this.put,this)}function At(t,u){function e(n){return function(t,e){if(!at(t))return n(t,e);et(t,f(n))}}function o(t,e){if(H(t,"service"),(ct(e)||Wn(e))&&(e=c.instantiate(e)),!e.$get)throw ki("pget",t);return h[t+"Provider"]=e}function n(t,e,n){return o(t,{$get:!1!==n?(i=t,r=e,function(){var t=d.invoke(r,this);if(ot(t))throw ki("undef",i);return t}):e});var i,r}function i(n,i){function c(e,t){if(n.hasOwnProperty(e)){if(n[e]===s)throw ki("cdep",e+" <- "+a.join(" <- "));return n[e]}try{return a.unshift(e),n[e]=s,n[e]=i(e,t)}catch(t){throw n[e]===s&&delete n[e],t}finally{a.shift()}}function r(t,e,n,i){"string"==typeof n&&(i=n,n=null);var r,o,s,a=[],l=At.$$annotate(t,u,i);for(o=0,r=l.length;o<r;o++){if("string"!=typeof(s=l[o]))throw ki("itkn",s);a.push(n&&n.hasOwnProperty(s)?n[s]:c(s,i))}return Wn(t)&&(t=t[r]),t.apply(e,a)}return{invoke:r,instantiate:function(t,e,n){var i=Object.create((Wn(t)?t[t.length-1]:t).prototype||null);return at(t=r(t,i,e,n))||ct(t)?t:i},get:c,annotate:At.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||n.hasOwnProperty(t)}}}u=!0===u;var s={},a=[],l=new Mt([],!0),h={$provide:{provider:e(o),factory:e(n),service:e(function(t,e){return n(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return n(t,m(e),!1)}),constant:e(function(t,e){H(t,"constant"),h[t]=e,r[t]=e}),decorator:function(t,e){var n=c.get(t+"Provider"),i=n.$get;n.$get=function(){var t=d.invoke(i,n);return d.invoke(e,null,{$delegate:t})}}}},c=h.$injector=i(h,function(t,e){throw zn.isString(e)&&a.push(e),ki("unpr",a.join(" <- "))}),r={},d=r.$injector=i(r,function(t,e){var n=c.get(t+"Provider",e);return d.invoke(n.$get,n,tt,t)});return et(function n(t){vt(ot(t)||Wn(t),"modulesToLoad","not an array");var i,r=[];return et(t,function(e){function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=c.get(i[0]);r[i[1]].apply(r,i[2])}}if(!l.get(e)){l.put(e,!0);try{lt(e)?(i=Dn(e),r=r.concat(n(i.requires)).concat(i._runBlocks),t(i._invokeQueue),t(i._configBlocks)):ct(e)?r.push(c.invoke(e)):Wn(e)?r.push(c.invoke(e)):L(e,"module")}catch(t){throw Wn(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ki("modulerr",e,t.stack||t.message||t)}}}),r}(t),function(t){t&&d.invoke(t)}),d}function Pt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,o){function s(t){var e;t?(t.scrollIntoView(),ct(e=a.yOffset)?e=e():x(e)?(e=e[0],e="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom):b(e)||(e=0),e&&(t=t.getBoundingClientRect().top,n.scrollBy(0,t-e))):n.scrollTo(0,0)}function a(t){var e,n,i;(t=lt(t)?t:r.hash())?(e=l.getElementById(t))?s(e):(n=l.getElementsByName(t),i=null,Array.prototype.some.call(n,function(t){if("a"===dt(t))return i=t,!0}),(e=i)?s(e):"top"===t&&s(null)):s(null)}var l=n.document;return t&&o.$watch(function(){return r.hash()},function(t,e){var n,i;t===e&&""===t||(n=function(){o.$evalAsync(a)},"complete"===(i=i||c).document.readyState?i.setTimeout(n):En(i).on("load",n))}),a}]}function Ot(t,e){return t||e?t?e?(Wn(t)&&(t=t.join(" ")),Wn(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Nt(t){return at(t)?t:{}}function It(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new function(o,t,e,s){function i(t){try{t.apply(null,Nn.call(arguments,1))}finally{if(0==--p)for(;g.length;)try{g.pop()()}catch(t){e.error(t)}}}function n(){w=null,a(),r()}function a(){t:{try{m=u.state;break t}catch(t){}m=void 0}pt(m=ot(m)?null:m,C)&&(m=C),C=m}function r(){y===l.url()&&v===m||(y=l.url(),v=m,et(x,function(t){t(l.url(),m)}))}var l=this,c=o.location,u=o.history,h=o.setTimeout,d=o.clearTimeout,f={};l.isMock=!1;var p=0,g=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){p++},l.notifyWhenNoOutstandingRequests=function(t){0===p?t():g.push(t)};var m,v,y=c.href,b=t.find("base"),w=null;a(),v=m,l.url=function(t,e,n){if(ot(n)&&(n=null),c!==o.location&&(c=o.location),u!==o.history&&(u=o.history),t){var i=v===n;if(y===t&&(!s.history||i))return l;var r=y&&ae(y)===ae(t);return y=t,v=n,!s.history||r&&i?(r&&!w||(w=t),e?c.replace(t):r?(e=c,n=-1===(n=t.indexOf("#"))?"":t.substr(n),e.hash=n):c.href=t,c.href!==t&&(w=t)):(u[e?"replaceState":"pushState"](n,"",t),a(),v=m),l}return w||c.href.replace(/%27/g,"'")},l.state=function(){return m};var x=[],k=!1,C=null;l.onUrlChange=function(t){return k||(s.history&&En(o).on("popstate",n),En(o).on("hashchange",n),k=!0),x.push(t),t},l.$$applicationDestroyed=function(){En(o).off("hashchange popstate",n)},l.$$checkUrlChange=r,l.baseHref=function(){var t=b.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(t,e){var n;return p++,n=h(function(){delete f[n],i(t)},e||0),f[n]=!0,n},l.defer.cancel=function(t){return!!f[t]&&(delete f[t],d(t),i(rt),!0)}}(t,i,e,n)}]}function Lt(){this.$get=function(){function t(t,e){function n(t){t!=c&&(u?u==t&&(u=t.n):u=t,i(t.n,t.p),i(t,c),(c=t).n=null)}function i(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in h)throw d("$cacheFactory")("iid",t);var r=0,o=nt({},e,{id:t}),s=yt(),a=e&&e.capacity||Number.MAX_VALUE,l=yt(),c=null,u=null;return h[t]={put:function(t,e){if(!ot(e)){if(a<Number.MAX_VALUE)n(l[t]||(l[t]={key:t}));return t in s||r++,s[t]=e,a<r&&this.remove(u.key),e}},get:function(t){if(a<Number.MAX_VALUE){var e=l[t];if(!e)return;n(e)}return s[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=l[t];if(!e)return;e==c&&(c=e.p),e==u&&(u=e.n),i(e.n,e.p),delete l[t]}t in s&&(delete s[t],r--)},removeAll:function(){s=yt(),r=0,l=yt(),c=u=null},destroy:function(){l=o=s=null,delete h[t]},info:function(){return nt({},o,{size:r})}}}var h={};return t.info=function(){var n={};return et(h,function(t,e){n[e]=t.info()}),n},t.get=function(t){return h[t]},t}}function Ht(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Rt(n,e){function A(t,i,r){var o=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,s=yt();return et(t,function(t,e){if(t in a)s[e]=a[t];else{var n=t.match(o);if(!n)throw Mi("iscp",i,e,t,r?"controller bindings definition":"isolate scope definition");s[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e},n[4]&&(a[t]=s[e])}}),s}var P={},K=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,Z=/(([\w\-]+)(?:\:([^;]+))?;?)/,c=function(t){var e,n={};for(t=t.split(","),e=0;e<t.length;e++)n[t[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),Q=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,a=yt();this.directive=function t(s,e){return H(s,"directive"),lt(s)?(function(t){var e=t.charAt(0);if(!e||e!==An(e))throw Mi("baddir",t);if(t!==t.trim())throw Mi("baddir",t)}(s),vt(e,"directiveFactory"),P.hasOwnProperty(s)||(P[s]=[],n.factory(s+"Directive",["$injector","$exceptionHandler",function(i,r){var o=[];return et(P[s],function(t,e){try{var n=i.invoke(t);ct(n)?n={compile:m(n)}:!n.compile&&n.link&&(n.compile=m(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||s,n.require=n.require||n.controller&&n.name,n.restrict=n.restrict||"EA",n.$$moduleName=t.$$moduleName,o.push(n)}catch(t){r(t)}}),o}])),P[s].push(e)):et(s,f(t)),this},this.aHrefSanitizationWhitelist=function(t){return st(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return st(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var s=!0;this.debugInfoEnabled=function(t){return st(t)?(s=t,this):s},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(w,b,O,t,f,N,o,i,r,u){function C(t,e){try{t.addClass(e)}catch(t){}}function I(s,t,e,n,a){s instanceof En||(s=En(s));for(var i=/\S+/,r=0,o=s.length;r<o;r++){var l=s[r];l.nodeType===Jn&&l.nodeValue.match(i)&&bt(l,s[r]=J.createElement("span"))}var c=_(s,t,s,e,n,a);I.$$addScopeClass(s);var u=null;return function(t,e,n){vt(t,"scope"),a&&a.needsNewScope&&(t=t.$parent.$new());var i=(n=n||{}).parentBoundTranscludeFn,r=n.transcludeControllers;if(n=n.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),u||(u=(n=n&&n[0])&&"foreignobject"!==dt(n)&&n.toString().match(/SVG/)?"svg":"html"),n="html"!==u?En(W(u,En("<div>").append(s).html())):e?fi.clone.call(s):s,r)for(var o in r)n.data("$"+o+"Controller",r[o].instance);return I.$$addScopeInfo(n,t),e&&e(n,t),c&&c(t,n,n,i),n}}function _(t,u,e,n,i,r){for(var o,s,a,l,h,d=[],c=0;c<t.length;c++)o=new G,(r=(s=L(t[c],[],o,0===c?n:tt,i)).length?$(s,t[c],o,u,e,null,[],[],r):null)&&r.scope&&I.$$addScopeClass(o.$$element),o=r&&r.terminal||!(a=t[c].childNodes)||!a.length?null:_(a,r?(r.transcludeOnThisElement||!r.templateOnThisElement)&&r.transclude:u),(r||o)&&(d.push(c,r,o),l=!0,h=h||r),r=null;return l?function(t,e,n,i){var r,o,s,a,l,c;if(h)for(c=Array(e.length),a=0;a<d.length;a+=3)c[r=d[a]]=e[r];else c=e;for(a=0,l=d.length;a<l;)o=c[d[a++]],e=d[a++],r=d[a++],e?(e.scope?(s=t.$new(),I.$$addScopeInfo(En(o),s)):s=t,e(r,s,o,n,e.transcludeOnThisElement?S(t,e.transclude,i):!e.templateOnThisElement&&i?i:!i&&u?S(t,u):null)):r&&r(t,o.childNodes,tt,i)}:null}function S(o,s,a){return function(t,e,n,i,r){return t||((t=o.$new(!1,r)).$$transcluded=!0),s(t,e,{parentBoundTranscludeFn:a,transcludeControllers:n,futureParentElement:i})}}function L(t,e,n,i,r){var o,s,a,l,c=n.$attr;switch(t.nodeType){case 1:x(e,Ft(o=dt(t)),"E",i,r);for(var u,h,d,f,p=t.attributes,g=0,m=p&&p.length;g<m;g++){var v=!1,y=!1;h=(u=p[g]).name,d=qn(u.value),u=Ft(h),(f=D.test(u))&&(h=h.replace(Ai,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})),(u=u.match(M))&&k(u[1])&&(y=(v=h).substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),c[u=Ft(h.toLowerCase())]=h,!f&&n.hasOwnProperty(u)||(n[u]=d,St(t,u)&&(n[u]=!0)),T(t,e,d,u,f),x(e,u,"A",i,r,v,y)}if("input"===o&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),at(t=t.className)&&(t=t.animVal),lt(t)&&""!==t)for(;o=Z.exec(t);)x(e,u=Ft(o[2]),"C",i,r)&&(n[u]=qn(o[3])),t=t.substr(o.index+o[0].length);break;case Jn:if(11===$n)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Jn;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);s=e,a=t.nodeValue,(l=b(a,!0))&&s.push({priority:0,compile:function(t){var i=!!(t=t.parent()).length;return i&&I.$$addBindingClass(t),function(t,e){var n=e.parent();i||I.$$addBindingClass(n),I.$$addBindingInfo(n,l.expressions),t.$watch(l,function(t){e[0].nodeValue=t})}}});break;case 8:try{(o=K.exec(t.nodeValue))&&(x(e,u=Ft(o[1]),"M",i,r)&&(n[u]=qn(o[2])))}catch(t){}}return e.sort(E),e}function H(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Mi("uterdir",e,n);1==t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r);else i.push(t);return En(i)}function R(o,s,a){return function(t,e,n,i,r){return e=H(e[0],s,a),o(t,e,n,i,r)}}function $(t,v,y,e,n,i,b,w,r){function o(t,e,n,i){t&&(n&&(t=R(t,n,i)),t.require=a.require,t.directiveName=l,(_===a||a.$$isolateScope)&&(t=q(t,{isolateScope:!0})),b.push(t)),e&&(n&&(e=R(e,n,i)),e.require=a.require,e.directiveName=l,(_===a||a.$$isolateScope)&&(e=q(e,{isolateScope:!0})),w.push(e))}function x(t,e,n,i){var r;if(lt(e)){var o=e.match(Q);e=e.substring(o[0].length);var s=o[1]||o[3];o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[e])&&r.instance,r||(i="$"+e+"Controller",r=s?n.inheritedData(i):n.data(i)),!r&&!o)throw Mi("ctreq",e,t)}else if(Wn(e))for(r=[],s=0,o=e.length;s<o;s++)r[s]=x(t,e[s],n,i);return r||null}function s(t,e,n,i,r){var o,s,a,l,c,u,h;for(var d in v===n?u=(i=y).$$element:(u=En(n),i=new G(u,y)),a=e,_?s=e.$new(!0):k&&(a=e.$parent),r&&((c=function(t,e,n){var i;return ut(t)||(n=e,e=t,t=tt),$&&(i=l),n||(n=$?u.parent():u),r(t,e,i,n,m)}).$$boundTransclude=r),C&&(l=function(t,e,n,i,r,o){var s,a=yt();for(s in i){var l=i[s],c={$scope:l===_||l.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},u=l.controller;"@"==u&&(u=e[l.name]),c=N(u,c,!0,l.controllerAs),a[l.name]=c,t.data("$"+l.name+"Controller",c.instance)}return a}(u,i,c,C,s,e)),_&&(I.$$addScopeInfo(u,s,!0,!(S&&(S===_||S===_.$$originalDirective))),I.$$addScopeClass(u,!0),s.$$isolateBindings=_.$$isolateBindings,(h=U(e,i,s,s.$$isolateBindings,_))&&s.$on("$destroy",h)),l){h=C[d];var f=l[d],p=h.$$bindings.bindToController;f.identifier&&p&&(o=U(a,i,f.instance,p,h));var g=f();g!==f.instance&&(f.instance=g,u.data("$"+h.name+"Controller",g),o&&o(),o=U(a,i,f.instance,p,h))}for(E=0,T=b.length;E<T;E++)Y(o=b[E],o.isolateScope?s:e,u,i,o.require&&x(o.directiveName,o.require,u,l),c);var m=e;for(_&&(_.template||null===_.templateUrl)&&(m=s),t&&t(m,n.childNodes,tt,r),E=w.length-1;0<=E;E--)Y(o=w[E],o.isolateScope?s:e,u,i,o.require&&x(o.directiveName,o.require,u,l),c)}r=r||{};for(var a,l,c,u,h=-Number.MAX_VALUE,k=r.newScopeDirective,C=r.controllerDirectives,_=r.newIsolateScopeDirective,S=r.templateDirective,d=r.nonTlbTranscludeDirective,f=!1,p=!1,$=r.hasElementTranscludeDirective,g=y.$$element=En(v),m=e,E=0,T=t.length;E<T;E++){var D=(a=t[E]).$$start,M=a.$$end;if(D&&(g=H(v,D,M)),c=tt,h>a.priority)break;if((c=a.scope)&&(a.templateUrl||(at(c)?(B("new/isolated scope",_||k,a,g),_=a):B("new/isolated scope",_,a,g)),k=k||a),l=a.name,!a.templateUrl&&a.controller&&(c=a.controller,C=C||yt(),B("'"+l+"' controller",C[l],a,g),C[l]=a),(c=a.transclude)&&(f=!0,a.$$tlb||(B("transclusion",d,a,g),d=a),"element"==c?($=!0,h=a.priority,c=g,g=y.$$element=En(J.createComment(" "+l+": "+y[l]+" ")),v=g[0],V(n,Nn.call(c,0),v),m=I(c,e,h,i&&i.name,{nonTlbTranscludeDirective:d})):(c=En(wt(v)).contents(),g.empty(),m=I(c,e,tt,tt,{needsNewScope:a.$$isolateScope||a.$$newScope}))),a.template)if(p=!0,B("template",S,a,g),c=ct((S=a).template)?a.template(g,y):a.template,c=X(c),a.replace){if(i=a,c=li.test(c)?jt(W(a.templateNamespace,qn(c))):[],v=c[0],1!=c.length||1!==v.nodeType)throw Mi("tplrt",l,"");V(n,g,v);var A=L(v,[],c={$attr:{}}),P=t.splice(E+1,t.length-(E+1));(_||k)&&F(A,_,k),t=t.concat(A).concat(P),z(y,c),T=t.length}else g.html(c);if(a.templateUrl)p=!0,B("template",S,a,g),(S=a).replace&&(i=a),s=j(t.splice(E,t.length-E),g,y,n,f&&m,b,w,{controllerDirectives:C,newScopeDirective:k!==a&&k,newIsolateScopeDirective:_,templateDirective:S,nonTlbTranscludeDirective:d}),T=t.length;else if(a.compile)try{ct(u=a.compile(g,y,m))?o(null,u,D,M):u&&o(u.pre,u.post,D,M)}catch(t){O(t,gt(g))}a.terminal&&(s.terminal=!0,h=Math.max(h,a.priority))}return s.scope=k&&!0===k.scope,s.transcludeOnThisElement=f,s.templateOnThisElement=p,s.transclude=m,r.hasElementTranscludeDirective=$,s}function F(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=it(t[i],{$$isolateScope:e,$$newScope:n})}function x(t,e,n,i,r,o,s){if(e===r)return null;if(r=null,P.hasOwnProperty(e))for(var a,l=0,c=(e=w.get(e+"Directive")).length;l<c;l++)try{if(a=e[l],(ot(i)||i>a.priority)&&-1!=a.restrict.indexOf(n)){if(o&&(a=it(a,{$$start:o,$$end:s})),!a.$$bindings){var u=a,h=a,d=a.name,f={isolateScope:null,bindToController:null};if(at(h.scope)&&(!0===h.bindToController?(f.bindToController=A(h.scope,d,!0),f.isolateScope={}):f.isolateScope=A(h.scope,d,!1)),at(h.bindToController)&&(f.bindToController=A(h.bindToController,d,!0)),at(f.bindToController)){var p,g=h.controller,m=h.controllerAs;if(!g)throw Mi("noctrl",d);t:{h=g;var v=m;if(v&&lt(v))p=v;else{if(lt(h)){var y=Oi.exec(h);if(y){p=y[3];break t}}p=void 0}}if(!p)throw Mi("noident",d)}var b=u.$$bindings=f;at(b.isolateScope)&&(a.$$isolateBindings=b.isolateScope)}t.push(a),r=a}}catch(t){O(t)}return r}function k(t){if(P.hasOwnProperty(t))for(var e=w.get(t+"Directive"),n=0,i=e.length;n<i;n++)if((t=e[n]).multiElement)return!0;return!1}function z(n,i){var r=i.$attr,o=n.$attr,s=n.$$element;et(n,function(t,e){"$"!=e.charAt(0)&&(i[e]&&i[e]!==t&&(t+=("style"===e?";":" ")+i[e]),n.$set(e,t,!0,r[e]))}),et(i,function(t,e){"class"==e?(C(s,t),n.class=(n.class?n.class+" ":"")+t):"style"==e?(s.attr("style",s.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==e.charAt(0)||n.hasOwnProperty(e)||(n[e]=t,o[e]=r[e])})}function j(a,l,c,u,h,d,f,p){var g,m,v=[],y=l[0],b=a.shift(),w=it(b,{templateUrl:null,transclude:null,replace:null,$$originalDirective:b}),x=ct(b.templateUrl)?b.templateUrl(l,c):b.templateUrl,k=b.templateNamespace;return l.empty(),t(x).then(function(t){var n,e;if(t=X(t),b.replace){if(t=li.test(t)?jt(W(k,qn(t))):[],n=t[0],1!=t.length||1!==n.nodeType)throw Mi("tplrt",b.name,x);t={$attr:{}},V(u,l,n);var i=L(n,[],t);at(b.scope)&&F(i,!0),a=i.concat(a),z(c,t)}else n=y,l.html(t);for(a.unshift(w),g=$(a,n,c,h,l,b,d,f,p),et(u,function(t,e){t==n&&(u[e]=l[0])}),m=_(l[0].childNodes,h);v.length;){t=v.shift(),e=v.shift();var r=v.shift(),o=v.shift();i=l[0];if(!t.$$destroyed){if(e!==y){var s=e.className;p.hasElementTranscludeDirective&&b.replace||(i=wt(n)),V(r,En(e),i),C(En(i),s)}e=g.transcludeOnThisElement?S(t,g.transclude,o):o,g(m,t,i,u,e)}}v=null}),function(t,e,n,i,r){t=r,e.$$destroyed||(v?v.push(e,n,i,t):(g.transcludeOnThisElement&&(t=S(e,g.transclude,r)),g(m,e,n,i,t)))}}function E(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function B(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Mi("multidir",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,gt(i))}function W(t,e){switch(t=An(t||"html")){case"svg":case"math":var n=J.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function T(t,e,r,o,s){var a=function(t,e){if("srcdoc"==e)return i.HTML;var n=dt(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?i.RESOURCE_URL:void 0}(t,o);s=c[o]||s;var l=b(r,!0,a,s);if(l){if("multiple"===o&&"select"===dt(t))throw Mi("selmulti",gt(t));e.push({priority:100,compile:function(){return{pre:function(t,e,n){if(e=n.$$observers||(n.$$observers=yt()),h.test(o))throw Mi("nodomevents");var i=n[o];i!==r&&(l=i&&b(i,!0,a,s),r=i),l&&(n[o]=l(t),(e[o]||(e[o]=[])).$$inter=!0,(n.$$observers&&n.$$observers[o].$$scope||t).$watch(l,function(t,e){"class"===o&&t!=e?n.$updateClass(t,e):n.$set(o,t)}))}}}})}}function V(t,e,n){var i,r,o=e[0],s=e.length,a=o.parentNode;if(t)for(i=0,r=t.length;i<r;i++)if(t[i]==o){t[i++]=n,r=i+s-1;for(var l=t.length;i<l;i++,r++)r<l?t[i]=t[r]:delete t[i];t.length-=s-1,t.context===o&&(t.context=n);break}for(a&&a.replaceChild(n,o),(t=J.createDocumentFragment()).appendChild(o),En.hasData(o)&&(En.data(n,En.data(o)),Tn?(Bn=!0,Tn.cleanData([o])):delete En.cache[o[En.expando]]),o=1,s=e.length;o<s;o++)a=e[o],En(a).remove(),t.appendChild(a),delete e[o];e[0]=n,e.length=1}function q(t,e){return nt(function(){return t.apply(null,arguments)},t,e)}function Y(t,e,n,i,r,o){try{t(e,n,i,r,o)}catch(t){O(t,gt(n))}}function U(l,c,u,t,h){var d=[];return et(t,function(t,e){var n,i,r,o,s=t.attrName,a=t.optional;switch(t.mode){case"@":a||Pn.call(c,s)||(u[e]=c[s]=void 0),c.$observe(s,function(t){lt(t)&&(u[e]=t)}),c.$$observers[s].$$scope=l,lt(n=c[s])?u[e]=b(n)(l):ht(n)&&(u[e]=n);break;case"=":if(!Pn.call(c,s)){if(a)break;c[s]=void 0}if(a&&!c[s])break;i=f(c[s]),o=i.literal?pt:function(t,e){return t===e||t!=t&&e!=e},r=i.assign||function(){throw n=u[e]=i(l),Mi("nonassign",c[s],s,h.name)},n=u[e]=i(l),(a=function(t){return o(t,u[e])||(o(t,n)?r(l,t=u[e]):u[e]=t),n=t}).$stateful=!0,a=t.collection?l.$watchCollection(c[s],a):l.$watch(f(c[s],a),null,i.literal),d.push(a);break;case"&":if((i=c.hasOwnProperty(s)?f(c[s]):rt)===rt&&a)break;u[e]=function(t){return i(l,t)}}}),d.length&&function(){for(var t=0,e=d.length;t<e;++t)d[t]()}}var G=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=e[r]}else this.$attr={};this.$$element=t};G.prototype={$normalize:Ft,$addClass:function(t){t&&0<t.length&&r.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&r.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=zt(t,e);n&&n.length&&r.addClass(this.$$element,n),(n=zt(e,t))&&n.length&&r.removeClass(this.$$element,n)},$set:function(t,e,n,i){var r=St(this.$$element[0],t),o=mi[t],s=t;if(r?(this.$$element.prop(t,e),i=r):o&&(this[o]=e,s=o),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=mt(t,"-")),"a"===(r=dt(this.$$element))&&"href"===t||"img"===r&&"src"===t)this[t]=e=u(e,"src"===t);else if("img"===r&&"srcset"===t&&st(e)){r="",o=qn(e);for(var a=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,l=(a=/\s/.test(o)?a:/(,)/,o=o.split(a),a=Math.floor(o.length/2),0);l<a;l++){var c=2*l;r=(r=r+u(qn(o[c]),!0))+" "+qn(o[c+1])}o=qn(o[2*l]).split(/\s/),r+=u(qn(o[0]),!0),2===o.length&&(r+=" "+qn(o[1])),this[t]=e=r}!1!==n&&(null===e||ot(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e)),(t=this.$$observers)&&et(t[s],function(t){try{t(e)}catch(t){O(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=yt()),r=i[t]||(i[t]=[]);return r.push(e),o.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||ot(n[t])||e(n[t])}),function(){ft(r,e)}}};var e=b.startSymbol(),n=b.endSymbol(),X="{{"==e&&"}}"==n?l:function(t){return t.replace(/\{\{/g,e).replace(/}}/g,n)},D=/^ngAttr[A-Z]/,M=/^(.+)Start$/;return I.$$addBindingInfo=s?function(t,e){var n=t.data("$binding")||[];Wn(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:rt,I.$$addBindingClass=s?function(t){C(t,"ng-binding")}:rt,I.$$addScopeInfo=s?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:rt,I.$$addScopeClass=s?function(t,e){C(t,e?"ng-isolate-scope":"ng-scope")}:rt,I}]}function Ft(t){return z(t.replace(Ai,""))}function zt(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),o=0;t:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(0<n.length?" ":"")+s}return n}function jt(t){var e=(t=En(t)).length;if(e<=1)return t;for(;e--;)8===t[e].nodeType&&In.call(t,e,1);return t}function Bt(){var u={},h=!1;this.register=function(t,e){H(t,"controller"),at(t)?nt(u,t):u[t]=e},this.allowGlobals=function(){h=!0},this.$get=["$injector","$window",function(a,l){function c(t,e,n,i){if(!t||!at(t.$scope))throw d("$controller")("noscp",i,e);t.$scope[e]=n}return function(e,n,t,i){var r,o,s;if(t=!0===t,i&&lt(i)&&(s=i),lt(e)){if(!(i=e.match(Oi)))throw Pi("ctrlfmt",e);o=i[1],s=s||i[3],L(e=u.hasOwnProperty(o)?u[o]:R(n.$scope,o,!0)||(h?R(l,o,!0):tt),o,!0)}return t?(t=(Wn(e)?e[e.length-1]:e).prototype,r=Object.create(t||null),s&&c(n,s,r,o||e.name),nt(function(){var t=a.invoke(e,r,n,o);return t!==r&&(at(t)||ct(t))&&(r=t,s&&c(n,s,r,o||e.name)),r},{instance:r,identifier:s})):(r=a.instantiate(e,n,o),s&&c(n,s,r,o||e.name),r)}}]}function Wt(){this.$get=["$window",function(t){return En(t.document)}]}function Vt(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}function qt(t){return at(t)?v(t)?t.toISOString():$(t):t}function Yt(){this.$get=function(){return function(t){if(!t)return"";var i=[];return o(t,function(t,n){null===t||ot(t)||(Wn(t)?et(t,function(t,e){i.push(P(n)+"="+P(qt(t)))}):i.push(P(n)+"="+P(qt(t))))}),i.join("&")}}}function Ut(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function n(t,i,r){null===t||ot(t)||(Wn(t)?et(t,function(t,e){n(t,i+"["+(at(t)?e:"")+"]")}):at(t)&&!v(t)?o(t,function(t,e){n(t,i+(r?"":"[")+e+(r?"":"]"))}):e.push(P(i)+"="+P(qt(t))))}(t,"",!0),e.join("&")}}}function Gt(t,e){if(lt(t)){var n=t.replace(Fi,"").trim();if(n){var i=e("Content-Type");(i=i&&0===i.indexOf(Ii))||(i=(i=n.match(Hi))&&Ri[i[0]].test(n)),i&&(t=r(n))}}return t}function Xt(t){var n,r=yt();return lt(t)?et(t.split("\n"),function(t){n=t.indexOf(":");var e=An(qn(t.substr(0,n)));t=qn(t.substr(n+1)),e&&(r[e]=r[e]?r[e]+", "+t:t)}):at(t)&&et(t,function(t,e){var n=An(e),i=qn(t);n&&(r[n]=r[n]?r[n]+", "+i:i)}),r}function Kt(e){var n;return function(t){return n||(n=Xt(e)),t?(void 0===(t=n[An(t)])&&(t=null),t):n}}function Zt(e,n,i,t){return ct(t)?t(e,n,i):(et(t,function(t){e=t(e,n,i)}),e)}function Qt(){var b=this.defaults={transformResponse:[Gt],transformRequest:[function(t){return at(t)&&"[object File]"!==Hn.call(t)&&"[object Blob]"!==Hn.call(t)&&"[object FormData]"!==Hn.call(t)?$(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:k(Li),put:k(Li),patch:k(Li)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},w=!1;this.useApplyAsync=function(t){return st(t)?(w=!!t,this):w};var l=!0;this.useLegacyPromiseExtensions=function(t){return st(t)?(l=!!t,this):l};var e=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(f,p,t,g,m,s){function v(t){function i(t){var e=nt({},t);return e.data=Zt(t.data,t.headers,t.status,n.transformResponse),200<=(t=t.status)&&t<300?e:m.reject(e)}if(!zn.isObject(t))throw d("$http")("badreq",t);if(!lt(t.url))throw d("$http")("badreq",t.url);var n=nt({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse,paramSerializer:b.paramSerializer},t);n.headers=function(t){var e,n,i,r,o,s,a,l=b.headers,c=nt({},t.headers);l=nt({},l.common,l[An(t.method)]);t:for(e in l){for(i in n=An(e),c)if(An(i)===n)continue t;c[e]=l[e]}return r=c,o=k(t),a={},et(r,function(t,e){ct(t)?null!=(s=t(o))&&(a[e]=s):a[e]=t}),a}(t),n.method=On(n.method),n.paramSerializer=lt(n.paramSerializer)?s.get(n.paramSerializer):n.paramSerializer;var e=[function(t){var n=t.headers,e=Zt(t.data,Kt(n),tt,t.transformRequest);return ot(e)&&et(n,function(t,e){"content-type"===An(e)&&delete n[e]}),ot(t.withCredentials)&&!ot(b.withCredentials)&&(t.withCredentials=b.withCredentials),function(r,t){function o(t,e,n,i){(200<=(e=-1<=e?e:0)&&e<300?a.resolve:a.reject)({data:t,status:e,headers:Kt(n),config:r,statusText:i})}function e(t){o(t.data,t.status,k(t.headers()),t.statusText)}function n(){var t=v.pendingRequests.indexOf(r);-1!==t&&v.pendingRequests.splice(t,1)}var s,i,a=m.defer(),l=a.promise,c=r.headers,u=(h=r.url,d=r.paramSerializer(r.params),0<d.length&&(h+=(-1==h.indexOf("?")?"?":"&")+d),h);var h,d;return v.pendingRequests.push(r),l.then(n,n),!r.cache&&!b.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(s=at(r.cache)?r.cache:at(b.cache)?b.cache:y),s&&(st(i=s.get(u))?i&&ct(i.then)?i.then(e,e):Wn(i)?o(i[1],i[0],k(i[2]),i[3]):o(i,200,{},"OK"):s.put(u,l)),ot(i)&&((i=Ue(r.url)?p()[r.xsrfCookieName||b.xsrfCookieName]:tt)&&(c[r.xsrfHeaderName||b.xsrfHeaderName]=i),f(r.method,u,t,function(t,e,n,i){function r(){o(e,t,n,i)}s&&(200<=t&&t<300?s.put(u,[t,e,Xt(n),i]):s.remove(u)),w?g.$applyAsync(r):(r(),g.$$phase||g.$apply())},c,r.timeout,r.withCredentials,r.responseType)),l}(t,e).then(i,i)},tt],r=m.when(n);for(et(a,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&e.push(t.response,t.responseError)});e.length;){t=e.shift();var o=e.shift();r=r.then(t,o)}return l?(r.success=function(e){return L(e,"fn"),r.then(function(t){e(t.data,t.status,t.headers,n)}),r},r.error=function(e){return L(e,"fn"),r.then(null,function(t){e(t.data,t.status,t.headers,n)}),r}):(r.success=ji("success"),r.error=ji("error")),r}var y=t("$http");b.paramSerializer=lt(b.paramSerializer)?s.get(b.paramSerializer):b.paramSerializer;var a=[];return et(e,function(t){a.unshift(lt(t)?s.get(t):s.invoke(t))}),v.pendingRequests=[],function(t){et(arguments,function(n){v[n]=function(t,e){return v(nt({},e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){et(arguments,function(i){v[i]=function(t,e,n){return v(nt({},n||{},{method:i,url:t,data:e}))}})}("post","put","patch"),v.defaults=b,v}]}function Jt(){this.$get=function(){return function(){return new c.XMLHttpRequest}}}function te(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return w=i,x=(b=t).defer,k=e.angular.callbacks,C=n[0],function(t,i,e,r,n,o,s,a){function l(){h&&h(),d&&d.abort()}function c(t,e,n,i,r){st(y)&&x.cancel(y),h=d=null,t(e,n,i,r),b.$$completeOutstandingRequest(rt)}if(b.$$incOutstandingRequestCount(),i=i||b.url(),"jsonp"==An(t)){var u="_"+(k.counter++).toString(36);k[u]=function(t){k[u].data=t,k[u].called=!0};var h=(f=i.replace("JSON_CALLBACK","angular.callbacks."+u),p=u,g=function(t,e){c(r,t,k[u].data,"",e),k[u]=rt},m=C.createElement("script"),v=null,m.type="text/javascript",m.src=f,m.async=!0,v=function(t){m.removeEventListener("load",v,!1),m.removeEventListener("error",v,!1),C.body.removeChild(m),m=null;var e=-1,n="unknown";t&&("load"!==t.type||k[p].called||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),g&&g(e,n)},m.addEventListener("load",v,!1),m.addEventListener("error",v,!1),C.body.appendChild(m),v)}else{var d=w(t,i);if(d.open(t,i,!0),et(n,function(t,e){st(t)&&d.setRequestHeader(e,t)}),d.onload=function(){var t=d.statusText||"",e="response"in d?d.response:d.responseText,n=1223===d.status?204:d.status;0===n&&(n=e?200:"file"==Ye(i).protocol?404:0),c(r,n,e,d.getAllResponseHeaders(),t)},t=function(){c(r,-1,null,null,"")},d.onerror=t,d.onabort=t,s&&(d.withCredentials=!0),a)try{d.responseType=a}catch(t){if("json"!==a)throw t}d.send(ot(e)?null:e)}var f,p,g,m,v;if(0<o)var y=x(l,o);else o&&ct(o.then)&&o.then(l)};var b,w,x,k,C}]}function ee(){var w="{{",x="}}";this.startSymbol=function(t){return t?(w=t,this):w},this.endSymbol=function(t){return t?(x=t,this):x},this.$get=["$parse","$exceptionHandler","$sce",function(p,g,m){function t(t){return"\\\\\\"+t}function v(t){return t.replace(n,w).replace(i,x)}function e(r,t,i,o){function e(t){try{var e,n=t;if(t=i?m.getTrusted(i,n):m.valueOf(n),o&&!st(t))e=t;else if(null==t)e="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=$(t)}e=t}return e}catch(t){g(Bi.interr(r,t))}}o=!!o;for(var n,s,a=0,l=[],c=[],u=r.length,h=[],d=[];a<u;){if(-1==(n=r.indexOf(w,a))||-1==(s=r.indexOf(x,n+y))){a!==u&&h.push(v(r.substring(a)));break}a!==n&&h.push(v(r.substring(a,n))),a=r.substring(n+y,s),l.push(a),c.push(p(a,e)),a=s+b,d.push(h.length),h.push("")}if(i&&1<h.length&&Bi.throwNoconcat(r),!t||l.length){var f=function(t){for(var e=0,n=l.length;e<n;e++){if(o&&ot(t[e]))return;h[d[e]]=t[e]}return h.join("")};return nt(function(t){var e=0,n=l.length,i=Array(n);try{for(;e<n;e++)i[e]=c[e](t);return f(i)}catch(t){g(Bi.interr(r,t))}},{exp:r,expressions:l,$$watchDelegate:function(i,r){var o;return i.$watchGroup(c,function(t,e){var n=f(t);ct(r)&&r.call(this,n,t!==e?o:n,i),o=n})}})}}var y=w.length,b=x.length,n=new RegExp(w.replace(/./g,t),"g"),i=new RegExp(x.replace(/./g,t),"g");return e.startSymbol=function(){return w},e.endSymbol=function(){return x},e}]}function ne(){this.$get=["$rootScope","$window","$q","$$q",function(d,f,p,g){function t(t,e,n,i){var r=4<arguments.length,o=r?Nn.call(arguments,4):[],s=f.setInterval,a=f.clearInterval,l=0,c=st(i)&&!i,u=(c?g:p).defer(),h=u.promise;return n=st(n)?n:0,h.then(null,null,r?function(){t.apply(null,o)}:t),h.$$intervalId=s(function(){u.notify(l++),0<n&&n<=l&&(u.resolve(l),a(h.$$intervalId),delete m[h.$$intervalId]),c||d.$apply()},e),m[h.$$intervalId]=u,h}var m={};return t.cancel=function(t){return!!(t&&t.$$intervalId in m)&&(m[t.$$intervalId].reject("canceled"),f.clearInterval(t.$$intervalId),delete m[t.$$intervalId],!0)},t}]}function ie(t){for(var e=(t=t.split("/")).length;e--;)t[e]=A(t[e]);return t.join("/")}function re(t,e){var n=Ye(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=g(n.port)||Vi[n.protocol]||null}function oe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Ye(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=M(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function se(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function ae(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function le(t){return t.replace(/(#.+)|#$/,"$1")}function ce(r,o,s){this.$$html5=!0,s=s||"",re(r,this),this.$$parse=function(t){var e=se(o,t);if(!lt(e))throw qi("ipthprfx",t,o);oe(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=i(this.$$search),e=this.$$hash?"#"+A(this.$$hash):"";this.$$url=ie(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=o+this.$$url.substr(1)},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(st(n=se(r,t))?i=st(n=se(s,i=n))?o+(se("/",n)||n):r+i:st(n=se(o,t))?i=o+n:o==t+"/"&&(i=o),i&&this.$$parse(i),!!i);var n,i}}function ue(r,o,s){re(r,this),this.$$parse=function(t){var e;ot(n=se(r,t)||se(o,t))||"#"!==n.charAt(0)?this.$$html5?e=n:(e="",ot(n)&&(r=t,this.replace())):ot(e=se(s,n))&&(e=n),oe(e,this),t=this.$$path;var n=r,i=/^\/[A-Z]:(\/.*)/;0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)||(t=(e=i.exec(t))?e[1]:t),this.$$path=t,this.$$compose()},this.$$compose=function(){var t=i(this.$$search),e=this.$$hash?"#"+A(this.$$hash):"";this.$$url=ie(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+(this.$$url?s+this.$$url:"")},this.$$parseLinkUrl=function(t,e){return ae(r)==ae(t)&&(this.$$parse(t),!0)}}function he(r,o,s){this.$$html5=!0,ue.apply(this,arguments),this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(r==ae(t)?n=t:(i=se(o,t))?n=r+s+i:o===t+"/"&&(n=o),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var t=i(this.$$search),e=this.$$hash?"#"+A(this.$$hash):"";this.$$url=ie(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+s+this.$$url}}function de(t){return function(){return this[t]}}function fe(e,n){return function(t){return ot(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function pe(){var p="",g={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return st(t)?(p=t,this):p},this.html5Mode=function(t){return ht(t)?(g.enabled=t,this):at(t)?(ht(t.enabled)&&(g.enabled=t.enabled),ht(t.requireBase)&&(g.requireBase=t.requireBase),ht(t.rewriteLinks)&&(g.rewriteLinks=t.rewriteLinks),this):g},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(s,a,e,r,o){function l(t,e,n){var i=u.url(),r=u.$$state;try{a.url(t,e,n),u.$$state=a.state()}catch(t){throw u.url(i),u.$$state=r,t}}function c(t,e){s.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,t;t=a.baseHref();var n,i=a.url();if(g.enabled){if(!t&&g.requireBase)throw qi("nobase");n=i.substring(0,i.indexOf("/",i.indexOf("//")+2))+(t||"/"),t=e.history?ce:he}else n=ae(i),t=ue;var h=n.substr(0,ae(n).lastIndexOf("/")+1);(u=new t(n,h,"#"+p)).$$parseLinkUrl(i,i),u.$$state=a.state();var d=/^\s*(javascript|mailto):/i;r.on("click",function(t){if(g.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var e=En(t.target);"a"!==dt(e[0]);)if(e[0]===r[0]||!(e=e.parent())[0])return;var n=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");at(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=Ye(n.animVal).href),d.test(n)||!n||e.attr("target")||t.isDefaultPrevented()||!u.$$parseLinkUrl(n,i)||(t.preventDefault(),u.absUrl()!=a.url()&&(s.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),le(u.absUrl())!=le(i)&&a.url(u.absUrl(),!0);var f=!0;return a.onUrlChange(function(i,r){ot(se(h,i))?o.location.href=i:(s.$evalAsync(function(){var t,e=u.absUrl(),n=u.$$state;i=le(i),u.$$parse(i),u.$$state=r,t=s.$broadcast("$locationChangeStart",i,e,r,n).defaultPrevented,u.absUrl()===i&&(t?(u.$$parse(e),l(e,!1,u.$$state=n)):(f=!1,c(e,n)))}),s.$$phase||s.$digest())}),s.$watch(function(){var n=le(a.url()),t=le(u.absUrl()),i=a.state(),r=u.$$replace,o=n!==t||u.$$html5&&e.history&&i!==u.$$state;(f||o)&&(f=!1,s.$evalAsync(function(){var t=u.absUrl(),e=s.$broadcast("$locationChangeStart",t,n,u.$$state,i).defaultPrevented;u.absUrl()===t&&(e?(u.$$parse(n),u.$$state=i):(o&&l(t,r,i===u.$$state?null:u.$$state),c(n,i)))})),u.$$replace=!1}),u}]}function ge(){var i=!0,r=this;this.debugEnabled=function(t){return st(t)?(i=t,this):i},this.$get=["$window",function(n){function t(t){var e=n.console||{},i=e[t]||e.log||rt;t=!1;try{t=!!i.apply}catch(t){}return t?function(){var n=[];return et(arguments,function(t){var e;n.push(((e=t)instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),i.apply(e,n)}:function(t,e){i(t,null==e?"":e)}}return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:(e=t("debug"),function(){i&&e.apply(r,arguments)})};var e}]}function me(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Ui("isecfld",e);return t}function ve(t,e){if(!lt(t+=""))throw Ui("iseccst",e);return t}function ye(t,e){if(t){if(t.constructor===t)throw Ui("isecfn",e);if(t.window===t)throw Ui("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Ui("isecdom",e);if(t===Object)throw Ui("isecobj",e)}return t}function be(t,e){if(t){if(t.constructor===t)throw Ui("isecfn",e);if(t===Gi||t===Xi||t===Ki)throw Ui("isecff",e)}}function we(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw Ui("isecaf",e)}function xe(t,e){return void 0!==t?t:e}function ke(t,e){return void 0===t?e:void 0===e?t:t+e}function Ce(t,e){var n,i;switch(t.type){case tr.Program:n=!0,et(t.body,function(t){Ce(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case tr.Literal:t.constant=!0,t.toWatch=[];break;case tr.UnaryExpression:Ce(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case tr.BinaryExpression:Ce(t.left,e),Ce(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case tr.LogicalExpression:Ce(t.left,e),Ce(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case tr.ConditionalExpression:Ce(t.test,e),Ce(t.alternate,e),Ce(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case tr.Identifier:t.constant=!1,t.toWatch=[t];break;case tr.MemberExpression:Ce(t.object,e),t.computed&&Ce(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case tr.CallExpression:n=!!t.filter&&!e(t.callee.name).$stateful,i=[],et(t.arguments,function(t){Ce(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&!e(t.callee.name).$stateful?i:[t];break;case tr.AssignmentExpression:Ce(t.left,e),Ce(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case tr.ArrayExpression:n=!0,i=[],et(t.elements,function(t){Ce(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case tr.ObjectExpression:n=!0,i=[],et(t.properties,function(t){Ce(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case tr.ThisExpression:t.constant=!1,t.toWatch=[]}}function _e(t){if(1==t.length){var e=(t=t[0].expression).toWatch;return 1!==e.length?e:e[0]!==t?e:tt}}function Se(t){return t.type===tr.Identifier||t.type===tr.MemberExpression}function $e(t){if(1===t.body.length&&Se(t.body[0].expression))return{type:tr.AssignmentExpression,left:t.body[0].expression,right:{type:tr.NGValueParameter},operator:"="}}function Ee(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===tr.Literal||t.body[0].expression.type===tr.ArrayExpression||t.body[0].expression.type===tr.ObjectExpression)}function Te(t,e){this.astBuilder=t,this.$filter=e}function De(t,e){this.astBuilder=t,this.$filter=e}function Me(t){return"constructor"==t}function Ae(t){return ct(t.valueOf)?t.valueOf():nr.call(t)}function Pe(){var y=yt(),b=yt();this.$get=["$filter",function(l){function t(t,e,n){var i,r,o;switch(n=n||v,typeof t){case"string":o=t=t.trim();var s=n?b:y;if(!(i=s[o])){":"===t.charAt(0)&&":"===t.charAt(1)&&(r=!0,t=t.substring(2));var a=new Ji(i=n?m:g);(i=new er(a,l,i).parse(t)).constant?i.$$watchDelegate=f:r?i.$$watchDelegate=i.literal?h:u:i.inputs&&(i.$$watchDelegate=c),n&&(i=function t(o){function e(t,e,n,i){var r=v;v=!0;try{return o(t,e,n,i)}finally{v=r}}if(!o)return o;e.$$watchDelegate=o.$$watchDelegate;e.assign=t(o.assign);e.constant=o.constant;e.literal=o.literal;for(var n=0;o.inputs&&n<o.inputs.length;++n)o.inputs[n]=t(o.inputs[n]);e.inputs=o.inputs;return e}(i)),s[o]=i}return p(i,e);case"function":return p(t,e);default:return p(rt,e)}}function d(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=Ae(t)))&&(t===e||t!=t&&e!=e)}function c(t,e,n,o,i){var s;if(1===(a=o.inputs).length){var r=d,a=a[0];return t.$watch(function(t){var e=a(t);return d(e,r)||(s=o(t,tt,tt,[e]),r=e&&Ae(e)),s},e,n,i)}for(var l=[],c=[],u=0,h=a.length;u<h;u++)l[u]=d,c[u]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var r=a[n](t);(e||(e=!d(r,l[n])))&&(c[n]=r,l[n]=r&&Ae(r))}return e&&(s=o(t,tt,tt,c)),s},e,n,i)}function u(t,i,e,n){var r,o;return r=t.$watch(function(t){return n(t)},function(t,e,n){o=t,ct(i)&&i.apply(this,arguments),st(t)&&n.$$postDigest(function(){st(o)&&r()})},e)}function h(t,i,e,n){function r(t){var e=!0;return et(t,function(t){st(t)||(e=!1)}),e}var o,s;return o=t.$watch(function(t){return n(t)},function(t,e,n){s=t,ct(i)&&i.call(this,t,e,n),r(t)&&n.$$postDigest(function(){r(s)&&o()})},e)}function f(t,i,e,n){var r;return r=t.$watch(function(t){return n(t)},function(t,e,n){ct(i)&&i.apply(this,arguments),r()},e)}function p(r,o){if(!o)return r;var t=r.$$watchDelegate,s=!1;t=t!==h&&t!==u?function(t,e,n,i){return n=s&&i?i[0]:r(t,e,n,i),o(n,t,e)}:function(t,e,n,i){return n=r(t,e,n,i),t=o(n,t,e),st(n)?t:n};return r.$$watchDelegate&&r.$$watchDelegate!==c?t.$$watchDelegate=r.$$watchDelegate:o.$stateful||(t.$$watchDelegate=c,s=!r.inputs,t.inputs=r.inputs?r.inputs:[r]),t}var e=Un().noUnsafeEval,g={csp:e,expensiveChecks:!1},m={csp:e,expensiveChecks:!0},v=!1;return t.$$runningExpensiveChecks=function(){return v},t}]}function Oe(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Ie(function(t){e.$evalAsync(t)},t)}]}function Ne(){this.$get=["$browser","$exceptionHandler",function(e,t){return Ie(function(t){e.defer(t)},t)}]}function Ie(t,s){function e(){this.$$state={status:0}}function n(e,n){return function(t){n.call(e,t)}}function r(o){!o.processScheduled&&o.pending&&(o.processScheduled=!0,t(function(){var t,e,n;n=o.pending,o.processScheduled=!1,o.pending=tt;for(var i=0,r=n.length;i<r;++i){e=n[i][0],t=n[i][o.status];try{ct(t)?e.resolve(t(o.value)):1===o.status?e.resolve(o.value):e.reject(o.value)}catch(t){e.reject(t),s(t)}}}))}function o(){this.promise=new e,this.resolve=n(this,this.resolve),this.reject=n(this,this.reject),this.notify=n(this,this.notify)}var i=d("$q",TypeError);nt(e.prototype,{then:function(t,e,n){if(ot(t)&&ot(e)&&ot(n))return this;var i=new o;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&r(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return l(t,!0,e)},function(t){return l(t,!1,e)},t)}}),nt(o.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(i("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var e,n;n=function(n,t,e){function i(e){return function(t){r||(r=!0,e.call(n,t))}}var r=!1;return[i(t),i(e)]}(this,this.$$resolve,this.$$reject);try{(at(t)||ct(t))&&(e=t&&t.then),ct(e)?(this.promise.$$state.status=-1,e.call(t,n[0],n[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,r(this.promise.$$state))}catch(t){n[1](t),s(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,r(this.promise.$$state)},notify:function(r){var o=this.promise.$$state.pending;this.promise.$$state.status<=0&&o&&o.length&&t(function(){for(var t,e,n=0,i=o.length;n<i;n++){e=o[n][0],t=o[n][3];try{e.notify(ct(t)?t(r):r)}catch(t){s(t)}}})}});var a=function(t,e){var n=new o;return e?n.resolve(t):n.reject(t),n.promise},l=function(t,e,n){var i=null;try{ct(n)&&(i=n())}catch(t){return a(t,!1)}return i&&ct(i.then)?i.then(function(){return a(t,e)},function(t){return a(t,!1)}):a(t,e)},c=function(t,e,n,i){var r=new o;return r.resolve(t),r.promise.then(e,n,i)},u=function t(e){if(!ct(e))throw i("norslvr",e);if(!(this instanceof t))return new t(e);var n=new o;return e(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise};return u.defer=function(){return new o},u.reject=function(t){var e=new o;return e.reject(t),e.promise},u.when=c,u.resolve=c,u.all=function(t){var n=new o,i=0,r=Wn(t)?[]:{};return et(t,function(t,e){i++,c(t).then(function(t){r.hasOwnProperty(e)||(r[e]=t,--i||n.resolve(r))},function(t){r.hasOwnProperty(e)||n.reject(t)})}),0===i&&n.resolve(r),n.promise},u}function Le(){this.$get=["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,o=e?function(t){var e=i(t);return function(){r(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return o.supported=e,o}]}function He(){var w=10,x=d("$rootScope"),k=null,C=null;this.digestTtl=function(t){return arguments.length&&(w=t),w},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(t,h,p,d){function i(t){t.currentScope.$$destroyed=!0}function r(){this.$id=++jn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(t){if(v.$$phase)throw x("inprog",v.$$phase);v.$$phase=t}function l(t,e){for(;t.$$watchersCount+=e,t=t.$parent;);}function o(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function g(){}function m(){for(;n.length;)try{n.shift()()}catch(t){h(t)}C=null}r.prototype={constructor:r,$new:function(t,e){var n;return e=e||this,t?(n=new r).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++jn,this.$$ChildScope=null}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!=this)&&n.$on("$destroy",i),n},$watch:function(t,e,n,i){var r=p(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,a={fn:e,last:g,get:r,exp:i||t,eq:!!n};return k=null,ct(e)||(a.fn=rt),s||(s=o.$$watchers=[]),s.unshift(a),l(this,1),function(){0<=ft(s,a)&&l(o,-1),k=null}},$watchGroup:function(t,i){function r(){c=!1,e?(e=!1,i(s,s,l)):i(s,o,l)}var o=Array(t.length),s=Array(t.length),a=[],l=this,c=!1,e=!0;if(!t.length){var n=!0;return l.$evalAsync(function(){n&&i(s,s,l)}),function(){n=!1}}return 1===t.length?this.$watch(t[0],function(t,e,n){s[0]=t,o[0]=e,i(s,t===e?s:o,n)}):(et(t,function(t,n){var e=l.$watch(t,function(t,e){s[n]=t,o[n]=e,c||(c=!0,l.$evalAsync(r))});a.push(e)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){var e,n,i;if(!ot(r=t)){if(at(r))if(T(r))for(o!==u&&(f=(o=u).length=0,l++),t=r.length,f!==t&&(l++,o.length=f=t),e=0;e<t;e++)i=o[e],n=r[e],i!=i&&n!=n||i===n||(l++,o[e]=n);else{for(e in o!==h&&(o=h={},f=0,l++),t=0,r)Pn.call(r,e)&&(t++,n=r[e],i=o[e],e in o?i!=i&&n!=n||i===n||(l++,o[e]=n):(f++,o[e]=n,l++));if(t<f)for(e in l++,o)Pn.call(r,e)||(f--,delete o[e])}else o!==r&&(o=r,l++);return l}}n.$stateful=!0;var r,o,i,s=this,a=1<e.length,l=0,c=p(t,n),u=[],h={},d=!0,f=0;return this.$watch(c,function(){if(d?(d=!1,e(r,r,s)):e(r,i,s),a)if(at(r))if(T(r)){i=Array(r.length);for(var t=0;t<r.length;t++)i[t]=r[t]}else for(t in i={},r)Pn.call(r,t)&&(i[t]=r[t]);else i=r})},$digest:function(){var t,e,n,i,r,o,s,a,l,c=w,u=[];f("$digest"),d.$$checkUrlChange(),this===v&&null!==C&&(d.defer.cancel(C),m()),k=null;do{for(o=!1,s=this;y.length;){try{(l=y.shift()).scope.$eval(l.expression,l.locals)}catch(t){h(t)}k=null}t:do{if(i=s.$$watchers)for(r=i.length;r--;)try{if(t=i[r])if((e=(0,t.get)(s))===(n=t.last)||(t.eq?pt(e,n):"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n))){if(t===k){o=!1;break t}}else o=!0,(k=t).last=t.eq?_(e,null):e,(0,t.fn)(e,n===g?e:n,s),c<5&&(u[a=4-c]||(u[a]=[]),u[a].push({msg:ct(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){h(t)}if(!(i=s.$$watchersCount&&s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(i=s.$$nextSibling);)s=s.$parent}while(s=i);if((o||y.length)&&!c--)throw v.$$phase=null,x("infdig",w,u)}while(o||y.length);for(v.$$phase=null;b.length;)try{b.shift()()}catch(t){h(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===v&&d.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)o(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=rt,this.$on=this.$watch=this.$watchGroup=function(){return rt},this.$$listeners={},this.$$nextSibling=null,function t(e){9===$n&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t,e){v.$$phase||y.length||d.defer(function(){y.length&&v.$digest()}),y.push({scope:this,expression:p(t),locals:e})},$$postDigest:function(t){b.push(t)},$apply:function(t){try{f("$apply");try{return this.$eval(t)}finally{v.$$phase=null}}catch(t){h(t)}finally{try{v.$digest()}catch(t){throw h(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),t=p(t),null===C&&(C=d.defer(function(){v.$apply(m)}))},$on:function(e,n){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(n);for(var t=this;t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var r=this;return function(){var t=i.indexOf(n);-1!==t&&(i[t]=null,o(r,1,e))}},$emit:function(t,e){var n,i,r,o=[],s=this,a=!1,l={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=S([l],arguments,1);do{for(n=s.$$listeners[t]||o,l.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(t){h(t)}else n.splice(i,1),i--,r--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var o,s,a=S([r],arguments,1);n=i;){for(o=0,s=(i=(r.currentScope=n).$$listeners[t]||[]).length;o<s;o++)if(i[o])try{i[o].apply(null,a)}catch(t){h(t)}else i.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var v=new r,y=v.$$asyncQueue=[],b=v.$$postDigestQueue=[],n=v.$$applyAsyncQueue=[];return v}]}function Re(){var r=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return st(t)?(r=t,this):r},this.imgSrcSanitizationWhitelist=function(t){return st(t)?(o=t,this):o},this.$get=function(){return function(t,e){var n,i=e?o:r;return""===(n=Ye(t).href)||n.match(i)?t:"unsafe:"+n}}}function Fe(t){var e=[];return st(t)&&et(t,function(t){e.push(function(t){if("self"===t)return t;if(lt(t)){if(-1<t.indexOf("***"))throw ir("iwcard",t);return t=Yn(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(y(t))return new RegExp("^"+t.source+"$");throw ir("imatcher")}(t))}),e}function ze(){this.SCE_CONTEXTS=rr;var c=["self"],u=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(c=Fe(t)),c},this.resourceUrlBlacklist=function(t){return arguments.length&&(u=Fe(t)),u},this.$get=["$injector",function(t){function s(t,e){return"self"===t?Ue(e):!!t.exec(e.href)}function e(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var a=function(t){throw ir("unsafe")};t.has("$sanitize")&&(a=t.get("$sanitize"));var n=e(),l={};return l[rr.HTML]=e(n),l[rr.CSS]=e(n),l[rr.URL]=e(n),l[rr.JS]=e(n),l[rr.RESOURCE_URL]=e(l[rr.URL]),{trustAs:function(t,e){var n=l.hasOwnProperty(t)?l[t]:null;if(!n)throw ir("icontext",t,e);if(null===e||ot(e)||""===e)return e;if("string"!=typeof e)throw ir("itype",t);return new n(e)},getTrusted:function(t,e){if(null===e||ot(e)||""===e)return e;if((r=l.hasOwnProperty(t)?l[t]:null)&&e instanceof r)return e.$$unwrapTrustedValue();if(t===rr.RESOURCE_URL){var n,i,r=Ye(e.toString()),o=!1;for(n=0,i=c.length;n<i;n++)if(s(c[n],r)){o=!0;break}if(o)for(n=0,i=u.length;n<i;n++)if(s(u[n],r)){o=!1;break}if(o)return e;throw ir("insecurl",e.toString())}if(t===rr.HTML)return a(e);throw ir("unsafe")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function je(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(i,t){if(e&&$n<8)throw ir("iequirks");var r=k(rr);r.isEnabled=function(){return e},r.trustAs=t.trustAs,r.getTrusted=t.getTrusted,r.valueOf=t.valueOf,e||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=l),r.parseAs=function(e,t){var n=i(t);return n.literal&&n.constant?n:i(t,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,s=r.getTrusted,a=r.trustAs;return et(rr,function(e,t){var n=An(t);r[z("parse_as_"+n)]=function(t){return o(e,t)},r[z("get_trusted_"+n)]=function(t){return s(e,t)},r[z("trust_as_"+n)]=function(t){return a(e,t)}}),r}]}function Be(){this.$get=["$window","$document",function(t,e){var n,i={},r=g((/android (\d+)/.exec(An((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,u=!1;if(l){for(var h in l)if(c=a.exec(h)){n=(n=c[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),u=!!("animation"in l||n+"Animation"in l),!r||c&&u||(c=lt(l.webkitTransition),u=lt(l.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||r<4||o),hasEvent:function(t){if("input"===t&&$n<=11)return!1;if(ot(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:Un(),vendorPrefix:n,transitions:c,animations:u,android:r}}]}function We(){this.$get=["$templateCache","$http","$q","$sce",function(i,r,o,s){function a(e,n){a.totalPendingRequests++,lt(e)&&!ot(i.get(e))||(e=s.getTrustedResourceUrl(e));var t=r.defaults&&r.defaults.transformResponse;return Wn(t)?t=t.filter(function(t){return t!==Gt}):t===Gt&&(t=null),r.get(e,{cache:i,transformResponse:t}).finally(function(){a.totalPendingRequests--}).then(function(t){return i.put(e,t.data),t.data},function(t){if(!n)throw Mi("tpload",e,t.status,t.statusText);return o.reject(t)})}return a.totalPendingRequests=0,a}]}function Ve(){this.$get=["$rootScope","$browser","$location",function(e,n,i){return{findBindings:function(t,n,i){t=t.getElementsByClassName("ng-binding");var r=[];return et(t,function(e){var t=zn.element(e).data("$binding");t&&et(t,function(t){i?new RegExp("(^|\\s)"+Yn(n)+"(\\s|\\||$)").test(t)&&r.push(e):-1!=t.indexOf(n)&&r.push(e)})}),r},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}}}]}function qe(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(l,c,u,h,d){function t(t,e,n){ct(t)||(n=e,e=t,t=rt);var i,r=Nn.call(arguments,3),o=st(n)&&!n,s=(o?h:u).defer(),a=s.promise;return i=c.defer(function(){try{s.resolve(t.apply(null,r))}catch(t){s.reject(t),d(t)}finally{delete f[a.$$timeoutId]}o||l.$apply()},e),a.$$timeoutId=i,f[i]=s,a}var f={};return t.cancel=function(t){return!!(t&&t.$$timeoutId in f)&&(f[t.$$timeoutId].reject("canceled"),delete f[t.$$timeoutId],c.defer.cancel(t.$$timeoutId))},t}]}function Ye(t){return $n&&(or.setAttribute("href",t),t=or.href),or.setAttribute("href",t),{href:or.href,protocol:or.protocol?or.protocol.replace(/:$/,""):"",host:or.host,search:or.search?or.search.replace(/^\?/,""):"",hash:or.hash?or.hash.replace(/^#/,""):"",hostname:or.hostname,port:or.port,pathname:"/"===or.pathname.charAt(0)?or.pathname:"/"+or.pathname}}function Ue(t){return(t=lt(t)?Ye(t):t).protocol===sr.protocol&&t.host===sr.host}function Ge(){this.$get=m(c)}function Xe(t){function o(e){try{return decodeURIComponent(e)}catch(t){return e}}var s=t[0]||{},a={},l="";return function(){var t,e,n,i,r;if((t=s.cookie||"")!==l)for(t=(l=t).split("; "),a={},n=0;n<t.length;n++)0<(i=(e=t[n]).indexOf("="))&&(r=o(e.substring(0,i)),ot(a[r])&&(a[r]=o(e.substring(i+1))));return a}}function Ke(){this.$get=Xe}function Ze(i){function r(t,e){if(at(t)){var n={};return et(t,function(t,e){n[e]=r(e,t)}),n}return i.factory(t+"Filter",e)}this.register=r,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],r("currency",en),r("date",hn),r("filter",Qe),r("json",dn),r("limitTo",fn),r("lowercase",fr),r("number",nn),r("orderBy",pn),r("uppercase",pr)}function Qe(){return function(t,e,n){if(!T(t)){if(null==t)return t;throw d("filter")("notarray",t)}var i,r,o,s,a;switch(tn(e)){case"function":break;case"boolean":case"null":case"number":case"string":i=!0;case"object":o=n,s=i,a=at(r=e)&&"$"in r,!0===o?o=pt:ct(o)||(o=function(t,e){return!(ot(t)||(null===t||null===e?t!==e:at(e)||at(t)&&!u(t)||(t=An(""+t),e=An(""+e),-1===t.indexOf(e))))}),e=function(t){return a&&!at(t)?Je(t,r.$,o,!1):Je(t,r,o,s)};break;default:return t}return Array.prototype.filter.call(t,e)}}function Je(t,e,n,i,r){var o=tn(t),s=tn(e);if("string"===s&&"!"===e.charAt(0))return!Je(t,e.substring(1),n,i);if(Wn(t))return t.some(function(t){return Je(t,e,n,i)});switch(o){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&Je(t[a],e,n,!0))return!0;return!r&&Je(t,e,n,!1)}if("object"===s){for(a in e)if(!ct(r=e[a])&&!ot(r)&&!Je((o="$"===a)?t:t[a],r,n,o,o))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function tn(t){return null===t?"null":typeof t}function en(t){var i=t.NUMBER_FORMATS;return function(t,e,n){return ot(e)&&(e=i.CURRENCY_SYM),ot(n)&&(n=i.PATTERNS[1].maxFrac),null==t?t:rn(t,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(/\u00A4/g,e)}}function nn(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:rn(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}function rn(t,e,n,i,r){if(!lt(t)&&!b(t)||isNaN(t))return"";var o=!isFinite(t),s=!1,a=Math.abs(t)+"",l="";if(o)l="";else{for(function(t,e,n,i){var r=t.d,o=r.length-t.i;if(i=r[n=(e=ot(e)?Math.min(Math.max(n,o),i):+e)+t.i],0<n)r.splice(n);else{t.i=1,r.length=n=e+1;for(var s=0;s<n;s++)r[s]=0}for(5<=i&&r[n-1]++;o<e;o++)r.push(0);(e=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0))&&(r.unshift(e),t.i++)}(s=function(t){var e,n,i,r,o,s=0;for(-1<(n=t.indexOf(lr))&&(t=t.replace(lr,"")),0<(i=t.search(/e/i))?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)==cr;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==cr;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return ar<n&&(e=e.splice(0,ar-1),s=n-1,n=1),{d:e,e:s,i:n}}(a),r,e.minFrac,e.maxFrac),l=s.d,a=s.i,r=s.e,o=[],s=l.reduce(function(t,e){return t&&!e},!0);a<0;)l.unshift(0),a++;for(0<a?o=l.splice(a,l.length):(o=l,l=[0]),a=[],l.length>=e.lgSize&&a.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)a.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&a.unshift(l.join("")),l=a.join(n),o.length&&(l+=i+o.join("")),r&&(l+="e+"+r)}return t<0&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function on(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t=cr+t;return n&&(t=t.substr(t.length-e)),i+t}function sn(e,n,i,r){return i=i||0,function(t){return t=t["get"+e](),(0<i||-i<t)&&(t+=i),0===t&&-12==i&&(t=12),on(t,n,r)}}function an(i,r){return function(t,e){var n=t["get"+i]();return e[On(r?"SHORT"+i:i)][n]}}function ln(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function cn(n){return function(t){var e=ln(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+e,on(t=1+Math.round(t/6048e5),n)}}function un(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function hn(l){var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var i,r,o="",s=[];if(t=t||"mediumDate",t=l.DATETIME_FORMATS[t]||t,lt(e)&&(e=dr.test(e)?g(e):function(t){var e;if(e=t.match(c)){t=new Date(0);var n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=g(e[9]+e[10]),i=g(e[9]+e[11])),r.call(t,g(e[1]),g(e[2])-1,g(e[3])),n=g(e[4]||0)-n,i=g(e[5]||0)-i,r=g(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),o.call(t,n,i,r,e)}return t}(e)),b(e)&&(e=new Date(e)),!v(e)||!isFinite(e.getTime()))return e;for(;t;)(r=hr.exec(t))?t=(s=S(s,r,1)).pop():(s.push(t),t=null);var a=e.getTimezoneOffset();return n&&(a=E(n,a),e=D(e,n,!0)),et(s,function(t){i=ur[t],o+=i?i(e,l.DATETIME_FORMATS,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function dn(){return function(t,e){return ot(e)&&(e=2),$(t,e)}}function fn(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):g(e),isNaN(e)?t:(b(t)&&(t=t.toString()),Wn(t)||lt(t)?(n=(n=!n||isNaN(n)?0:g(n))<0?Math.max(0,t.length+n):n,0<=e?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function pn(o){function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}return function(t,e,n){if(!T(t))return t;Wn(e)||(e=[e]),0===e.length&&(e=["+"]);var r,a=(r=(r=n)?-1:1,e.map(function(t){var e=1,n=l;if(ct(t))n=t;else if(lt(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(e="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=o(t)).constant)){var i=n();n=function(t){return t[i]}}return{get:n,descending:e*r}}));return a.push({get:function(){return{}},descending:n?-1:1}),(t=Array.prototype.map.call(t,function(n,i){return{value:n,predicateValues:a.map(function(t){var e=t.get(n);return t=typeof e,null===e?(t="string",e="null"):"string"===t?e=e.toLowerCase():"object"===t&&("function"==typeof e.valueOf&&s(e=e.valueOf())||u(e)&&s(e=e.toString())||(e=i)),{value:e,type:t}})}})).sort(function(t,e){for(var n=0,i=0,r=a.length;i<r;++i){n=t.predicateValues[i];var o=e.predicateValues[i],s=0;if(n.type===o.type?n.value!==o.value&&(s=n.value<o.value?-1:1):s=n.type<o.type?-1:1,n=s*a[i].descending)break}return n}),t.map(function(t){return t.value})}}function gn(t){return ct(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function mn(t,e,n,i,r){var o=this,s=[];o.$error={},o.$$success={},o.$pending=tt,o.$name=r(e.name||e.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=vr,o.$rollbackViewValue=function(){et(s,function(t){t.$rollbackViewValue()})},o.$commitViewValue=function(){et(s,function(t){t.$commitViewValue()})},o.$addControl=function(t){H(t.$name,"input"),s.push(t),t.$name&&(o[t.$name]=t),t.$$parentForm=o},o.$$renameControl=function(t,e){var n=t.$name;o[n]===t&&delete o[n],(o[e]=t).$name=e},o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name],et(o.$pending,function(t,e){o.$setValidity(e,null,n)}),et(o.$error,function(t,e){o.$setValidity(e,null,n)}),et(o.$$success,function(t,e){o.$setValidity(e,null,n)}),ft(s,n),n.$$parentForm=vr},_n({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(ft(i,n),0===i.length&&delete t[e])},$animate:i}),o.$setDirty=function(){i.removeClass(t,Jr),i.addClass(t,to),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){i.setClass(t,Jr,to+" ng-submitted"),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,et(s,function(t){t.$setPristine()})},o.$setUntouched=function(){et(s,function(t){t.$setUntouched()})},o.$setSubmitted=function(){i.addClass(t,"ng-submitted"),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}function vn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function yn(t,n,i,r,e,o){var s=An(n[0].type);if(!e.android){var a=!1;n.on("compositionstart",function(t){a=!0}),n.on("compositionend",function(){a=!1,c()})}var l,c=function(t){if(l&&(o.defer.cancel(l),l=null),!a){var e=n.val();t=t&&t.type,"password"===s||i.ngTrim&&"false"===i.ngTrim||(e=qn(e)),(r.$viewValue!==e||""===e&&r.$$hasNativeValidators)&&r.$setViewValue(e,t)}};if(e.hasEvent("input"))n.on("input",c);else{var u=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||c(t)}))};n.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||u(t,this,this.value)}),e.hasEvent("paste")&&n.on("paste cut",u)}n.on("change",c),Mr[s]&&r.$$hasNativeValidators&&s===i.type&&n.on("keydown wheel mousedown",function(t){if(!l){var e=this.validity,n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;n.val()!==t&&n.val(t)}}function bn(r,o){return function(t,e){var n,i;if(v(t))return t;if(lt(t)){if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),xr.test(t))return new Date(t);if(r.lastIndex=0,n=r.exec(t))return n.shift(),i=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},et(n,function(t,e){e<o.length&&(i[o[e]]=+t)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function wn(f,p,g,m){return function(t,e,n,i,r,o,s){function a(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function l(t){return st(t)&&!v(t)?g(t)||tt:t}xn(t,e,n,i),yn(0,e,n,i,r,o);var c,u,h,d=i&&i.$options&&i.$options.timezone;(i.$$parserName=f,i.$parsers.push(function(t){return i.$isEmpty(t)?null:p.test(t)?(t=g(t,c),d&&(t=D(t,d)),t):tt}),i.$formatters.push(function(t){if(t&&!v(t))throw no("datefmt",t);return a(t)?((c=t)&&d&&(c=D(c,d,!0)),s("date")(t,m,d)):(c=null,"")}),st(n.min)||n.ngMin)&&(i.$validators.min=function(t){return!a(t)||ot(u)||g(t)>=u},n.$observe("min",function(t){u=l(t),i.$validate()}));(st(n.max)||n.ngMax)&&(i.$validators.max=function(t){return!a(t)||ot(h)||g(t)<=h},n.$observe("max",function(t){h=l(t),i.$validate()}))}}function xn(t,n,e,i){(i.$$hasNativeValidators=at(n[0].validity))&&i.$parsers.push(function(t){var e=n.prop("validity")||{};return e.badInput&&!e.typeMismatch?tt:t})}function kn(t,e,n,i,r){if(st(i)){if(!(t=t(i)).constant)throw no("constexpr",n,i);return t(e)}return r}function Cn(o,g){return o="ngClass"+o,["$animate",function(d){function f(t,e){var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function p(t){var n=[];return Wn(t)?(et(t,function(t){n=n.concat(p(t))}),n):lt(t)?t.split(" "):at(t)?(et(t,function(t,e){t&&(n=n.concat(e.split(" ")))}),n):t}return{restrict:"AC",link:function(a,l,r){function c(t){t=u(t,1),r.$addClass(t)}function u(t,e){var n=l.data("$classCounts")||yt(),i=[];return et(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),l.data("$classCounts",n),i.join(" ")}function e(t){if(!0===g||a.$index%2===g){var e=p(t||[]);if(h){if(!pt(t,h)){var n=p(h);o=f(r=e,i=n),s=f(i,r),o=u(o,1),s=u(s,-1),o&&o.length&&d.addClass(l,o),s&&s.length&&d.removeClass(l,s)}}else c(e)}var i,r,o,s;h=Wn(t)?t.map(function(t){return k(t)}):k(t)}var h;a.$watch(r[o],e,!0),r.$observe("class",function(t){e(a.$eval(r[o]))}),"ngClass"!==o&&a.$watch("$index",function(t,e){var n=1&t;if(n!==(1&e)){var i=p(a.$eval(r[o]));n===g?c(i):(n=u(i,-1),r.$removeClass(n))}})}}}]}function _n(t){function i(t,e){e&&!s[t]?(c.addClass(n,t),s[t]=!0):!e&&s[t]&&(c.removeClass(n,t),s[t]=!1)}function r(t,e){t=t?"-"+mt(t,"-"):"",i(Zr+t,!0===e),i(Qr+t,!1===e)}var o=t.ctrl,n=t.$element,s={},a=t.set,l=t.unset,c=t.$animate;s[Qr]=!(s[Zr]=n.hasClass(Zr)),o.$setValidity=function(t,e,n){ot(e)?(o.$pending||(o.$pending={}),a(o.$pending,t,n)):(o.$pending&&l(o.$pending,t,n),Sn(o.$pending)&&(o.$pending=tt)),ht(e)?e?(l(o.$error,t,n),a(o.$$success,t,n)):(a(o.$error,t,n),l(o.$$success,t,n)):(l(o.$error,t,n),l(o.$$success,t,n)),o.$pending?(i(eo,!0),o.$valid=o.$invalid=tt,r("",null)):(i(eo,!1),o.$valid=Sn(o.$error),o.$invalid=!o.$valid,r("",o.$valid)),r(t,e=o.$pending&&o.$pending[t]?tt:!o.$error[t]&&(!!o.$$success[t]||null)),o.$$parentForm.$setValidity(t,e,o)}}function Sn(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var $n,En,Tn,Dn,Mn=/^\/(.+)\/([a-z]*)$/,An=function(t){return lt(t)?t.toLowerCase():t},Pn=Object.prototype.hasOwnProperty,On=function(t){return lt(t)?t.toUpperCase():t},Nn=[].slice,In=[].splice,Ln=[].push,Hn=Object.prototype.toString,Rn=Object.getPrototypeOf,Fn=d("ng"),zn=c.angular||(c.angular={}),jn=0;$n=J.documentMode,rt.$inject=[],l.$inject=[];var Bn,Wn=Array.isArray,Vn=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,qn=function(t){return lt(t)?t.trim():t},Yn=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Un=function(){if(!st(Un.rules)){var t=J.querySelector("[ng-csp]")||J.querySelector("[data-ng-csp]");if(t){var e=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Un.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}}else{t=Un;try{new Function(""),e=!1}catch(t){e=!0}t.rules={noUnsafeEval:e,noInlineStyle:!1}}}return Un.rules},Gn=function(){if(st(Gn.name_))return Gn.name_;var t,e,n,i,r=Kn.length;for(e=0;e<r;++e)if(n=Kn[e],t=J.querySelector("["+n.replace(":","\\:")+"jq]")){i=t.getAttribute(n+"jq");break}return Gn.name_=i},Xn=/:/g,Kn=["ng-","data-ng-","ng:","x-ng-"],Zn=/[A-Z]/g,Qn=!1,Jn=3,ti={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};W.expando="ng339";var ei=W.cache={},ni=1;W._data=function(t){return this.cache[t[this.expando]]||{}};var ii=/([\:\-\_]+(.))/g,ri=/^moz([A-Z])/,oi={mouseleave:"mouseout",mouseenter:"mouseover"},si=d("jqLite"),ai=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,li=/<|&#?\w+;/,ci=/<([\w:-]+)/,ui=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,hi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hi.optgroup=hi.option,hi.tbody=hi.tfoot=hi.colgroup=hi.caption=hi.thead,hi.th=hi.td;var di=Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},fi=W.prototype={ready:function(t){function e(){n||(n=!0,t())}var n=!1;"complete"===J.readyState?setTimeout(e):(this.on("DOMContentLoaded",e),W(c).on("load",e))},toString:function(){var e=[];return et(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return En(0<=t?this[t]:this[this.length+t])},length:0,push:Ln,sort:[].sort,splice:[].splice},pi={};et("multiple selected checked disabled readOnly required open".split(" "),function(t){pi[An(t)]=t});var gi={};et("input select option textarea button form details".split(" "),function(t){gi[t]=!0});var mi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};et({data:G,removeData:Y,hasData:function(t){for(var e in ei[t.ng339])return!0;return!1}},function(t,e){W[e]=t}),et({data:G,inheritedData:kt,scope:function(t){return En.data(t,"$scope")||kt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return En.data(t,"$isolateScope")||En.data(t,"$isolateScopeNoTemplate")},controller:xt,injector:function(t){return kt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:X,css:function(t,e,n){if(e=z(e),!st(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i=t.nodeType;if(i!==Jn&&2!==i&&8!==i)if(i=An(e),pi[i]){if(!st(n))return t[e]||(t.attributes.getNamedItem(e)||rt).specified?i:tt;n?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(st(n))t.setAttribute(e,n);else if(t.getAttribute)return null===(t=t.getAttribute(e,2))?tt:t},prop:function(t,e,n){if(!st(n))return t[e];t[e]=n},text:function(){function t(t,e){if(ot(e)){var n=t.nodeType;return 1===n||n===Jn?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(ot(e)){if(t.multiple&&"select"===dt(t)){var n=[];return et(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(ot(e))return t.innerHTML;V(t,!0),t.innerHTML=e},empty:Ct},function(s,t){W.prototype[t]=function(t,e){var n,i,r=this.length;if(s!==Ct&&ot(2==s.length&&s!==X&&s!==xt?t:e)){if(at(t)){for(n=0;n<r;n++)if(s===G)s(this[n],t);else for(i in t)s(this[n],i,t[i]);return this}for(r=ot(n=s.$dv)?Math.min(r,1):r,i=0;i<r;i++){var o=s(this[i],t,e);n=n?n+o:o}return n}for(n=0;n<r;n++)s(this[n],t,e);return this}}),et({removeData:Y,on:function(r,t,o,e){if(st(e))throw si("onargs");if(j(r)){var s=(e=U(r,!0)).events,a=e.handle;a||(a=e.handle=(c=s,(u=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=c[e||t.type],i=n?n.length:0;if(i){if(ot(t.immediatePropagationStopped)){var r=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),r&&r.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var o=n.specialHandlerWrapper||$t;1<i&&(n=k(n));for(var s=0;s<i;s++)t.isImmediatePropagationStopped()||o(l,t,n[s])}}).elem=l=r,u));for(var n=(e=0<=t.indexOf(" ")?t.split(" "):[t]).length,i=function(t,e,n){var i=s[t];i||((i=s[t]=[]).specialHandlerWrapper=e,"$destroy"===t||n||r.addEventListener(t,a,!1)),i.push(o)};n--;)t=e[n],oi[t]?(i(oi[t],Et),i(t,tt,!0)):i(t)}var l,c,u},off:q,one:function(e,n,i){(e=En(e)).on(n,function t(){e.off(n,i),e.off(n,t)}),e.on(n,i)},replaceWith:function(e,t){var n,i=e.parentNode;V(e),et(new W(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(t){var e=[];return et(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){if(1===(n=t.nodeType)||11===n)for(var n=0,i=(e=new W(e)).length;n<i;n++)t.appendChild(e[n])},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;et(new W(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){bt(t,En(e).eq(0).clone()[0])},remove:_t,detach:function(t){_t(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,r=0,o=(e=new W(e)).length;r<o;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:Z,removeClass:K,toggleClass:function(n,t,i){t&&et(t.split(" "),function(t){var e=i;ot(e)&&(e=!X(n,t)),(e?Z:K)(n,t)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:wt,triggerHandler:function(e,t,n){var i,r,o=t.type||t,s=U(e);(s=(s=s&&s.events)&&s[o])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:rt,type:o,target:e},t.type&&(i=nt(i,t)),t=k(s),r=n?[i].concat(n):[i],et(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(s,t){W.prototype[t]=function(t,e,n){for(var i,r=0,o=this.length;r<o;r++)ot(i)?st(i=s(this[r],t,e,n))&&(i=En(i)):Q(i,s(this[r],t,e,n));return st(i)?i:this},W.prototype.bind=W.prototype.on,W.prototype.unbind=W.prototype.off}),Mt.prototype={put:function(t,e){this[Dt(t,this.nextUid)]=e},get:function(t){return this[Dt(t,this.nextUid)]},remove:function(t){var e=this[t=Dt(t,this.nextUid)];return delete this[t],e}};var vi=[function(){this.$get=[function(){return Mt}]}],yi=/^[^\(]*\(\s*([^\)]*)\)/m,bi=/,/,wi=/^\s*(_?)(\S+?)\1\s*$/,xi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ki=d("$injector");At.$$annotate=function(t,e,n){var i,r;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw lt(n)&&n||(n=t.name||((r=(r=t).toString().replace(xi,"").match(yi))?"function("+(r[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),ki("strictdi",n);et((e=(e=t.toString().replace(xi,"")).match(yi))[1].split(bi),function(t){t.replace(wi,function(t,e,n){i.push(n)})})}t.$inject=i}}else Wn(t)?(L(t[e=t.length-1],"fn"),i=t.slice(0,e)):L(t,"fn",!0);return i};var Ci=d("$animate"),_i=function(){this.$get=function(){}},Si=function(){var l=new Mt,c=[];this.$get=["$$AnimateRunner","$rootScope",function(r,o){function s(e,t,n){var i=!1;return t&&et(t=lt(t)?t.split(" "):Wn(t)?t:[],function(t){t&&(i=!0,e[t]=n)}),i}function a(){et(c,function(t){var e=l.get(t);if(e){var n=function(t){lt(t)&&(t=t.split(" "));var e=yt();return et(t,function(t){t.length&&(e[t]=!0)}),e}(t.attr("class")),i="",r="";et(e,function(t,e){t!==!!n[e]&&(t?i+=(i.length?" ":"")+e:r+=(r.length?" ":"")+e)}),et(t,function(t){i&&Z(t,i),r&&K(t,r)}),l.remove(t)}}),c.length=0}return{enabled:rt,on:rt,off:rt,pin:rt,push:function(t,e,n,i){return i&&i(),(n=n||{}).from&&t.css(n.from),n.to&&t.css(n.to),(n.addClass||n.removeClass)&&(e=n.addClass,i=n.removeClass,e=s(n=l.get(t)||{},e,!0),i=s(n,i,!1),(e||i)&&(l.put(t,n),c.push(t),1===c.length&&o.$$postDigest(a))),(t=new r).complete(),t}}}]},$i=["$provide",function(i){var r=this;this.$$registeredAnimations=Object.create(null),this.register=function(t,e){if(t&&"."!==t.charAt(0))throw Ci("notcsel",t);var n=t+"-animation";r.$$registeredAnimations[t.substr(1)]=n,i.factory(n,e)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Ci("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(o){function r(t,e,n){if(n){var i;t:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break t}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(t){t.end&&t.end()},enter:function(t,e,n,i){return e=e&&En(e),n=n&&En(n),r(t,e=e||n.parent(),n),o.push(t,"enter",Nt(i))},move:function(t,e,n,i){return e=e&&En(e),n=n&&En(n),r(t,e=e||n.parent(),n),o.push(t,"move",Nt(i))},leave:function(t,e){return o.push(t,"leave",Nt(e),function(){t.remove()})},addClass:function(t,e,n){return(n=Nt(n)).addClass=Ot(n.addclass,e),o.push(t,"addClass",n)},removeClass:function(t,e,n){return(n=Nt(n)).removeClass=Ot(n.removeClass,e),o.push(t,"removeClass",n)},setClass:function(t,e,n,i){return(i=Nt(i)).addClass=Ot(i.addClass,e),i.removeClass=Ot(i.removeClass,n),o.push(t,"setClass",i)},animate:function(t,e,n,i,r){return(r=Nt(r)).from=r.from?nt(r.from,e):e,r.to=r.to?nt(r.to,n):n,r.tempClasses=Ot(r.tempClasses,i||"ng-inline-animate"),o.push(t,"animate",r)}}}]}],Ei=function(){this.$get=["$$rAF",function(e){function n(t){i.push(t),1<i.length||e(function(){for(var t=0;t<i.length;t++)i[t]();i=[]})}var i=[];return function(){var e=!1;return n(function(){e=!0}),function(t){e?t():n(t)}}}]},Ti=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,i,r,o){function n(t){this.setHost(t);var n=i();this._doneCallbacks=[],this._tick=function(t){var e=r[0];e&&e.hidden?o(t,0,!1):n(t)},this._state=0}return n.chain=function(t,n){var i=0;!function e(){i===t.length?n(!0):t[i](function(t){!1===t?n(!1):(i++,e())})}()},n.all=function(e,n){function i(t){o=o&&t,++r===e.length&&n(o)}var r=0,o=!0;et(e,function(t){t.done(i)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:rt,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(et(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},n}]},Di=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(s,t,a){return function(t,e){function n(){return s(function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null),r||o.complete(),r=!0}),o}var i=e||{};i.$$prepared||(i=_(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var r,o=new a;return{start:n,end:n}}}]},Mi=d("$compile");Rt.$inject=["$provide","$$sanitizeUriProvider"];var Ai=/^((?:x|data)[\:\-_])/i,Pi=d("$controller"),Oi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ni=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof En&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Ii="application/json",Li={"Content-Type":Ii+";charset=utf-8"},Hi=/^\[|^\{(?!\{)/,Ri={"[":/]$/,"{":/}$/},Fi=/^\)\]\}',?\n/,zi=d("$http"),ji=function(t){return function(){throw zi("legacy",t)}},Bi=zn.$interpolateMinErr=d("$interpolate");Bi.throwNoconcat=function(t){throw Bi("noconcat",t)},Bi.interr=function(t,e){return Bi("interr",t,e.toString())};var Wi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Vi={http:80,https:443,ftp:21},qi=d("$location"),Yi={$$html5:!1,$$replace:!1,absUrl:de("$$absUrl"),url:function(t){if(ot(t))return this.$$url;var e=Wi.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:de("$$protocol"),host:de("$$host"),port:de("$$port"),path:fe("$$path",function(t){return"/"==(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(lt(n)||b(n))n=n.toString(),this.$$search=M(n);else{if(!at(n))throw qi("isrcharg");et(n=_(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:ot(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:fe("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};et([he,ue,ce],function(e){e.prototype=Object.create(Yi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ce||!this.$$html5)throw qi("nostate");return this.$$state=ot(t)?null:t,this}});var Ui=d("$parse"),Gi=Function.prototype.call,Xi=Function.prototype.apply,Ki=Function.prototype.bind,Zi=yt();et("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Zi[t]=!0});var Qi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ji=function(t){this.options=t};Ji.prototype={constructor:Ji,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(t=this.text.charAt(this.index))||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=Zi[e],r=Zi[n];Zi[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=st(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Ui("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=An(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);i=i+o;if(r)"u"===o?((r=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Qi[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var tr=function(t,e){this.lexer=t,this.options=e};tr.Program="Program",tr.ExpressionStatement="ExpressionStatement",tr.AssignmentExpression="AssignmentExpression",tr.ConditionalExpression="ConditionalExpression",tr.LogicalExpression="LogicalExpression",tr.BinaryExpression="BinaryExpression",tr.UnaryExpression="UnaryExpression",tr.CallExpression="CallExpression",tr.MemberExpression="MemberExpression",tr.Identifier="Identifier",tr.Literal="Literal",tr.ArrayExpression="ArrayExpression",tr.Property="Property",tr.ObjectExpression="ObjectExpression",tr.ThisExpression="ThisExpression",tr.NGValueParameter="NGValueParameter",tr.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:tr.Program,body:t}},expressionStatement:function(){return{type:tr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:tr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:tr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:tr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:tr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:tr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=_(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:tr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:tr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:tr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:tr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)for(;t.push(this.expression()),this.expect(","););return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:tr.Identifier,name:t.text}},constant:function(){return{type:tr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:tr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:tr.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:tr.ObjectExpression,properties:e}},throwError:function(t,e){throw Ui("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Ui("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Ui("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=(t=this.tokens[t]).text;if(o===e||o===n||o===i||o===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return!!(t=this.peek(t,e,n,i))&&(this.tokens.shift(),t)},constants:{true:{type:tr.Literal,value:!0},false:{type:tr.Literal,value:!1},null:{type:tr.Literal,value:null},undefined:{type:tr.Literal,value:tt},this:{type:tr.ThisExpression}}},Te.prototype={compile:function(t,e){var r=this,n=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ce(n,r.$filter);var i,o="";return this.stage="assign",(i=$e(n))&&(this.state.computing="assign",o=this.nextId(),this.recurse(i,o),this.return_(o),o="fn.assign="+this.generateFunction("assign","s,v,l")),i=_e(n.body),r.stage="inputs",et(i,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(n),o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",o=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",o)(this.$filter,me,ye,be,ve,we,xe,ke,t),this.state=this.stage=tt,o.literal=Ee(n),o.constant=n.constant,o},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return et(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var n=[],i=this;return et(this.state.filters,function(t,e){n.push(t+"=$filter("+i.escape(e)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(n,t,e,i,r,o){var s,a,l,c,u=this;if(i=i||rt,!o&&st(n.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,i,r,!0));else switch(n.type){case tr.Program:et(n.body,function(t,e){u.recurse(t.expression,tt,tt,function(t){a=t}),e!==n.body.length-1?u.current().body.push(a,";"):u.return_(a)});break;case tr.Literal:c=this.escape(n.value),this.assign(t,c),i(c);break;case tr.UnaryExpression:this.recurse(n.argument,tt,tt,function(t){a=t}),c=n.operator+"("+this.ifDefined(a,0)+")",this.assign(t,c),i(c);break;case tr.BinaryExpression:this.recurse(n.left,tt,tt,function(t){s=t}),this.recurse(n.right,tt,tt,function(t){a=t}),c="+"===n.operator?this.plus(s,a):"-"===n.operator?this.ifDefined(s,0)+n.operator+this.ifDefined(a,0):"("+s+")"+n.operator+"("+a+")",this.assign(t,c),i(c);break;case tr.LogicalExpression:t=t||this.nextId(),u.recurse(n.left,t),u.if_("&&"===n.operator?t:u.not(t),u.lazyRecurse(n.right,t)),i(t);break;case tr.ConditionalExpression:t=t||this.nextId(),u.recurse(n.test,t),u.if_(t,u.lazyRecurse(n.alternate,t),u.lazyRecurse(n.consequent,t)),i(t);break;case tr.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===u.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),me(n.name),u.if_("inputs"===u.stage||u.not(u.getHasOwnProperty("l",n.name)),function(){u.if_("inputs"===u.stage||"s",function(){r&&1!==r&&u.if_(u.not(u.nonComputedMember("s",n.name)),u.lazyAssign(u.nonComputedMember("s",n.name),"{}")),u.assign(t,u.nonComputedMember("s",n.name))})},t&&u.lazyAssign(t,u.nonComputedMember("l",n.name))),(u.state.expensiveChecks||Me(n.name))&&u.addEnsureSafeObject(t),i(t);break;case tr.MemberExpression:s=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),u.recurse(n.object,s,tt,function(){u.if_(u.notNull(s),function(){r&&1!==r&&u.addEnsureSafeAssignContext(s),n.computed?(a=u.nextId(),u.recurse(n.property,a),u.getStringValue(a),u.addEnsureSafeMemberName(a),r&&1!==r&&u.if_(u.not(u.computedMember(s,a)),u.lazyAssign(u.computedMember(s,a),"{}")),c=u.ensureSafeObject(u.computedMember(s,a)),u.assign(t,c),e&&(e.computed=!0,e.name=a)):(me(n.property.name),r&&1!==r&&u.if_(u.not(u.nonComputedMember(s,n.property.name)),u.lazyAssign(u.nonComputedMember(s,n.property.name),"{}")),c=u.nonComputedMember(s,n.property.name),(u.state.expensiveChecks||Me(n.property.name))&&(c=u.ensureSafeObject(c)),u.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){u.assign(t,"undefined")}),i(t)},!!r);break;case tr.CallExpression:t=t||this.nextId(),n.filter?(a=u.filter(n.callee.name),l=[],et(n.arguments,function(t){var e=u.nextId();u.recurse(t,e),l.push(e)}),c=a+"("+l.join(",")+")",u.assign(t,c),i(t)):(a=u.nextId(),s={},l=[],u.recurse(n.callee,a,s,function(){u.if_(u.notNull(a),function(){u.addEnsureSafeFunction(a),et(n.arguments,function(t){u.recurse(t,u.nextId(),tt,function(t){l.push(u.ensureSafeObject(t))})}),s.name?(u.state.expensiveChecks||u.addEnsureSafeObject(s.context),c=u.member(s.context,s.name,s.computed)+"("+l.join(",")+")"):c=a+"("+l.join(",")+")",c=u.ensureSafeObject(c),u.assign(t,c)},function(){u.assign(t,"undefined")}),i(t)}));break;case tr.AssignmentExpression:if(a=this.nextId(),s={},!Se(n.left))throw Ui("lval");this.recurse(n.left,tt,s,function(){u.if_(u.notNull(s.context),function(){u.recurse(n.right,a),u.addEnsureSafeObject(u.member(s.context,s.name,s.computed)),u.addEnsureSafeAssignContext(s.context),c=u.member(s.context,s.name,s.computed)+n.operator+a,u.assign(t,c),i(t||c)})},1);break;case tr.ArrayExpression:l=[],et(n.elements,function(t){u.recurse(t,u.nextId(),tt,function(t){l.push(t)})}),c="["+l.join(",")+"]",this.assign(t,c),i(c);break;case tr.ObjectExpression:l=[],et(n.properties,function(e){u.recurse(e.value,u.nextId(),tt,function(t){l.push(u.escape(e.key.type===tr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+l.join(",")+"}",this.assign(t,c),i(c);break;case tr.ThisExpression:this.assign(t,"s"),i("s");break;case tr.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(lt(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(b(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw Ui("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},De.prototype={compile:function(t,e){var n,i,r,o=this,s=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Ce(s,o.$filter),(n=$e(s))&&(i=this.recurse(n)),(n=_e(s.body))&&(r=[],et(n,function(t,e){var n=o.recurse(t);t.input=n,r.push(n),t.watchId=e}));var a=[];return et(s.body,function(t){a.push(o.recurse(t.expression))}),n=0===s.body.length?function(){}:1===s.body.length?a[0]:function(e,n){var i;return et(a,function(t){i=t(e,n)}),i},i&&(n.assign=function(t,e,n){return i(t,n,e)}),r&&(n.inputs=r),n.literal=Ee(s),n.constant=s.constant,n},recurse:function(t,a,e){var o,l,c,u=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case tr.Literal:return this.value(t.value,a);case tr.UnaryExpression:return l=this.recurse(t.argument),this["unary"+t.operator](l,a);case tr.BinaryExpression:case tr.LogicalExpression:return o=this.recurse(t.left),l=this.recurse(t.right),this["binary"+t.operator](o,l,a);case tr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),a);case tr.Identifier:return me(t.name,u.expression),u.identifier(t.name,u.expensiveChecks||Me(t.name),a,e,u.expression);case tr.MemberExpression:return o=this.recurse(t.object,!1,!!e),t.computed||(me(t.property.name,u.expression),l=t.property.name),t.computed&&(l=this.recurse(t.property)),t.computed?this.computedMember(o,l,a,e,u.expression):this.nonComputedMember(o,l,u.expensiveChecks,a,e,u.expression);case tr.CallExpression:return c=[],et(t.arguments,function(t){c.push(u.recurse(t))}),t.filter&&(l=this.$filter(t.callee.name)),t.filter||(l=this.recurse(t.callee,!0)),t.filter?function(t,e,n,i){for(var r=[],o=0;o<c.length;++o)r.push(c[o](t,e,n,i));return t=l.apply(tt,r,i),a?{context:tt,name:tt,value:t}:t}:function(t,e,n,i){var r,o=l(t,e,n,i);if(null!=o.value){ye(o.context,u.expression),be(o.value,u.expression),r=[];for(var s=0;s<c.length;++s)r.push(ye(c[s](t,e,n,i),u.expression));r=ye(o.value.apply(o.context,r),u.expression)}return a?{value:r}:r};case tr.AssignmentExpression:return o=this.recurse(t.left,!0,1),l=this.recurse(t.right),function(t,e,n,i){var r=o(t,e,n,i);return t=l(t,e,n,i),ye(r.value,u.expression),we(r.context),r.context[r.name]=t,a?{value:t}:t};case tr.ArrayExpression:return c=[],et(t.elements,function(t){c.push(u.recurse(t))}),function(t,e,n,i){for(var r=[],o=0;o<c.length;++o)r.push(c[o](t,e,n,i));return a?{value:r}:r};case tr.ObjectExpression:return c=[],et(t.properties,function(t){c.push({key:t.key.type===tr.Identifier?t.key.name:""+t.key.value,value:u.recurse(t.value)})}),function(t,e,n,i){for(var r={},o=0;o<c.length;++o)r[c[o].key]=c[o].value(t,e,n,i);return a?{value:r}:r};case tr.ThisExpression:return function(t){return a?{value:t}:t};case tr.NGValueParameter:return function(t,e,n,i){return a?{value:n}:n}}},"unary+":function(r,o){return function(t,e,n,i){return t=st(t=r(t,e,n,i))?+t:0,o?{value:t}:t}},"unary-":function(r,o){return function(t,e,n,i){return t=st(t=r(t,e,n,i))?-t:0,o?{value:t}:t}},"unary!":function(r,o){return function(t,e,n,i){return t=!r(t,e,n,i),o?{value:t}:t}},"binary+":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i);return r=ke(r,t=s(t,e,n,i)),a?{value:r}:r}},"binary-":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i);return t=s(t,e,n,i),r=(st(r)?r:0)-(st(t)?t:0),a?{value:r}:r}},"binary*":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)*o(t,e,n,i),s?{value:t}:t}},"binary/":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)/o(t,e,n,i),s?{value:t}:t}},"binary%":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)%o(t,e,n,i),s?{value:t}:t}},"binary===":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)===o(t,e,n,i),s?{value:t}:t}},"binary!==":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)!==o(t,e,n,i),s?{value:t}:t}},"binary==":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)==o(t,e,n,i),s?{value:t}:t}},"binary!=":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)!=o(t,e,n,i),s?{value:t}:t}},"binary<":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)<o(t,e,n,i),s?{value:t}:t}},"binary>":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)>o(t,e,n,i),s?{value:t}:t}},"binary<=":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)<=o(t,e,n,i),s?{value:t}:t}},"binary>=":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)>=o(t,e,n,i),s?{value:t}:t}},"binary&&":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)&&o(t,e,n,i),s?{value:t}:t}},"binary||":function(r,o,s){return function(t,e,n,i){return t=r(t,e,n,i)||o(t,e,n,i),s?{value:t}:t}},"ternary?:":function(r,o,s,a){return function(t,e,n,i){return t=r(t,e,n,i)?o(t,e,n,i):s(t,e,n,i),a?{value:t}:t}},value:function(t,e){return function(){return e?{context:tt,name:tt,value:t}:t}},identifier:function(r,o,s,a,l){return function(t,e,n,i){return t=e&&r in e?e:t,a&&1!==a&&t&&!t[r]&&(t[r]={}),e=t?t[r]:tt,o&&ye(e,l),s?{context:t,name:r,value:e}:e}},computedMember:function(a,l,c,u,h){return function(t,e,n,i){var r,o,s=a(t,e,n,i);return null!=s&&(me(r=ve(r=l(t,e,n,i)),h),u&&1!==u&&(we(s),s&&!s[r]&&(s[r]={})),ye(o=s[r],h)),c?{context:s,name:r,value:o}:o}},nonComputedMember:function(r,o,s,a,l,c){return function(t,e,n,i){return t=r(t,e,n,i),l&&1!==l&&(we(t),t&&!t[o]&&(t[o]={})),e=null!=t?t[o]:tt,(s||Me(o))&&ye(e,c),a?{context:t,name:o,value:e}:e}},inputs:function(r,o){return function(t,e,n,i){return i?i[o]:r(t,e,n)}}};var er=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new tr(this.lexer),this.astCompiler=n.csp?new De(this.ast,e):new Te(this.ast,e)};er.prototype={constructor:er,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var nr=Object.prototype.valueOf,ir=d("$sce"),rr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},or=(Mi=d("$compile"),J.createElement("a")),sr=Ye(c.location.href);Xe.$inject=["$document"],Ze.$inject=["$provide"];var ar=22,lr=".",cr="0";en.$inject=["$locale"],nn.$inject=["$locale"];var ur={yyyy:sn("FullYear",4),yy:sn("FullYear",2,0,!0),y:sn("FullYear",1),MMMM:an("Month"),MMM:an("Month",!0),MM:sn("Month",2,1),M:sn("Month",1,1),dd:sn("Date",2),d:sn("Date",1),HH:sn("Hours",2),H:sn("Hours",1),hh:sn("Hours",2,-12),h:sn("Hours",1,-12),mm:sn("Minutes",2),m:sn("Minutes",1),ss:sn("Seconds",2),s:sn("Seconds",1),sss:sn("Milliseconds",3),EEEE:an("Day"),EEE:an("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return(0<=(t=-1*n)?"+":"")+(on(Math[0<t?"floor":"ceil"](t/60),2)+on(Math.abs(t%60),2))},ww:cn(2),w:cn(1),G:un,GG:un,GGG:un,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},hr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,dr=/^\-?\d+$/;hn.$inject=["$locale"];var fr=m(An),pr=m(On);pn.$inject=["$parse"];var gr=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Hn.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),mr={};et(pi,function(t,i){function r(t,e,n){t.$watch(n[o],function(t){n.$set(i,!!t)})}if("multiple"!=t){var o=Ft("ng-"+i),e=r;"checked"===t&&(e=function(t,e,n){n.ngModel!==n[o]&&r(t,0,n)}),mr[o]=function(){return{restrict:"A",priority:100,link:e}}}}),et(mi,function(t,i){mr[i]=function(){return{priority:100,link:function(t,e,n){"ngPattern"===i&&"/"==n.ngPattern.charAt(0)&&(e=n.ngPattern.match(Mn))?n.$set("ngPattern",new RegExp(e[1],e[2])):t.$watch(n[i],function(t){n.$set(i,t)})}}}}),et(["src","srcset","href"],function(o){var s=Ft("ng-"+o);mr[s]=function(){return{priority:99,link:function(t,e,n){var i=o,r=o;"href"===o&&"[object SVGAnimatedString]"===Hn.call(e.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(s,function(t){t?(n.$set(r,t),$n&&i&&e.prop(i,n[r])):"href"===o&&n.$set(r,null)})}}}});var vr={$addControl:rt,$$renameControl:function(t,e){t.$name=e},$removeControl:rt,$setValidity:rt,$setDirty:rt,$setPristine:rt,$setSubmitted:rt};mn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yr=function(n){return["$timeout","$parse",function(l,e){function c(t){return""===t?e('this[""]').assign:e(t).assign||rt}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:mn,compile:function(t,e){t.addClass(Jr).addClass(Zr);var a=e.name?"name":!(!n||!e.ngForm)&&"ngForm";return{pre:function(e,t,n,i){var r=i[0];if(!("action"in n)){var o=function(t){e.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),t.preventDefault()};t[0].addEventListener("submit",o,!1),t.on("$destroy",function(){l(function(){t[0].removeEventListener("submit",o,!1)},0,!1)})}(i[1]||r.$$parentForm).$addControl(r);var s=a?c(r.$name):rt;a&&(s(e,r),n.$observe(a,function(t){r.$name!==t&&(s(e,tt),r.$$parentForm.$$renameControl(r,t),(s=c(r.$name))(e,r))})),t.on("$destroy",function(){r.$$parentForm.$removeControl(r),s(e,tt),nt(r,vr)})}}}}}]},br=yr(),wr=yr(!0),xr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,kr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Cr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,_r=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Sr=/^(\d{4})-(\d{2})-(\d{2})$/,$r=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Er=/^(\d{4})-W(\d\d)$/,Tr=/^(\d{4})-(\d\d)$/,Dr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mr=yt();et(["date","datetime-local","month","time","week"],function(t){Mr[t]=!0});var Ar={text:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i)},date:wn("date",Sr,bn(Sr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":wn("datetimelocal",$r,bn($r,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:wn("time",Dr,bn(Dr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:wn("week",Er,function(t,e){if(v(t))return t;if(lt(t)){Er.lastIndex=0;var n=Er.exec(t);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,l=ln(i);r=7*(r-1);return e&&(n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),a=e.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,s,a)}}return NaN},"yyyy-Www"),month:wn("month",Tr,bn(Tr,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,o){var s,a;(xn(0,e,0,i),yn(0,e,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:_r.test(t)?parseFloat(t):tt}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!b(t))throw no("numfmt",t);t=t.toString()}return t}),st(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||ot(s)||s<=t},n.$observe("min",function(t){st(t)&&!b(t)&&(t=parseFloat(t,10)),s=b(t)&&!isNaN(t)?t:tt,i.$validate()}));(st(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||ot(a)||t<=a},n.$observe("max",function(t){st(t)&&!b(t)&&(t=parseFloat(t,10)),a=b(t)&&!isNaN(t)?t:tt,i.$validate()}))},url:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||kr.test(n)}},email:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Cr.test(n)}},radio:function(t,e,n,i){ot(n.name)&&e.attr("name",++jn),e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,r,o,s,a){var l=kn(a,t,"ngTrueValue",n.ngTrueValue,!0),c=kn(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return pt(t,l)}),i.$parsers.push(function(t){return t?l:c})},hidden:rt,button:rt,submit:rt,reset:rt,file:rt},Pr=["$browser","$sniffer","$filter","$parse",function(r,o,s,a){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,i){i[0]&&(Ar[An(n.type)]||Ar.text)(t,e,n,i[0],o,r,s,a)}}}}],Or=/^(true|false|\d+)$/,Nr=function(){return{restrict:"A",priority:100,compile:function(t,e){return Or.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ir=["$compile",function(i){return{restrict:"AC",compile:function(t){return i.$$addBindingClass(t),function(t,e,n){i.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=ot(t)?"":t})}}}}],Lr=["$interpolate","$compile",function(i,r){return{compile:function(t){return r.$$addBindingClass(t),function(t,e,n){t=i(e.attr(n.$attr.ngBindTemplate)),r.$$addBindingInfo(e,t.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=ot(t)?"":t})}}}}],Hr=["$sce","$parse","$compile",function(o,n,s){return{restrict:"A",compile:function(t,e){var i=n(e.ngBindHtml),r=n(e.ngBindHtml,function(t){return o.valueOf(t)});return s.$$addBindingClass(t),function(e,n,t){s.$$addBindingInfo(n,t.ngBindHtml),e.$watch(r,function(){var t=i(e);n.html(o.getTrustedHtml(t)||"")})}}}}],Rr=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Fr=Cn("",!0),zr=Cn("Odd",0),jr=Cn("Even",1),Br=gn({compile:function(t,e){e.$set("ngCloak",tt),t.removeClass("ng-cloak")}}),Wr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Vr={},qr={blur:!0,focus:!0};et("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var s=Ft("ng-"+o);Vr[s]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(t,e){var i=n(e[s],null,!0);return function(n,t){t.on(o,function(t){var e=function(){i(n,{$event:t})};qr[o]&&r.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});var Yr=["$animate",function(l){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,i,e,r){var o,s,a;t.$watch(i.ngIf,function(t){t?s||r(function(t,e){s=e,t[t.length++]=J.createComment(" end ngIf: "+i.ngIf+" "),o={clone:t},l.enter(t,n.parent(),n)}):(a&&(a.remove(),a=null),s&&(s.$destroy(),s=null),o&&(a=F(o.clone),l.leave(a).then(function(){a=null}),o=null))})}}}],Ur=["$templateRequest","$anchorScroll","$animate",function(g,m,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:zn.noop,compile:function(t,e){var n=e.ngInclude||e.src,f=e.onload||"",p=e.autoscroll;return function(o,s,t,a,l){var c,e,u,h=0,d=function(){e&&(e.remove(),e=null),c&&(c.$destroy(),c=null),u&&(v.leave(u).then(function(){e=null}),e=u,u=null)};o.$watch(n,function(n){var i=function(){!st(p)||p&&!o.$eval(p)||m()},r=++h;n?(g(n,!0).then(function(t){if(!o.$$destroyed&&r===h){var e=o.$new();a.template=t,t=l(e,function(t){d(),v.enter(t,null,s).then(i)}),u=t,(c=e).$emit("$includeContentLoaded",n),o.$eval(f)}},function(){o.$$destroyed||r!==h||(d(),o.$emit("$includeContentError",n))}),o.$emit("$includeContentRequested",n)):(d(),a.template=null)})}}}}],Gr=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,i){/SVG/.test(e[0].toString())?(e.empty(),r(B(i.template,J).childNodes)(t,function(t){e.append(t)},{futureParentElement:e})):(e.html(i.template),r(e.contents())(t))}}}],Xr=gn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Kr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=e.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,s=o?qn(r):r;i.$parsers.push(function(t){if(!ot(t)){var e=[];return t&&et(t.split(s),function(t){t&&e.push(o?qn(t):t)}),e}}),i.$formatters.push(function(t){return Wn(t)?t.join(r):tt}),i.$isEmpty=function(t){return!t||!t.length}}}},Zr="ng-valid",Qr="ng-invalid",Jr="ng-pristine",to="ng-dirty",eo="ng-pending",no=d("ngModel"),io=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(r,e,o,s,a,t,i,l,u,n){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=tt,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=tt,this.$name=n(o.name||"",!1)(r),this.$$parentForm=vr;var h,c=a(o.ngModel),d=c.assign,f=c,p=d,g=null,m=this;this.$$setOptions=function(t){if((m.$options=t)&&t.getterSetter){var n=a(o.ngModel+"()"),i=a(o.ngModel+"($$$p)");f=function(t){var e=c(t);return ct(e)&&(e=n(t)),e},p=function(t,e){ct(c(t))?i(t,{$$$p:m.$modelValue}):d(t,m.$modelValue)}}else if(!c.assign)throw no("nonassign",o.ngModel,gt(s))},this.$render=rt,this.$isEmpty=function(t){return ot(t)||""===t||null===t||t!=t};var v=0;_n({ctrl:this,$element:s,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:t}),this.$setPristine=function(){m.$dirty=!1,m.$pristine=!0,t.removeClass(s,to),t.addClass(s,Jr)},this.$setDirty=function(){m.$dirty=!0,m.$pristine=!1,t.removeClass(s,Jr),t.addClass(s,to),m.$$parentForm.$setDirty()},this.$setUntouched=function(){m.$touched=!1,m.$untouched=!0,t.setClass(s,"ng-untouched","ng-touched")},this.$setTouched=function(){m.$touched=!0,m.$untouched=!1,t.setClass(s,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){i.cancel(g),m.$viewValue=m.$$lastCommittedViewValue,m.$render()},this.$validate=function(){if(!b(m.$modelValue)||!isNaN(m.$modelValue)){var e=m.$$rawModelValue,n=m.$valid,i=m.$modelValue,r=m.$options&&m.$options.allowInvalid;m.$$runValidators(e,m.$$lastCommittedViewValue,function(t){r||n===t||(m.$modelValue=t?e:tt,m.$modelValue!==i&&m.$$writeModelToScope())})}},this.$$runValidators=function(i,r,e){function o(t,e){c===v&&m.$setValidity(t,e)}function t(t){c===v&&e(t)}var s,a,l,n,c=++v;n=m.$$parserName||"parse",(ot(h)?(o(n,null),1):(h||(et(m.$validators,function(t,e){o(e,null)}),et(m.$asyncValidators,function(t,e){o(e,null)})),o(n,h),h))?(l=!0,et(m.$validators,function(t,e){var n=t(i,r);l=l&&n,o(e,n)}),l||(et(m.$asyncValidators,function(t,e){o(e,null)}),0)?(s=[],a=!0,et(m.$asyncValidators,function(t,e){var n=t(i,r);if(!n||!ct(n.then))throw no("nopromise",n);o(e,tt),s.push(n.then(function(){o(e,!0)},function(t){o(e,a=!1)}))}),s.length?u.all(s).then(function(){t(a)},rt):t(!0)):t(!1)):t(!1)},this.$commitViewValue=function(){var t=m.$viewValue;i.cancel(g),(m.$$lastCommittedViewValue!==t||""===t&&m.$$hasNativeValidators)&&(m.$$lastCommittedViewValue=t,m.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=m.$$lastCommittedViewValue;if(h=!ot(e)||tt)for(var t=0;t<m.$parsers.length;t++)if(ot(e=m.$parsers[t](e))){h=!1;break}b(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=f(r));var n=m.$modelValue,i=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=e,i&&(m.$modelValue=e,m.$modelValue!==n&&m.$$writeModelToScope()),m.$$runValidators(e,m.$$lastCommittedViewValue,function(t){i||(m.$modelValue=t?e:tt,m.$modelValue!==n&&m.$$writeModelToScope())})},this.$$writeModelToScope=function(){p(r,m.$modelValue),et(m.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){m.$viewValue=t,m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(t){var e=0,n=m.$options;n&&st(n.debounce)&&(b(n=n.debounce)?e=n:b(n[t])?e=n[t]:b(n.default)&&(e=n.default)),i.cancel(g),e?g=i(function(){m.$commitViewValue()},e):l.$$phase?m.$commitViewValue():r.$apply(function(){m.$commitViewValue()})},r.$watch(function(){var t=f(r);if(t!==m.$modelValue&&(m.$modelValue==m.$modelValue||t==t)){m.$modelValue=m.$$rawModelValue=t,h=tt;for(var e=m.$formatters,n=e.length,i=t;n--;)i=e[n](i);m.$viewValue!==i&&(m.$viewValue=m.$$lastCommittedViewValue=i,m.$render(),m.$$runValidators(t,i,rt))}return t})}],ro=["$rootScope",function(o){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:io,priority:1,compile:function(t){return t.addClass(Jr).addClass("ng-untouched").addClass(Zr),{pre:function(t,e,n,i){var r=i[0];e=i[1]||r.$$parentForm,r.$$setOptions(i[2]&&i[2].$options),e.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,t,n,i){var r=i[0];r.$options&&r.$options.updateOn&&t.on(r.$options.updateOn,function(t){r.$$debounceViewValueCommit(t&&t.type)}),t.on("blur",function(t){r.$touched||(o.$$phase?e.$evalAsync(r.$setTouched):e.$apply(r.$setTouched))})}}}}}],oo=/(\s+|^)default(\s+|$)/,so=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=_(t.$eval(e.ngModelOptions)),st(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=qn(this.$options.updateOn.replace(oo,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ao=gn({terminal:!0,priority:1e3}),lo=d("ngOptions"),co=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,uo=["$compile","$parse",function(y,x){var b=J.createElement("option"),w=J.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=rt},post:function(t,o,e,n){function s(t,e){(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function a(t,e,n,i){return e&&An(e.nodeName)===n?n=e:(n=i.cloneNode(!1),e?t.insertBefore(n,e):t.appendChild(n)),n}function l(t){for(var e;t;)e=t.nextSibling,_t(t),t=e}function i(){var t=m&&h.readValue();m=v.getOptions();var i={},r=o[0].firstChild;if(p&&o.prepend(u),r=function(t){var e=u&&u[0],n=g&&g[0];if(e||n)for(;t&&(t===e||t===n||8===t.nodeType||"option"===dt(t)&&""===t.value);)t=t.nextSibling;return t}(r),m.items.forEach(function(t){var e,n;t.group?((e=i[t.group])||(e=a(o[0],r,"optgroup",w),r=e.nextSibling,e.label=t.group,e=i[t.group]={groupElement:e,currentOptionElement:e.firstChild}),s(t,n=a(e.groupElement,e.currentOptionElement,"option",b)),e.currentOptionElement=n.nextSibling):(s(t,n=a(o[0],r,"option",b)),r=n.nextSibling)}),Object.keys(i).forEach(function(t){l(i[t].currentOptionElement)}),l(r),c.$render(),!c.$isEmpty(t)){var e=h.readValue();(v.trackBy||d?pt(t,e):t===e)||(c.$setViewValue(e),c.$render())}}var c=n[1];if(c){var u,h=n[0],d=e.multiple;n=0;for(var r=o.children(),f=r.length;n<f;n++)if(""===r[n].value){u=r.eq(n);break}var p=!!u,g=En(b.cloneNode(!1));g.val("?");var m,v=function(t,e,c){function u(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function h(t){var e;if(!i&&T(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}var a=t.match(co);if(!a)throw lo("iexp",t,gt(e));var n=a[5]||a[7],i=a[6];t=/ as /.test(a[0])&&a[1];var d=a[9];e=x(a[2]?a[1]:n);var f=t&&x(t)||e,r=d&&x(d),p=d?function(t,e){return r(c,e)}:function(t){return Dt(t)},g=function(t,e){return p(t,w(t,e))},m=x(a[2]||a[1]),v=x(a[3]||""),y=x(a[4]||""),b=x(a[8]),o={},w=i?function(t,e){return o[i]=e,o[n]=t,o}:function(t){return o[n]=t,o};return{trackBy:d,getTrackByValue:g,getWatchables:x(b,function(t){for(var e=[],n=h(t=t||[]),i=n.length,r=0;r<i;r++){var o=t===n?r:n[r],s=w(t[o],o);o=p(t[o],s),e.push(o),(a[2]||a[1])&&(o=m(c,s),e.push(o)),a[4]&&(s=y(c,s),e.push(s))}return e}),getOptions:function(){for(var t=[],e={},n=b(c)||[],i=h(n),r=i.length,o=0;o<r;o++){var s=n===i?o:i[o],a=w(n[s],s),l=f(c,a);l=new u(s=p(l,a),l,m(c,a),v(c,a),a=y(c,a)),t.push(l),e[s]=l}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[g(t)]},getViewValueFromOption:function(t){return d?zn.copy(t.viewValue):t.viewValue}}}}}(e.ngOptions,o,t);d?(c.$isEmpty=function(t){return!t||0===t.length},h.writeValue=function(t){m.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){(t=m.getOptionFromViewValue(t))&&!t.disabled&&(t.element.selected=!0)})},h.readValue=function(){var t=o.val()||[],e=[];return et(t,function(t){(t=m.selectValueMap[t])&&!t.disabled&&e.push(m.getViewValueFromOption(t))}),e},v.trackBy&&t.$watchCollection(function(){if(Wn(c.$viewValue))return c.$viewValue.map(function(t){return v.getTrackByValue(t)})},function(){c.$render()})):(h.writeValue=function(t){var e=m.getOptionFromViewValue(t);e&&!e.disabled?(o[0].value!==e.selectValue&&(g.remove(),p||u.remove(),o[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||p?(g.remove(),p||o.prepend(u),o.val(""),u.prop("selected",!0),u.attr("selected",!0)):(p||u.remove(),o.prepend(g),o.val("?"),g.prop("selected",!0),g.attr("selected",!0))},h.readValue=function(){var t=m.selectValueMap[o.val()];return t&&!t.disabled?(p||u.remove(),g.remove(),m.getViewValueFromOption(t)):null},v.trackBy&&t.$watch(function(){return v.getTrackByValue(c.$viewValue)},function(){c.$render()})),p?(u.remove(),y(u)(t),u.removeClass("ng-scope")):u=En(b.cloneNode(!1)),i(),t.$watchCollection(v.getWatchables,i)}}}}}],ho=["$locale","$interpolate","$log",function(p,g,m){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(i,r,o){function s(t){r.text(t||"")}var a,t=o.count,l=o.$attr.when&&r.attr(o.$attr.when),c=o.offset||0,u=i.$eval(l)||{},h={},e=g.startSymbol(),n=g.endSymbol(),d=e+t+"-"+c+n,f=zn.noop;et(o,function(t,e){var n=y.exec(e);n&&(n=(n[1]?"-":"")+An(n[2]),u[n]=r.attr(o.$attr[e]))}),et(u,function(t,e){h[e]=g(t.replace(v,d))}),i.$watch(t,function(t){var e=parseFloat(t),n=isNaN(e);n||e in u||(e=p.pluralCat(e-c)),e===a||n&&b(a)&&isNaN(a)||(f(),ot(n=h[e])?(null!=t&&m.debug("ngPluralize: no rule defined for '"+e+"' in "+l),f=rt,s()):f=i.$watch(n,s),a=e)})}}}],fo=["$parse","$animate",function(l,S){var $=d("ngRepeat"),E=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var v=e.ngRepeat,y=J.createComment(" end ngRepeat: "+v+" ");if(!(n=v.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw $("iexp",v);var n,i=n[1],r=n[2],b=n[3],o=n[4];if(!(n=i.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw $("iidexp",i);var w=n[3]||n[1],x=n[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw $("badident",b);var s,k,C,_,a={$id:Dt};return o?s=l(o):(C=function(t,e){return Dt(e)},_=function(t){return t}),function(f,p,t,e,g){s&&(k=function(t,e,n){return x&&(a[x]=t),a[w]=e,a.$index=n,s(f,a)});var m=yt();f.$watchCollection(r,function(t){var i,e,n,r,o,s,a,l,c,u,h=p[0],d=yt();if(b&&(f[b]=t),T(t))l=t,e=k||C;else for(u in e=k||_,l=[],t)Pn.call(t,u)&&"$"!==u.charAt(0)&&l.push(u);for(r=l.length,u=Array(r),i=0;i<r;i++)if(o=t===l?i:l[i],s=t[o],a=e(o,s,i),m[a])c=m[a],delete m[a],d[a]=c,u[i]=c;else{if(d[a])throw et(u,function(t){t&&t.scope&&(m[t.id]=t)}),$("dupes",v,a,s);u[i]={id:a,scope:tt,clone:tt},d[a]=!0}for(n in m){if(a=F((c=m[n]).clone),S.leave(a),a[0].parentNode)for(i=0,e=a.length;i<e;i++)a[i].$$NG_REMOVED=!0;c.scope.$destroy()}for(i=0;i<r;i++)if(o=t===l?i:l[i],s=t[o],(c=u[i]).scope){for(n=h;(n=n.nextSibling)&&n.$$NG_REMOVED;);c.clone[0]!=n&&S.move(F(c.clone),null,h),h=c.clone[c.clone.length-1],E(c.scope,i,w,s,x,o,r)}else g(function(t,e){c.scope=e;var n=y.cloneNode(!1);t[t.length++]=n,S.enter(t,null,h),h=n,c.clone=t,d[c.id]=c,E(c.scope,i,w,s,x,o,r)});m=d})}}}}],po=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){i[t?"removeClass":"addClass"](e,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],go=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){i[t?"addClass":"removeClass"](e,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],mo=gn(function(t,n,e){t.$watch(e.ngStyle,function(t,e){e&&t!==e&&et(e,function(t,e){n.css(e,"")}),t&&n.css(t)},!0)}),vo=["$animate",function(u){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,r){var o=[],s=[],a=[],l=[],c=function(t,e){return function(){t.splice(e,1)}};t.$watch(n.ngSwitch||n.on,function(t){var e,n;for(e=0,n=a.length;e<n;++e)u.cancel(a[e]);for(e=a.length=0,n=l.length;e<n;++e){var i=F(s[e].clone);l[e].$destroy(),(a[e]=u.leave(i)).then(c(a,e))}s.length=0,l.length=0,(o=r.cases["!"+t]||r.cases["?"])&&et(o,function(i){i.transclude(function(t,e){l.push(e);var n=i.element;t[t.length++]=J.createComment(" end ngSwitchWhen: "),s.push({clone:t}),u.enter(t,n.parent(),n)})})})}}}],yo=gn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),bo=gn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),wo=gn({restrict:"EAC",link:function(t,e,n,i,r){if(!r)throw d("ngTransclude")("orphan",gt(e));r(function(t){e.empty(),e.append(t)})}}),xo=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,e){"text/ng-template"==e.type&&n.put(e.id,t[0].text)}}}],ko={$setViewValue:rt,$render:rt},Co=["$element","$scope","$attrs",function(e,t,n){var s=this,i=new Mt;s.ngModelCtrl=ko,s.unknownOption=En(J.createElement("option")),s.renderUnknownOption=function(t){t="? "+Dt(t)+" ?",s.unknownOption.val(t),e.prepend(s.unknownOption),e.val(t)},t.$on("$destroy",function(){s.renderUnknownOption=rt}),s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.readValue=function(){return s.removeUnknownOption(),e.val()},s.writeValue=function(t){s.hasOption(t)?(s.removeUnknownOption(),e.val(t),""===t&&s.emptyOption.prop("selected",!0)):null==t&&s.emptyOption?(s.removeUnknownOption(),e.val("")):s.renderUnknownOption(t)},s.addOption=function(t,e){if(8!==e[0].nodeType){H(t,'"option value"'),""===t&&(s.emptyOption=e);var n=i.get(t)||0;i.put(t,n+1),s.ngModelCtrl.$render(),e[0].hasAttribute("selected")&&(e[0].selected=!0)}},s.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.remove(t),""===t&&(s.emptyOption=tt)):i.put(t,e-1))},s.hasOption=function(t){return!!i.get(t)},s.registerOption=function(t,n,i,e,r){var o;e?i.$observe("value",function(t){st(o)&&s.removeOption(o),o=t,s.addOption(t,n)}):r?t.$watch(r,function(t,e){i.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(i.value,n);n.on("$destroy",function(){s.removeOption(i.value),s.ngModelCtrl.$render()})}}],_o=function(){return{restrict:"E",require:["select","?ngModel"],controller:Co,priority:1,link:{pre:function(t,n,e,i){var r=i[1];if(r){var o=i[0];if(o.ngModelCtrl=r,n.on("change",function(){t.$apply(function(){r.$setViewValue(o.readValue())})}),e.multiple){o.readValue=function(){var e=[];return et(n.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(t){var e=new Mt(t);et(n.find("option"),function(t){t.selected=st(e.get(t.value))})};var s,a=NaN;t.$watch(function(){a!==r.$viewValue||pt(s,r.$viewValue)||(s=k(r.$viewValue),r.$render()),a=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}},post:function(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},So=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,e){if(st(e.value))var r=n(e.value,!0);else{var o=n(t.text(),!0);o||e.$set("value",t.text())}return function(t,e,n){var i=e.parent();(i=i.data("$selectController")||i.parent().data("$selectController"))&&i.registerOption(t,e,n,r,o)}}}}],$o=m({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},To=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r,o=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(lt(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw d("ngPattern")("noregexp",o,t,gt(e));r=t||tt,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||ot(r)||r.test(e)}}}}},Do=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=g(t),r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},Mo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=g(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};c.angular.bootstrap?c.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var r;if(!Qn){var t=Gn();(Tn=ot(t)?c.jQuery:t?c[t]:tt)&&Tn.fn.on?(nt((En=Tn).fn,{scope:fi.scope,isolateScope:fi.isolateScope,controller:fi.controller,injector:fi.injector,inheritedData:fi.inheritedData}),r=Tn.cleanData,Tn.cleanData=function(t){var e;if(Bn)Bn=!1;else for(var n,i=0;null!=(n=t[i]);i++)(e=Tn._data(n,"events"))&&e.$destroy&&Tn(n).triggerHandler("$destroy");r(t)}):En=W,zn.element=En,Qn=!0}}(),nt(zn,{bootstrap:O,copy:_,extend:nt,merge:t,equals:pt,element:En,forEach:et,injector:At,noop:rt,bind:C,toJson:$,fromJson:r,identity:l,isUndefined:ot,isDefined:st,isString:lt,isFunction:ct,isObject:at,isNumber:b,isElement:x,isArray:Wn,version:ti,isDate:v,lowercase:An,uppercase:On,callbacks:{counter:0},getTestability:I,$$minErr:d,$$csp:Un,reloadWithDebugInfo:N}),(Dn=function(t){function e(t,e,n){return t[e]||(t[e]=n())}var u=d("$injector"),n=d("ng");return(t=e(t,"angular",Object)).$$minErr=t.$$minErr||d,e(t,"module",function(){var t={};return function(a,l,c){if("hasOwnProperty"===a)throw n("badname","module");return l&&t.hasOwnProperty(a)&&(t[a]=null),e(t,a,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),s}}function e(n,i){return function(t,e){return e&&ct(e)&&(e.$$moduleName=a),r.push([n,i,arguments]),s}}if(!l)throw u("nomod",a);var r=[],n=[],i=[],o=t("$injector","invoke","push",n),s={_invokeQueue:r,_configBlocks:n,_runBlocks:i,requires:l,name:a,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:o,run:function(t){return i.push(t),this}};return c&&o(c),s})}})}(c))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Re}),t.provider("$compile",Rt).directive({a:gr,input:Pr,textarea:Pr,form:br,script:xo,select:_o,style:$o,option:So,ngBind:Ir,ngBindHtml:Hr,ngBindTemplate:Lr,ngClass:Fr,ngClassEven:jr,ngClassOdd:zr,ngCloak:Br,ngController:Wr,ngForm:wr,ngHide:go,ngIf:Yr,ngInclude:Ur,ngInit:Xr,ngNonBindable:ao,ngPluralize:ho,ngRepeat:fo,ngShow:po,ngStyle:mo,ngSwitch:vo,ngSwitchWhen:yo,ngSwitchDefault:bo,ngOptions:uo,ngTransclude:wo,ngModel:ro,ngList:Kr,ngChange:Rr,pattern:To,ngPattern:To,required:Eo,ngRequired:Eo,minlength:Mo,ngMinlength:Mo,maxlength:Do,ngMaxlength:Do,ngValue:Nr,ngModelOptions:so}).directive({ngInclude:Gr}).directive(mr).directive(Vr),t.provider({$anchorScroll:Pt,$animate:$i,$animateCss:Di,$$animateJs:_i,$$animateQueue:Si,$$AnimateRunner:Ti,$$animateAsyncRun:Ei,$browser:It,$cacheFactory:Lt,$controller:Bt,$document:Wt,$exceptionHandler:Vt,$filter:Ze,$$forceReflow:Ni,$interpolate:ee,$interval:ne,$http:Qt,$httpParamSerializer:Yt,$httpParamSerializerJQLike:Ut,$httpBackend:te,$xhrFactory:Jt,$location:pe,$log:ge,$parse:Pe,$rootScope:He,$q:Oe,$$q:Ne,$sce:je,$sceDelegate:ze,$sniffer:Be,$templateCache:Ht,$templateRequest:We,$$testability:Ve,$timeout:qe,$window:Ge,$$rAF:Le,$$jqLite:Tt,$$HashMap:vi,$$cookieReader:Ke})}]),zn.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n,i,r=0|t,o=e;return tt===o&&(o=Math.min((n=t,-1==(i=(n+="").indexOf("."))?0:n.length-i-1),3)),Math.pow(10,o),1==r&&0==o?"one":"other"}})}]),En(J).ready(function(){e(J,O)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,A,P){"use strict";function O(t,n){for(var e in n=n||{},A.forEach(n,function(t,e){delete n[e]}),t)!t.hasOwnProperty(e)||"$"===e.charAt(0)&&"$"===e.charAt(1)||(n[e]=t[e]);return n}var N=A.$$minErr("$resource"),I=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;A.module("ngResource",["ng"]).provider("$resource",function(){var c=/^https?:\/\/[^\/]*/,o=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q",function(C,_,S){function r(t,e){this.template=t,this.defaults=T({},o.defaults,e),this.urlParams={}}var $=A.noop,E=A.forEach,T=A.extend,D=A.copy,M=A.isFunction;return r.prototype={setUrlParams:function(n,i,t){var r,o,s=this,a=t||s.template,e="",l=s.urlParams={};E(a.split(/\W/),function(t){if("hasOwnProperty"===t)throw N("badname");!/^\d+$/.test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(a)&&(l[t]=!0)}),a=(a=a.replace(/\\:/g,":")).replace(c,function(t){return e=t,""}),i=i||{},E(s.urlParams,function(t,e){r=i.hasOwnProperty(e)?i[e]:s.defaults[e],A.isDefined(r)&&null!==r?(o=encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),a=a.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return o+e})):a=a.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(a=a.replace(/\/+$/,"")||"/"),a=a.replace(/\/\.(?=\w+($|\?))/,"."),n.url=e+a.replace(/\/\\\./,"/."),E(i,function(t,e){s.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},function e(n,b,i,t){function w(t){return t.resource}function x(t){O(t||{},this)}var k=new r(n,t);return i=T({},o.defaults.actions,i),x.prototype.toJSON=function(){var t=T({},this);return delete t.$promise,delete t.$resolved,t},E(i,function(m,v){var y=/^(POST|PUT|PATCH)$/i.test(m.method);x[v]=function(t,e,n,i){var r,o,s,a={};switch(arguments.length){case 4:s=i,o=n;case 3:case 2:if(!M(e)){a=t,r=e,o=n;break}if(M(t)){o=t,s=e;break}o=e,s=n;case 1:M(t)?o=t:y?r=t:a=t;break;case 0:break;default:throw N("badargs",arguments.length)}var l,c,u,h=this instanceof x,d=h?r:m.isArray?[]:new x(r),f={},p=m.interceptor&&m.interceptor.response||w,g=m.interceptor&&m.interceptor.responseError||P;return E(m,function(t,e){switch(e){default:f[e]=D(t);break;case"params":case"isArray":case"interceptor":break;case"timeout":t&&!A.isNumber(t)&&_.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),y&&(f.data=r),k.setUrlParams(f,T({},(l=r,c=m.params||{},u={},c=T({},b,c),E(c,function(t,e){var n;if(M(t)&&(t=t()),t&&t.charAt&&"@"==t.charAt(0)){if(n=l,null==(i=t.substr(1))||""===i||"hasOwnProperty"===i||!I.test("."+i))throw N("badmember",i);for(var i,r=0,o=(i=i.split(".")).length;r<o&&A.isDefined(n);r++){var s=i[r];n=null!==n?n[s]:P}}else n=t;u[e]=n}),u),a),m.url),a=(a=C(f).then(function(t){var e=t.data,n=d.$promise;if(e){if(A.isArray(e)!==!!m.isArray)throw N("badcfg",v,m.isArray?"array":"object",A.isArray(e)?"array":"object",f.method,f.url);m.isArray?(d.length=0,E(e,function(t){"object"==typeof t?d.push(new x(t)):d.push(t)})):(O(e,d),d.$promise=n)}return d.$resolved=!0,t.resource=d,t},function(t){return d.$resolved=!0,(s||$)(t),S.reject(t)})).then(function(t){var e=p(t);return(o||$)(e,t.headers),e},g),h?a:(d.$promise=a,d.$resolved=!1,d)},x.prototype["$"+v]=function(t,e,n){return M(t)&&(n=e,e=t,t={}),(t=x[v].call(this,t,this,e,n)).$promise||t}}),x.bind=function(t){return e(n,T({},b,t),i)},x}}]})}(window,window.angular),function(t,l,e){"use strict";function n(t,o,e){var s=e.baseHref(),a=t[0];return function(t,e,n){var i,r;r=(n=n||{}).expires,i=l.isDefined(n.path)?n.path:s,l.isUndefined(e)&&(r="Thu, 01 Jan 1970 00:00:00 GMT",e=""),l.isString(r)&&(r=new Date(r)),e=(e=encodeURIComponent(t)+"="+encodeURIComponent(e))+(i?";path="+i:"")+(n.domain?";domain="+n.domain:""),e+=r?";expires="+r.toUTCString():"",4096<(n=(e+=n.secure?";secure":"").length+1)&&o.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!"),a.cookie=e}}l.module("ngCookies",["ng"]).provider("$cookies",[function(){var r=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(t){return(t=this.get(t))?l.fromJson(t):t},getAll:function(){return e()},put:function(t,e,n){i(t,e,n?l.extend({},r,n):r)},putObject:function(t,e,n){this.put(t,l.toJson(e),n)},remove:function(t,e){i(t,void 0,e?l.extend({},r,e):r)}}}]}]),l.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,e){n.putObject(t,e)},remove:function(t){n.remove(t)}}}]),n.$inject=["$document","$log","$browser"],l.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),function(t,h,e){"use strict";var u=h.$$minErr("$sanitize"),d=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,f=/^<\s*\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,g=/^</,m=/^<\s*\//,v=/<!--(.*?)-->/g,y=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,o=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,n=/([^\#-~| |!])/g,w=c("area,br,col,hr,img,wbr"),i=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r=c("rp,rt"),x=h.extend({},r,i),k=h.extend({},i,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=h.extend({},r,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),_=c("script,style"),s=h.extend({},w,k,C,x),a=c("background,cite,href,longdesc,src,usemap"),l=h.extend({},a,c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width,style,size"));function c(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}var S=document.createElement("pre");function $(t){return S.innerHTML=t.replace(/</g,"&lt;"),S.innerText||S.textContent||""}function E(t){return t.replace(/&/g,"&amp;").replace(n,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T(t){var i=!1,r=h.bind(t,t.push);return{start:function(t,e,n){t=h.lowercase(t),!i&&_[t]&&(i=t),i||!0!==s[t]||(r("<"),r(t),h.forEach(e,function(t,e){var n=h.lowercase(e);!0!==l[n]||!0===a[n]&&!t.match(o)||(r(" "),r(e),r('="'),r(E(t)),r('"'))}),r(n?"/>":">"))},end:function(t){t=h.lowercase(t),i||!0!==s[t]||(r("</"),r(t),r(">")),t==i&&(i=!1)},chars:function(t){i||r(E(t))}}}h.module("ngSanitize",[]).value("$sanitize",function(t){var e=[];return function(t,r){var e,n,i,o=[],s=t;for(o.last=function(){return o[o.length-1]};t;){if(n=!0,o.last()&&_[o.last()])t=t.replace(new RegExp("(.*)<\\s*\\/\\s*"+o.last()+"[^>]*>","i"),function(t,e){return e=e.replace(v,"$1").replace(b,"$1"),r.chars&&r.chars($(e)),""}),c("",o.last());else if(0===t.indexOf("\x3c!--")?0<=(e=t.indexOf("--",4))&&t.lastIndexOf("--\x3e",e)===e&&(r.comment&&r.comment(t.substring(4,e)),t=t.substring(e+3),n=!1):y.test(t)?(i=t.match(y))&&(t=t.replace(i[0],""),n=!1):m.test(t)?(i=t.match(f))&&(t=t.substring(i[0].length),i[0].replace(f,c),n=!1):g.test(t)&&(i=t.match(d))&&(t=t.substring(i[0].length),i[0].replace(d,l),n=!1),n){var a=(e=t.indexOf("<"))<0?t:t.substring(0,e);t=e<0?"":t.substring(e),r.chars&&r.chars($(a))}if(t==s)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",t);s=t}function l(t,e,n,i){if(e=h.lowercase(e),k[e])for(;o.last()&&C[o.last()];)c("",o.last());x[e]&&o.last()==e&&c("",e),(i=w[e]||!!i)||o.push(e);var s={};n.replace(p,function(t,e,n,i,r){var o=n||i||r||"";s[e]=$(o)}),r.start&&r.start(e,s,i)}function c(t,e){var n,i=0;if(e=h.lowercase(e))for(i=o.length-1;0<=i&&o[i]!=e;i--);if(0<=i){for(n=o.length-1;i<=n;n--)r.end&&r.end(o[n]);o.length=i}}c()}(t,T(e)),e.join("")}),h.module("ngSanitize").filter("linky",function(){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,u=/^mailto:/;return function(t,e){if(!t)return t;var n,i,r,o=t,s=[],a=T(s),l={};for(h.isDefined(e)&&(l.target=e);n=o.match(c);)i=n[0],n[2]==n[3]&&(i="mailto:"+i),r=n.index,a.chars(o.substr(0,r)),l.href=i,a.start("a",l),a.chars(n[0].replace(u,"")),a.end("a"),o=o.substring(r+n[0].length);return a.chars(o),s.join("")}})}(window,window.angular),function(t,y,e){"use strict";function n(c,u,h){i.directive(c,["$parse","$swipe",function(a,l){return function(n,i,t){var r,o,s=a(t[c]),e=["touch"];y.isDefined(t.ngSwipeDisableMouse)||e.push("mouse"),l.bind(i,{start:function(t,e){r=t,o=!0},cancel:function(t){o=!1},end:function(t,e){(function(t){if(!r)return!1;var e=Math.abs(t.y-r.y);return t=(t.x-r.x)*u,o&&e<75&&0<t&&30<t&&e/t<.3})(t)&&n.$apply(function(){i.triggerHandler(h),s(n,{$event:e})})}},e)}}])}var i=y.module("ngTouch",[]);i.factory("$swipe",[function(){function c(t){var e=(t=t.originalEvent||t).touches&&t.touches.length?t.touches:[t];return{x:(t=t.changedTouches&&t.changedTouches[0]||e[0]).clientX,y:t.clientY}}function u(t,e){var n=[];return y.forEach(t,function(t){(t=i[t][e])&&n.push(t)}),n.join(" ")}var i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,n,e){var i,r,o,s,a=!1;e=e||["mouse","touch"],t.on(u(e,"start"),function(t){o=c(t),a=!0,r=i=0,s=o,n.start&&n.start(o,t)});var l=u(e,"cancel");l&&t.on(l,function(t){a=!1,n.cancel&&n.cancel(t)}),t.on(u(e,"move"),function(t){if(a&&o){var e=c(t);i+=Math.abs(e.x-s.x),r+=Math.abs(e.y-s.y),s=e,i<10&&r<10||(i<r?(a=!1,n.cancel&&n.cancel(t)):(t.preventDefault(),n.move&&n.move(e,t)))}}),t.on(u(e,"end"),function(t){a&&(a=!1,n.end&&n.end(c(t),t))})}}}]),i.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(t,i,d){function f(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i+1],o=n;if(Math.abs(t[i]-e)<25&&Math.abs(r-o)<25)return t.splice(i,i+2),!0}return!1}function p(t){if(!(2500<Date.now()-m)){var e=(n=t.touches&&t.touches.length?t.touches:[t])[0].clientX,n=n[0].clientY;if(!(e<1&&n<1||r&&r[0]===e&&r[1]===n)){r&&(r=null);var i=t.target;"label"===y.lowercase(i.nodeName||i[0]&&i[0].nodeName)&&(r=[e,n]),f(v,e,n)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur())}}}function g(t){var e=(t=t.touches&&t.touches.length?t.touches:[t])[0].clientX,n=t[0].clientY;v.push(e,n),i(function(){for(var t=0;t<v.length;t+=2)if(v[t]==e&&v[t+1]==n){v.splice(t,t+2);break}},2500,!1)}var m,v,r;return function(n,o,s){var a,l,c,u,i=t(s.ngClick),h=!1;o.on("touchstart",function(t){h=!0,3==(a=t.target?t.target:t.srcElement).nodeType&&(a=a.parentNode),o.addClass("ng-click-active"),l=Date.now(),t=((t=t.originalEvent||t).touches&&t.touches.length?t.touches:[t])[0],c=t.clientX,u=t.clientY}),o.on("touchcancel",function(t){h=!1,o.removeClass("ng-click-active")}),o.on("touchend",function(t){var e=Date.now()-l,n=(i=((n=t.originalEvent||t).changedTouches&&n.changedTouches.length?n.changedTouches:n.touches&&n.touches.length?n.touches:[n])[0]).clientX,i=i.clientY,r=Math.sqrt(Math.pow(n-c,2)+Math.pow(i-u,2));h&&e<750&&r<12&&(v||(d[0].addEventListener("click",p,!0),d[0].addEventListener("touchstart",g,!0),v=[]),m=Date.now(),f(v,n,i),a&&a.blur(),y.isDefined(s.disabled)&&!1!==s.disabled||o.triggerHandler("click",[t])),h=!1,o.removeClass("ng-click-active")}),o.onclick=function(t){},o.on("click",function(t,e){n.$apply(function(){i(n,{$event:e||t})})}),o.on("mousedown",function(t){o.addClass("ng-click-active")}),o.on("mousemove mouseup",function(t){o.removeClass("ng-click-active")})}}]),n("ngSwipeLeft",-1,"swipeleft"),n("ngSwipeRight",1,"swiperight")}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,N,I){"use strict";var L,H=N.isDefined,m=N.isFunction,R=N.isString,F=N.isObject,z=N.isArray,j=N.forEach,B=N.extend,W=N.copy,p=N.toJson;function V(t,e){return B(new(B(function(){},{prototype:t})),e)}function x(n){return j(arguments,function(t){t!==n&&j(t,function(t,e){n.hasOwnProperty(e)||(n[e]=t)})}),n}function q(t){if(Object.keys)return Object.keys(t);var n=[];return j(t,function(t,e){n.push(e)}),n}function Y(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=n);i<n;i++)if(i in t&&t[i]===e)return i;return-1}function U(t,e,n,i){var r,o=function(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}(n,i),s={},a=[];for(var l in o)if(o[l]&&o[l].params&&(r=q(o[l].params)).length)for(var c in r)0<=Y(a,r[c])||(a.push(r[c]),s[r[c]]=t[r[c]]);return B({},s,e)}function d(t,e,n){if(!n)for(var i in n=[],t)n.push(i);for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function G(t,e){var n={};return j(t,function(t){n[t]=e[t]}),n}function X(e){var n={},t=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return j(t,function(t){t in e&&(n[t]=e[t])}),n}function k(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==Y(n,i)&&(e[i]=t[i]);return e}function _(t,n){var i=z(t),r=i?[]:{};return j(t,function(t,e){n(t,e)&&(r[i?r.length:e]=t)}),r}function K(t,n){var i=z(t)?[]:{};return j(t,function(t,e){i[e]=n(t,e)}),i}function n(t){return t.then(I,function(){})&&t}function e(v,y){var a=1,l=2,t={},c=[],b=t,w=B(v.when(t),{$$promises:t,$$values:t});this.study=function(r){if(!F(r))throw new Error("'invocables' must be an object");var p=q(r||{}),g=[],o=[],s={};function m(t){return F(t)&&t.then&&t.$$promises}return j(r,function e(t,n){if(s[n]!==l){if(o.push(n),s[n]===a)throw o.splice(0,Y(o,n)),new Error("Cyclic dependency: "+o.join(" -> "));if(s[n]=a,R(t))g.push(n,[function(){return y.get(t)}],c);else{var i=y.annotate(t);j(i,function(t){t!==n&&r.hasOwnProperty(t)&&e(r[t],t)}),g.push(n,t,i)}o.pop(),s[n]=l}}),r=o=s=null,function(a,t,l){if(m(a)&&l===I&&(l=t,t=a,a=null),a){if(!F(a))throw new Error("'locals' must be an object")}else a=b;if(t){if(!m(t))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else t=w;var e=v.defer(),c=e.promise,u=c.$$promises={},h=B({},a),n=1+g.length/3,i=!1;function d(){--n||(i||x(h,t.$$values),c.$$values=h,c.$$promises=c.$$promises||!0,delete c.$$inheritedValues,e.resolve(h))}function f(t){c.$$failure=t,e.reject(t)}if(H(t.$$failure))return f(t.$$failure),c;t.$$inheritedValues&&x(h,k(t.$$inheritedValues,p)),B(u,t.$$promises),t.$$values?(i=x(h,k(t.$$values,p)),c.$$inheritedValues=k(t.$$values,p),d()):(t.$$inheritedValues&&(c.$$inheritedValues=k(t.$$inheritedValues,p)),t.then(d,f));for(var r=0,o=g.length;r<o;r+=3)a.hasOwnProperty(g[r])?d():s(g[r],g[r+1],g[r+2]);function s(e,t,n){var i=v.defer(),r=0;function o(t){i.reject(t),f(t)}function s(){if(!H(c.$$failure))try{i.resolve(y.invoke(t,l,h)),i.promise.then(function(t){h[e]=t,d()},o)}catch(t){o(t)}}j(n,function(e){u.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&(r++,u[e].then(function(t){h[e]=t,--r||s()},o))}),r||s(),u[e]=i.promise}return c}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function i(n,i,r){this.fromConfig=function(t,e,n){return H(t.template)?this.fromString(t.template,e):H(t.templateUrl)?this.fromUrl(t.templateUrl,e):H(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return m(t)?t(e):t},this.fromUrl=function(t,e){return m(t)&&(t=t(e)),null==t?null:n.get(t,{cache:i,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,n){return r.invoke(t,null,n||{params:e})}}function l(a,l,t){l=B({params:{}},F(l)?l:{});var e,n,i,r,o=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,s=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c="^",u=0,h=this.segments=[],d=t?t.params:{},f=this.params=t?t.params.$$new():new L.ParamSet,p=[];function g(t,e,n,i){if(p.push(t),d[t])return d[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+a+"'");if(f[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+a+"'");return f[t]=new L.Param(t,e,n,i),f[t]}function m(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function v(t,e){var n,i,r,o,s;return n=t[2]||t[3],s=l.params[n],r=a.substring(u,t.index),(i=e?t[4]:t[4]||("*"==t[1]?".*":null))&&(o=L.type(i)||V(L.type("string"),{pattern:new RegExp(i,l.caseInsensitive?"i":I)})),{id:n,regexp:i,segment:r,type:o,cfg:s}}for(this.source=a;(e=o.exec(a))&&!(0<=(n=v(e,!1)).segment.indexOf("?"));)i=g(n.id,n.type,n.cfg,"path"),c+=m(n.segment,i.type.pattern.source,i.squash,i.isOptional),h.push(n.segment),u=o.lastIndex;var y=(r=a.substring(u)).indexOf("?");if(0<=y){var b=this.sourceSearch=r.substring(y);if(r=r.substring(0,y),this.sourcePath=a.substring(0,u+y),0<b.length)for(u=0;e=s.exec(b);)i=g((n=v(e,!0)).id,n.type,n.cfg,"search"),u=o.lastIndex}else this.sourcePath=a,this.sourceSearch="";c+=m(r)+(!1===l.strict?"/?":"")+"$",h.push(r),this.regexp=new RegExp(c,l.caseInsensitive?"i":I),this.prefix=h[0],this.$$paramNames=p}function S(t){B(this,t)}function r(f,a){var l,c=[],p=null,g=!1;function u(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!H(i)||i}function t(u,t,r,e,h){var o,d=e.baseHref(),n=u.url();function i(t){if(!t||!t.defaultPrevented){o&&u.url();o=I;var e,n=c.length;for(e=0;e<n;e++)if(i(c[e]))return;p&&i(p)}function i(t){var e=t(r,u);return!!e&&(R(e)&&u.replace().url(e),!0)}}function s(){return l=l||t.$on("$locationChangeSuccess",i)}return g||s(),{sync:function(){i()},listen:function(){return s()},update:function(t){t?n=u.url():u.url()!==n&&(u.url(n),u.replace())},push:function(t,e,n){var i=t.format(e||{});null!==i&&e&&e["#"]&&(i+="#"+e["#"]),u.url(i),o=n&&n.$$avoidResync?u.url():I,n&&n.replace&&u.replace()},href:function(t,e,n){if(!t.validates(e))return null;var i=f.html5Mode();N.isObject(i)&&(i=i.enabled),i=i&&h.history;var r,o,s,a=t.format(e);if(n=n||{},i||null===a||(a="#"+f.hashPrefix()+a),null!==a&&e&&e["#"]&&(a+="#"+e["#"]),r=a,o=i,s=n.absolute,a="/"===d?r:o?d.slice(0,-1)+r:s?d.slice(1)+r:r,!n.absolute||!a)return a;var l=!i&&a?"/":"",c=u.port();return c=80===c||443===c?"":":"+c,[u.protocol(),"://",u.host(),c,l,a].join("")}}}this.rule=function(t){if(!m(t))throw new Error("'rule' must be a function");return c.push(t),this},this.otherwise=function(t){if(R(t)){var e=t;t=function(){return e}}else if(!m(t))throw new Error("'rule' must be a function");return p=t,this},this.when=function(t,e){var r,o=R(e);if(R(t)&&(t=a.compile(t)),!o&&!m(e)&&!z(e))throw new Error("invalid 'handler' in when()");var n={matcher:function(n,i){return o&&(r=a.compile(i),i=["$match",function(t){return r.format(t)}]),B(function(t,e){return u(t,i,n.exec(e.path(),e.search()))},{prefix:R(n.prefix)?n.prefix:""})},regex:function(n,i){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return o&&(r=i,i=["$match",function(t){return n=t,r.replace(/\$(\$|\d{1,2})/,function(t,e){return n["$"===e?0:Number(e)]});var n}]),B(function(t,e){return u(t,i,n.exec(e.path()))},{prefix:(t=n,e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source),null!=e?e[1].replace(/\\(.)/g,"$1"):"")});var t,e}},i={matcher:a.isMatcher(t),regex:t instanceof RegExp};for(var s in i)if(i[s])return this.rule(n[s](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===I&&(t=!0),g=t},(this.$get=t).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function o(s,i){var M,A,h={},a={},P="abstract",l={parent:function(t){if(H(t.parent)&&t.parent)return O(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?O(e[1]):M},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=V(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(R(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||M).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var n=t.url&&t.url.params||new L.ParamSet;return j(t.params||{},function(t,e){n[e]||(n[e]=new L.Param(e,null,t,"config"))}),n},params:function(t){var e=X(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?B(t.parent.params.$$new(),e):new L.ParamSet},views:function(n){var i={};return j(H(n.views)?n.views:{"":n},function(t,e){e.indexOf("@")<0&&(e+="@"+n.parent.name),t.resolveAs=t.resolveAs||n.resolveAs||"$resolve",i[e]=t}),i},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?B({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};function O(t,e){if(!t)return I;var n,i=R(t),r=i?t:t.name;if(0===(n=r).indexOf(".")||0===n.indexOf("^")){if(!e)throw new Error("No reference point given for path '"+r+"'");e=O(e);for(var o=r.split("."),s=0,a=o.length,l=e;s<a;s++)if(""!==o[s]||0!==s){if("^"!==o[s])break;if(!l.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");l=l.parent}else l=e;o=o.slice(s).join("."),r=l.name+(l.name&&o?".":"")+o}var c=h[r];return!c||!i&&(i||c!==t&&c.self!==t)?I:c}function c(n){var t=(n=V(n,{self:n,resolve:n.resolve||{},toString:function(){return this.name}})).name;if(!R(t)||0<=t.indexOf("@"))throw new Error("State must have a valid name");if(h.hasOwnProperty(t))throw new Error("State '"+t+"' is already defined");var e,i,r=-1!==t.indexOf(".")?t.substring(0,t.lastIndexOf(".")):R(n.parent)?n.parent:F(n.parent)&&R(n.parent.name)?n.parent.name:"";if(r&&!h[r])return e=r,i=n.self,a[e]||(a[e]=[]),void a[e].push(i);for(var o in l)m(l[o])&&(n[o]=l[o](n,l.$delegates[o]));return!(h[t]=n)[P]&&n.url&&s.when(n.url,["$match","$stateParams",function(t,e){A.$current.navigable==n&&d(t,e)||A.transitionTo(n,t,{inherit:!0,location:!1})}]),function(t){for(var e=a[t]||[];e.length;)c(e.shift())}(t),n}function t(b,w,c,x,u,k,C,t,e){var _=new Error("transition superseded"),S=n(w.reject(_)),$=n(w.reject(new Error("transition prevented"))),E=n(w.reject(new Error("transition aborted"))),T=n(w.reject(new Error("transition failed")));function D(o,t,e,n,s,a){var l=e?t:G(o.params.$$keys(),t),i={$stateParams:l};s.resolve=u.resolve(o.resolve,i,s.resolve,o);var r=[s.resolve.then(function(t){s.globals=t})];return n&&r.push(n),w.all(r).then(function(){var t=[];return j(o.views,function(n,i){var r=n.resolve&&n.resolve!==o.resolve?n.resolve:{};r.$template=[function(){return c.load(i,{view:n,locals:s.globals,params:l,notify:a.notify})||""}],t.push(u.resolve(r,s.globals,s.resolve,o).then(function(t){if(m(n.controllerProvider)||z(n.controllerProvider)){var e=N.extend({},r,s.globals);t.$$controller=x.invoke(n.controllerProvider,null,e)}else t.$$controller=n.controller;t.$$state=o,t.$$controllerAs=n.controllerAs,t.$$resolveAs=n.resolveAs,s[i]=t}))}),w.all(t).then(function(){return s.globals})}).then(function(t){return s})}return M.locals={resolve:null,globals:{$stateParams:{}}},(A={params:{},current:M.self,$current:M,transition:null}).reload=function(t){return A.transitionTo(A.current,k,{reload:t||!0,inherit:!1,notify:!0})},A.go=function(t,e,n){return A.transitionTo(t,e,B({inherit:!0,relative:A.$current},n))},A.transitionTo=function(i,r,o){r=r||{},o=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var s=A.$current,a=A.params,l=s.path,t=O(i,o.relative),e=r["#"];if(!H(t)){var n={to:i,toParams:r,options:o},c=function(t,e,n,i){var r=b.$broadcast("$stateNotFound",t,e,n);if(r.defaultPrevented)return C.update(),E;if(!r.retry)return null;if(i.$retry)return C.update(),T;var o=A.transition=w.when(r.retry);return o.then(function(){return o!==A.transition?(b.$broadcast("$stateChangeCancel",t.to,t.toParams,e,n),S):(t.options.$retry=!0,A.transitionTo(t.to,t.toParams,t.options))},function(){return E}),C.update(),o}(n,s.self,a,o);if(c)return c;if(r=n.toParams,t=O(i=n.to,(o=n.options).relative),!H(t)){if(!o.relative)throw new Error("No such state '"+i+"'");throw new Error("Could not resolve '"+i+"' from state '"+o.relative+"'")}}if(t[P])throw new Error("Cannot transition to abstract state '"+i+"'");if(o.inherit&&(r=U(k,r||{},A.$current,t)),!t.params.$$validates(r))return T;r=t.params.$$values(r);var u=(i=t).path,h=0,d=u[h],f=M.locals,p=[];if(o.reload){if(R(o.reload)||F(o.reload)){if(F(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var g=!0===o.reload?l[0]:O(o.reload);if(o.reload&&!g)throw new Error("No such reload state '"+(R(o.reload)?o.reload:o.reload.name)+"'");for(;d&&d===l[h]&&d!==g;)f=p[h]=d.locals,d=u[++h]}}else for(;d&&d===l[h]&&d.ownParams.$$equals(r,a);)f=p[h]=d.locals,d=u[++h];if(function(t,e,n,i,r,o){if(!o.reload&&t===n&&(r===n.locals||!1===t.self.reloadOnSearch&&(s=n,a=i,l=e,c=s.params.$$keys().filter(function(t){return"search"!=s.params[t].location}),u=X.apply({},[s.params].concat(c)),new L.ParamSet(u).$$equals(a,l))))return!0;var s,a,l,c,u}(i,r,s,a,f,o))return e&&(r["#"]=e),A.params=r,W(A.params,k),W(G(i.params.$$keys(),k),i.locals.globals.$stateParams),o.location&&i.navigable&&i.navigable.url&&(C.push(i.navigable.url,r,{$$avoidResync:!0,replace:"replace"===o.location}),C.update(!0)),A.transition=null,w.when(A.current);if(r=G(i.params.$$keys(),r||{}),e&&(r["#"]=e),o.notify&&b.$broadcast("$stateChangeStart",i.self,r,s.self,a,o).defaultPrevented)return b.$broadcast("$stateChangeCancel",i.self,r,s.self,a),null==A.transition&&C.update(),$;for(var m=w.when(f),v=h;v<u.length;d=u[++v])f=p[v]=V(f),m=D(d,r,d===i,m,f,o);var y=A.transition=m.then(function(){var t,e,n;if(A.transition!==y)return b.$broadcast("$stateChangeCancel",i.self,r,s.self,a),S;for(t=l.length-1;h<=t;t--)(n=l[t]).self.onExit&&x.invoke(n.self.onExit,n.self,n.locals.globals),n.locals=null;for(t=h;t<u.length;t++)(e=u[t]).locals=p[t],e.self.onEnter&&x.invoke(e.self.onEnter,e.self,e.locals.globals);return A.transition!==y?(b.$broadcast("$stateChangeCancel",i.self,r,s.self,a),S):(A.$current=i,A.current=i.self,A.params=r,W(A.params,k),A.transition=null,o.location&&i.navigable&&C.push(i.navigable.url,i.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&b.$broadcast("$stateChangeSuccess",i.self,r,s.self,a),C.update(!0),A.current)}).then(null,function(t){return t===_?S:A.transition!==y?(b.$broadcast("$stateChangeCancel",i.self,r,s.self,a),S):(A.transition=null,b.$broadcast("$stateChangeError",i.self,r,s.self,a,t).defaultPrevented||C.update(),w.reject(t))});return y},A.is=function(t,e,n){var i=O(t,(n=B({relative:A.$current},n||{})).relative);return H(i)?A.$current===i&&(!e||d(i.params.$$values(e),k)):I},A.includes=function(t,e,n){if(n=B({relative:A.$current},n||{}),R(t)&&-1<t.indexOf("*")){if(!function(t){for(var e=t.split("."),n=A.$current.name.split("."),i=0,r=e.length;i<r;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(Y(n,e[1]))).unshift("**"),"**"===e[e.length-1]&&(n.splice(Y(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}(t))return!1;t=A.$current.name}var i=O(t,n.relative);if(!H(i))return I;if(!H(A.$current.includes[i.name]))return!1;if(!e)return!0;for(var r=q(e),o=0;o<r.length;o++){var s=r[o],a=i.params[s];if(a&&!a.type.equals(k[s],e[s]))return!1}return!0},A.href=function(t,e,n){var i=O(t,(n=B({lossy:!0,inherit:!0,absolute:!1,relative:A.$current},n||{})).relative);if(!H(i))return null;n.inherit&&(e=U(k,e||{},A.$current,i));var r=i&&n.lossy?i.navigable:i;return r&&r.url!==I&&null!==r.url?C.href(r.url,G(i.params.$$keys().concat("#"),e||{}),{absolute:n.absolute}):null},A.get=function(t,e){if(0===arguments.length)return K(q(h),function(t){return h[t].self});var n=O(t,e||A.$current);return n&&n.self?n.self:null},A}(M=c({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(t,e){if(R(t)&&!H(e))return l[t];if(!m(e)||!R(t))return this;l[t]&&!l.$delegates[t]&&(l.$delegates[t]=l[t]);return l[t]=e,this},this.state=function(t,e){F(t)?e=t:e.name=t;return c(e),this},(this.$get=t).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function s(){function t(t,i){return{load:function(t,e){var n;return(e=B({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},e)).view&&(n=i.fromConfig(e.view,e.params,e.locals)),n}}}(this.$get=t).$inject=["$rootScope","$templateFactory"]}function a(m,e,v,y,b){var t=e.has?function(t){return e.has(t)?e.get(t):null}:function(t){try{return e.get(t)}catch(t){return null}},n=t("$animator"),r=t("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,e,g){return function(o,s,a){var l,c,u,h,d=a.onload||"",f=a.autoscroll,p=function(t,e){if(r)return{enter:function(t,e,n){2<N.version.minor?r.enter(t,null,e).then(n):r.enter(t,null,e,n)},leave:function(t,e){2<N.version.minor?r.leave(t).then(e):r.leave(t,e)}};if(n){var i=n&&n(e,t);return{enter:function(t,e,n){i.enter(t,null,e),n()},leave:function(t,e){i.leave(t),e()}}}return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}}(a,o);s.inheritedData("$uiView");function t(t){var e,n=w(o,a,s,y),i=n&&m.$current&&m.$current.locals[n];if(t||i!==h){e=o.$new(),h=m.$current.locals[n],e.$emit("$viewContentLoading",n);var r=g(e,function(t){var e=b.defer(),n=b.defer(),i={$animEnter:e.promise,$animLeave:n.promise,$$animLeave:n};t.data("$uiViewAnim",i),p.enter(t,s,function(){e.resolve(),u&&u.$emit("$viewContentAnimationEnded"),(N.isDefined(f)&&!f||o.$eval(f))&&v(t)}),function(){if(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),c){var t=c.data("$uiViewAnim");p.leave(c,function(){t.$$animLeave.resolve(),l=null}),l=c,c=null}}()});c=r,(u=e).$emit("$viewContentLoaded",n),u.$eval(d)}}o.$on("$stateChangeSuccess",function(){t(!1)}),t(!0)}}}}function c(u,h,d,f){return{restrict:"ECA",priority:-400,compile:function(t){var c=t.html();return function(t,e,n){var i=d.$current,r=w(t,n,e,f),o=i&&i.locals[r];if(o){e.data("$uiView",{name:r,state:o.$$state}),e.html(o.$template?o.$template:c);var s=N.extend({},o);t[o.$$resolveAs]=s;var a=u(e.contents());if(o.$$controller){o.$scope=t,o.$element=e;var l=h(o.$$controller,o);o.$$controllerAs&&(t[o.$$controllerAs]=l,t[o.$$controllerAs][o.$$resolveAs]=s),m(l.$onInit)&&l.$onInit(),e.data("$ngControllerController",l),e.children().data("$ngControllerController",l)}a(t)}}}}}function w(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return 0<=r.indexOf("@")?r:r+"@"+(o?o.state.name:"")}function g(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),!(n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function v(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function y(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function b(o,s,a,l,c){return function(t){var e=t.which||t.button,n=c();if(!(1<e||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var i=a(function(){s.go(n.state,n.params,n.options)});t.preventDefault();var r=l.isAnchor&&!n.href?1:0;t.preventDefault=function(){r--<=0&&a.cancel(i)}}}}function u(d,f){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){var r,o,s=g(n.uiSref,d.current.name),a={state:s.state,href:null,params:null},l=y(e),c=i[1]||i[0],u=null;a.options=B((o=d,{relative:v(e)||o.$current,inherit:!0}),n.uiSrefOpts?t.$eval(n.uiSrefOpts):{});var h=function(t){t&&(a.params=N.copy(t)),a.href=d.href(s.state,a.params,a.options),u&&u(),c&&(u=c.$$addStateInfo(s.state,a.params)),null!==a.href&&n.$set(l.attr,a.href)};s.paramExpr&&(t.$watch(s.paramExpr,function(t){t!==a.params&&h(t)},!0),a.params=N.copy(t.$eval(s.paramExpr))),h(),l.clickable&&(r=b(e,d,f,l,function(){return a}),e[e.on?"on":"bind"]("click",r),t.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",r)}))}}}function h(h,d){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){var r,o=y(e),s=i[1]||i[0],a="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(t){return t||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null},c=null;function u(t){l.state=t[0],l.params=t[1],l.options=t[2],l.href=h.href(l.state,l.params,l.options),c&&c(),s&&(c=s.$$addStateInfo(l.state,l.params)),l.href&&n.$set(o.attr,l.href)}t.$watch(a,u,!0),u(t.$eval(a)),o.clickable&&(r=b(e,h,d,o,function(){return l}),e[e.on?"on":"bind"]("click",r),t.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",r)}))}}}function f(f,t,e){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(s,a,t,n){var o,i,l=[],c={};o=e(t.uiSrefActiveEq||"",!1)(s);try{i=s.$eval(t.uiSrefActive)}catch(t){}function r(t,e,n){var i=f.get(t,v(a)),r=function(t,e){if(!R(t))throw new Error("state should be a string");if(F(e))return t+p(e);if(e=s.$eval(e),F(e))return t+p(e);return t}(t,e),o={state:i||{name:t},params:e,hash:r};return l.push(o),c[r]=n,function(){var t=l.indexOf(o);-1!==t&&l.splice(t,1)}}function u(){for(var t=0;t<l.length;t++)i=l[t].state,r=l[t].params,f.includes(i.name,r)?h(a,c[l[t].hash]):d(a,c[l[t].hash]),e=l[t].state,n=l[t].params,f.is(e.name,n)?h(a,o):d(a,o);var e,n,i,r}function h(t,e){n(function(){t.addClass(e)})}function d(t,e){t.removeClass(e)}i=i||e(t.uiSrefActive||"",!1)(s),F(i)&&j(i,function(t,e){if(R(t)){var n=g(t,f.current.name);r(n.state,s.$eval(n.paramExpr),e)}}),this.$$addStateInfo=function(t,e){if(!(F(i)&&0<l.length)){var n=r(t,e,i);return u(),n}},s.$on("$stateChangeSuccess",u),u()}]}}function C(n){var t=function(t,e){return n.is(t,e)};return t.$stateful=!0,t}function $(i){var t=function(t,e,n){return i.includes(t,e,n)};return t.$stateful=!0,t}N.module("ui.router.util",["ng"]),N.module("ui.router.router",["ui.router.util"]),N.module("ui.router.state",["ui.router.router","ui.router.util"]),N.module("ui.router",["ui.router.state"]),N.module("ui.router.compat",["ui.router"]),e.$inject=["$q","$injector"],N.module("ui.router.util").service("$resolve",e),i.$inject=["$http","$templateCache","$injector"],N.module("ui.router.util").service("$templateFactory",i),l.prototype.concat=function(t,e){var n={caseInsensitive:L.caseInsensitive(),strict:L.strictMode(),squash:L.defaultSquashPolicy()};return new l(this.sourcePath+t+this.sourceSearch,B(n,e),this)},l.prototype.toString=function(){return this.source},l.prototype.exec=function(t,e){var n=this.regexp.exec(t);if(!n)return null;e=e||{};var i,r,o,s,a,l=this.parameters(),c=l.length,u=this.segments.length-1,h={};if(u!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function d(t){function e(t){return t.split("").reverse().join("")}return K(K(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}for(i=0;i<u;i++){for(o=l[i],s=this.params[o],a=n[i+1],r=0;r<s.replace.length;r++)s.replace[r].from===a&&(a=s.replace[r].to);a&&!0===s.array&&(a=d(a)),H(a)&&(a=s.type.decode(a)),h[o]=s.value(a)}for(;i<c;i++){for(h[o=l[i]]=this.params[o].value(e[o]),s=this.params[o],a=e[o],r=0;r<s.replace.length;r++)s.replace[r].from===a&&(a=s.replace[r].to);H(a)&&(a=s.type.decode(a)),h[o]=s.value(a)}return h},l.prototype.parameters=function(t){return H(t)?this.params[t]||null:this.$$paramNames},l.prototype.validates=function(t){return this.params.$$validates(t)},l.prototype.format=function(t){t=t||{};var e=this.segments,n=this.parameters(),i=this.params;if(!this.validates(t))return null;var r,o=!1,s=e.length-1,a=n.length,l=e[0];function c(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}for(r=0;r<a;r++){var u=r<s,h=n[r],d=i[h],f=d.value(t[h]),p=d.isOptional&&d.type.equals(d.value(),f),g=!!p&&d.squash,m=d.type.encode(f);if(u){var v=e[r+1],y=r+1===s;if(!1===g)null!=m&&(z(m)?l+=K(m,c).join("-"):l+=encodeURIComponent(m)),l+=v;else if(!0===g){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=v.match(b)[1]}else R(g)&&(l+=g+v);y&&!0===d.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==m||p&&!1!==g)continue;if(z(m)||(m=[m]),0===m.length)continue;l+=(o?"&":"?")+h+"="+(m=K(m,encodeURIComponent).join("&"+h+"=")),o=!0}}return l},S.prototype.is=function(t,e){return!0},S.prototype.encode=function(t,e){return t},S.prototype.decode=function(t,e){return t},S.prototype.equals=function(t,e){return t==e},S.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},S.prototype.pattern=/.*/,S.prototype.toString=function(){return"{Type:"+this.name+"}"},S.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},S.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,r){function e(t,e){return function(){return t[e].apply(t,arguments)}}function o(t){return z(t)?t:H(t)?[t]:[]}function s(t){return!t}function n(n,i){return function(t){if(z(t)&&0===t.length)return t;var e=K(t=o(t),n);return!0===i?0===_(e,s).length:function(t){switch(t.length){case 0:return I;case 1:return"auto"===r?t[0]:t;default:return t}}(e)}}var a;this.encode=n(e(t,"encode")),this.decode=n(e(t,"decode")),this.is=n(e(t,"is"),!0),this.equals=(a=e(t,"equals"),function(t,e){var n=o(t),i=o(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!a(n[r],i[r]))return!1;return!0}),this.pattern=t.pattern,this.$normalize=n(e(t,"$normalize")),this.name=t.name,this.$arrayMode=r}(this,t)},N.module("ui.router.util").provider("$urlMatcherFactory",function(){L=this;var n=!1,i=!0,w=!1;function t(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}var x,k={},r=!0,o=[],e={string:{encode:t,decode:function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t},is:function(t){return null==t||!H(t)||"string"==typeof t},pattern:/[^\/]*/},int:{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return H(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return!0===t||!1===t},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):I},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):I},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:N.toJson,decode:N.fromJson,is:N.isObject,equals:N.equals,pattern:/[^\/]*/},any:{encode:N.identity,decode:N.identity,equals:N.equals,pattern:/.*/}};function C(t){return m(t)||z(t)&&m(t[t.length-1])}function s(){for(;o.length;){var t=o.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");N.extend(k[t.name],x.invoke(t.def))}}function a(t){B(this,t||{})}(function(t){if(!C(t.value))return t.value;if(!x)throw new Error("Injectable functions cannot be called at configuration time");return x.invoke(t.value)}),this.caseInsensitive=function(t){return H(t)&&(n=t),n},this.strictMode=function(t){return H(t)&&(i=t),i},this.defaultSquashPolicy=function(t){if(!H(t))return w;if(!0!==t&&!1!==t&&!R(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return w=t},this.compile=function(t,e){return new l(t,B({strict:i,caseInsensitive:n},e))},this.isMatcher=function(n){if(!F(n))return!1;var i=!0;return j(l.prototype,function(t,e){m(t)&&(i=i&&H(n[e])&&m(n[e]))}),i},this.type=function(t,e,n){if(!H(e))return k[t];if(k.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return k[t]=new S(B({name:t},e)),n&&(o.push({name:t,def:n}),r||s()),this},j(e,function(t,e){k[e]=new S(B({name:e},t))}),k=V(k,{}),this.$get=["$injector",function(t){return x=t,r=!1,s(),j(e,function(t,e){k[e]||(k[e]=new S(t))}),this}],this.Param=function(i,t,r,e){var n,o,s=this;-1===Y(o=F(n=r)?q(n):[],"value")&&-1===Y(o,"type")&&-1===Y(o,"squash")&&-1===Y(o,"array")&&(n={value:n}),n.$$fn=C(n.value)?n.value:function(){return n.value},t=function(t,e,n){if(t.type&&e)throw new Error("Param '"+i+"' has two type configurations.");return e||(t.type?N.isString(t.type)?k[t.type]:t.type instanceof S?t.type:new S(t.type):"config"===n?k.any:k.string)}(r=n,t,e);var a,l,c=(a={array:"search"===e&&"auto"},l=i.match(/\[\]$/)?{array:!0}:{},B(a,l,r).array);"string"!==(t=c?t.$asArray(c,"search"===e):t).name||c||"path"!==e||r.value!==I||(r.value="");var u,h,d,f,p,g,m,v=r.value!==I,y=function(t,e){var n=t.squash;if(!e||!1===n)return!1;if(!H(n)||null==n)return w;if(!0===n||R(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,v),b=(h=c,f=y,m=[{from:"",to:(d=v)||h?I:""},{from:null,to:d||h?I:""}],p=z((u=r).replace)?u.replace:[],R(f)&&p.push({from:f,to:I}),g=K(p,function(t){return t.from}),_(m,function(t){return-1===Y(g,t.from)}).concat(p));B(this,{id:i,type:t,location:e,array:c,squash:y,replace:b,isOptional:v,value:function(t){var e,n,i;return e=t,t=(i=K(_(s.replace,(n=e,function(t){return t.from===n})),function(t){return t.to})).length?i[0]:e,H(t)?s.type.$normalize(t):function(){if(!x)throw new Error("Injectable functions cannot be called at configuration time");var t=x.invoke(r.$$fn);if(null!==t&&t!==I&&!s.type.is(t))throw new Error("Default value ("+t+") for parameter '"+s.id+"' is not an instance of Type ("+s.type.name+")");return t}()},dynamic:I,config:r,toString:function(){return"{Param:"+i+" "+t+" squash: '"+y+"' optional: "+v+"}"}})},a.prototype={$$new:function(){return V(this,B(new a,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=q(a.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),j(t,function(t){j(q(t),function(t){-1===Y(e,t)&&-1===Y(i,t)&&e.push(t)})}),e},$$values:function(e){var n={},i=this;return j(i.$$keys(),function(t){n[t]=i[t].value(e&&e[t])}),n},$$equals:function(i,r){var o=!0,s=this;return j(s.$$keys(),function(t){var e=i&&i[t],n=r&&r[t];s[t].type.equals(e,n)||(o=!1)}),o},$$validates:function(t){var e,n,i,r,o,s=this.$$keys();for(e=0;e<s.length&&(n=this[s[e]],(i=t[s[e]])!==I&&null!==i||!n.isOptional);e++){if(r=n.type.$normalize(i),!n.type.is(r))return!1;if(o=n.type.encode(r),N.isString(o)&&!n.type.pattern.exec(o))return!1}return!0},$$parent:I},this.ParamSet=a}),N.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),r.$inject=["$locationProvider","$urlMatcherFactoryProvider"],N.module("ui.router.router").provider("$urlRouter",r),o.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],N.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",o).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),s.$inject=[],N.module("ui.router.state").provider("$view",s),N.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(t,e){return n?t:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]}),a.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],c.$inject=["$compile","$controller","$state","$interpolate"],N.module("ui.router.state").directive("uiView",a),N.module("ui.router.state").directive("uiView",c),u.$inject=["$state","$timeout"],h.$inject=["$state","$timeout"],f.$inject=["$state","$stateParams","$interpolate"],N.module("ui.router.state").directive("uiSref",u).directive("uiSrefActive",f).directive("uiSrefActiveEq",f).directive("uiState",h),C.$inject=["$state"],$.$inject=["$state"],N.module("ui.router.state").filter("isState",C).filter("includedByState",$)}(window,window.angular),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(r,i){var a=r.eventSources,e=r.calendarWatchEvent?r.calendarWatchEvent:angular.noop,n=1;this.eventFingerprint=function(t){return t._id||(t._id=n++),""+t._id+(t.id||"")+(t.title||"")+(t.url||"")+(+t.start||"")+(+t.end||"")+(t.allDay||"")+(t.className||"")+e({event:t})||""};var o=1,s=1;this.sourceFingerprint=function(t){var e=""+(t.__id||(t.__id=o++)),n=angular.isObject(t)&&t.events;return n&&(e=e+"-"+(n.__id||(n.__id=s++))),e},this.allEvents=function(){for(var t=[],e=0,n=a.length;e<n;e++){var i=a[e];if(angular.isArray(i))t.push(i);else if(angular.isObject(i)&&angular.isArray(i.events)){var r={};for(var o in i)"_id"!==o&&"events"!==o&&(r[o]=i[o]);for(var s=0;s<i.events.length;s++)angular.extend(i.events[s],r);t.push(i.events)}}return Array.prototype.concat.apply([],t)},this.changeWatcher=function(s,h){var d,e=function(){for(var t,e,n=angular.isFunction(s)?s():s,i=[],r=0,o=n.length;r<o;r++)e=n[r],t=h(e),p[t]=e,i.push(t);return i},f=function(t,e){var n,i,r=[],o={};for(n=0,i=e.length;n<i;n++)o[e[n]]=!0;for(n=0,i=t.length;n<i;n++)o[t[n]]||r.push(t[n]);return r},p={};return d={subscribe:function(t,n){t.$watch(e,function(t,e){!(n&&!1===n(t,e))&&function(t,e){var n,i,r,o,s={},a=f(e,t);for(n=0,i=a.length;n<i;n++){var l=a[n];r=p[l],delete p[l];var c=h(r);c===l?d.onRemoved(r):(s[c]=l,d.onChanged(r))}var u=f(t,e);for(n=0,i=u.length;n<i;n++)o=u[n],r=p[o],s[o]||d.onAdded(r)}(t,e)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(t,e){var i={};return angular.extend(i,e),angular.extend(i,t),angular.forEach(i,function(t,e){var n;"function"==typeof t&&(i[e]=(n=i[e],function(){if(r.$root.$$phase)return n.apply(this,arguments);var t=arguments,e=this;return r.$root.$apply(function(){return n.apply(e,t)})}))}),i},this.getLocaleConfig=function(t){if(!t.lang||t.useNgLocale){var e=function(t){var e,n;for(n in e=[],t)e[n]=t[n];return e},n=i.DATETIME_FORMATS;return{monthNames:e(n.MONTH),monthNamesShort:e(n.SHORTMONTH),dayNames:e(n.DAY),dayNamesShort:e(n.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(u){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(o,t,s,a){var r,l=o.eventSources,e=!1,n=a.changeWatcher(l,a.sourceFingerprint),i=a.changeWatcher(a.allEvents,a.eventFingerprint),c=null;o.destroy=function(){r&&r.fullCalendar&&r.fullCalendar("destroy"),r=s.calendar?u.calendars[s.calendar]=$(t).html(""):$(t).html("")},o.init=function(){r.fullCalendar(c),s.calendar&&(u.calendars[s.calendar]=r)},n.onAdded=function(t){r.fullCalendar("addEventSource",t),e=!0},n.onRemoved=function(t){r.fullCalendar("removeEventSource",t),e=!0},n.onChanged=function(t){r.fullCalendar("refetchEvents"),e=!0},i.onAdded=function(t){r.fullCalendar("renderEvent",t,!!t.stick)},i.onRemoved=function(t){r.fullCalendar("removeEvents",t._id)},i.onChanged=function(t){for(var e=r.fullCalendar("clientEvents",t._id),n=0;n<e.length;n++){var i=e[n];i=angular.extend(i,t),r.fullCalendar("updateEvent",i)}},n.subscribe(o),i.subscribe(o,function(){if(!0===e)return e=!1}),o.$watch(function(){var t,e=s.uiCalendar?o.$parent.$eval(s.uiCalendar):{};t=a.getFullCalendarConfig(e,u);var n=a.getLocaleConfig(t);angular.extend(n,t),c={eventSources:l},angular.extend(c,n),c.calendars=null;var i={};for(var r in c)"eventSources"!==r&&(i[r]=c[r]);return JSON.stringify(i)},function(t,e){o.destroy(),o.init()})}}}]),function(t,x,k){"use strict";x.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(y,b,w){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(u,h,t,s){function n(t,e){var n="function"==typeof e;return"function"==typeof t&&n?function(){t.apply(this,arguments),e.apply(this,arguments)}:n?e:t}function o(t){var e=t.data("ui-sortable");return e&&"object"==typeof e&&"ui-sortable"===e.widgetFullName?e:null}function a(t,e){return m[t]?("stop"===t&&(e=n(e=n(e,function(){u.$apply()}),i)),e=n(m[t],e)):v[t]&&(e=v[t](e)),e||"items"!==t&&"ui-model-items"!==t||(e=y.items),e}function r(i,t,n){x.forEach(m,function(t,e){e in p||(p[e]=null)});var r,o=null;t&&x.forEach(t,function(t,e){if(!(i&&e in i)){if(e in g)return void(p[e]="ui-floating"===e?"auto":a(e,k));r||(r=x.element.ui.sortable().options);var n=r[e];n=a(e,n),o||(o={}),o[e]=n,p[e]=n}});return x.forEach(i,function(t,e){return e in g?("ui-floating"!==e||!1!==t&&!0!==t||!n||(n.floating=t),void(p[e]=a(e,t))):(t=a(e,t),o||(o={}),o[e]=t,void(p[e]=t))}),o}function l(t,e,n){var i,r,o=null;return i=e,("clone"===(r=t.sortable("option","helper"))||"function"==typeof r&&i.item.sortable.isCustomHelperUsed())&&"parent"===t.sortable("option","appendTo")&&(o=n.last()),o}function i(t,e){e.item.sortable._destroy()}function c(t){return t.parent().find(p["ui-model-items"]).index(t)}function e(){u.$watchCollection("ngModel",function(){b(function(){o(h)&&h.sortable("refresh")},0,!1)}),m.start=function(t,n){if("auto"===p["ui-floating"]){var e=n.item.siblings();o(x.element(t.target)).floating=/left|right/.test((i=e).css("float"))||/inline|table-cell/.test(i.css("display"))}var i,r=c(n.item);n.item.sortable={model:s.$modelValue[r],index:r,source:h,sourceList:n.item.parent(),sourceModel:s.$modelValue,cancel:function(){n.item.sortable._isCanceled=!0},isCanceled:function(){return n.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!n.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:n.item.sortable._isCustomHelperUsed,_destroy:function(){x.forEach(n.item.sortable,function(t,e){n.item.sortable[e]=k})},_connectedSortables:[],_getElementContext:function(t){return function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.element[0]===e[0])return i}}(this._connectedSortables,t)}}},m.activate=function(t,e){var n=e.item.sortable.source===h,i=n?e.item.sortable.sourceList:h,r={element:h,scope:u,isSourceContext:n,savedNodesOrigin:i};e.item.sortable._connectedSortables.push(r),f=i.contents();var o,s,a,l=function(t){var e=t.sortable("option","placeholder");if(e&&e.element&&"function"==typeof e.element){var n=e.element();return x.element(n)}return null}(h);if(l&&l.length){var c=(o=h,s=l,a=p["ui-model-items"].replace(/[^,]*>/g,""),o.find('[class="'+s.attr("class")+'"]:not('+a+")"));f=f.not(c)}},m.update=function(t,e){if(!e.item.sortable.received){e.item.sortable.dropindex=c(e.item);var n=e.item.closest("[ui-sortable]");e.item.sortable.droptarget=n,e.item.sortable.droptargetList=e.item.parent();var i=e.item.sortable._getElementContext(n);e.item.sortable.droptargetModel=i.scope.ngModel,h.sortable("cancel")}var r=!e.item.sortable.received&&l(h,e,f);r&&r.length&&(f=f.not(r));var o=e.item.sortable._getElementContext(h);f.appendTo(o.savedNodesOrigin),e.item.sortable.received&&(f=null),e.item.sortable.received&&!e.item.sortable.isCanceled()&&u.$apply(function(){s.$modelValue.splice(e.item.sortable.dropindex,0,e.item.sortable.moved)})},m.stop=function(t,e){var n="dropindex"in e.item.sortable&&!e.item.sortable.isCanceled();if(n&&!e.item.sortable.received)u.$apply(function(){s.$modelValue.splice(e.item.sortable.dropindex,0,s.$modelValue.splice(e.item.sortable.index,1)[0])});else if(!n&&!x.equals(h.contents().toArray(),f.toArray())){var i=l(h,e,f);i&&i.length&&(f=f.not(i));var r=e.item.sortable._getElementContext(h);f.appendTo(r.savedNodesOrigin)}f=null},m.receive=function(t,e){e.item.sortable.received=!0},m.remove=function(t,e){"dropindex"in e.item.sortable||(h.sortable("cancel"),e.item.sortable.cancel()),e.item.sortable.isCanceled()||u.$apply(function(){e.item.sortable.moved=s.$modelValue.splice(e.item.sortable.index,1)[0]})},v.helper=function(o){return o&&"function"==typeof o?function(t,n){var e=n.sortable,i=c(n);n.sortable={model:s.$modelValue[i],index:i,source:h,sourceList:n.parent(),sourceModel:s.$modelValue,_restore:function(){x.forEach(n.sortable,function(t,e){n.sortable[e]=k}),n.sortable=e}};var r=o.apply(this,arguments);return n.sortable._restore(),n.sortable._isCustomHelperUsed=n!==r,r}:o},u.$watchCollection("uiSortable",function(t,e){var n=o(h);if(n){var i=r(t,e,n);i&&h.sortable("option",i)}},!0),r(p)}function d(){return(!u.uiSortable||!u.uiSortable.disabled)&&(s?e():w.info("ui.sortable: ngModel not provided!",h),h.sortable(p),d.cancelWatcher(),d.cancelWatcher=x.noop,!0)}var f,p={},g={"ui-floating":k,"ui-model-items":y.items},m={receive:null,remove:null,start:null,stop:null,update:null},v={helper:null};return x.extend(p,g,y,u.uiSortable),x.element.fn&&x.element.fn.jquery?(d.cancelWatcher=x.noop,void(d()||(d.cancelWatcher=u.$watch("uiSortable.disabled",d)))):void w.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular),angular.module("xeditable",[]).value("editableOptions",{theme:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(t){return t({directiveName:"editableBsdate",inputTpl:'<input type="text">'})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(t){return t({directiveName:"editableBstime",inputTpl:"<timepicker></timepicker>",render:function(){this.parent.render.call(this);var t=angular.element('<div class="well well-small" style="display:inline-block;"></div>');t.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(t.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(t)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(t){return t({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.after(angular.element("<span></span>").text(this.attrs.eTitle)))},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(t,n){return t({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var t=n(this.attrs.eNgOptions),e='<label ng-repeat="'+t.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+t.locals.valueFn+'"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(e)}})}]),function(){var t="text|email|tel|number|url|search|color|date|datetime|time|month|week".split("|");angular.forEach(t,function(e){var n="editable"+e.charAt(0).toUpperCase()+e.slice(1);angular.module("xeditable").directive(n,["editableDirectiveFactory",function(t){return t({directiveName:n,inputTpl:'<input type="'+e+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(t){return t({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(t,n){return t({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var t=n(this.attrs.eNgOptions),e='<label ng-repeat="'+t.ngRepeat+'"><input type="radio" ng-model="$parent.$data" value="{{'+t.locals.valueFn+'}}"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(e)},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(t){return t({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var t=this;t.inputEl.bind("change",function(){t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(t){return t({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){this.parent.addListeners.call(this),this.single&&"no"!==this.buttons&&this.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){(t.ctrlKey||t.metaKey)&&13===t.keyCode&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(t,d){function e(n,o,i,e,t,s,r,a,l){var c,u,h=this;h.scope=n,h.elem=i,h.attrs=o,h.inputEl=null,h.editorEl=null,h.single=!0,h.error="",h.theme=t[s.theme]||t.default,h.parent={},h.inputTpl="",h.directiveName="",h.useCopy=!1,h.single=null,h.buttons="right",h.init=function(t){if(h.single=t,h.name=o.eName||o[h.directiveName],!o[h.directiveName])throw"You should provide value for `"+h.directiveName+"` in editable element!";c=e(o[h.directiveName]),h.buttons=h.single?h.attrs.buttons||s.buttons:"no",o.eName&&h.scope.$watch("$data",function(t){h.scope.$form.$data[o.eName]=t}),o.onshow&&(h.onshow=function(){return h.catchError(e(o.onshow)(n))}),o.onhide&&(h.onhide=function(){return e(o.onhide)(n)}),o.oncancel&&(h.oncancel=function(){return e(o.oncancel)(n)}),o.onbeforesave&&(h.onbeforesave=function(){return h.catchError(e(o.onbeforesave)(n))}),o.onaftersave&&(h.onaftersave=function(){return h.catchError(e(o.onaftersave)(n))}),n.$parent.$watch(o[h.directiveName],function(){h.handleEmpty()})},h.render=function(){var t=h.theme;for(var e in h.inputEl=angular.element(h.inputTpl),h.controlsEl=angular.element(t.controlsTpl),h.controlsEl.append(h.inputEl),"no"!==h.buttons&&(h.buttonsEl=angular.element(t.buttonsTpl),h.submitEl=angular.element(t.submitTpl),h.cancelEl=angular.element(t.cancelTpl),h.buttonsEl.append(h.submitEl).append(h.cancelEl),h.controlsEl.append(h.buttonsEl),h.inputEl.addClass("editable-has-buttons")),h.errorEl=angular.element(t.errorTpl),h.controlsEl.append(h.errorEl),h.editorEl=angular.element(h.single?t.formTpl:t.noformTpl),h.editorEl.append(h.controlsEl),o.$attr)if(!(e.length<=1)){var n=!1,i=e.substring(1,2);if("e"===e.substring(0,1)&&i===i.toUpperCase()&&("Form"!==(n=e.substring(1))&&"NgSubmit"!==n)){n=n.substring(0,1).toLowerCase()+d.camelToDash(n.substring(1));var r=""===o[e]?n:o[e];h.inputEl.attr(n,r)}}h.inputEl.addClass("editable-input"),h.inputEl.attr("ng-model","$data"),h.editorEl.addClass(d.camelToDash(h.directiveName)),h.single&&(h.editorEl.attr("editable-form","$form"),h.editorEl.attr("blur",h.attrs.blur||("no"===h.buttons?"cancel":s.blurElem))),angular.isFunction(t.postrender)&&t.postrender.call(h)},h.setLocalValue=function(){h.scope.$data=h.useCopy?angular.copy(c(n.$parent)):c(n.$parent)},h.show=function(){return h.setLocalValue(),h.render(),i.after(h.editorEl),a(h.editorEl)(n),h.addListeners(),i.addClass("editable-hide"),h.onshow()},h.hide=function(){return h.editorEl.remove(),i.removeClass("editable-hide"),h.onhide()},h.cancel=function(){h.oncancel()},h.addListeners=function(){h.inputEl.bind("keyup",function(t){if(h.single)switch(t.keyCode){case 27:h.scope.$apply(function(){h.scope.$form.$cancel()})}}),h.single&&"no"===h.buttons&&h.autosubmit(),h.editorEl.bind("click",function(t){1===t.which&&h.scope.$form.$visible&&(h.scope.$form._clicked=!0)})},h.setWaiting=function(t){t?(u=!h.inputEl.attr("disabled")&&!h.inputEl.attr("ng-disabled")&&!h.inputEl.attr("ng-enabled"))&&(h.inputEl.attr("disabled","disabled"),h.buttonsEl&&h.buttonsEl.find("button").attr("disabled","disabled")):u&&(h.inputEl.removeAttr("disabled"),h.buttonsEl&&h.buttonsEl.find("button").removeAttr("disabled"))},h.activate=function(){setTimeout(function(){var t=h.inputEl[0];"focus"===s.activate&&t.focus&&t.focus(),"select"===s.activate&&t.select&&t.select()},0)},h.setError=function(t){angular.isObject(t)||(n.$error=t,h.error=t)},h.catchError=function(t,e){return angular.isObject(t)&&!0!==e?l.when(t).then(angular.bind(this,function(t){this.catchError(t,!0)}),angular.bind(this,function(t){this.catchError(t,!0)})):e&&angular.isObject(t)&&t.status&&200!==t.status&&t.data&&angular.isString(t.data)?(this.setError(t.data),t=t.data):angular.isString(t)&&this.setError(t),t},h.save=function(){c.assign(n.$parent,angular.copy(h.scope.$data))},h.handleEmpty=function(){var t=c(n.$parent),e=null==t||""===t||angular.isArray(t)&&0===t.length;i.toggleClass("editable-empty",e)},h.autosubmit=angular.noop,h.onshow=angular.noop,h.onhide=angular.noop,h.oncancel=angular.noop,h.onbeforesave=angular.noop,h.onaftersave=angular.noop}return e.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableOptions","$rootScope","$compile","$q"],e}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController",function(u,t,e,h,d,n,f){return function(c){return{restrict:"A",scope:!0,require:[c.directiveName,"?^form"],controller:n,link:function(e,t,n,i){var r,o=i[0],s=!1;if(i[1])r=i[1],s=!0;else if(n.eForm){var a=u(n.eForm)(e);if(a)r=a,s=!0;else for(var l=0;l<d[0].forms.length;l++)if(d[0].forms[l].name===n.eForm){r=null,s=!0;break}}if(angular.forEach(c,function(t,e){void 0!==o[e]&&(o.parent[e]=o[e])}),angular.extend(o,c),o.init(!s),e.$editable=o,t.addClass("editable"),s)if(r){if(e.$form=r,!e.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";e.$form.$addEditable(o)}else h.$$editableBuffer=h.$$editableBuffer||{},h.$$editableBuffer[n.eForm]=h.$$editableBuffer[n.eForm]||[],h.$$editableBuffer[n.eForm].push(o),e.$form=null;else e.$form=f(),e.$form.$addEditable(o),n.eForm&&(e.$parent[n.eForm]=e.$form),n.eForm||(t.addClass("editable-click"),t.bind("click",function(t){t.preventDefault(),t.editable=o,e.$apply(function(){e.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(t,e,r,n,i){var o=[];e.bind("click",function(t){if(1===t.which){for(var e=[],n=[],i=0;i<o.length;i++)o[i]._clicked?o[i]._clicked=!1:o[i].$waiting||("cancel"===o[i]._blur&&e.push(o[i]),"submit"===o[i]._blur&&n.push(o[i]));(e.length||n.length)&&r.$apply(function(){angular.forEach(e,function(t){t.$cancel()}),angular.forEach(n,function(t){t.$submit()})})}});var s={$addEditable:function(t){this.$editables.push(t),t.elem.bind("$destroy",angular.bind(this,this.$removeEditable,t)),t.scope.$form||(t.scope.$form=this),this.$visible&&t.catchError(t.show())},$removeEditable:function(t){for(var e=0;e<this.$editables.length;e++)if(this.$editables[e]===t)return void this.$editables.splice(e,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=n();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===i.indexOf(o,this)&&o.push(this)}),0)}},$activate:function(t){var e;if(this.$editables.length){if(angular.isString(t))for(e=0;e<this.$editables.length;e++)if(this.$editables[e].name===t)return void this.$editables[e].activate();for(e=0;e<this.$editables.length;e++)if(this.$editables[e].error)return void this.$editables[e].activate();this.$editables[0].activate()}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(t){t.hide()}),i.arrayRemove(o,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(t){t.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,n){angular.forEach(this.$editables,function(t){e&&t.name!==e||t.setError(n)})},$submit:function(){function t(t){var e=n();e.when(this.$onbeforesave()),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:t?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var e=n();angular.forEach(this.$editables,function(t){e.when(t.onbeforesave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,t,!0),onFalse:angular.bind(this,t,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(t){t.save()});var e=n();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},s)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(l,o,c,s){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,e,n,i){var r,o=i[0];n.editableForm?t[n.editableForm]&&t[n.editableForm].$show?(r=t[n.editableForm],angular.extend(o,r)):(r=c(),t[n.editableForm]=r,angular.extend(r,o)):(r=c(),angular.extend(o,r));var s=l.$$editableBuffer,a=o.$name;a&&s&&s[a]&&(angular.forEach(s[a],function(t){r.$addEditable(t)}),delete s[a])},post:function(e,t,n,i){var r;r=n.editableForm&&e[n.editableForm]&&e[n.editableForm].$show?e[n.editableForm]:i[0],n.onshow&&(r.$onshow=angular.bind(r,o(n.onshow),e)),n.onhide&&(r.$onhide=angular.bind(r,o(n.onhide),e)),n.oncancel&&(r.$oncancel=angular.bind(r,o(n.oncancel),e)),n.shown&&o(n.shown)(e)&&r.$show(),r._blur=n.blur||s.blurForm,n.ngSubmit||n.submit||(n.onbeforesave&&(r.$onbeforesave=function(){return o(n.onbeforesave)(e,{$data:r.$data})}),n.onaftersave&&(r.$onaftersave=function(){return o(n.onaftersave)(e,{$data:r.$data})}),t.bind("submit",function(t){t.preventDefault(),e.$apply(function(){r.$submit()})})),t.bind("click",function(t){1===t.which&&r.$visible&&(r._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(a){return function(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,e){if(!1===t)this.hasFalse=!0;else if(!e&&angular.isObject(t))this.promises.push(a.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function e(){s.hasString||s.hasFalse?!s.hasString&&s.hasFalse?i():r():n()}var n=(t=t||{}).onTrue||angular.noop,i=t.onFalse||angular.noop,r=t.onString||angular.noop,o=t.onWait||angular.noop,s=this;this.promises.length?(o(!0),a.all(this.promises).then(function(t){o(!1),angular.forEach(t,function(t){s.when(t,!0)}),e()},function(){o(!1),r()})):e()}}}}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},arrayRemove:function(t,e){var n=this.indexOf(t,e);return 0<=n&&t.splice(n,1),e},camelToDash:function(t){return t.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()})},dashToCamel:function(t){return t.replace(/([\:\-\_]+(.))/g,function(t,e,n,i){return i?n.toUpperCase():n}).replace(/^moz([A-Z])/,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){var u=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return function(t){var e;if(!(e=t.match(u)))throw"ng-options parse error";var n,i=e[2]||e[1],r=e[4]||e[6],o=e[5],s=(e[3],e[2]?e[1]:r),a=e[7],l=e[8],c=l?e[8]:null;return void 0===o?(n=r+" in "+a,void 0!==l&&(n+=" track by "+c)):n="("+o+", "+r+") in "+a,{ngRepeat:n,locals:{valueName:r,keyName:o,valueFn:s,displayFn:i}}}}]),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="icon-ok icon-white"></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span class="icon-remove"></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}}}),function(h,x,k,C){"use strict";var _=x.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(b,f,w){this.draggableScope=null,this.droppableScope=null,k("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(e,t,n,i){if(t){var r=(c=-1!==(l=t).indexOf("(")?l.indexOf("("):l.length,u=-1!==l.lastIndexOf(")")?l.lastIndexOf(")"):l.length,h=l.substring(c+1,u),d=-1!==l.indexOf(".")?l.substr(0,l.indexOf(".")):null,d=e[d]&&"function"==typeof e[d].constructor?d:null,{callback:l.substring(d&&d.length+1||0,c),args:k.map(h&&h.split(",")||[],function(t){return[f(t)(e)]}),constructor:d}),o=r.callback,s=r.constructor,a=[n,i].concat(r.args);return(e[o]||e[s][o]).apply(e[o]?e:e[s],a)}var l,c,u,h,d},this.invokeDrop=function(e,n,i,r){var o,s,a,l,c,u,h={},d={},f={},p={},g=null,m=this.droppableScope,v=this.draggableScope,y=null,t=[];l=e.ngattr("ng-model"),c=n.ngattr("ng-model"),o=v.$eval(l),s=m.$eval(c),g=n.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),d=m.$eval(n.attr("jqyoui-droppable")||n.attr("data-jqyoui-droppable"))||[],(h=v.$eval(e.attr("jqyoui-draggable")||e.attr("data-jqyoui-draggable"))||[]).index=this.fixIndex(v,h,o),d.index=this.fixIndex(m,d,s),u=x.isArray(o)?h.index:null,f=x.isArray(o)?o[u]:o,h.deepCopy&&(f=x.copy(f)),p=x.isArray(s)&&d&&d.index!==C?s[d.index]:x.isArray(s)?{}:s,d.deepCopy&&(p=x.copy(p)),h.beforeDrop&&t.push(this.callEventCallback(v,h.beforeDrop,i,r)),w.all(t).then(x.bind(this,function(){if(h.insertInline&&l===c){if(h.index>d.index){a=o[h.index];for(var t=h.index;t>d.index;t--)s[t]=x.copy(s[t-1]),s[t-1]={},s[t][h.direction]="left";s[d.index]=a}else{a=o[h.index];for(t=h.index;t<d.index;t++)s[t]=x.copy(s[t+1]),s[t+1]={},s[t][h.direction]="right";s[d.index]=a}this.callEventCallback(m,d.onDrop,i,r)}else!0===h.animate?((y=e.clone()).css({position:"absolute"}).css(e.offset()),k("body").append(y),e.addClass("angular-dragdrop-hide"),this.move(y,0<g.length?g:n,null,"fast",d,function(){y.remove()}),this.move(0<g.length&&!d.multiple?g:[],e.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),_.startXY,"fast",d,x.bind(this,function(){b(x.bind(this,function(){e.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),g.css({position:"relative",left:"",top:"",display:"none"===g.css("display")?"":g.css("display")}),this.mutateDraggable(v,d,h,l,c,p,e),this.mutateDroppable(m,d,h,c,f,u),this.callEventCallback(m,d.onDrop,i,r)}))}))):b(x.bind(this,function(){this.mutateDraggable(v,d,h,l,c,p,e),this.mutateDroppable(m,d,h,c,f,u),this.callEventCallback(m,d.onDrop,i,r)}))})).finally(x.bind(this,function(){this.restore(e)}))},this.move=function(t,e,n,i,r,o){if(0===t.length)return o&&h.setTimeout(function(){o()},300),!1;var s=t.css("z-index"),a=t[r.containment||"offset"](),l=e.css("display"),c=e.hasClass("ng-hide"),u=e.hasClass("angular-dragdrop-hide");null===n&&0<e.length&&((e.attr("jqyoui-draggable")||e.attr("data-jqyoui-draggable"))!==C&&e.ngattr("ng-model")!==C&&e.is(":visible")&&r&&r.multiple?(n=e[r.containment||"offset"](),!1===r.stack?n.left+=e.outerWidth(!0):n.top+=e.outerHeight(!0)):(c&&e.removeClass("ng-hide"),u&&e.removeClass("angular-dragdrop-hide"),n=e.css({visibility:"hidden",display:"block"})[r.containment||"offset"](),e.css({visibility:"",display:l}))),t.css({position:"absolute","z-index":9999}).css(a).animate(n,i,function(){c&&e.addClass("ng-hide"),u&&e.addClass("angular-dragdrop-hide"),t.css("z-index",s),o&&o()})},this.mutateDroppable=function(t,e,n,i,r,o){var s=t.$eval(i);t.dndDragItem=r,x.isArray(s)?(e&&0<=e.index?s[e.index]=r:s.push(r),n&&!0===n.placeholder&&(s[s.length-1].jqyoui_pos=o)):(f(i+" = dndDragItem")(t),n&&!0===n.placeholder&&(s.jqyoui_pos=o))},this.mutateDraggable=function(t,e,n,i,r,o,s){var a=x.equals(o,{})||!o,l=t.$eval(i);t.dndDropItem=o,n&&n.placeholder?"keep"!=n.placeholder&&(x.isArray(l)&&n.index!==C?l[n.index]=o:f(i+" = dndDropItem")(t)):x.isArray(l)?a?n&&!0!==n.placeholder&&"keep"!==n.placeholder&&l.splice(n.index,1):l[n.index]=o:(f(i+" = dndDropItem")(t),t.$parent&&f(i+" = dndDropItem")(t.$parent)),this.restore(s)},this.restore=function(t){t.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,e,n){if(e.applyFilter&&x.isArray(n)&&0<n.length){var i=t[e.applyFilter]()[e.index],r=C;return n.forEach(function(t,e){x.equals(t,i)&&(r=e)}),r}return e.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(c){return{require:"?jqyouiDroppable",restrict:"A",link:function(n,t,i){var r,o,s,a,l=k(t),e=function(t,e){t?(r=n.$eval(l.attr("jqyoui-draggable")||l.attr("data-jqyoui-draggable"))||{},o=n.$eval(i.jqyouiOptions)||{},l.draggable({disabled:!1}).draggable(o).draggable({start:function(t,e){c.draggableScope=n,s=k(o.helper?e.helper:this).css("z-index"),k(o.helper?e.helper:this).css("z-index",9999),_.startXY=k(this)[r.containment||"offset"](),c.callEventCallback(n,r.onStart,t,e)},stop:function(t,e){k(o.helper?e.helper:this).css("z-index",s),c.callEventCallback(n,r.onStop,t,e)},drag:function(t,e){c.callEventCallback(n,r.onDrag,t,e)}})):l.draggable({disabled:!0}),a&&x.isDefined(t)&&(x.equals(i.drag,"true")||x.equals(i.drag,"false"))&&(a(),a=null)};a=n.$watch(function(){return n.$eval(i.drag)},e),e(),l.on("$destroy",function(){l.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(l,c){return{restrict:"A",priority:1,link:function(i,t,r){var o,s,n,a=k(t),e=function(t,e){t?(o=i.$eval(k(a).attr("jqyoui-droppable")||k(a).attr("data-jqyoui-droppable"))||{},s=i.$eval(r.jqyouiOptions)||{},a.droppable({disabled:!1}).droppable(s).droppable({over:function(t,e){l.callEventCallback(i,o.onOver,t,e)},out:function(t,e){l.callEventCallback(i,o.onOut,t,e)},drop:function(t,e){var n;(o.beforeDrop?l.callEventCallback(i,o.beforeDrop,t,e):((n=c.defer()).resolve(),n.promise)).then(x.bind(this,function(){k(e.draggable).ngattr("ng-model")&&r.ngModel?(l.droppableScope=i,l.invokeDrop(k(e.draggable),k(this),t,e)):l.callEventCallback(i,o.onDrop,t,e)}),function(){e.draggable.animate({left:"",top:""},s.revertDuration||0)})}})):a.droppable({disabled:!0}),n&&x.isDefined(t)&&(x.equals(r.drop,"true")||x.equals(r.drop,"false"))&&(n(),n=null)};n=i.$watch(function(){return i.$eval(r.drop)},e),e(),a.on("$destroy",function(){a.droppable({disabled:!0}).droppable("destroy")})}}}]);k.fn.ngattr=function(t,e){var n=this[0];return n.getAttribute(t)||n.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(e){"use strict";var n=e.storageKey(),i=e.storage(),t=function(){var t=e.preferredLanguage();angular.isString(t)?e.use(t):i.put(n,e.use())};t.displayName="fallbackFromIncorrectStorageValue",i?i.get(n)?e.use(i.get(n)).catch(t):t():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function e(t,r,e,o){"use strict";var P,u,O,N,I,L,H,n,R,F,z,j,B,W,V,q,Y={},U=[],G=t,X=[],K="translate-cloak",Z=!1,Q=!1,J=".",tt=!1,et=!1,nt=0,it=!0,i="default",s={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return 1<n.length?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return 1<n.length?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},a=function(){if(angular.isFunction(o.getLocale))return o.getLocale();var t,e,n=r.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(t=0;t<n.languages.length;t++)if((e=n.languages[t])&&e.length)return e;for(t=0;t<i.length;t++)if((e=n[i[t]])&&e.length)return e;return null};a.displayName="angular-translate/service: getFirstBrowserLanguage";var rt=function(){var t=a()||"";return s[i]&&(t=s[i](t)),t};rt.displayName="angular-translate/service: getLocale";var ot=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},st=function(){return this.toString().replace(/^\s+|\s+$/g,"")},at=function(t){if(t){for(var e=[],n=angular.lowercase(t),i=0,r=U.length;i<r;i++)e.push(angular.lowercase(U[i]));if(-1<ot(e,n))return t;var o;if(u)for(var s in u)if(u.hasOwnProperty(s)){var a=!1,l=Object.prototype.hasOwnProperty.call(u,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(a=s.slice(0,-1)===t.slice(0,s.length-1)),(l||a)&&(o=u[s],-1<ot(e,angular.lowercase(o))))return o}var c=t.split("_");return 1<c.length&&-1<ot(e,angular.lowercase(c[0]))?c[0]:void 0}},lt=function(t,e){if(!t&&!e)return Y;if(t&&!e){if(angular.isString(t))return Y[t]}else angular.isObject(Y[t])||(Y[t]={}),angular.extend(Y[t],ct(e));return this};this.translations=lt,this.cloakClassName=function(t){return t?(K=t,this):K},this.nestedObjectDelimeter=function(t){return t?(J=t,this):J};var ct=function(t,e,n,i){var r,o,s;for(r in e||(e=[]),n||(n={}),t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?ct(s,e.concat(r),n,r):(o=e.length?""+e.join(J)+J+r:r,e.length&&r===i&&(n[""+e.join(J)]="@:"+o),n[o]=s));return n};ct.displayName="flatObject",this.addInterpolation=function(t){return X.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return F=t,this},this.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},this.preferredLanguage=function(t){return t?(ut(t),this):P};var ut=function(t){return t&&(P=t),P};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(B=t,this):B},this.translationNotFoundIndicatorRight=function(t){return t?(W=t,this):W},this.fallbackLanguage=function(t){return ht(t),this};var ht=function(t){return t?(angular.isString(t)?(N=!0,O=[t]):angular.isArray(t)&&(N=!1,O=t),angular.isString(P)&&ot(O,P)<0&&O.push(P),this):N?O[0]:O};this.use=function(t){if(t){if(!Y[t]&&!z)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return I=t,this}return I},this.resolveClientLocale=function(){return rt()};var dt=function(t){return t?(G=t,this):n?n+G:G};this.storageKey=dt,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return z=t,j=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return H=t,this},this.storagePrefix=function(t){return t?(n=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return R=t,this},this.usePostCompiling=function(t){return Z=!!t,this},this.forceAsyncReload=function(t){return Q=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},i=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():rt();return P=U.length&&at(e)||e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(U=t,e&&(u=e),this):U},this.useLoaderCache=function(t){return!1===t?V=void 0:!0===t?V=!0:void 0===t?V="$translationCache":t&&(V=t),this},this.directivePriority=function(t){return void 0===t?nt:(nt=t,this)},this.statefulFilter=function(t){return void 0===t?it:(it=t,this)},this.postProcess=function(t){return q=t||void 0,this},this.keepContent=function(t){return et=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,a,u,g){var o,m,v,y=a.get(F||"$translateDefaultInterpolation"),b=!1,w={},h={},x=function(t,s,a,l,c){!I&&P&&(I=P);var i=c&&c!==I?at(c)||c:I;if(c&&T(c),angular.isArray(t)){return function(t){for(var i={},e=[],n=function(e){var n=g.defer(),t=function(t){i[e]=t,n.resolve([e,t])};return x(e,s,a,l,c).then(t,t),n.promise},r=0,o=t.length;r<o;r++)e.push(n(t[r]));return g.all(e).then(function(){return i})}(t)}var e=g.defer();t&&(t=st.apply(t));var n=function(){var t=P?h[P]:h[i];if(m=0,H&&!t){var e=o.get(G);if(t=h[e],O&&O.length){var n=ot(O,e);m=0===n?1:0,ot(O,P)<0&&O.push(P)}}return t}();if(n){var r=function(){c||(i=I),S(t,s,a,l,i).then(e.resolve,e.reject)};r.displayName="promiseResolved",n.finally(r)}else S(t,s,a,l,i).then(e.resolve,e.reject);return e.promise},k=function(t){return B&&(t=[B,t].join(" ")),W&&(t=[t,W].join(" ")),t},d=function(t){I=t,H&&o.put(x.storageKey(),I),u.$emit("$translateChangeSuccess",{language:t}),y.setLocale(I);var e=function(t,e){w[e].setLocale(I)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(w,e),u.$emit("$translateChangeEnd",{language:t})},f=function(n){if(!n)throw"No language key specified for loading.";var i=g.defer();u.$emit("$translateLoadingStart",{language:n}),b=!0;var t=V;"string"==typeof t&&(t=a.get(t));var e=angular.extend({},j,{key:n,$http:angular.extend({},{cache:t},j.$http)}),r=function(t){var e={};u.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(t)?angular.forEach(t,function(t){angular.extend(e,ct(t))}):angular.extend(e,ct(t)),b=!1,i.resolve({key:n,table:e}),u.$emit("$translateLoadingEnd",{language:n})};r.displayName="onLoaderSuccess";var o=function(t){u.$emit("$translateLoadingError",{language:t}),i.reject(t),u.$emit("$translateLoadingEnd",{language:t})};return o.displayName="onLoaderError",a.get(z)(e).then(r,o),i.promise};if(H&&(!(o=a.get(H)).get||!o.put))throw new Error("Couldn't use storage '"+H+"', missing get() or put() method!");if(X.length){var e=function(t){var e=a.get(t);e.setLocale(P||I),w[e.getInterpolationIdentifier()]=e};e.displayName="interpolationFactoryAdder",angular.forEach(X,e)}var l=function(i,r,o,s){var a=g.defer(),t=function(t){if(Object.prototype.hasOwnProperty.call(t,r)){s.setLocale(i);var e=t[r];if("@:"===e.substr(0,2))l(i,e.substr(2),o,s).then(a.resolve,a.reject);else{var n=s.interpolate(t[r],o,"service");n=E(r,t[r],n,o,i),a.resolve(n)}s.setLocale(I)}else a.reject()};return t.displayName="fallbackTranslationResolver",function(t){var e=g.defer();if(Object.prototype.hasOwnProperty.call(Y,t))e.resolve(Y[t]);else if(h[t]){var n=function(t){lt(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",h[t].then(n,e.reject)}else e.reject();return e.promise}(i).then(t,a.reject),a.promise},c=function(t,e,n,i,r){var o,s=Y[t];if(s&&Object.prototype.hasOwnProperty.call(s,e)){if(i.setLocale(t),o=i.interpolate(s[e],n,"filter",r),o=E(e,s[e],o,n,t,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var a=o.$$unwrapTrustedValue();if("@:"===a.substr(0,2))return c(t,a.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return c(t,o.substr(2),n,i,r);i.setLocale(I)}return o},C=function(t,e,n,i){return R?a.get(R)(t,I,e,n,i):t},_=function(t,e,n,i,r){var o=g.defer();if(t<O.length){var s=O[t];l(s,e,n,i).then(function(t){o.resolve(t)},function(){return _(t+1,e,n,i,r).then(o.resolve,o.reject)})}else if(r)o.resolve(r);else{var a=C(e,n,r);R&&a?o.resolve(a):o.reject(k(e))}return o.promise},p=function(t,e,n,i,r){var o;if(t<O.length){var s=O[t];(o=c(s,e,n,i,r))||""===o||(o=p(t+1,e,n,i))}return o},S=function(t,e,n,i,r){var o,s,a,l,c=g.defer(),u=r?Y[r]:Y,h=n?w[n]:y;if(u&&Object.prototype.hasOwnProperty.call(u,t)){var d=u[t];if("@:"===d.substr(0,2))x(d.substr(2),e,n,i,r).then(c.resolve,c.reject);else{var f=h.interpolate(d,e,"service");f=E(t,d,f,e,r),c.resolve(f)}}else{var p;R&&!b&&(p=C(t,e,i)),r&&O&&O.length?(o=t,s=e,a=h,l=i,_(0<v?v:m,o,s,a,l)).then(function(t){c.resolve(t)},function(t){c.reject(k(t))}):R&&!b&&p?i?c.resolve(i):c.resolve(p):i?c.resolve(i):c.reject(k(t))}return c.promise},$=function(t,e,n,i,r){var o,s=i?Y[i]:Y,a=y;if(w&&Object.prototype.hasOwnProperty.call(w,n)&&(a=w[n]),s&&Object.prototype.hasOwnProperty.call(s,t)){var l=s[t];"@:"===l.substr(0,2)?o=$(l.substr(2),e,n,i,r):(o=a.interpolate(l,e,"filter",r),o=E(t,l,o,e,i,r))}else{var c;R&&!b&&(c=C(t,e,r)),i&&O&&O.length?o=p((m=0)<v?v:m,t,e,a,r):o=R&&!b&&c?c:k(t)}return o},E=function(t,e,n,i,r,o){var s=q;return s&&("string"==typeof s&&(s=a.get(s)),s)?s(t,e,n,i,r,o):n},T=function(t){Y[t]||!z||h[t]||(h[t]=f(t).then(function(t){return lt(t.key,t.table),t}))};x.preferredLanguage=function(t){return t&&ut(t),P},x.cloakClassName=function(){return K},x.nestedObjectDelimeter=function(){return J},x.fallbackLanguage=function(t){if(null!=t){if(ht(t),z&&O&&O.length)for(var e=0,n=O.length;e<n;e++)h[O[e]]||(h[O[e]]=f(O[e]));x.use(x.use())}return N?O[0]:O},x.useFallbackLanguage=function(t){if(null!=t)if(t){var e=ot(O,t);-1<e&&(v=e)}else v=0},x.proposedLanguage=function(){return L},x.storage=function(){return o},x.negotiateLocale=at,x.use=function(e){if(!e)return I;var n=g.defer();u.$emit("$translateChangeStart",{language:e});var t=at(e);return 0<U.length&&!t?g.reject(e):(t&&(e=t),L=e,!Q&&Y[e]||!z||h[e]?h[e]?h[e].then(function(t){return L===t.key&&d(t.key),n.resolve(t.key),t},function(t){return!I&&O&&0<O.length&&O[0]!==t?x.use(O[0]).then(n.resolve,n.reject):n.reject(t)}):(n.resolve(e),d(e)):(h[e]=f(e).then(function(t){return lt(t.key,t.table),n.resolve(t.key),L===e&&d(t.key),t},function(t){return u.$emit("$translateChangeError",{language:t}),n.reject(t),u.$emit("$translateChangeEnd",{language:t}),g.reject(t)}),h[e].finally(function(){var t;L===(t=e)&&(L=void 0),h[t]=void 0})),n.promise)},x.resolveClientLocale=function(){return rt()},x.storageKey=function(){return dt()},x.isPostCompilingEnabled=function(){return Z},x.isForceAsyncReloadEnabled=function(){return Q},x.isKeepContent=function(){return et},x.refresh=function(e){function n(){i.resolve(),u.$emit("$translateRefreshEnd",{language:e})}function t(){i.reject(),u.$emit("$translateRefreshEnd",{language:e})}if(!z)throw new Error("Couldn't refresh translation table, no loader registered!");var i=g.defer();if(u.$emit("$translateRefreshStart",{language:e}),e)if(Y[e]){var r=function(t){return lt(t.key,t.table),e===I&&d(I),n(),t};r.displayName="refreshPostProcessor",f(e).then(r,t)}else t();else{var o=[],s={};if(O&&O.length)for(var a=0,l=O.length;a<l;a++)o.push(f(O[a])),s[O[a]]=!0;I&&!s[I]&&o.push(f(I));var c=function(t){Y={},angular.forEach(t,function(t){lt(t.key,t.table)}),I&&d(I),n()};c.displayName="refreshPostProcessor",g.all(o).then(c,t)}return i.promise},x.instant=function(t,e,n,i,r){var o=i&&i!==I?at(i)||i:I;if(null===t||angular.isUndefined(t))return t;if(i&&T(i),angular.isArray(t)){for(var s={},a=0,l=t.length;a<l;a++)s[t[a]]=x.instant(t[a],e,n,i,r);return s}if(angular.isString(t)&&t.length<1)return t;t&&(t=st.apply(t));var c,u=[];P&&u.push(P),o&&u.push(o),O&&O.length&&(u=u.concat(O));for(var h=0,d=u.length;h<d;h++){var f=u[h];if(Y[f]&&void 0!==Y[f][t]&&(c=$(t,e,n,o,r)),void 0!==c)break}if(!c&&""!==c)if(B||W)c=k(t);else{var p;c=y.interpolate(t,e,"filter",r),R&&!b&&(p=C(t,e,r)),R&&!b&&p&&(c=p)}return c},x.versionInfo=function(){return"2.13.0"},x.loaderCache=function(){return V},x.directivePriority=function(){return nt},x.statefulFilter=function(){return it},x.isReady=function(){return tt};var n=g.defer();n.promise.then(function(){tt=!0}),x.onReady=function(t){var e=g.defer();return angular.isFunction(t)&&e.promise.then(t),tt?e.resolve():n.promise.then(e.resolve),e.promise},x.getAvailableLanguageKeys=function(){return 0<U.length?U:null},x.getTranslationTable=function(t){return(t=t||x.use())&&Y[t]?angular.copy(Y[t]):null};var i=u.$on("$translateReady",function(){n.resolve(),i(),i=null}),r=u.$on("$translateChangeEnd",function(){n.resolve(),r(),r=null});if(z){if(angular.equals(Y,{})&&x.use()&&x.use(x.use()),O&&O.length)for(var s=function(t){return lt(t.key,t.table),u.$emit("$translateChangeEnd",{language:t.key}),t},D=0,M=O.length;D<M;D++){var A=O[D];!Q&&Y[A]||(h[A]=f(A).then(s))}}else u.$emit("$translateReady",{language:x.use()});return x}]}function n(o,s){"use strict";var t={};return t.setLocale=function(t){t},t.getInterpolationIdentifier=function(){return"default"},t.useSanitizeValueStrategy=function(t){return s.useStrategy(t),this},t.interpolate=function(t,e,n,i){var r;return e=e||{},e=s.sanitize(e,"params",i,n),angular.isNumber(t)?r=""+t:angular.isString(t)?(r=o(t)(e),r=s.sanitize(r,"text",i,n)):r="",r},t}function i(w,x,k,C,_){"use strict";return{restrict:"AE",scope:!0,priority:w.directivePriority(),compile:function(t,p){var g=p.translateValues?p.translateValues:void 0,m=p.translateInterpolation?p.translateInterpolation:void 0,v=t[0].outerHTML.match(/translate-value-+/i),y="^(.*)("+x.startSymbol()+".*"+x.endSymbol()+")(.*)",b="^(.*)"+x.startSymbol()+"(.*)"+x.endSymbol()+"(.*)";return function(r,l,c){r.interpolateParams={},r.preText="",r.postText="",r.translateNamespace=S(r);var o={},s=function(t){if(angular.isFunction(s._unwatchOld)&&(s._unwatchOld(),s._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var e=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(l.text()),n=e.match(y);if(angular.isArray(n)){r.preText=n[1],r.postText=n[3],o.translate=x(n[2])(r.$parent);var i=e.match(b);angular.isArray(i)&&i[2]&&i[2].length&&(s._unwatchOld=r.$watch(i[2],function(t){o.translate=t,u()}))}else o.translate=e||void 0}else o.translate=t;u()},t=function(e){c.$observe(e,function(t){o[e]=t,u()})};!function(t,e,n){if(e.translateValues&&angular.extend(t,C(e.translateValues)(r.$parent)),v)for(var i in n)Object.prototype.hasOwnProperty.call(e,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i&&(t[angular.lowercase(i.substr(14,1))+i.substr(15)]=n[i])}(r.interpolateParams,c,p);var e=!0;for(var n in c.$observe("translate",function(t){void 0===t?s(""):""===t&&e||(o.translate=t,u()),e=!1}),c)c.hasOwnProperty(n)&&"translateAttr"===n.substr(0,13)&&13<n.length&&t(n);if(c.$observe("translateDefault",function(t){r.defaultText=t,u()}),g&&c.$observe("translateValues",function(t){t&&r.$parent.$watch(function(){angular.extend(r.interpolateParams,C(t)(r.$parent))})}),v){var i=function(n){c.$observe(n,function(t){var e=angular.lowercase(n.substr(14,1))+n.substr(15);r.interpolateParams[e]=t})};for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&"translateValue"===a.substr(0,14)&&"translateValues"!==a&&i(a)}var u=function(){for(var t in o)o.hasOwnProperty(t)&&void 0!==o[t]&&h(t,o[t],r,r.interpolateParams,r.defaultText,r.translateNamespace)},h=function(e,t,n,i,r,o){t?(o&&"."===t.charAt(0)&&(t=o+t),w(t,i,m,r,n.translateLanguage).then(function(t){d(t,n,!0,e)},function(t){d(t,n,!1,e)})):d(t,n,!1,e)},d=function(t,e,n,i){if(n||void 0!==e.defaultText&&(t=e.defaultText),"translate"===i){(n||!n&&!w.isKeepContent()&&void 0===c.translateKeepContent)&&l.empty().append(e.preText+t+e.postText);var r=w.isPostCompilingEnabled(),o=void 0!==p.translateCompile,s=o&&"false"!==p.translateCompile;(r&&!o||s)&&k(l.contents())(e)}else{var a=c.$attr[i];"data-"===a.substr(0,5)&&(a=a.substr(5)),a=a.substr(15),l.attr(a,t)}};(g||v||c.translateDefault)&&r.$watch("interpolateParams",u,!0),r.$on("translateLanguageChanged",u);var f=_.$on("$translateChangeSuccess",u);l.text().length?s(c.translate?c.translate:""):c.translate&&s(c.translate),u(),r.$on("$destroy",f)}}}}function S(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?S(t.$parent):void 0}function r(l,c){"use strict";return{restrict:"A",priority:l.directivePriority(),link:function(n,i,r){var o,s,a={},t=function(){angular.forEach(o,function(t,e){t&&(a[e]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),l(t,s,r.translateInterpolation,void 0,n.translateLanguage).then(function(t){i.attr(e,t)},function(t){i.attr(e,t)}))}),angular.forEach(a,function(t,e){o[e]||(i.removeAttr(e),delete a[e])})};u(n,r.translateAttr,function(t){o=t},t),u(n,r.translateValues,function(t){s=t},t),r.translateValues&&n.$watch(r.translateValues,t,!0),n.$on("translateLanguageChanged",t);var e=c.$on("$translateChangeSuccess",t);t(),n.$on("$destroy",e)}}}function u(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function o(o,s){"use strict";return{compile:function(t){var i=function(){t.addClass(o.cloakClassName())},r=function(){t.removeClass(o.cloakClassName())};return o.onReady(function(){r()}),i(),function(t,e,n){n.translateCloak&&n.translateCloak.length&&(n.$observe("translateCloak",function(t){o(t).then(r,i)}),s.$on("$translateChangeSuccess",function(){o(n.translateCloak).then(r,i)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=S(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function S(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?S(t.$parent):void 0}function a(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function l(r,o){"use strict";var t=function(t,e,n,i){return angular.isObject(e)||(e=r(e)(this)),o.instant(t,e,n,i)};return o.statefulFilter()&&(t.$stateful=!0),t}function c(t){"use strict";return t("translations")}return t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],r.$inject=["$translate","$rootScope"],o.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var n,i,d,f=null,p=!1,g=!1;(d={sanitize:function(t,e){return"text"===e&&(t=o(t)),t},escape:function(t,e){return"text"===e&&(t=r(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=a(t,o)),t},escapeParameters:function(t,e){return"params"===e&&(t=a(t,r)),t},sce:function(t,e,n){return"text"===e?t=s(t):"params"===e&&"filter"!==n&&(t=a(t,r)),t},sceParameters:function(t,e){return"params"===e&&(t=a(t,s)),t}}).escaped=d.escapeParameters,this.addStrategy=function(t,e){return d[t]=e,this},this.removeStrategy=function(t){return delete d[t],this},this.useStrategy=function(t){return p=!0,f=t,this},this.$get=["$injector","$log",function(c,u){var e,h={};return c.has("$sanitize")&&(n=c.get("$sanitize")),c.has("$sce")&&(i=c.get("$sce")),{useStrategy:(e=this,function(t){e.useStrategy(t)}),sanitize:function(t,e,n,i){if(f||p||g||(u.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),g=!0),n||null===n||(n=f),!n)return t;i||(i="service");var r,o,s,a,l=angular.isArray(n)?n:[n];return r=t,o=e,s=i,a=l,angular.forEach(a,function(e){if(angular.isFunction(e))r=e(r,o,s);else if(angular.isFunction(d[e]))r=d[e](r,o,s);else{if(!angular.isString(d[e]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'");if(!h[d[e]])try{h[d[e]]=c.get(d[e])}catch(t){throw h[d[e]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'")}r=h[d[e]](r,o,s)}}),r}}}];var r=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},o=function(t){if(!n)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return n(t)},s=function(t){if(!i)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return i.trustAsHtml(t)},a=function(t,n,i){if(angular.isDate(t))return t;if(angular.isObject(t)){var r=angular.isArray(t)?[]:{};if(i){if(-1<i.indexOf(t))throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else i=[];return i.push(t),angular.forEach(t,function(t,e){angular.isFunction(t)||(r[e]=a(t,n,i))}),i.splice(-1,1),r}return angular.isNumber(t)?t:n(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",r),r.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",a),a.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(n){"use strict";return{get:function(t){return n.get(t)},set:function(t,e){n.put(t,e)},put:function(t,e){n.put(t,e)}}}return t.$inject=["$cookieStore"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.displayName="$translateCookieStorage","pascalprecht.translate"}),window.Mediasite||((Mediasite={}).PlayState={Undefined:"undefined",Stopped:"stopped",Paused:"paused",Playing:"playing",ScanForward:"scanforward",ScanReverse:"scanreverse",Buffering:"buffering",Waiting:"waiting",MediaEnded:"mediaended",Transitioning:"transitioning",Ready:"ready",Reconnecting:"reconnecting",Closed:"closed",Error:"error",Opening:"opening"},Mediasite.PlayerState={NotReady:"NotReady",InteractionRequired:"InteractionRequired",Waiting:"Waiting",Playing:"Playing",Paused:"Paused",Stopped:"Stopped",Ended:"Ended",Error:"Error"},Mediasite.StreamType={Video1:0,Document:1,Slide:2,Presentation:3,Video2:4,Video3:5},Mediasite.LiveStatus={NotAvailable:"NotAvailable",ScheduledForLive:"ScheduledForLive",OpenForLive:"OpenForLive",Live:"Live",LivePaused:"LivePaused",LiveEnded:"LiveEnded",OnDemand:"OnDemand"},Mediasite.ErrorDescription={410:"API method not found",411:"Error while calling API method",424:"Error while initializing iframe player",500:"Could not load presentation metadata",501:"General error",510:"Problem with presentation media",511:"Presentation media is not supported",520:"Player not ready",505:"iFrame API client is not compatible with Mediasite server's player API",231:"iFrame API client is older than Mediasite server and should be upgraded to the latest version",232:"iFrame API client is newer than Mediasite server and might use unavailable methods or data"},Mediasite.Player=function(n,i){if(!n)throw"MediasitePlayer requires value for elementId parameter";if(!i)throw"MediasitePlayer requires value for options parameter";if(!i.url)throw"MediasitePlayer requires value for options.url parameter";var r,o,l,s,a,c=this,u={version:"7.0.29",supports:["6.1.5","6.1.7","6.1.9","6.1.11","7.0","7.0.28","7.0.29"],application:"MediasitePlayer"};function h(s,a){return function(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];for(var i in n)if(n.hasOwnProperty(i)){var r=n[a]?"."+n[a]:"",o=(s.hasOwnProperty(i)?s[i]:i)+r;l.Set(o,n[i])}}}}function d(t){if((t=t||{}).version=t.version||"6.1.1",t.supports=t.supports||[t.version],t.version==u.version)return!0;for(var e=0;e<u.supports.length;e++){var n=u.supports[e];if(t.version==n)return s.callHandlers("error",g(232,Mediasite.ErrorDescription[232],{version:t.version})),!0}for(e=0;e<t.supports.length;e++){n=t.supports[e];if(u.version==n)return s.callHandlers("error",g(231,Mediasite.ErrorDescription[231],{version:t.version})),!0}void 0===a&&(a=t.version);var i=g(505,Mediasite.ErrorDescription[505],{version:t.version});return i.ignoreIncompatibility=function(){a=!1},s.callHandlers("error",i),!1}function f(t){if(void 0!==a&&!1!==a)throw g(505,Mediasite.ErrorDescription[505],{version:a})}function p(t){this.errorCode=t}function g(t,e,n){var i=new p(t);if(e&&(i.details=e),n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i}function m(t){t&&t.version&&(d(t)&&r.tryActivate());t&&t.errorCode&&s.callHandlers("error",t)}function v(t){var e=d(t&&t.version);l.Set("activated",!0),e&&i.layoutOptions&&r.sendCommand("setLayoutOptions",{options:i.layoutOptions})}function y(){l.Set("ready",!0)}function b(t){l.Set("ready",t.ready),l.Set("playState",t.playState),l.Set("playerState",t.playerState),l.Set("liveStatus",t.liveStatus),l.Set("volume",t.volume),l.Set("volume.muted",t.muted),l.Set("currentTime",t.currentTime),l.Set("duration",t.duration),l.Set("playbackRate",t.playbackRate),l.Set("chapters",t.chapters),l.Set("timedevents",t.timedevents),l.Set("captions",t.captions),l.Set("slides",t.slides),l.Set("links",t.links),l.Set("pollsUri",t.pollsUri),l.Set("allStreams",t.allStreams),l.Set("visibleStreamTypes",t.visibleStreamTypes),l.Set("pastSessionPlayedSegments",t.pastSessionPlayedSegments)}function w(t){var e=l.Get("slides")||[],n={time:t.slideTime,title:t.slideTitle,description:t.slideDescription,url:t.slideUrl};e.push(n),l.Set("slides",e)}function x(t){var e=l.Get(t);return e&&0!=e.length?e=e.slice(0):[]}p.prototype.toString=function(){return"MediasitePlayerError"+(null!=typeof this.errorCode?"-"+this.errorCode:"")},this.addHandler=function(t,e){return s.addHandler(t,e)},this.removeHandler=function(t,e){return s.removeHandler(t,e)},this.play=function(){f(),r.sendCommand("play")},this.pause=function(){f(),r.sendCommand("pause")},this.stop=function(){f(),r.sendCommand("stop")},this.seekTo=function(t){f(),r.sendCommand("seekTo",{seconds:t})},this.getCurrentTime=function(){return f(),l.Get("currentTime")},this.getCurrentChapter=function(){if(f(),l.Has("chapter.time"))return{title:l.Get("chapter.title"),time:l.Get("chapter.time")}},this.getCurrentSlide=function(t){if(f(),t="."+t!=void 0?t:Mediasite.StreamType.Slide,l.Has("slide.time"))return{title:l.Get("slide.title"+t),description:l.Get("slide.description"+t),time:l.Get("slide.time"+t),url:l.Get("slide.url"+t),streamType:l.Get("slide.streamtype"+t)}},this.getCurrentCaptions=function(){return f(),x("currentCaptions")},this.getChapters=function(){return f(),x("chapters")},this.getTimedEvents=function(t){var e,n;f();var i=x("timedevents");if(void 0===t)return i;for(n=[],e=0;e<i.length;e++)i[e].type===t&&n.push(i[e]);return n},this.getSlides=function(t){f(),t=null!=t?t:Mediasite.StreamType.Slide;for(var e=[],n=x("slides"),i=0;i<n.length;i++)(n[i].streamType==t||t==Mediasite.StreamType.Slide&&null==n[i].streamType)&&e.push(n[i]);return e},this.getCaptions=function(){return f(),x("captions")},this.getDuration=function(){return f(),l.Get("duration")},this.getPlayState=function(){return f(),l.Get("playState")},this.getPlayerState=function(){f();var t={state:l.Get("playerState.state"),isLive:l.Get("playerState.isLive")};return t.state||(t.state=Mediasite.PlayerState.NotReady),t},this.getLiveStatus=function(){return f(),l.Get("liveStatus")},this.getVolume=function(){return f(),Math.round(l.Get("volume"))},this.setVolume=function(t){f(),r.sendCommand("setVolume",{volume:t})},this.mute=function(){f(),r.sendCommand("mute")},this.unMute=function(){f(),r.sendCommand("unMute")},this.isMuted=function(){return f(),l.Get("volume.muted")},this.getPlaybackRate=function(){return f(),l.Get("playbackRate")},this.setLayoutOptions=function(t){f(),r.sendCommand("setLayoutOptions",{options:t})},this.isActivated=function(){return f(),l.Get("activated")},this.isReady=function(){return f(),l.Get("ready")},this.getLinks=function(){return f(),x("links")},this.getPollsUri=function(){return f(),l.Get("pollsUri")},this.getAllStreams=function(){return f(),x("allStreams")},this.getVisibleStreamTypes=function(){return f(),x("visibleStreamTypes")},this.setVisibleStreamTypes=function(t){f(),r.sendCommand("setVisibleStreamTypes",{streamTypes:t})},this.getPastSessionPlayedSegments=function(){return f(),function(t){var e,n,i,r=[];if(t&&0<t.length)for(e=0;e<t.length;e+=1){for(var o in i={},n=t[e])n.hasOwnProperty(o)&&(i[o]=n[o]);r.push(i)}return r}(l.Get("pastSessionPlayedSegments"))},function(){try{var t=i.url;l=new Mediasite.Player.StateModel,o=i.view||new Mediasite.Player.View(n,t),r=i.broker||new Mediasite.Player.IFrameAPIBroker({messagePrefix:"MediasitePlayer",iframeView:o,url:t,events:{message:m,activated:v},initializationData:u}),l.Set("activated",!1),l.Set("ready",!1),r.addHandler({_api_state:b,ready:y,playstatechanged:h({playState:"playState"}),playerstatechanged:h({state:"playerState.state",isLive:"playerState.live"}),livestatuschanged:h({liveStatus:"liveStatus"}),volumechanged:h({volume:"volume",isMuted:"volume.muted"}),currenttimechanged:h({currentTime:"currentTime"}),durationchanged:h({duration:"duration"}),playbackratechanged:h({playbackRate:"playbackRate"}),captionchanged:h({captions:"currentCaptions"}),chapterchanged:h({chapterTitle:"chapter.title",chapterTime:"chapter.time"}),timedeventreached:h({timedEventType:"timedevent.type",timedEventTime:"timedevent.time",timedEventPayload:"timedevent.payload"}),slidechanged:h({slideTitle:"slide.title",slideDescription:"slide.description",slideTime:"slide.time",slideUrl:"slide.url",slideStreamType:"slide.streamtype"},"slideStreamType"),slideadded:w,visiblestreamschanged:h({streamTypes:"visibleStreamTypes"})}),s||(s=new Mediasite.Player.StandaloneEventBundle(c),r.addHandler("*",function(t,e){void 0!==(e=e||[])[0]&&null!=e[0]||(e[0]={}),e[0].sender=c,s.callHandlers(t,e)})),i.events&&c.addHandler(i.events),r.tryActivate()}catch(t){if(i.events&&"function"==typeof i.events.error){var e=t.message||t.description||t;i.events.error(g(424,e))}}}()},Mediasite.Player.View=function(n,i){var r;!function(){var t=document.getElementById(n);if(!t)throw'could not find DOMElement with id="'+n+'"';if("IFRAME"!==t.tagName&&!i)throw"no presentation url specified";if("IFRAME"===t.tagName)null,(r=t).src=i;else{var e=document.createElement("iframe");e.id=n,e.src=i,e.setAttribute("frameBorder","0"),e.setAttribute("marginHeight","0"),e.setAttribute("marginWidth","0"),r=e,t.parentNode.replaceChild(e,t)}}(),this.getElement=function(){return r},this.getElementWindow=function(){return r.contentWindow},this.postMessage=function(t,e){this.getElementWindow().postMessage(t,e)},this.addEventListener=function(t,e){var n=this.getElement();n.addEventListener?n.addEventListener(t,e):n.attachEvent?n.attachEvent("on"+t,e):n["on"+t]=e}},Mediasite.Player.StateModel=function(){var n;n={},this.Get=function(t){return n[t]},this.Set=function(t,e){n[t]=e},this.Has=function(t){return n.hasOwnProperty(t)}},Mediasite.Player.StandaloneEventBundle=function(t){var o={},i=t||window;function n(t,e){for(name in t)if(t.hasOwnProperty(name)){var n=t[name];"function"==typeof n&&e(name,n)}}function r(t,e){o[t]||(o[t]=[]),o[t].push(e)}function s(t,e){if(o[t])for(var n=o[t],i=0,r=n.length;i<r;i++)n[i]==e&&(n.splice(i,1),i--,r--)}function a(t,arguments){if(t&&0!==t.length)for(var e=0,n=t.length;e<n;e++){t[e].apply(i,arguments)}}this.addHandler=function(t,e){"object"==typeof t?n(t,r):r(t,e)},this.removeHandler=function(t,e){"object"==typeof t?n(t,s):s(t,e)},this.callHandlers=function(t,e){!e||"string"!=typeof e&&void 0!==e.length||(e=[e]),o[t]&&a(o[t],e),a(o["*"],[t,e])}},Mediasite.Player.IFrameAPIBroker=function(t){var i,r,o,s,e,n=this;function a(t,e){if("_broker_activated"==t)return n=e,i.callHandlers("activated",n),!0;var n}s=t.messagePrefix||"Mediasite",i=new Mediasite.Player.StandaloneEventBundle(n),t.events&&i.addHandler(t.events),r=t.iframeView,o=n.getTargetOrigin(t.url),e=t.initializationData||{},Mediasite.Player.BrokerMessageDispatcher.registerBroker(n,r,o,s),_initialized=!0,this.receiveAPIEvent=function(t,e){a(t,e)||i.callHandlers(t,e)},this.tryActivate=function(){n.sendCommand("_broker_activate",e)},this.sendCommand=function(t,e){var n={command:t,params:[]};2<=arguments.length&&(e=Array.prototype.slice.call(arguments,1),n.params=e);var i=s+":"+JSON.stringify(n);try{r.postMessage(i,o)}catch(t){return!1}return!0},this.addHandler=function(t,e){i.addHandler(t,e)},this.removeHandler=function(t,e){i.removeHandler(t,e)}},Mediasite.Player.IFrameAPIBroker.prototype.getTargetOrigin=function(t){var e,n;return e=(t=t.split("://"))[0],n=(t=t[1].split("/"))[0],"file"==e?"*":[e,"://",n].join("")},Mediasite.Player.BrokerMessageDispatcher=function(){var r=new function(){},o=[];r.registerBroker=function(t,e,n){if(r.listenForMessages(),!t||!e||!e.getElementWindow())return!1;var i={origin:n=n||[document.location.protocol,"//",document.location.hostname].join(""),window:e.getElementWindow(),broker:t};return o.push(i),!0},r.getBrokerForMessage=function(t,e){if(t&&e)for(var n in"null"!==e&&0!=e.indexOf("file://")||(e="*"),o){var i=o[n];if(i.origin==e&&i.window==t)return i.broker}};var t=!1;return r.listenForMessages=function(){t||(t=!0,window.addEventListener?window.addEventListener("message",r.handleIncomingMessageEvent):window.attachEvent&&window.attachEvent("onmessage",r.handleIncomingMessageEvent))},r.handleIncomingMessageEvent=function(t){var e=r.parseIncomingMessageEvent(t.data);if(e){var n=r.getBrokerForMessage(t.source,t.origin);n&&(e.event?n.receiveAPIEvent(e.event,e.data):n.receiveAPIEvent("message",e))}},r.parseIncomingMessageEvent=function(t){var e=(t=t||"").indexOf(":");if("{"!==t.substr(0,1)&&0<=e){t.substring(0,e);var n=t.substring(e+1)}else n=t;try{var i=JSON.parse(n)}catch(t){return!1}return i},r}());var Mediasite=Mediasite||{};Mediasite.PlaybackTracker=function(){var m=function(n,t){var u,e,h=this,i=-1,d=[];t||(t={});var r=m.TrackerDefaults;for(var o in r)t.hasOwnProperty(o)||(t[o]=r[o]);p(t.tolerance),h.addMoment=s,h.add=l,h.played={start:function(t){var e=a();if(!(void 0===t||t<0||t>=e.length)){var n=e[t];return n?n.start():void 0}},end:function(t){var e=a();if(!(void 0===t||t<0||t>=e.length)){var n=e[t];return n?n.end():void 0}},length:0},Object.defineProperty&&Object.defineProperty(h.played,"length",{get:function(){return a().length},set:function(){},configurable:!1});n&&c(n);function s(t){e&&e.merge(t,t,u)?e.duration()>=_minChunkDuration&&l(e):e=new m.TimeRange(t,t)}function a(){return d}function l(t,e){if(t.start&&(e=t.end(),t=t.start()),e<t){var n=t;t=e,e=n}for(var i=d,r=!1,o=0,s=i.length;o<s;o++){var a=i[o],l=a.merge(t,e,u);if(l){var c;for(r=!0;(c=i[o+1])&&a.merge(c.start(),c.end(),u);)i.splice(o+1,1);break}if(a.start()>t){i.splice(o,0,new m.TimeRange(t,e)),r=!0;break}}r||i.push(new m.TimeRange(t,e)),Object.defineProperty||(h.played.length=i.length)}function c(t){t.addHandler({ready:f,currenttimechanged:function(t){s(t.currentTime)},durationchanged:function(t){g(t.duration)}}),t.isReady()&&f()}function f(){g(n.getDuration()),t.includePastSessions&&function(){if(!n||"function"!=typeof n.getPastSessionPlayedSegments)return;var t,e=n.getPastSessionPlayedSegments();for(t=0;t<e.length;t+=1)l(e[t].start,e[t].end)}()}function p(t){"number"!=typeof(u=Math.abs(t))&&(u=0),_minChunkDuration=Math.min(1,u)}function g(t,e){void 0===t||t<=0||e&&t<i||(i=t)}h.attachToPlayer=c,h.setTolerance=p,h.getTolerance=function(){return u},h.setDuration=g,h.getPercentageWatched=function(){if(i<=0)return;for(var t=a(),e=0,n=0;n<t.length;n++)e+=t[n].duration();return e/i*100}};return m.TrackerDefaults={tolerance:1,includePastSessions:!1},m.TimeRange=function(t,e){var i,r,o=this;t<e?(i=t,r=e):(i=e,r=t),o.start=function(t){return void 0!==t&&(i=t),i},o.end=function(t){return void 0!==t&&(r=t),r},o.duration=function(){return r-i},o.intersects=function(t,e,n){return!(r<t-(n=n||1))&&!(e<i-n)},o.merge=function(t,e,n){return!!o.intersects(t,e,n)&&(i=Math.min(i,t),r=Math.max(r,e),!0)}},m}(),function(d,f){if(f.addEventListener){var t,e=Array.prototype,n=Object.prototype,o=e.forEach,p=e.slice,g=n.hasOwnProperty,s=n.toString,i=d.Popcorn,c=[],u=!1,l={events:{hash:{},apis:{}}},h=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(t,e){d.setTimeout(t,16)},r={put:function(e){Object.getOwnPropertyNames(e).forEach(function(t){this[t]=e[t]},this)}},v=function(t,e){return new v.p.init(t,e||null)};v.version="@VERSION",v.isSupported=!0,v.instances=[],v.p=v.prototype={init:function(e,t){var n,i,a=this;if("function"!=typeof e){if("string"==typeof e)try{n=f.querySelector(e)}catch(t){throw new Error("Popcorn.js Error: Invalid media element selector: "+e)}if(this.media=n||e,this[i=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video"]=this.media,this.options=v.extend({},t)||{},this.id=this.options.id||v.guid(i),v.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:v.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new k(this)},v.instances.push(this);var l=function(){var t,e,i,r,o,s;a.media.currentTime<0&&(a.media.currentTime=0),a.media.removeEventListener("loadedmetadata",l,!1),e=(t=a.media.duration)!=t?Number.MAX_VALUE:t+1,v.addTrackEvent(a,{start:e,end:e}),a.options.frameAnimation?(a.data.timeUpdate=function(){v.timeUpdate(a,{}),v.forEach(v.manifest,function(t,e){if(i=a.data.running[e]){o=i.length;for(var n=0;n<o;n++)r=i[n],(s=r._natives)&&s.frame&&s.frame.call(a,{},r,a.currentTime())}}),a.emit("timeupdate"),!a.isDestroyed&&h(a.data.timeUpdate)},!a.isDestroyed&&h(a.data.timeUpdate)):(a.data.timeUpdate=function(t){v.timeUpdate(a,t)},a.isDestroyed||a.media.addEventListener("timeupdate",a.data.timeUpdate,!1))};return Object.defineProperty(this,"error",{get:function(){return a.media.error}}),1<=a.media.readyState?l():a.media.addEventListener("loadedmetadata",l,!1),this}if("complete"!==f.readyState){if(c.push(e),!u){u=!0;var r=function(){!0,f.removeEventListener("DOMContentLoaded",r,!1);for(var t=0,e=c.length;t<e;t++)c[t].call(f,v);c=null};f.addEventListener("DOMContentLoaded",r,!1)}}else e(f,v)}},v.p.init.prototype=v.p,v.byId=function(t){for(var e=v.instances,n=e.length,i=0;i<n;i++)if(e[i].id===t)return e[i];return null},v.forEach=function(t,e,n){if(!t||!e)return{};var i,r;if(n=n||this,o&&t.forEach===o)return t.forEach(e,n);if("[object NodeList]"===s.call(t)){for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);return t}for(i in t)g.call(t,i)&&e.call(n,t[i],i,t);return t},v.extend=function(t){var n=t,e=p.call(arguments,1);return v.forEach(e,function(t){for(var e in t)n[e]=t[e]}),n},v.extend(v,{noConflict:function(t){return t&&(d.Popcorn=i),v},error:function(t){throw new Error(t)},guid:function(t){return v.guid.counter++,(t||"")+(+new Date+v.guid.counter)},sizeOf:function(t){var e=0;for(var n in t)e++;return e},isArray:Array.isArray||function(t){return"[object Array]"===s.call(t)},nop:function(){},position:function(t){if(!t.parentNode)return null;var e,n,i,r,o,s,a=t.getBoundingClientRect(),l={},c=(t.ownerDocument,f.documentElement),u=f.body;for(var h in e=c.clientTop||u.clientTop||0,n=c.clientLeft||u.clientLeft||0,i=d.pageYOffset&&c.scrollTop||u.scrollTop,r=d.pageXOffset&&c.scrollLeft||u.scrollLeft,o=Math.ceil(a.top+i-e),s=Math.ceil(a.left+r-n),a)l[h]=Math.round(a[h]);return v.extend({},l,{top:o,left:s})},disable:function(t,e){if(!t.data.disabled[e]){if(t.data.disabled[e]=!0,e in v.registryByName&&t.data.running[e])for(var n,i=t.data.running[e].length-1;0<=i;i--)(n=t.data.running[e][i])._natives.end.call(t,null,n),t.emit("trackend",v.extend({},n,{plugin:n.type,type:"trackend"}));return t}},enable:function(t,e){if(t.data.disabled[e]){if(t.data.disabled[e]=!1,e in v.registryByName&&t.data.running[e])for(var n,i=t.data.running[e].length-1;0<=i;i--)(n=t.data.running[e][i])._natives.start.call(t,null,n),t.emit("trackstart",v.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return t}},destroy:function(t){var e,n,i,r,o=t.data.events,s=t.data.trackEvents;for(n in o){for(i in e=o[n])delete e[i];o[n]=null}for(r in v.registryByName)v.removePlugin(t,r);s.byStart.length=0,s.byEnd.length=0,t.isDestroyed||(t.data.timeUpdate&&t.media.removeEventListener("timeupdate",t.data.timeUpdate,!1),t.isDestroyed=!0),v.instances.splice(v.instances.indexOf(t),1)}}),v.guid.counter=1,v.extend(v.p,(t={},v.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(n){t[n]=function(t){var e;return"function"==typeof this.media[n]?(null!=t&&/play|pause/.test(n)&&(this.media.currentTime=v.util.toSeconds(t)),this.media[n](),this):null!=t?((e=this.media[n])!==(this.media[n]=t)&&this.emit("attrchange",{attribute:n,previousValue:e,currentValue:t}),this):this.media[n]}}),t)),v.forEach("enable disable".split(" "),function(e){v.p[e]=function(t){return v[e](this,t)}}),v.extend(v.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(t,e,n){var i,r,o,s=arguments.length,a="trackadded";try{r=v.util.toSeconds(t)}catch(t){}if("number"==typeof r&&(t=r),"number"==typeof t&&2===s)n=e,e=t,t=v.guid("cue");else if(1===s)e=-1;else if(i=this.getTrackEvent(t))this.data.trackEvents.remove(t),x.end(this,i),v.removeTrackEvent.ref(this,t),a="cuechange","string"==typeof t&&2===s&&("number"==typeof e&&(n=i._natives.start),"function"==typeof e&&(n=e,e=i.start));else if(2<=s){if("string"==typeof e){try{r=v.util.toSeconds(e)}catch(t){}e=r}"number"==typeof e&&(n=n||v.nop()),"function"==typeof e&&(n=e,e=-1)}return o={id:t,start:e,end:e+1,_running:!1,_natives:{start:n||v.nop,end:v.nop,type:"cue"}},i&&(o=v.extend(i,o)),"cuechange"===a?(o._id=o.id||o._id||v.guid(o._natives.type),this.data.trackEvents.add(o),x.start(this,o),this.timeUpdate(this,null,!0),v.addTrackEvent.ref(this,o),this.emit(a,v.extend({},o,{id:t,type:a,previousValue:{time:i.start,fn:i._natives.start},currentValue:{time:e,fn:n||v.nop},track:i}))):v.addTrackEvent(this,o),this},mute:function(t){var e=null==t||!0===t?"muted":"unmuted";return"unmuted"===e&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===e&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(e),this},unmute:function(t){return this.mute(null!=t&&!t)},position:function(){return v.position(this.media)},toggle:function(t){return v[this.data.disabled[t]?"enable":"disable"](this,t)},defaults:function(t,e){return v.isArray(t)?v.forEach(t,function(t){for(var e in t)this.defaults(e,t[e])},this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[t]||(this.options.defaults[t]={}),v.extend(this.options.defaults[t],e)),this}}),v.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},v.Events.Natives=v.Events.UIEvents+" "+v.Events.MouseEvents+" "+v.Events.Events,l.events.apiTypes=["UIEvents","MouseEvents","Events"],function(o,s){for(var t=l.events.apiTypes,e=o.Natives.split(/\s+/g),n=0,i=e.length;n<i;n++)s.hash[e[n]]=!0;t.forEach(function(t,e){s.apis[t]={};for(var n=o[t].split(/\s+/g),i=n.length,r=0;r<i;r++)s.apis[t][n[r]]=!0})}(v.Events,l.events),v.events={isNative:function(t){return!!l.events.hash[t]},getInterface:function(t){if(!v.events.isNative(t))return!1;for(var e,n,i=l.events,r=i.apiTypes,o=i.apis,s=0,a=r.length;s<a;s++)if(o[n=r[s]][t]){e=n;break}return e},all:v.Events.Natives.split(/\s+/g),fn:{trigger:function(t,e){var n,i,r,o=this.data.events[t];if(o){if(n=v.events.getInterface(t))return(i=f.createEvent(n)).initEvent(t,!0,!0,d,1),this.media.dispatchEvent(i),this;for(r=o.slice();r.length;)r.shift().call(this,e)}return this},listen:function(e,t){var n,i,r=this,o=!0,s=v.events.hooks[e];if("function"!=typeof t)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[e]||(this.data.events[e]=[],o=!1),s&&(s.add&&s.add.call(this,{},t),s.bind&&(e=s.bind),s.handler&&(i=t,t=function(t){s.handler.call(r,t,i)}),o=!0,this.data.events[e]||(this.data.events[e]=[],o=!1)),this.data.events[e].push(t),!o&&-1<v.events.all.indexOf(e)&&this.media.addEventListener(e,function(t){if(r.data.events[e])for(n=r.data.events[e].slice();n.length;)n.shift().call(r,t)},!1),this},unlisten:function(t,e){var n,i=this.data.events[t];if(i){if("string"==typeof e){for(var r=0;r<i.length;r++)i[r].name===e&&i.splice(r--,1);return this}if("function"==typeof e){for(;-1!==n;)-1!==(n=i.indexOf(e))&&i.splice(n,1);return this}return this.data.events[t]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(t,e){var n=!1;this.media.readyState&&(setTimeout(function(){e.call(this,t)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(t,e){this.data.hooks.canplayall.fired||(e.call(this,t),this.data.hooks.canplayall.fired=!0)}}}},v.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(t){v.p[t[0]]=v.p[t[1]]=v.events.fn[t[0]]}),x.start=function(t,e){e.end>t.media.currentTime&&e.start<=t.media.currentTime&&!e._running&&(e._running=!0,t.data.running[e._natives.type].push(e),t.data.disabled[e._natives.type]||(e._natives.start.call(t,null,e),t.emit("trackstart",v.extend({},e,{plugin:e._natives.type,type:"trackstart",track:e}))))},x.end=function(t,e){var n;(e.end<=t.media.currentTime||e.start>t.media.currentTime)&&e._running&&(n=t.data.running[e._natives.type],e._running=!1,n.splice(n.indexOf(e),1),t.data.disabled[e._natives.type]||(e._natives.end.call(t,null,e),t.emit("trackend",v.extend({},e,{plugin:e._natives.type,type:"trackend",track:e}))))},k.prototype.where=function(i){return(this.parent.getTrackEvents()||[]).filter(function(t){var e,n;if(!i)return!0;for(e in i)if(C(t,e,n=i[e])||C(t._natives,e,n))return!0;return!1})},k.prototype.add=function(t){var e,n,i=this.byStart,r=this.byEnd;for(t&&t._id&&this.parent.data.history.push(t._id),t.start=v.util.toSeconds(t.start,this.parent.options.framerate),t.end=v.util.toSeconds(t.end,this.parent.options.framerate),e=i.length-1;0<=e;e--)if(t.start>=i[e].start){i.splice(e+1,0,t);break}for(n=r.length-1;0<=n;n--)if(t.end>r[n].end){r.splice(n+1,0,t);break}e<=this.parent.data.trackEvents.startIndex&&t.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&t.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++},k.prototype.remove=function(t,e){if(t instanceof x&&(t=t.id),"object"==typeof t)return this.where(t).forEach(function(t){this.removeTrackEvent(t._id)},this.parent),this;var n,i,r,o,s=this.byStart.length,a=0,l=0,c=[],u=[],h=[],d=[];for(e=e||{};-1<--s;)n=this.byStart[a],i=this.byEnd[a],n._id||(c.push(n),u.push(i)),n._id&&(n._id!==t&&c.push(n),i._id!==t&&u.push(i),n._id===t&&(l=a,n)),a++;if(a=0,s=this.animating.length)for(;-1<--s;)(r=this.animating[a])._id||h.push(r),r._id&&r._id!==t&&h.push(r),a++;l<=this.startIndex&&this.startIndex--,l<=this.endIndex&&this.endIndex--,this.byStart=c,this.byEnd=u,this.animating=h,o=this.parent.data.history.length;for(var f=0;f<o;f++)this.parent.data.history[f]!==t&&d.push(this.parent.data.history[f]);this.parent.data.history=d},v.addTrackEvent=function(t,e){var n;e instanceof x||((e=new x(e))&&e._natives&&e._natives.type&&t.options.defaults&&t.options.defaults[e._natives.type]&&(n=v.extend({},e),v.extend(e,t.options.defaults[e._natives.type],n)),e._natives&&(e._id=e.id||e._id||v.guid(e._natives.type),e._natives._setup&&(e._natives._setup.call(t,e),t.emit("tracksetup",v.extend({},e,{plugin:e._natives.type,type:"tracksetup",track:e})))),t.data.trackEvents.add(e),x.start(t,e),this.timeUpdate(t,null,!0),e._id&&v.addTrackEvent.ref(t,e),t.emit("trackadded",v.extend({},e,e._natives?{plugin:e._natives.type}:{},{type:"trackadded",track:e})))},v.addTrackEvent.ref=function(t,e){return t.data.trackRefs[e._id]=e,t},v.removeTrackEvent=function(t,e){var n=t.getTrackEvent(e);n&&(n._natives._teardown&&n._natives._teardown.call(t,n),t.data.trackEvents.remove(e),v.removeTrackEvent.ref(t,e),n._natives&&t.emit("trackremoved",v.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},v.removeTrackEvent.ref=function(t,e){return delete t.data.trackRefs[e],t},v.getTrackEvents=function(t){for(var e,n=[],i=t.data.trackEvents.byStart,r=i.length,o=0;o<r;o++)(e=i[o])._id&&n.push(e);return n},v.getTrackEvents.ref=function(t){return t.data.trackRefs},v.getTrackEvent=function(t,e){return t.data.trackRefs[e]},v.getTrackEvent.ref=function(t,e){return t.data.trackRefs[e]},v.getLastTrackEventId=function(t){return t.data.history[t.data.history.length-1]},v.timeUpdate=function(t,e){var n,i,r,o,s,a=t.media.currentTime,l=t.data.trackEvents.previousUpdateTime,c=t.data.trackEvents,u=c.endIndex,h=c.startIndex,d=c.byStart.length,f=c.byEnd.length,p=v.registryByName,g="trackstart",m="trackend";if(l<=a){for(;c.byEnd[u]&&c.byEnd[u].end<=a;){if(o=(r=(n=c.byEnd[u])._natives)&&r.type,r&&!p[o]&&!t[o])return void v.removeTrackEvent(t,n._id);!0===n._running&&(n._running=!1,(s=t.data.running[o]).splice(s.indexOf(n),1),t.data.disabled[o]||(r.end.call(t,e,n),t.emit(m,v.extend({},n,{plugin:o,type:m,track:n})))),u++}for(;c.byStart[h]&&c.byStart[h].start<=a;){if(o=(r=(i=c.byStart[h])._natives)&&r.type,r&&!p[o]&&!t[o])return void v.removeTrackEvent(t,i._id);i.end>a&&!1===i._running&&(i._running=!0,t.data.running[o].push(i),t.data.disabled[o]||(r.start.call(t,e,i),t.emit(g,v.extend({},i,{plugin:o,type:g,track:i})))),h++}}else if(a<l){for(;c.byStart[h]&&c.byStart[h].start>a;){if(o=(r=(i=c.byStart[h])._natives)&&r.type,r&&!p[o]&&!t[o])return void v.removeTrackEvent(t,i._id);!0===i._running&&(i._running=!1,(s=t.data.running[o]).splice(s.indexOf(i),1),t.data.disabled[o]||(r.end.call(t,e,i),t.emit(m,v.extend({},i,{plugin:o,type:m,track:i})))),h--}for(;c.byEnd[u]&&c.byEnd[u].end>a;){if(o=(r=(n=c.byEnd[u])._natives)&&r.type,r&&!p[o]&&!t[o])return void v.removeTrackEvent(t,n._id);n.start<=a&&!1===n._running&&(n._running=!0,t.data.running[o].push(n),t.data.disabled[o]||(r.start.call(t,e,n),t.emit(g,v.extend({},n,{plugin:o,type:g,track:n})))),u--}}c.endIndex=u,c.startIndex=h,c.previousUpdateTime=a,c.byStart.length<d&&c.startIndex--,c.byEnd.length<f&&c.endIndex--},v.extend(v.p,{getTrackEvents:function(){return v.getTrackEvents.call(null,this)},getTrackEvent:function(t){return v.getTrackEvent.call(null,this,t)},getLastTrackEventId:function(){return v.getLastTrackEventId.call(null,this)},removeTrackEvent:function(t){return v.removeTrackEvent.call(null,this,t),this},removePlugin:function(t){return v.removePlugin.call(null,this,t),this},timeUpdate:function(t){return v.timeUpdate.call(null,this,t),this},destroy:function(){return v.destroy.call(null,this),this}}),v.manifest={},v.registry=[],v.registryByName={},v.plugin=function(a,l,o){if(!(0<=v.protect.natives.indexOf(a.toLowerCase()))){var c="function"==typeof l,s=["start","end","type","manifest"],u=["_setup","_teardown","start","end","frame"],t={},h=function(t,e){return t=t||v.nop,e=e||v.nop,function(){t.apply(this,arguments),e.apply(this,arguments)}};v.manifest[a]=o=o||l.manifest||{},u.forEach(function(t){var e,n;l[t]=(e=l[t]||v.nop,n=a,function(){if(v.plugin.debug)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(t){v.plugin.errors.push({plugin:n,thrown:t,source:e.toString()}),this.emit("pluginerror",v.plugin.errors)}})});var d=function(t,n){if(!n)return this;if(n.ranges&&v.isArray(n.ranges))return v.forEach(n.ranges,function(t){var e=v.extend({},n,t);delete e.ranges,this[a](e)},this),this;var e,i=n._natives={},r="";return v.extend(i,t),n._natives.type=n._natives.plugin=a,n._running=!1,i.start=i.start||i.in,i.end=i.end||i.out,n.once&&(i.end=h(i.end,function(){this.removeTrackEvent(n._id)})),i._teardown=h(function(){var t=p.call(arguments),e=this.data.running[i.type];t.unshift(null),t[1]._running&&e.splice(e.indexOf(n),1)&&i.end.apply(this,t),t[1]._running=!1,this.emit("trackend",v.extend({},n,{plugin:i.type,type:"trackend",track:v.getTrackEvent(this,n.id||n._id)}))},i._teardown),i._teardown=h(i._teardown,function(){this.emit("trackteardown",v.extend({},n,{plugin:a,type:"trackteardown",track:v.getTrackEvent(this,n.id||n._id)}))}),n.compose=n.compose||[],"string"==typeof n.compose&&(n.compose=n.compose.split(" ")),n.effect=n.effect||[],"string"==typeof n.effect&&(n.effect=n.effect.split(" ")),n.compose=n.compose.concat(n.effect),n.compose.forEach(function(t){r=v.compositions[t]||{},u.forEach(function(t){i[t]=h(i[t],r[t])})}),n._natives.manifest=o,"start"in n||(n.start=n.in||0),n.end||0===n.end||(n.end=n.out||Number.MAX_VALUE),g.call(n,"toString")||(n.toString=function(){var t=["start: "+n.start,"end: "+n.end,"id: "+(n.id||n._id)];return null!=n.target&&t.push("target: "+n.target),a+" ( "+t.join(", ")+" )"}),n.target||(e="options"in o&&o.options,n.target=e&&"target"in e&&e.target),!n._id&&n._natives&&(n._id=v.guid(n._natives.type)),n instanceof x?(n._natives&&(n._id=n.id||n._id||v.guid(n._natives.type),n._natives._setup&&(n._natives._setup.call(this,n),this.emit("tracksetup",v.extend({},n,{plugin:n._natives.type,type:"tracksetup",track:n})))),this.data.trackEvents.add(n),x.start(this,n),this.timeUpdate(this,null,!0),n._id&&v.addTrackEvent.ref(this,n)):v.addTrackEvent(this,n),v.forEach(t,function(t,e){-1===s.indexOf(e)&&this.on(e,t)},this),this};v.p[a]=t[a]=function(t,e){var n,i,r,o,s;arguments.length;if(t&&!e)e=t,t=null;else{if(n=this.getTrackEvent(t))return o=function(t,e){var n={};for(var i in t)g.call(e,i)&&g.call(t,i)&&(n[i]=t[i]);return n}(n,s=e),n._natives._update?(this.data.trackEvents.remove(n),g.call(e,"start")&&(n.start=e.start),g.call(e,"end")&&(n.end=e.end),x.end(this,n),c&&l.call(this,n),n._natives._update.call(this,n,e),this.data.trackEvents.add(n),x.start(this,n),"cue"!==n._natives.type&&this.emit("trackchange",{id:n.id,type:"trackchange",previousValue:o,currentValue:s,track:n})):(v.extend(n,e),this.data.trackEvents.remove(t),n._natives._teardown&&n._natives._teardown.call(this,n),v.removeTrackEvent.ref(this,t),c?d.call(this,l.call(this,n),n):(n._id=n.id||n._id||v.guid(n._natives.type),n._natives&&n._natives._setup&&(n._natives._setup.call(this,n),this.emit("tracksetup",v.extend({},n,{plugin:n._natives.type,type:"tracksetup",track:n}))),this.data.trackEvents.add(n),x.start(this,n),this.timeUpdate(this,null,!0),v.addTrackEvent.ref(this,n)),this.emit("trackchange",{id:n.id,type:"trackchange",previousValue:o,currentValue:n,track:n})),this;e.id=t}return this.data.running[a]=this.data.running[a]||[],i=this.options.defaults&&this.options.defaults[a]||{},r=v.extend({},i,e),d.call(this,c?l.call(this,r):l,r),this},o&&v.extend(l,{manifest:o});var e={fn:t[a],definition:l,base:l,parents:[],name:a};return v.registry.push(v.extend(t,e,{type:a})),v.registryByName[a]=e,t}v.error("'"+a+"' is a protected function name")},v.plugin.errors=[],v.plugin.debug="@VERSION"===v.version,v.removePlugin=function(t,e){if(!e){if(e=t,t=v.p,0<=v.protect.natives.indexOf(e.toLowerCase()))return void v.error("'"+e+"' is a protected function name");var n,i=v.registry.length;for(n=0;n<i;n++)if(v.registry[n].name===e)return v.registry.splice(n,1),delete v.registryByName[e],delete v.manifest[e],void delete t[e]}var r,o,s=t.data.trackEvents.byStart,a=t.data.trackEvents.byEnd,l=t.data.trackEvents.animating;for(r=0,o=s.length;r<o;r++)s[r]&&s[r]._natives&&s[r]._natives.type===e&&(s[r]._natives._teardown&&s[r]._natives._teardown.call(t,s[r]),s.splice(r,1),r--,o--,t.data.trackEvents.startIndex<=r&&(t.data.trackEvents.startIndex--,t.data.trackEvents.endIndex--)),a[r]&&a[r]._natives&&a[r]._natives.type===e&&a.splice(r,1);for(r=0,o=l.length;r<o;r++)l[r]&&l[r]._natives&&l[r]._natives.type===e&&(l.splice(r,1),r--,o--)},v.compositions={},v.compose=function(t,e,n){v.manifest[t]=n=n||e.manifest||{},v.compositions[t]=e},v.plugin.effect=v.effect=v.compose;var a=/^(?:\.|#|\[)/;v.dom={debug:!1,find:function(t,e){var n=null;if(e=e||f,t){if(!a.test(t)&&null!==(n=f.getElementById(t)))return n;try{n=e.querySelector(t)}catch(t){if(v.dom.debug)throw new Error(t)}}return n}};var m,y=/\?/,b={ajax:null,url:"",data:"",dataType:"",success:v.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};v.xhr=function(t){var e;if(t.dataType=t.dataType&&t.dataType.toLowerCase()||null,!t.dataType||"jsonp"!==t.dataType&&"script"!==t.dataType)return(e=v.extend({},b,t)).ajax=new XMLHttpRequest,e.ajax?("GET"===e.type&&e.data&&(e.url+=(y.test(e.url)?"&":"?")+e.data,e.data=null),e.ajax.open(e.type,e.url,e.async),"POST"===e.type&&e.ajax.setRequestHeader("Content-Type",e.contentType),e.ajax.send(e.data||null),v.xhr.httpData(e)):void 0;v.xhr.getJSONP(t.url,t.success,"script"===t.dataType)},v.xhr.httpData=function(t){var e,n,i=null,r=null;return t.ajax.onreadystatechange=function(){if(4===t.ajax.readyState){try{i=JSON.parse(t.ajax.responseText)}catch(t){}if(!(e={xml:t.ajax.responseXML,text:t.ajax.responseText,json:i}).xml||!e.xml.documentElement){e.xml=null;try{n=new DOMParser,(r=n.parseFromString(t.ajax.responseText,"text/xml")).getElementsByTagName("parsererror").length||(e.xml=r)}catch(t){}}t.dataType&&(e=e[t.dataType]),t.success.call(t.ajax,e)}},e},v.xhr.getJSONP=function(t,e,n){var i,r,o,s=f.head||f.getElementsByTagName("head")[0]||f.documentElement,a=f.createElement("script"),l=!1,c=[],u=/(=)\?(?=&|$)|\?\?/;n||(null!==(o=t.match(/(callback=[^&]*)/))&&o.length?("?"===(i=o[1].split("=")[1])&&(i="jsonp"),r=v.guid(i),t=t.replace(/(callback=[^&]*)/,"callback="+r)):(r=v.guid("jsonp"),u.test(t)&&(t=t.replace(u,"$1"+r)),t=(c=t.split(/\?(.+)?/))[0]+"?",c[1]&&(t+=c[1]+"&"),t+="callback="+r),window[r]=function(t){e&&e(t),l=!0}),a.addEventListener("load",function(){n&&e&&e(),l&&delete window[r],s.removeChild(a)},!1),a.src=t,s.insertBefore(a,s.firstChild)},v.getJSONP=v.xhr.getJSONP,v.getScript=v.xhr.getScript=function(t,e){return v.xhr.getJSONP(t,e,!0)},v.util={toSeconds:function(t,e){var n,i,r,o,s,a;return"number"==typeof t?t:("string"!=typeof t||/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/.test(t)||v.error("Invalid time format"),-1<(r=(n=t.split(":"))[i=n.length-1]).indexOf(";")&&(s=r.split(";"),a=0,e&&"number"==typeof e&&(a=parseFloat(s[1],10)/e),n[i]=parseInt(s[0],10)+a),o=n[0],{1:parseFloat(o,10),2:60*parseInt(o,10)+parseFloat(n[1],10),3:3600*parseInt(o,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},v.p.cue=v.p.exec,v.protect={natives:(m=v.p,Object.keys?Object.keys(m):function(t){var e,n=[];for(e in t)g.call(t,e)&&n.push(e);return n}(m)).map(function(t){return t.toLowerCase()})},v.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(t,e){var n=v.p[e];v.p[e]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+e+"', "+(null==t?"do not use.":"use '"+t+"' instead.")),v.p[e]=n),v.p[t].apply(this,[].slice.call(arguments))}}),d.Popcorn=v}else{d.Popcorn={isSupported:!1};for(var w="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);w.length;)d.Popcorn[w.shift()]=function(){}}function x(t){r.put.call(this,t)}function k(t){this.parent=t,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,Object.defineProperty(this,"count",{get:function(){return this.byStart.length}})}function C(t,e,n){return t[e]&&t[e]===n}}(window,window.document),function(y){y.player=function(t,v){if(!y[t]){var e=function(t,e,n){n=n||{};var i,r=new Date/1e3,o=r,s=0,a=0,l=1,c=!1,u={},h="string"==typeof t?y.dom.find(t):t,d={};for(var f in Object.prototype.__defineGetter__||(d=h||document.createElement("div")),h)f in d||("object"==typeof h[f]?d[f]=h[f]:"function"==typeof h[f]?d[f]=function(t){return"length"in h[t]&&!h[t].call?h[t]:function(){return h[t].apply(h,arguments)}}(f):y.player.defineProperty(d,f,{get:function(t){return function(){return h[t]}}(f),set:y.nop,configurable:!0}));var p,g,m=function(){r=new Date/1e3,d.paused||(d.currentTime=d.currentTime+(r-o),d.dispatchEvent("timeupdate"),setTimeout(m,10)),o=r};return d.play=function(){this.paused=!1,4<=d.readyState&&(o=new Date/1e3,d.dispatchEvent("play"),m())},d.pause=function(){this.paused=!0,d.dispatchEvent("pause")},y.player.defineProperty(d,"currentTime",{get:function(){return s},set:function(t){return s=+t,d.dispatchEvent("timeupdate"),s},configurable:!0}),y.player.defineProperty(d,"volume",{get:function(){return l},set:function(t){return l=+t,d.dispatchEvent("volumechange"),l},configurable:!0}),y.player.defineProperty(d,"muted",{get:function(){return c},set:function(t){return c=+t,d.dispatchEvent("volumechange"),c},configurable:!0}),y.player.defineProperty(d,"readyState",{get:function(){return a},set:function(t){return a=t},configurable:!0}),d.addEventListener=function(t,e){return u[t]||(u[t]=[]),u[t].push(e),e},d.removeEventListener=function(t,e){var n,i=u[t];if(i){for(n=u[t].length-1;0<=n;n--)e===i[n]&&i.splice(n,1);return e}},d.dispatchEvent=function(t){var e,n,i=t.type;if(i||(i=t,(n=y.events.getInterface(i))&&(e=document.createEvent(n)).initEvent(i,!0,!0,window,1)),u[i])for(var r=u[i].length-1;0<=r;r--)u[i][r].call(this,e,this)},d.src=e||"",d.duration=0,d.paused=!0,d.ended=0,n&&n.events&&y.forEach(n.events,function(t,e){d.addEventListener(e,t,!1)}),!1!==v._canPlayType(h.nodeName,e)?v._setup?v._setup.call(d,n):(d.readyState=4,d.dispatchEvent("loadedmetadata"),d.dispatchEvent("loadeddata"),d.dispatchEvent("canplaythrough")):setTimeout(function(){d.dispatchEvent("error")},0),i=new y.p.init(d,n),v._teardown&&(i.destroy=(p=i.destroy,g=function(){v._teardown.call(d,n)},p=p||y.nop,g=g||y.nop,function(){p.apply(this,arguments),g.apply(this,arguments)})),i};e.canPlayType=(v=v||{})._canPlayType=v._canPlayType||y.nop,y[t]=y.player.registry[t]=e}},y.player.registry={},y.player.defineProperty=Object.defineProperty||function(t,e,n){t.__defineGetter__(e,n.get||y.nop),t.__defineSetter__(e,n.set||y.nop)},y.player.playerQueue=function(){var e=[],n=!1;return{next:function(){n=!1,e.shift(),e[0]&&e[0]()},add:function(t){e.push(function(){n=!0,t&&t()}),!n&&e[0]()}}},y.smart=function(t,e,n){var i,r,o,s,a,l,c,u="string"==typeof t?y.dom.find(t):t,h="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(u){for(i=0,c=(e="string"==typeof e?[e]:e).length;i<c;i++){for(r=e[i],o=0;o<h.length;o++)if((a=y[h[o]])&&"probably"===a._canPlaySrc(r))return s=a(u),l=y(s,n),setTimeout(function(){s.src=r},0),l;for(var d in y.player.registry)if(y.player.registry.hasOwnProperty(d)&&y.player.registry[d].canPlayType(u.nodeName,r))return y[d](u,r,n)}var f,p,g=y.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===e.length)return(p=document.createElement("video")).id=g,u.appendChild(p),setTimeout(function(){var t=document.createElement("div");t.innerHTML=e[0],p.src=t.firstChild.nodeValue},0),y("#"+g,n);for(u.appendChild(m),f='<video id="'+g+'" preload=auto autobuffer>',i=0,c=e.length;i<c;i++)f+='<source src="'+e[i]+'">';return f+="</video>",m.innerHTML=f,n&&n.events&&n.events.error&&u.addEventListener("error",n.events.error,!1),y("#"+g,n)}y.error("Specified target `"+t+"` was not found.")}}(Popcorn),function(t,i){function o(t){for(var i=o.options,e=i.parser[i.strictMode?"strict":"loose"].exec(t),r={},n=14;n--;)r[i.key[n]]=e[n]||"";return r[i.q.name]={},r[i.key[12]].replace(i.q.parser,function(t,e,n){e&&(r[i.q.name][e]=n)}),r}o.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var e={length:0,start:t.nop,end:t.nop};function n(){}MediaError=MediaError||function(){function t(t,e){this.code=t||null,this.message=e||""}return t.MEDIA_ERR_NONE_ACTIVE=0,t.MEDIA_ERR_ABORTED=1,t.MEDIA_ERR_NETWORK=2,t.MEDIA_ERR_DECODE=3,t.MEDIA_ERR_NONE_SUPPORTED=4,t}(),(n.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(t){return"string"==typeof t||!0===t},parseUri:o},addEventListener:function(t,e,n){i.addEventListener(this._eventNamespace+t,e,n)},removeEventListener:function(t,e,n){i.removeEventListener(this._eventNamespace+t,e,n)},dispatchEvent:function(t){var e=i.createEvent("CustomEvent"),n={type:t,target:this.parentNode,data:null};e.initCustomEvent(this._eventNamespace+t,!1,!1,n),i.dispatchEvent(e)},load:t.nop,canPlayType:function(t){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}).constructor=n,Object.defineProperties(n.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:t.nop},controls:{get:function(){return!0},set:t.nop},poster:{get:function(){return""},set:t.nop},crossorigin:{get:function(){return""}},played:{get:function(){return e}},seekable:{get:function(){return e}},buffered:{get:function(){return e}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),t._MediaElementProto=n}(Popcorn,window.document),function(H,R,F){var z=10,j="",B=/^.*(?:\/|v=)(.{11})/,W=Math.abs,V=!1,q=!1,Y=[];function e(t){if(!R.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var o,e,n,i,s=this,a="string"==typeof t?F.querySelector(t):t,l=F.createElement("div"),c={src:j,networkState:s.NETWORK_EMPTY,readyState:s.HAVE_NOTHING,seeking:!1,autoplay:j,preload:j,controls:!1,loop:!1,poster:j,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},u=!1,r=!1,h=!1,d=!1,f=!1,p=!1,g=!0,m=[],v=-1,y=0,b=!1;function w(t){m.unshift(t)}function x(t){var e=function(){o.isMuted()?navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)?f&&C():o.playVideo():setTimeout(e,0)};u=!0,o.mute(),e()}function k(t){var e={name:"MediaError"};switch(t.data){case 2:e.message="Invalid video parameter.",e.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=MediaError.MEDIA_ERR_DECODE;case 100:e.message="Video not found.",e.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:e.message="Video not usable.",e.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:e.message="Unknown error.",e.code=5}c.error=e,s.dispatchEvent("error")}function C(){for(o.setOption("captions","reload",!0),o.setOption("captions","track",{}),w(function(){e=setInterval(T,50)}),c.autoplay||!c.paused?(c.paused=!1,w(function(){N()})):(r=!1,o.pauseVideo()),c.muted||o.unMute(),c.readyState=s.HAVE_METADATA,s.dispatchEvent("loadedmetadata"),n=setInterval(E,z),s.dispatchEvent("loadeddata"),c.readyState=s.HAVE_FUTURE_DATA,s.dispatchEvent("canplay"),d=!0;m.length;)m[0](),m.shift();c.readyState=s.HAVE_ENOUGH_DATA,s.dispatchEvent("canplaythrough")}function _(t){switch(t.data){case YT.PlayerState.ENDED:c.loop?(M(0),s.play()):(c.ended=!0,o.pauseVideo(),L(),h=!0,s.dispatchEvent("timeupdate"),s.dispatchEvent("ended"));break;case YT.PlayerState.PLAYING:b?h?(h=!1,o.pauseVideo()):N():(b=!0,f&&C());break;case YT.PlayerState.PAUSED:if(o.getDuration()===o.getCurrentTime())break;if(r){r=!1;break}L();break;case YT.PlayerState.BUFFERING:c.networkState=s.NETWORK_LOADING,s.dispatchEvent("waiting");break;case YT.PlayerState.CUED:}t.data!==YT.PlayerState.BUFFERING&&v===YT.PlayerState.BUFFERING&&I(),v=t.data}function S(){u&&o&&(b=f=!1,clearInterval(n),clearInterval(e))}function $(t){if(!s._canPlaySrc(t))return c.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void s.dispatchEvent("error");if(c.src=t,!function(){if(!q){var t=F.createElement("script"),e="file:"===R.location.protocol?"http:":"";t.src=e+"//www.youtube.com/iframe_api";var n=F.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),q=!0}return V}())return e=function(){$(t)},void Y.unshift(e);var e;u&&(S(),S(),u&&o&&(a.removeChild(l),l=F.createElement("div"))),a.appendChild(l);var n=s._util.parseUri(t).queryKey;delete n.v,c.autoplay="1"===n.autoplay||c.autoplay,delete n.autoplay,c.loop="1"===n.loop||c.loop,delete n.loop,n.rel=n.rel||0,n.modestbranding=n.modestbranding||1,n.iv_load_policy=n.iv_load_policy||3,n.showinfo=n.showinfo||0;var i="file:"===R.location.protocol?"*":R.location.protocol+"//"+R.location.host;n.origin=n.origin||i,n.controls="1"==n.controls||c.controls?2:0,c.controls=n.controls,n.wmode=n.wmode||"opaque";var r="https://www.googleapis.com/youtube/v3/videos?id="+(t=B.exec(t)[1])+"&part=contentDetails&key=AIzaSyAztqrTO5FZE2xPI4XDYbLeOXE0vtWoTMk&fields=items(contentDetails(duration))";H.getJSONP(r,function(t){var e="failed to retreive duration data, reason: ";if(t.error)console.warn(e+t.error.message);else if(t.items&&0!=t.items.length){var n=parseDuration(t.items[0].contentDetails.duration);c.duration=3600*n.hour+60*n.minute+n.second,s.dispatchEvent("durationchange"),f=!0,b&&C()}else console.warn(e+"no response data")}),o=new YT.Player(l,{width:"100%",height:"100%",wmode:n.wmode,videoId:t,playerVars:n,events:{onReady:x,onError:k,onStateChange:_}}),c.networkState=s.NETWORK_LOADING,s.dispatchEvent("loadstart"),s.dispatchEvent("progress")}function E(){var t=o.getCurrentTime();c.seeking?W(t-c.currentTime)<1&&O():(W(c.currentTime-t)>z&&(P(),O()),c.currentTime=t)}function T(){var t=o.getVideoLoadedFraction();t&&y!==t&&(y=t,I())}function D(){return c.currentTime}function M(t){c.currentTime=t,d?(P(),o.seekTo(t)):w(function(){P()})}function A(){s.dispatchEvent("timeupdate")}function P(){c.seeking=!0,s.dispatchEvent("seeking")}function O(){c.ended=!1,c.seeking=!1,s.dispatchEvent("timeupdate"),s.dispatchEvent("seeked"),s.dispatchEvent("canplay"),s.dispatchEvent("canplaythrough")}function N(){c.ended&&(M(0),c.ended=!1),i&&clearInterval(i),i=setInterval(A,s._util.TIMEUPDATE_MS),c.paused=!1,g&&(g=!1,(c.loop&&!p||!c.loop)&&(p=!0,s.dispatchEvent("play")),s.dispatchEvent("playing"))}function I(){s.dispatchEvent("progress")}function L(){c.paused=!0,g||(g=!0,clearInterval(i),s.dispatchEvent("pause"))}s._eventNamespace=H.guid("HTMLYouTubeVideoElement::"),s.parentNode=a,s._util.type="YouTube",parseDuration=function(t){var e=t.match(/^P([0-9]+Y|)?([0-9]+M|)?([0-9]+D|)?T?([0-9]+H|)?([0-9]+M|)?([0-9]+S|)?$/),n={};return!!e&&(n.year=parseInt(e[1])||0,n.month=parseInt(e[2])||0,n.day=parseInt(e[3])||0,n.hour=parseInt(e[4])||0,n.minute=parseInt(e[5])||0,n.second=parseInt(e[6])||0,n.toString=function(){var t="";return this.year&&(t+=this.year+" Year"+(1==this.year?"":"s")+" "),this.month&&(t+=this.month+" Month"+(1==this.month?"":"s")+" "),this.day&&(t+=this.day+" Day"+(1==this.day?"":"s")+" "),this.hour&&(t+=this.hour+" Hour"+(1==this.hour?"":"s")+" "),this.minute&&(t+=this.minute+" Minute"+(1==this.minute?"":"s")+" "),this.second&&(t+=this.second+" Second"+(1==this.second?"":"s")+" "),t},n)},s.play=function(){c.paused=!1,d?o.playVideo():w(function(){s.play()})},s.pause=function(){c.paused=!0,d?(r=!1,o.pauseVideo()):w(function(){s.pause()})},s.getSpeeds=function(){return o.getAvailablePlaybackRates()},s.setSpeed=function(t){o.setPlaybackRate(t)},s.getAvailableQuality=function(){return o.getAvailableQualityLevels()},s.getQuality=function(){return o.getPlaybackQuality()},s.setQuality=function(t){o.setPlaybackQuality(t),M(D())},s.destroy=function(){S()},s.getCaptionTracks=function(){return o.getOption("captions","tracklist")},s.setCaptionTrack=function(t){o.setOption("captions","track",t)},Object.defineProperties(s,{src:{get:function(){return c.src},set:function(t){t&&t!==c.src&&$(t)}},autoplay:{get:function(){return c.autoplay},set:function(t){c.autoplay=s._util.isAttributeSet(t)}},loop:{get:function(){return c.loop},set:function(t){c.loop=s._util.isAttributeSet(t)}},width:{get:function(){return s.parentNode.offsetWidth}},height:{get:function(){return s.parentNode.offsetHeight}},currentTime:{get:function(){return D()},set:function(t){M(t)}},duration:{get:function(){return c.duration}},ended:{get:function(){return c.ended}},paused:{get:function(){return c.paused}},seeking:{get:function(){return c.seeking}},readyState:{get:function(){return c.readyState}},networkState:{get:function(){return c.networkState}},volume:{get:function(){return c.volume/100},set:function(t){if(t<0||1<t)throw"Volume value must be between 0.0 and 1.0";!function t(e){c.volume=e,d?(o.setVolume(100*c.volume),s.dispatchEvent("volumechange")):w(function(){t(c.volume)})}(t)}},muted:{get:function(){return c.muted},set:function(t){!function t(e){c.muted=e,d?(o[e?"mute":"unMute"](),s.dispatchEvent("volumechange")):w(function(){t(c.muted)})}(s._util.isAttributeSet(t))}},error:{get:function(){return c.error}},buffered:{get:function(){var t={start:function(t){if(0===t)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(t){if(0===t)return c.duration?c.duration*y:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(t,{length:{get:function(){return 1}}}),t}}})}R.YT&&(R.quarantineYT=R.YT,R.YT=null),R.onYouTubeIframeAPIReady=function(){V=!0;for(var t=Y.length;t--;)Y[t](),delete Y[t]},((e.prototype=new H._MediaElementProto).constructor=e).prototype._canPlaySrc=function(t){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(t)?"probably":j},e.prototype.canPlayType=function(t){return"video/x-youtube"===t?"probably":j},H.HTMLYouTubeVideoElement=function(t){return new e(t)},H.HTMLYouTubeVideoElement._canPlaySrc=e.prototype._canPlaySrc}(Popcorn,window,document),function(N,I,L){var H=10,R="",F=Math.abs;function e(t){if(!I.postMessage||!I.JSON)throw"ERROR: HTMLMediaSiteVideoElement requires window.postMessage";var n,e,i,r,o=this,s="string"==typeof t?L.querySelector(t):t,a=L.createElement("div"),l="mediaSiteVideoId",c={src:R,networkState:o.NETWORK_EMPTY,readyState:o.HAVE_NOTHING,seeking:!1,autoplay:R,preload:R,controls:!1,loop:!1,poster:R,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},u=!1,h=!1,d=!1,f=!1,p=!1,g=!1,m=!0,v=[],y=-1,b=!1;function w(t){v.unshift(t)}function x(t){var e=function(){n.isMuted()?navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)?p&&C():n.play():setTimeout(e,0)};u=!0,n.mute(),c.duration=n.getDuration(),o.dispatchEvent("durationchange"),p=!0,e(),b&&C()}function k(t){var e={name:"MediaError"};switch(t.errorCode){case 500:e.message="Invalid video parameter.",e.code=t.errorCode;break;case 424:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=t.errorCode;break;case 510:e.message="Video not found.",e.code=t.errorCode;break;case 511:e.message="Video not usable.",e.code=t.errorCode;break;default:e.message="Unknown error.",e.code=5}c.error=e,o.dispatchEvent("error")}function C(){for(c.autoplay||!c.paused?(c.paused=!1,w(function(){P()})):(h=!1,n.pause()),c.muted||n.unMute(),c.readyState=o.HAVE_METADATA,o.dispatchEvent("loadedmetadata"),i=setInterval(E,H),o.dispatchEvent("loadeddata"),c.readyState=o.HAVE_FUTURE_DATA,o.dispatchEvent("canplay"),f=!0;v.length;)v[0](),v.shift();c.readyState=o.HAVE_ENOUGH_DATA,o.dispatchEvent("canplaythrough")}function _(t){switch(t.playState){case Mediasite.PlayState.MediaEnded:c.loop?(T(0),o.play()):(c.ended=!0,n.pause(),O(),d=!0,o.dispatchEvent("timeupdate"),o.dispatchEvent("ended"));break;case Mediasite.PlayState.Playing:b?d?(d=!1,n.pause()):P():(b=!0,p&&C());break;case Mediasite.PlayState.Paused:if(n.getDuration()===n.getCurrentTime())break;if(h){h=!1;break}O();break;case Mediasite.PlayState.Buffering:c.networkState=o.NETWORK_LOADING,o.dispatchEvent("waiting")}t.state!==Mediasite.PlayState.Buffering&&y===Mediasite.PlayState.Buffering&&o.dispatchEvent("progress"),y=t.state}function S(){u&&n&&(b=p=!1,clearInterval(i),clearInterval(e))}function $(t){if(!o._canPlaySrc(t))return c.error={name:"MediaError",message:"Media Source Not Supported",code:511},void o.dispatchEvent("error");t=t+(-1==t.indexOf("?")?"?":"&")+"player=MediasiteIntegration",c.src=t,u&&(S(),u&&n&&(s.removeChild(a),(a=L.createElement("div")).setAttribute("id",l))),a.setAttribute("id",l),s.appendChild(a),n=new Mediasite.Player(l,{url:t,events:{ready:x,error:k,playstatechanged:_},layoutOptions:{ShowStateMessages:!1,Gutter:0,FrameWidth:0}}),c.networkState=o.NETWORK_LOADING,o.dispatchEvent("loadstart"),o.dispatchEvent("progress")}function E(){var t=n.getCurrentTime();c.seeking?F(t-c.currentTime)<1&&A():(F(c.currentTime-t)>H&&(M(),A()),c.currentTime=t)}function T(t){c.currentTime=t,f?(M(),n.seekTo(t)):w(function(){M(),n.seekTo(t)})}function D(){o.dispatchEvent("timeupdate")}function M(){c.seeking=!0,o.dispatchEvent("seeking")}function A(){c.ended=!1,c.seeking=!1,o.dispatchEvent("timeupdate"),o.dispatchEvent("seeked"),o.dispatchEvent("canplay"),o.dispatchEvent("canplaythrough")}function P(){c.ended&&(T(0),c.ended=!1),r&&clearInterval(r),r=setInterval(D,o._util.TIMEUPDATE_MS),c.paused=!1,m&&(m=!1,(c.loop&&!g||!c.loop)&&(g=!0,o.dispatchEvent("play")),o.dispatchEvent("playing"))}function O(){c.paused=!0,m||(m=!0,clearInterval(r),o.dispatchEvent("pause"))}o._eventNamespace=N.guid("HTMLMediaSiteVideoElement::"),o.parentNode=s,o._util.type="MediaSite",o.play=function(){c.paused=!1,f?n.play():w(function(){o.play()})},o.pause=function(){c.paused=!0,f?(h=!1,n.pause()):w(function(){o.pause()})},o.getSpeeds=function(){return[1]},o.setSpeed=function(t){},o.getAvailableQuality=function(){return[]},o.getQuality=function(){return"Normal"},o.setQuality=function(t){},o.destroy=function(){S()},Object.defineProperties(o,{src:{get:function(){return c.src},set:function(t){t&&t!==c.src&&$(t)}},autoplay:{get:function(){return c.autoplay},set:function(t){c.autoplay=o._util.isAttributeSet(t)}},loop:{get:function(){return c.loop},set:function(t){c.loop=o._util.isAttributeSet(t)}},width:{get:function(){return o.parentNode.offsetWidth}},height:{get:function(){return o.parentNode.offsetHeight}},currentTime:{get:function(){return c.currentTime},set:function(t){T(t)}},duration:{get:function(){return c.duration}},ended:{get:function(){return c.ended}},paused:{get:function(){return c.paused}},seeking:{get:function(){return c.seeking}},readyState:{get:function(){return c.readyState}},networkState:{get:function(){return c.networkState}},volume:{get:function(){return c.volume/100},set:function(t){if(t<0||1<t)throw"Volume value must be between 0.0 and 1.0";!function t(e){c.volume=e,f?(n.setVolume(100*c.volume),o.dispatchEvent("volumechange")):w(function(){t(c.volume)})}(t)}},muted:{get:function(){return c.muted},set:function(t){!function t(e){c.muted=e,f?(n[e?"mute":"unMute"](),o.dispatchEvent("volumechange")):w(function(){t(c.muted)})}(o._util.isAttributeSet(t))}},error:{get:function(){return c.error}},buffered:{get:function(){var t={start:function(t){if(0===t)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(t){if(0===t)return c.duration?0*c.duration:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(t,{length:{get:function(){return 1}}}),t}}})}((e.prototype=new N._MediaElementProto).constructor=e).prototype._canPlaySrc=function(t){return/^(http|https):\/\/.*(\/Play\/)/.test(t)?"probably":R},e.prototype.canPlayType=function(t){return"video/x-mediasite"===t?"probably":R},N.HTMLMediaSiteVideoElement=function(t){return new e(t)},N.HTMLMediaSiteVideoElement._canPlaySrc=e.prototype._canPlaySrc}(Popcorn,window,document),function(t,r){function o(t){return"maybe"}function e(t,e){var n="string"==typeof t?r.querySelector(t):t,i=r.createElement(e);return n.appendChild(i),i._canPlaySrc=o,i}t.HTMLVideoElement=function(t){return e(t,"video")},t.HTMLVideoElement._canPlaySrc=o,t.HTMLAudioElement=function(t){return e(t,"audio")},t.HTMLAudioElement._canPlaySrc=o}(Popcorn,window.document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function m(){return qt.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)v(e,n)&&(t[n]=e[n]);return v(e,"toString")&&(t.toString=e.toString),v(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,i){return ft(t,e,n,i,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function p(t){if(null==t._isValid){var e=y(t),n=Yt.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=f(NaN);return null!=t?d(y(e),t):y(e).userInvalidated=!0,e}function o(t){return void 0===t}function b(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=y(e)),o(e._locale)||(t._locale=e._locale),0<Ut.length)for(n in Ut)o(r=e[i=Ut[n]])||(t[i]=r);return t}function w(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Gt&&(Gt=!0,m.updateOffset(this),Gt=!1)}function x(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function k(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function C(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=k(e)),n}function s(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&C(t[i])!==C(e[i]))&&s++;return s+o}function _(t){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function t(r,o){var s=!0;return d(function(){if(null!=m.deprecationHandler&&m.deprecationHandler(null,r),s){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}_(r+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),s=!1}return o.apply(this,arguments)},o)}function S(t,e){null!=m.deprecationHandler&&m.deprecationHandler(t,e),Xt[t]||(_(e),Xt[t]=!0)}function $(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=d({},t);for(n in e)v(e,n)&&(l(t[n])&&l(e[n])?(i[n]={},d(i[n],t[n]),d(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)v(t,n)&&!v(e,n)&&l(t[n])&&(i[n]=d({},i[n]));return i}function E(t){null!=t&&this.set(t)}function e(t,e){var n=t.toLowerCase();Zt[n]=Zt[n+"s"]=Zt[e]=t}function T(t){return"string"==typeof t?Zt[t]||Zt[t.toLowerCase()]:void 0}function D(t){var e,n,i={};for(n in t)v(t,n)&&((e=T(n))&&(i[e]=t[n]));return i}function n(t,e){Qt[t]=e}function i(e,n){return function(t){return null!=t?(A(this,e,t),m.updateOffset(this,n),this):M(this,e)}}function M(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function A(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function P(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function O(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(ne[t]=r),e&&(ne[e[0]]=function(){return P(r.apply(this,arguments),e[1],e[2])}),n&&(ne[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function N(t,e){return t.isValid()?(e=I(e,t.localeData()),ee[e]=ee[e]||function(i){var t,r,e,o=i.match(Jt);for(t=0,r=o.length;t<r;t++)ne[o[t]]?o[t]=ne[o[t]]:o[t]=(e=o[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<r;e++)n+=o[e]instanceof Function?o[e].call(t,i):o[e];return n}}(e),ee[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(te.lastIndex=0;0<=i&&te.test(t);)t=t.replace(te,n),te.lastIndex=0,i-=1;return t}function L(t,n,i){be[t]=$(n)?n:function(t,e){return t&&i?i:n}}function H(t,e){return v(be,t)?be[t](e._strict,e._locale):new RegExp(R(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function R(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),u(n)&&(i=function(t,e){e[n]=C(t)}),e=0;e<t.length;e++)we[t[e]]=i}function z(t,r){F(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}function j(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function B(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(!u(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),j(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function W(t){return null!=t?(B(this,t),m.updateOffset(this,!0),this):M(this,"Month")}function V(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=R(i[e]),r[e]=R(r[e]);for(e=0;e<24;e++)o[e]=R(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function q(t){return Y(t)?366:365}function Y(t){return t%4==0&&t%100!=0||t%400==0}function U(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function G(t,e,n){var i=7+e-n;return-((7+U(t,0,i).getUTCDay()-e)%7)+i-1}function X(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+G(t,i,r);return a<=0?s=q(o=t-1)+a:a>q(t)?(o=t+1,s=a-q(t)):(o=t,s=a),{year:o,dayOfYear:s}}function K(t,e,n){var i,r,o=G(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?i=s+Z(r=t.year()-1,e,n):s>Z(t.year(),e,n)?(i=s-Z(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function Z(t,e,n){var i=G(t,e,n),r=G(t+1,e,n);return(q(t)-i+r)/7}function Q(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=R(a[e]),l[e]=R(l[e]),c[e]=R(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function J(){return this.hours()%12||12}function tt(t,e){O(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function et(t,e){return e._meridiemParse}function nt(t){return t?t.toLowerCase().replace("_","-"):t}function it(t){var e=null;if(!Ye[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=We._abbr,require("./locale/"+t),rt(e)}catch(t){}return Ye[t]}function rt(t,e){var n;return t&&((n=o(e)?st(t):ot(t,e))&&(We=n)),We._abbr}function ot(t,e){if(null!==e){var n=qe;if(e.abbr=t,null!=Ye[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ye[t]._config;else if(null!=e.parentLocale){if(null==Ye[e.parentLocale])return Ue[e.parentLocale]||(Ue[e.parentLocale]=[]),Ue[e.parentLocale].push({name:t,config:e}),null;n=Ye[e.parentLocale]._config}return Ye[t]=new E(r(n,e)),Ue[t]&&Ue[t].forEach(function(t){ot(t.name,t.config)}),rt(t),Ye[t]}return delete Ye[t],null}function st(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return We;if(!a(t)){if(e=it(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=nt(t[o]).split("-")).length,n=(n=nt(t[o+1]))?n.split("-"):null;0<e;){if(i=it(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&s(r,n,!0)>=e-1)break;e--}o++}return null}(t)}function at(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[ke]<0||11<n[ke]?ke:n[Ce]<1||n[Ce]>j(n[xe],n[ke])?Ce:n[_e]<0||24<n[_e]||24===n[_e]&&(0!==n[Se]||0!==n[$e]||0!==n[Ee])?_e:n[Se]<0||59<n[Se]?Se:n[$e]<0||59<n[$e]?$e:n[Ee]<0||999<n[Ee]?Ee:-1,y(t)._overflowDayOfYear&&(e<xe||Ce<e)&&(e=Ce),y(t)._overflowWeeks&&-1===e&&(e=Te),y(t)._overflowWeekday&&-1===e&&(e=De),y(t).overflow=e),t}function lt(t){var e,n,i,r,o,s,a=t._i,l=Ge.exec(a)||Xe.exec(a);if(l){for(y(t).iso=!0,e=0,n=Ze.length;e<n;e++)if(Ze[e][1].exec(l[1])){r=Ze[e][0],i=!1!==Ze[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Qe.length;e<n;e++)if(Qe[e][1].exec(l[3])){o=(l[2]||" ")+Qe[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Ke.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),ht(t)}else t._isValid=!1}function ct(t,e,n){return null!=t?t:null!=e?e:n}function ut(t){var e,n,i,r,o,s,a=[];if(!t._d){for(o=t,s=void 0,s=new Date(m.now()),i=o._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],t._w&&null==t._a[Ce]&&null==t._a[ke]&&function(t){var e,n,i,r,o,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,n=ct(e.GG,t._a[xe],K(pt(),1,4).year),i=ct(e.W,1),((r=ct(e.E,1))<1||7<r)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var c=K(pt(),o,s);n=ct(e.gg,t._a[xe],c.year),i=ct(e.w,c.week),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||6<e.e)&&(l=!0)):r=o}i<1||i>Z(n,o,s)?y(t)._overflowWeeks=!0:null!=l?y(t)._overflowWeekday=!0:(a=X(n,i,r,o,s),t._a[xe]=a.year,t._dayOfYear=a.dayOfYear)}(t),t._dayOfYear&&(r=ct(t._a[xe],i[xe]),t._dayOfYear>q(r)&&(y(t)._overflowDayOfYear=!0),n=U(r,0,t._dayOfYear),t._a[ke]=n.getUTCMonth(),t._a[Ce]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[_e]&&0===t._a[Se]&&0===t._a[$e]&&0===t._a[Ee]&&(t._nextDay=!0,t._a[_e]=0),t._d=(t._useUTC?U:function(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[_e]=24)}}function ht(t){if(t._f!==m.ISO_8601){t._a=[],y(t).empty=!0;var e,n,i,r,o,s,a,l,c,u,h,d,f=""+t._i,p=f.length,g=0;for(i=I(t._f,t._locale).match(Jt)||[],e=0;e<i.length;e++)r=i[e],(n=(f.match(H(r,t))||[])[0])&&(0<(o=f.substr(0,f.indexOf(n))).length&&y(t).unusedInput.push(o),f=f.slice(f.indexOf(n)+n.length),g+=n.length),ne[r]?(n?y(t).empty=!1:y(t).unusedTokens.push(r),s=r,l=t,null!=(a=n)&&v(we,s)&&we[s](a,l._a,l,s)):t._strict&&!n&&y(t).unusedTokens.push(r);y(t).charsLeftOver=p-g,0<f.length&&y(t).unusedInput.push(f),t._a[_e]<=12&&!0===y(t).bigHour&&0<t._a[_e]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[_e]=(c=t._locale,u=t._a[_e],null==(h=t._meridiem)?u:null!=c.meridiemHour?c.meridiemHour(u,h):(null!=c.isPM&&((d=c.isPM(h))&&u<12&&(u+=12),d||12!==u||(u=0)),u)),ut(t),at(t)}else lt(t)}function dt(t){var e,n,i,r,o=t._i,s=t._f;return t._locale=t._locale||st(t._l),null===o||void 0===s&&""===o?g({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),x(o)?new w(at(o)):(c(o)?t._d=o:a(s)?function(t){var e,n,i,r,o;if(0===t._f.length)return y(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)o=0,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ht(e),p(e)&&(o+=y(e).charsLeftOver,o+=10*y(e).unusedTokens.length,y(e).score=o,(null==i||o<i)&&(i=o,n=e));d(t,n||e)}(t):s?ht(t):void 0===(n=(e=t)._i)?e._d=new Date(m.now()):c(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(i=e,null!==(r=Je.exec(i._i))?i._d=new Date(+r[1]):(lt(i),!1===i._isValid&&(delete i._isValid,m.createFromInputFallback(i)))):a(n)?(e._a=h(n.slice(0),function(t){return parseInt(t,10)}),ut(e)):"object"==typeof n?function(t){if(!t._d){var e=D(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ut(t)}}(e):u(n)?e._d=new Date(n):m.createFromInputFallback(e),p(t)||(t._d=null),t))}function ft(t,e,n,i,r){var o,s={};return!0!==n&&!1!==n||(i=n,n=void 0),(l(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||a(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,(o=new w(at(dt(s))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function pt(t,e,n,i){return ft(t,e,n,i,!1)}function gt(t,e){var n,i;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return pt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function mt(t){var e=D(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=st(),this._bubble()}function vt(t){return t instanceof mt}function yt(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function bt(t,n){O(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+P(~~(t/60),2)+n+P(~~t%60,2)})}function wt(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(nn)||["-",0,0],r=60*i[1]+C(i[2]);return 0===r?0:"+"===i[0]?r:-r}function xt(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(x(t)||c(t)?t.valueOf():pt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),m.updateOffset(n,!1),n):pt(t).local()}function kt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ct(){return!!this.isValid()&&this._isUTC&&0===this._offset}function _t(t,e){var n,i,r,o,s,a,l=t,c=null;return vt(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:u(t)?(l={},e?l[e]=t:l.milliseconds=t):(c=rn.exec(t))?(n="-"===c[1]?-1:1,l={y:0,d:C(c[Ce])*n,h:C(c[_e])*n,m:C(c[Se])*n,s:C(c[$e])*n,ms:C(yt(1e3*c[Ee]))*n}):(c=on.exec(t))?(n="-"===c[1]?-1:1,l={y:St(c[2],n),M:St(c[3],n),w:St(c[4],n),d:St(c[5],n),h:St(c[6],n),m:St(c[7],n),s:St(c[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=pt(l.from),s=pt(l.to),r=o.isValid()&&s.isValid()?(s=xt(s,o),o.isBefore(s)?a=$t(o,s):((a=$t(s,o)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new mt(l),vt(t)&&v(t,"_locale")&&(i._locale=t._locale),i}function St(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function $t(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Et(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(S(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Tt(this,_t(t="string"==typeof t?+t:t,e),i),this}}function Tt(t,e,n,i){var r=e._milliseconds,o=yt(e._days),s=yt(e._months);t.isValid()&&(i=null==i||i,r&&t._d.setTime(t._d.valueOf()+r*n),o&&A(t,"Date",M(t,"Date")+o*n),s&&B(t,M(t,"Month")+s*n),i&&m.updateOffset(t,o||s))}function Dt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=st(t))&&(this._locale=e),this)}function Mt(){return this._locale}function At(t,e){O(0,[t,t.length],0,e)}function Pt(t,e,n,i,r){var o;return null==t?K(this,i,r).year:((o=Z(t,i,r))<e&&(e=o),function(t,e,n,i,r){var o=X(t,e,n,i,r),s=U(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,t,e,n,i,r))}function Ot(t,e){e[Ee]=C(1e3*("0."+t))}function Nt(t){return t}function It(t,e,n,i){var r=st(),o=f().set(i,e);return r[n](o,t)}function Lt(t,e,n){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return It(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=It(t,i,n,"month");return r}function Ht(t,e,n,i){"boolean"==typeof t||(n=e=t,t=!1),u(e)&&(n=e,e=void 0),e=e||"";var r=st(),o=t?r._week.dow:0;if(null!=n)return It(e,(n+o)%7,i,"day");var s,a=[];for(s=0;s<7;s++)a[s]=It(e,(s+o)%7,i,"day");return a}function Rt(t,e,n,i){var r=_t(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Ft(t){return t<0?Math.floor(t):Math.ceil(t)}function zt(t){return 4800*t/146097}function jt(t){return 146097*t/4800}function Bt(t){return function(){return this.as(t)}}function Wt(t){return function(){return this._data[t]}}function Vt(){var t,e,n=Nn(this._milliseconds)/1e3,i=Nn(this._days),r=Nn(this._months);e=k((t=k(n/60))/60),n%=60,t%=60;var o=k(r/12),s=r%=12,a=i,l=e,c=t,u=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var qt,Yt=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},Ut=m.momentProperties=[],Gt=!1,Xt={};m.suppressDeprecationWarnings=!1,m.deprecationHandler=null;var Kt=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)v(t,e)&&n.push(e);return n},Zt={},Qt={},Jt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,te=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ee={},ne={},ie=/\d/,re=/\d\d/,oe=/\d{3}/,se=/\d{4}/,ae=/[+-]?\d{6}/,le=/\d\d?/,ce=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,he=/\d{1,3}/,de=/\d{1,4}/,fe=/[+-]?\d{1,6}/,pe=/\d+/,ge=/[+-]?\d+/,me=/Z|[+-]\d\d:?\d\d/gi,ve=/Z|[+-]\d\d(?::?\d\d)?/gi,ye=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,be={},we={},xe=0,ke=1,Ce=2,_e=3,Se=4,$e=5,Ee=6,Te=7,De=8,Me=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),O("MMMM",0,0,function(t){return this.localeData().months(this,t)}),e("month","M"),n("month",8),L("M",le),L("MM",le,re),L("MMM",function(t,e){return e.monthsShortRegex(t)}),L("MMMM",function(t,e){return e.monthsRegex(t)}),F(["M","MM"],function(t,e){e[ke]=C(t)-1}),F(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ke]=r:y(n).invalidMonth=t});var Ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ne=ye,Ie=ye;O("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),e("year","y"),n("year",1),L("Y",ge),L("YY",le,re),L("YYYY",de,se),L("YYYYY",fe,ae),L("YYYYYY",fe,ae),F(["YYYYY","YYYYYY"],xe),F("YYYY",function(t,e){e[xe]=2===t.length?m.parseTwoDigitYear(t):C(t)}),F("YY",function(t,e){e[xe]=m.parseTwoDigitYear(t)}),F("Y",function(t,e){e[xe]=parseInt(t,10)}),m.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)};var Le=i("FullYear",!0);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),n("week",5),n("isoWeek",5),L("w",le),L("ww",le,re),L("W",le),L("WW",le,re),z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=C(t)});O("d",0,"do","day"),O("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),O("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),O("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),L("d",le),L("e",le),L("E",le),L("dd",function(t,e){return e.weekdaysMinRegex(t)}),L("ddd",function(t,e){return e.weekdaysShortRegex(t)}),L("dddd",function(t,e){return e.weekdaysRegex(t)}),z(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:y(n).invalidWeekday=t}),z(["d","e","E"],function(t,e,n,i){e[i]=C(t)});var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ze=ye,je=ye,Be=ye;O("H",["HH",2],0,"hour"),O("h",["hh",2],0,J),O("k",["kk",2],0,function(){return this.hours()||24}),O("hmm",0,0,function(){return""+J.apply(this)+P(this.minutes(),2)}),O("hmmss",0,0,function(){return""+J.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),tt("a",!0),tt("A",!1),e("hour","h"),n("hour",13),L("a",et),L("A",et),L("H",le),L("h",le),L("HH",le,re),L("hh",le,re),L("hmm",ce),L("hmmss",ue),L("Hmm",ce),L("Hmmss",ue),F(["H","HH"],_e),F(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),F(["h","hh"],function(t,e,n){e[_e]=C(t),y(n).bigHour=!0}),F("hmm",function(t,e,n){var i=t.length-2;e[_e]=C(t.substr(0,i)),e[Se]=C(t.substr(i)),y(n).bigHour=!0}),F("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[_e]=C(t.substr(0,i)),e[Se]=C(t.substr(i,2)),e[$e]=C(t.substr(r)),y(n).bigHour=!0}),F("Hmm",function(t,e,n){var i=t.length-2;e[_e]=C(t.substr(0,i)),e[Se]=C(t.substr(i))}),F("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[_e]=C(t.substr(0,i)),e[Se]=C(t.substr(i,2)),e[$e]=C(t.substr(r))});var We,Ve=i("Hours",!0),qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:Oe,week:{dow:0,doy:6},weekdays:He,weekdaysMin:Fe,weekdaysShort:Re,meridiemParse:/[ap]\.?m?\.?/i},Ye={},Ue={},Ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ke=/Z|[+-]\d\d(?::?\d\d)?/,Ze=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Qe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Je=/^\/?Date\((\-?\d+)/i;m.createFromInputFallback=t("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),m.ISO_8601=function(){};var tn=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=pt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),en=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=pt.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:g()});bt("Z",":"),bt("ZZ",""),L("Z",ve),L("ZZ",ve),F(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=wt(ve,t)});var nn=/([\+\-]|\d\d)/gi;m.updateOffset=function(){};var rn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,on=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;_t.fn=mt.prototype;var sn=Et(1,"add"),an=Et(-1,"subtract");m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ln=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),At("gggg","weekYear"),At("ggggg","weekYear"),At("GGGG","isoWeekYear"),At("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),L("G",ge),L("g",ge),L("GG",le,re),L("gg",le,re),L("GGGG",de,se),L("gggg",de,se),L("GGGGG",fe,ae),L("ggggg",fe,ae),z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=C(t)}),z(["gg","GG"],function(t,e,n,i){e[i]=m.parseTwoDigitYear(t)}),O("Q",0,"Qo","quarter"),e("quarter","Q"),n("quarter",7),L("Q",ie),F("Q",function(t,e){e[ke]=3*(C(t)-1)}),O("D",["DD",2],"Do","date"),e("date","D"),n("date",9),L("D",le),L("DD",le,re),L("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),F(["D","DD"],Ce),F("Do",function(t,e){e[Ce]=C(t.match(le)[0])});var cn=i("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),n("dayOfYear",4),L("DDD",he),L("DDDD",oe),F(["DDD","DDDD"],function(t,e,n){n._dayOfYear=C(t)}),O("m",["mm",2],0,"minute"),e("minute","m"),n("minute",14),L("m",le),L("mm",le,re),F(["m","mm"],Se);var un=i("Minutes",!1);O("s",["ss",2],0,"second"),e("second","s"),n("second",15),L("s",le),L("ss",le,re),F(["s","ss"],$e);var hn,dn=i("Seconds",!1);for(O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),n("millisecond",16),L("S",he,ie),L("SS",he,re),L("SSS",he,oe),hn="SSSS";hn.length<=9;hn+="S")L(hn,pe);for(hn="S";hn.length<=9;hn+="S")F(hn,Ot);var fn=i("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var pn=w.prototype;pn.add=sn,pn.calendar=function(t,e){var n=t||pt(),i=xt(n,this).startOf("day"),r=m.calendarFormat(this,i)||"sameElse",o=e&&($(e[r])?e[r].call(this,n):e[r]);return this.format(o||this.localeData().calendar(r,this,pt(n)))},pn.clone=function(){return new w(this)},pn.diff=function(t,e,n){var i,r,o,s,a,l,c,u,h,d;return this.isValid()&&(i=xt(t,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=T(e))||"month"===e||"quarter"===e?(a=this,h=12*((l=i).year()-a.year())+(l.month()-a.month()),d=a.clone().add(h,"months"),l-d<0?(c=a.clone().add(h-1,"months"),u=(l-d)/(d-c)):(c=a.clone().add(h+1,"months"),u=(l-d)/(c-d)),s=-(h+u)||0,"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:k(s)):NaN},pn.endOf=function(t){return void 0===(t=T(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},pn.format=function(t){t||(t=this.isUtc()?m.defaultFormatUtc:m.defaultFormat);var e=N(this,t);return this.localeData().postformat(e)},pn.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||pt(t).isValid())?_t({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pn.fromNow=function(t){return this.from(pt(),t)},pn.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||pt(t).isValid())?_t({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pn.toNow=function(t){return this.to(pt(),t)},pn.get=function(t){return $(this[t=T(t)])?this[t]():this},pn.invalidAt=function(){return y(this).overflow},pn.isAfter=function(t,e){var n=x(t)?t:pt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=T(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},pn.isBefore=function(t,e){var n=x(t)?t:pt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=T(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},pn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},pn.isSame=function(t,e){var n,i=x(t)?t:pt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=T(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},pn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},pn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},pn.isValid=function(){return p(this)},pn.lang=ln,pn.locale=Dt,pn.localeData=Mt,pn.max=en,pn.min=tn,pn.parsingFlags=function(){return d({},y(this))},pn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:Qt[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=D(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if($(this[t=T(t)]))return this[t](e);return this},pn.startOf=function(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},pn.subtract=an,pn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},pn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},pn.toDate=function(){return new Date(this.valueOf())},pn.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?$(Date.prototype.toISOString)?this.toDate().toISOString():N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},pn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},pn.toJSON=function(){return this.isValid()?this.toISOString():null},pn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},pn.unix=function(){return Math.floor(this.valueOf()/1e3)},pn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},pn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},pn.year=Le,pn.isLeapYear=function(){return Y(this.year())},pn.weekYear=function(t){return Pt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},pn.isoWeekYear=function(t){return Pt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},pn.quarter=pn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},pn.month=W,pn.daysInMonth=function(){return j(this.year(),this.month())},pn.week=pn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},pn.isoWeek=pn.isoWeeks=function(t){var e=K(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},pn.weeksInYear=function(){var t=this.localeData()._week;return Z(this.year(),t.dow,t.doy)},pn.isoWeeksInYear=function(){return Z(this.year(),1,4)},pn.date=cn,pn.day=pn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},pn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},pn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,i=this.localeData(),"string"==typeof n?i.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}var n,i;return this.day()||7},pn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},pn.hour=pn.hours=Ve,pn.minute=pn.minutes=un,pn.second=pn.seconds=dn,pn.millisecond=pn.milliseconds=fn,pn.utcOffset=function(t,e){var n,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=wt(ve,t)))return this}else Math.abs(t)<16&&(t*=60);return!this._isUTC&&e&&(n=kt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?Tt(this,_t(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:kt(this)},pn.utc=function(t){return this.utcOffset(0,t)},pn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(kt(this),"m")),this},pn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=wt(me,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},pn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?pt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},pn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},pn.isLocal=function(){return!!this.isValid()&&!this._isUTC},pn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},pn.isUtc=Ct,pn.isUTC=Ct,pn.zoneAbbr=function(){return this._isUTC?"UTC":""},pn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},pn.dates=t("dates accessor is deprecated. Use date instead.",cn),pn.months=t("months accessor is deprecated. Use month instead",W),pn.years=t("years accessor is deprecated. Use year instead",Le),pn.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),pn.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(b(t,this),(t=dt(t))._a){var e=t._isUTC?f(t._a):pt(t._a);this._isDSTShifted=this.isValid()&&0<s(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var gn=E.prototype;gn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return $(i)?i.call(e,n):i},gn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},gn.invalidDate=function(){return this._invalidDate},gn.ordinal=function(t){return this._ordinal.replace("%d",t)},gn.preparse=Nt,gn.postformat=Nt,gn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return $(r)?r(t,e,n,i):r.replace(/%d/i,t)},gn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return $(n)?n(e):n.replace(/%s/i,e)},gn.set=function(t){var e,n;for(n in t)$(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},gn.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ae).test(e)?"format":"standalone"][t.month()]:this._months},gn.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ae.test(e)?"format":"standalone"][t.month()]:this._monthsShort},gn.monthsParse=function(t,e,n){var i,r,o;if(this._monthsParseExact)return function(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?-1!==(r="MMM"===e?Me.call(this._shortMonthsParse,s):Me.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=Me.call(this._shortMonthsParse,s))?r:-1!==(r=Me.call(this._longMonthsParse,s))?r:null:-1!==(r=Me.call(this._longMonthsParse,s))?r:-1!==(r=Me.call(this._shortMonthsParse,s))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},gn.monthsRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||V.call(this),t?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=Ie),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},gn.monthsShortRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||V.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=Ne),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},gn.week=function(t){return K(t,this._week.dow,this._week.doy).week},gn.firstDayOfYear=function(){return this._week.doy},gn.firstDayOfWeek=function(){return this._week.dow},gn.weekdays=function(t,e){return t?a(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays},gn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},gn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},gn.weekdaysParse=function(t,e,n){var i,r,o;if(this._weekdaysParseExact)return function(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?-1!==(r="dddd"===e?Me.call(this._weekdaysParse,s):"ddd"===e?Me.call(this._shortWeekdaysParse,s):Me.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=Me.call(this._weekdaysParse,s))?r:-1!==(r=Me.call(this._shortWeekdaysParse,s))?r:-1!==(r=Me.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=Me.call(this._shortWeekdaysParse,s))?r:-1!==(r=Me.call(this._weekdaysParse,s))?r:-1!==(r=Me.call(this._minWeekdaysParse,s))?r:null:-1!==(r=Me.call(this._minWeekdaysParse,s))?r:-1!==(r=Me.call(this._weekdaysParse,s))?r:-1!==(r=Me.call(this._shortWeekdaysParse,s))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},gn.weekdaysRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},gn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=je),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Be),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},gn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},rt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===C(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),m.lang=t("moment.lang is deprecated. Use moment.locale instead.",rt),m.langData=t("moment.langData is deprecated. Use moment.localeData instead.",st);var mn=Math.abs,vn=Bt("ms"),yn=Bt("s"),bn=Bt("m"),wn=Bt("h"),xn=Bt("d"),kn=Bt("w"),Cn=Bt("M"),_n=Bt("y"),Sn=Wt("milliseconds"),$n=Wt("seconds"),En=Wt("minutes"),Tn=Wt("hours"),Dn=Wt("days"),Mn=Wt("months"),An=Wt("years"),Pn=Math.round,On={s:45,m:45,h:22,d:26,M:11},Nn=Math.abs,In=mt.prototype;return In.abs=function(){var t=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),t.milliseconds=mn(t.milliseconds),t.seconds=mn(t.seconds),t.minutes=mn(t.minutes),t.hours=mn(t.hours),t.months=mn(t.months),t.years=mn(t.years),this},In.add=function(t,e){return Rt(this,t,e,1)},In.subtract=function(t,e){return Rt(this,t,e,-1)},In.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=T(t))||"year"===t)return e=this._days+i/864e5,n=this._months+zt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(jt(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},In.asMilliseconds=vn,In.asSeconds=yn,In.asMinutes=bn,In.asHours=wn,In.asDays=xn,In.asWeeks=kn,In.asMonths=Cn,In.asYears=_n,In.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},In._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return 0<=o&&0<=s&&0<=a||o<=0&&s<=0&&a<=0||(o+=864e5*Ft(jt(a)+s),a=s=0),l.milliseconds=o%1e3,t=k(o/1e3),l.seconds=t%60,e=k(t/60),l.minutes=e%60,n=k(e/60),l.hours=n%24,a+=r=k(zt(s+=k(n/24))),s-=Ft(jt(r)),i=k(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},In.get=function(t){return this[(t=T(t))+"s"]()},In.milliseconds=Sn,In.seconds=$n,In.minutes=En,In.hours=Tn,In.days=Dn,In.weeks=function(){return k(this.days()/7)},In.months=Mn,In.years=An,In.humanize=function(t){var e,n,i,r,o,s,a,l,c,u,h,d=this.localeData(),f=(n=!t,i=d,r=_t(e=this).abs(),o=Pn(r.as("s")),s=Pn(r.as("m")),a=Pn(r.as("h")),l=Pn(r.as("d")),c=Pn(r.as("M")),u=Pn(r.as("y")),(h=o<On.s&&["s",o]||s<=1&&["m"]||s<On.m&&["mm",s]||a<=1&&["h"]||a<On.h&&["hh",a]||l<=1&&["d"]||l<On.d&&["dd",l]||c<=1&&["M"]||c<On.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=n,h[3]=0<+e,h[4]=i,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,h));return t&&(f=d.pastFuture(+this,f)),d.postformat(f)},In.toISOString=Vt,In.toString=Vt,In.toJSON=Vt,In.locale=Dt,In.localeData=Mt,In.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vt),In.lang=ln,O("X",0,0,"unix"),O("x",0,0,"valueOf"),L("x",ge),L("X",/[+-]?\d+(\.\d{1,3})?/),F("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),F("x",function(t,e,n){n._d=new Date(C(t))}),m.version="2.17.0",qt=pt,m.fn=pn,m.min=function(){return gt("isBefore",[].slice.call(arguments,0))},m.max=function(){return gt("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=f,m.unix=function(t){return pt(1e3*t)},m.months=function(t,e){return Lt(t,e,"months")},m.isDate=c,m.locale=rt,m.invalid=g,m.duration=_t,m.isMoment=x,m.weekdays=function(t,e,n){return Ht(t,e,n,"weekdays")},m.parseZone=function(){return pt.apply(null,arguments).parseZone()},m.localeData=st,m.isDuration=vt,m.monthsShort=function(t,e){return Lt(t,e,"monthsShort")},m.weekdaysMin=function(t,e,n){return Ht(t,e,n,"weekdaysMin")},m.defineLocale=ot,m.updateLocale=function(t,e){if(null!=e){var n,i=qe;null!=Ye[t]&&(i=Ye[t]._config),(n=new E(e=r(i,e))).parentLocale=Ye[t],Ye[t]=n,rt(t)}else null!=Ye[t]&&(null!=Ye[t].parentLocale?Ye[t]=Ye[t].parentLocale:null!=Ye[t]&&delete Ye[t]);return Ye[t]},m.locales=function(){return Kt(Ye)},m.weekdaysShort=function(t,e,n){return Ht(t,e,n,"weekdaysShort")},m.normalizeUnits=T,m.relativeTimeRounding=function(t){return void 0===t?Pn:"function"==typeof t&&(Pn=t,!0)},m.relativeTimeThreshold=function(t,e){return void 0!==On[t]&&(void 0===e?On[t]:(On[t]=e,!0))},m.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},m.prototype=pn,m}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){"use strict";return t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}),function(){"use strict";function _(t){return angular.isUndefined(t)||null===t}function t(C,t){if(void 0===t){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");t=function(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()}return C.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(b,w,x,k){return function(t,s,e){function a(){var t;if(l)t=l;else if(k.serverTime){var e=(new Date).getTime()-g+k.serverTime;t=w(e)}else t=w();return t}function n(){c&&(b.clearTimeout(c),c=null)}function i(t){v&&s.attr("datetime",t)}function r(){if(n(),o){var t=x.preprocessDate(o);(function t(e){var n=a().diff(e,p),i=d&&d<=n;if(i?s.text(e.format(f)):s.text(e.from(a(),u)),h&&y&&s.attr("title",e.format(h)),!i){var r=Math.abs(a().diff(e,"minute")),o=3600;r<1?o=1:r<60?o=30:r<180&&(o=300),c=b.setTimeout(function(){t(e)},1e3*o)}})(t),i(t.toISOString())}}var o,l,c=null,u=k.withoutSuffix,h=k.titleFormat,d=k.fullDateThreshold,f=k.fullDateFormat,p=k.fullDateThresholdUnit,g=(new Date).getTime(),m=e.amTimeAgo,v="TIME"===s[0].nodeName.toUpperCase(),y=!s.attr("title");t.$watch(m,function(t){return _(t)||""===t?(n(),void(o&&(s.text(""),i(""),o=null))):(o=t,void r())}),C.isDefined(e.amFrom)&&t.$watch(e.amFrom,function(t){l=_(t)||""===t?null:w(t),r()}),C.isDefined(e.amWithoutSuffix)&&t.$watch(e.amWithoutSuffix,function(t){"boolean"==typeof t?(u=t,r()):u=k.withoutSuffix}),e.$observe("amFullDateThreshold",function(t){d=t,r()}),e.$observe("amFullDateFormat",function(t){f=t,r()}),e.$observe("amFullDateThresholdUnit",function(t){p=t,r()}),t.$on("$destroy",function(){n()}),t.$on("amMoment:localeChanged",function(){r()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(i,r,e,n){var o=null;this.changeLocale=function(t,e){var n=i.locale(t,e);return C.isDefined(t)&&r.$broadcast("amMoment:localeChanged"),n},this.changeTimezone=function(t){i.tz&&i.tz.setDefault?(i.tz.setDefault(t),r.$broadcast("amMoment:timezoneChanged")):e.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),n.timezone=t,o=t},this.preprocessDate=function(t){return o!==n.timezone&&this.changeTimezone(n.timezone),n.preprocess?n.preprocess(t):i(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(n){return function(t,e){return n(t,e)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(n){return function(t,e){return n.preprocessDate(t).utcOffset(e)}}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(i,t,r){return function(t,e){var n=i.preprocessDate(t);return e?n.tz?n.tz(e):(r.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),n):n}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,r,e){function n(t,e,n){if(_(t))return"";var i=r.preprocessDate(t);return i.isValid()?i.calendar(e,n):""}return n.$stateful=e.statefulFilters,n}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(s,a,t){function e(t,e,n,i){if(_(t))return"";var r=a.preprocessDate(t),o=_(e)?s():a.preprocessDate(e);return r.isValid()&&o.isValid()?r.diff(o,n,i):""}return e.$stateful=t.statefulFilters,e}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,i,e){function n(t,e){if(_(t))return"";var n=i.preprocessDate(t);return n.isValid()?n.format(e):""}return n.$stateful=e.statefulFilters,n}]).filter("amDurationFormat",["moment","angularMomentConfig",function(i,t){function e(t,e,n){return _(t)?"":i.duration(t,e).humanize(n)}return e.$stateful=t.statefulFilters,e}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(o,s,t){function e(t,e,n){var i,r;return _(t)?"":(t=s.preprocessDate(t),(i=o(t)).isValid()?(r=o(n),!_(n)&&r.isValid()?i.from(r,e):i.fromNow(e)):"")}return e.$stateful=t.statefulFilters,e}]).filter("amSubtract",["moment","angularMomentConfig",function(i,t){function e(t,e,n){return _(t)?"":i(t).subtract(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amAdd",["moment","angularMomentConfig",function(i,t){function e(t,e,n){return _(t)?"":i(t).add(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amStartOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return _(t)?"":n(t).startOf(e)}return e.$stateful=t.statefulFilters,e}]).filter("amEndOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return _(t)?"":n(t).endOf(e)}return e.$stateful=t.statefulFilters,e}]),"angularMoment"}"function"==typeof define&&define.amd?define(["angular","moment"],t):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require?module.exports=t(require("angular"),require("moment")):t(angular,("undefined"!=typeof global?global:window).moment)}(),function(t,e){if("function"==typeof define&&define.amd)define(["module","exports","angular"],e);else if("undefined"!=typeof exports)e(module,exports,require("angular"));else{var n={exports:{}};e(n,n.exports,t.angular),t.infiniteScroll=n.exports}}(this,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,$=(i=n)&&i.__esModule?i:{default:i},r="infinite-scroll";$.default.module(r,[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(k,C,_,S){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(i,r,t){function o(t){var e=t[0]||t;return isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function s(t){var e=t[0]||t;return isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function a(t){if(t[0].getBoundingClientRect&&!t.css("none"))return t[0].getBoundingClientRect().top+s(t)}function e(){var t=void 0,e=void 0;if(m===d)t=o(m)+s(m[0].document.documentElement),e=a(r)+o(r);else{t=o(m);var n=0;void 0!==a(m)&&(n=a(m)),e=a(r)-n+o(r)}y&&(e=o((r[0].ownerDocument||r[0].document).documentElement)),e-t<=o(m)*f+1?(g=!0,p&&(i.$$phase||k.$$phase?i.infiniteScroll():i.$apply(i.infiniteScroll))):(w&&_.cancel(w),g=!1)}function n(t){f=parseFloat(t)||0}function l(t){(p=!t)&&g&&(g=!1,x())}function c(t){y=t}function u(t){null!=m&&m.unbind("scroll",x),null!=(m=t)&&m.bind("scroll",x)}function h(t){if(null!=t&&0!==t.length){var e;if(null==(e=t.nodeType&&1===t.nodeType?$.default.element(t):"function"==typeof t.append?$.default.element(t[t.length-1]):"string"==typeof t?$.default.element(document.querySelector(t)):t))throw new Error("invalid infinite-scroll-container attribute.");u(e)}}var d=$.default.element(C),f=null,p=null,g=null,m=null,v=!0,y=!1,b=null,w=!1,x=null!=S?function(n,i){function r(){return s=(new Date).getTime(),_.cancel(o),o=null,n.call()}var o=null,s=0;return function(){var t=(new Date).getTime(),e=i-(t-s);e<=0?(_.cancel(o),o=null,s=t,n.call()):o||(o=_(r,e,1))}}(e,S):e;return i.$on("$destroy",function(){m.unbind("scroll",x),null!=b&&(b(),b=null),w&&_.cancel(w)}),i.$watch("infiniteScrollDistance",n),n(i.infiniteScrollDistance),i.$watch("infiniteScrollDisabled",l),l(i.infiniteScrollDisabled),i.$watch("infiniteScrollUseDocumentBottom",c),c(i.infiniteScrollUseDocumentBottom),u(d),i.infiniteScrollListenForEvent&&(b=k.$on(i.infiniteScrollListenForEvent,x)),i.$watch("infiniteScrollContainer",h),h(i.infiniteScrollContainer||[]),null!=t.infiniteScrollParent&&u($.default.element(r.parent())),null!=t.infiniteScrollImmediateCheck&&(v=i.$eval(t.infiniteScrollImmediateCheck)),w=_(function(){return v&&x(),_.cancel(w)})}}}]),e.default=r,t.exports=e.default}),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(O,N){function h(){var t,e,n,i,r,o=Array.prototype.slice.call(arguments),s={};for(t=0;ct.length>t;t++){for(e=ct[t],n=null,i=0;o.length>i;i++)r=o[i][e],O.isPlainObject(r)?n=O.extend(n||{},r):null!=r&&(n=null);null!==n&&(s[e]=n)}return o.unshift({}),o.push(s),O.extend.apply(O,o)}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function o(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function d(){O("body").addClass("fc-not-allowed")}function f(){O("body").removeClass("fc-not-allowed")}function n(r,t,e){var o=Math.floor(t/r.length),s=Math.floor(t-o*(r.length-1)),a=[],l=[],c=[],u=0;i(r),r.each(function(t,e){var n=t===r.length-1?s:o,i=O(e).outerHeight(!0);i<n?(a.push(e),l.push(i),c.push(O(e).height())):u+=i}),e&&(t-=u,o=Math.floor(t/a.length),s=Math.floor(t-o*(a.length-1))),O(a).each(function(t,e){var n=t===a.length-1?s:o,i=l[t],r=n-(i-c[t]);i<n&&O(e).height(r)})}function i(t){t.height("")}function t(t){var i=0;return t.find("> *").each(function(t,e){var n=O(e).outerWidth();i<n&&(i=n)}),i++,t.width(i),i}function s(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight||(a(t),!1)}function a(t){t.height("").removeClass("fc-scroller")}function p(t){var e=t.css("position"),n=t.parents().filter(function(){var t=O(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:O(t[0].ownerDocument||document)}function g(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function e(t){var e=t.offset(),n=l(t),i=e.left+c(t,"border-left-width")+n.left,r=e.top+c(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function l(t){var e,n,i=t.innerWidth()-t[0].clientWidth,r={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return null===ut&&(e=O("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children().offset().left>e.offset().left,e.remove(),ut=n),ut&&"rtl"==t.css("direction")?r.left=i:r.right=i,r}function c(t,e){return parseFloat(t.css(e))||0}function u(t){return 1==t.which&&!t.ctrlKey}function m(t,e){var n,i,r,o,s=t.start,a=t.end,l=e.start,c=e.end;return l<a&&s<c?(l<=s?(n=s.clone(),r=!0):(n=l.clone(),r=!1),a<=c?(i=a.clone(),o=!0):(i=c.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}):void 0}function I(t,e){return N.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days"),ms:t.time()-e.time()})}function L(t,e,n){return N.duration(Math.round(t.diff(e,n,!0)),n)}function v(t,e){var n,i,r,o,s,a;for(n=0;gt.length>n&&(i=gt[n],o=i,s=t,!(1<=(r=null!=(a=e)?a.diff(s,o,!0):N.isDuration(s)?s.as(o):s.end.diff(s.start,o,!0))&&_(r)));n++);return i}function y(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function H(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function M(t){var e=function(){};return e.prototype=t,new e}function b(t,e){for(var n in t)w(t,n)&&(e[n]=t[n])}function w(t,e){return mt.call(t,e)}function R(t,e,n){if(O.isFunction(t)&&(t=[t]),t){var i,r;for(i=0;t.length>i;i++)r=t[i].apply(e,n)||r;return r}}function F(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function A(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function x(t){return t.replace(/&.*?;/g,"")}function k(t){var n=[];return O.each(t,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function C(t,e){return t-e}function _(t){return 0==t%1}function S(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function P(e,n){var i,r,o,s,a=function(){var t=+new Date-s;t<n&&0<t?i=setTimeout(a,n-t):(i=null,e.apply(o,r),i||(o=r=null))};return function(){o=this,r=arguments,s=+new Date,i||(i=setTimeout(a,n))}}function $(t,e,n){var i,r,o,s,a,l=t[0],c=1==t.length&&"string"==typeof l;return N.isMoment(l)?T(l,s=N.apply(null,t)):(a=l,"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date||void 0===l?s=N.apply(null,t):(r=i=!1,c?vt.test(l)?(t=[l+="-01"],r=i=!0):(o=yt.exec(l))&&(i=!o[5],r=!0):O.isArray(l)&&(r=!0),s=e||i?N.utc.apply(N,t):N.apply(null,t),i?(s._ambigTime=!0,s._ambigZone=!0):n&&(r?s._ambigZone=!0:c&&(s.utcOffset?s.utcOffset(l):s.zone(l))))),s._fullCalendar=!0,s}function E(t,e){var n,i,r=!1,o=!1,s=t.length,a=[];for(n=0;n<s;n++)i=t[n],N.isMoment(i)||(i=at.moment.parseZone(i)),r=r||i._ambigTime,o=o||i._ambigZone,a.push(i);for(n=0;n<s;n++)i=a[n],e||!r||i._ambigTime?o&&!i._ambigZone&&(a[n]=i.clone().stripZone()):a[n]=i.clone().stripTime();return a}function T(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function D(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function z(t,e){return wt.format.call(t,e)}function j(t,e){var n,i="";for(n=0;e.length>n;n++)i+=B(t,e[n]);return i}function B(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?xt[n]?xt[n](t):z(t,n):e.maybe&&(i=j(t,e.maybe)).match(/[1-9]/)?i:""}function W(t,e,n,i,r){return i=i||" - ",function(t,e,n,i,r){var o,s,a,l,c="",u="",h="",d="",f="";for(s=0;n.length>s&&!1!==(o=V(t,e,n[s]));s++)c+=o;for(a=n.length-1;s<a&&!1!==(o=V(t,e,n[a]));a--)u=o+u;for(l=s;l<=a;l++)h+=B(t,n[l]),d+=B(e,n[l]);return(h||d)&&(f=r?d+i+h:h+i+d),c+f+u}(t=at.moment.parseZone(t),e=at.moment.parseZone(e),q(n=(t.localeData||t.lang).call(t).longDateFormat(n)||n),i,r)}function V(t,e,n){var i,r;return"string"==typeof n?n:!!((i=n.token)&&((r=kt[i.charAt(0)])&&t.isSame(e,r)))&&z(t,i)}function q(t){return t in Ct?Ct[t]:Ct[t]=function t(e){for(var n,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;n=r.exec(e);)n[1]?i.push(n[1]):n[2]?i.push({maybe:t(n[2])}):n[3]?i.push({token:n[3]}):n[5]&&i.push(n[5]);return i}(t)}function Y(){}function U(t,e){return!t&&!e||!(!t||!e)&&(t.grid===e.grid&&t.row===e.row&&t.col===e.col)}function G(t){return F((t.source||{}).rendering,t.rendering)}function X(t,e){return t.eventStartMS-e.eventStartMS}function K(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function Z(t,e){var n,i;for(n=0;e.length>n;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Q(t,e){return t.leftCol-e.leftCol}function J(t){var e,n,i;if(t.sort(K),function(t){var e,n,i,r,o;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for((r=n[i]).forwardSegs=[],o=e+1;t.length>o;o++)nt(r,t[o],r.forwardSegs)}(e=function(t){var e,n,i,r=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&nt(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}(t)),n=e[0]){for(i=0;n.length>i;i++)tt(n[i]);for(i=0;n.length>i;i++)et(n[i],0,0)}}function tt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)tt(n=i[e]),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function et(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(r.sort(it),et(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;r.length>i;i++)et(r[i],0,t.forwardCoord)}function nt(t,e,n){n=n||[];for(var i=0;e.length>i;i++)r=t,o=e[i],r.bottom>o.top&&r.top<o.bottom&&n.push(e[i]);var r,o;return n}function it(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||K(t,e)}function rt(n){O.each(Ft,function(t,e){null==n[t]&&(n[t]=e(n))})}function ot(t){var e=N.localeData||N.langData;return e.call(N,t)||e.call(N,"en")}function st(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var at=O.fullCalendar={version:"2.3.1"},lt=at.views={};O.fn.fullCalendar=function(o){var s=Array.prototype.slice.call(arguments,1),a=this;return this.each(function(t,e){var n,i=O(e),r=i.data("fullCalendar");"string"==typeof o?r&&O.isFunction(r[o])&&(n=r[o].apply(r,s),t||(a=n),"destroy"===o&&i.removeData("fullCalendar")):r||(r=new at.CalendarBase(i,o),i.data("fullCalendar",r),r.render())}),a};var ct=["header","buttonText","buttonIcons","themeButtonIcons"];at.intersectionToSeg=m,at.applyAll=R,at.debounce=P,at.isInt=_,at.htmlEscape=A,at.cssToStr=k,at.proxy=S,at.getClientRect=e,at.getContentRect=function(t){var e=t.offset(),n=e.left+c(t,"border-left-width")+c(t,"padding-left"),i=e.top+c(t,"border-top-width")+c(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}},at.getScrollbarWidths=l;var ut=null;at.computeIntervalUnit=v,at.durationHasTime=y;var ht,dt,ft,pt=["sun","mon","tue","wed","thu","fri","sat"],gt=["year","month","week","day","hour","minute","second","millisecond"],mt={}.hasOwnProperty,vt=/^\s*\d{4}-\d\d$/,yt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,bt=N.fn,wt=O.extend({},bt);at.moment=function(){return $(arguments)},at.moment.utc=function(){var t=$(arguments,!0);return t.hasTime()&&t.utc(),t},at.moment.parseZone=function(){return $(arguments,!0,!0)},bt.clone=function(){var t=wt.clone.apply(this,arguments);return T(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},bt.week=bt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?wt.isoWeek.apply(this,arguments):wt.week.apply(this,arguments)},bt.time=function(t){if(!this._fullCalendar)return wt.time.apply(this,arguments);if(null==t)return N.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,N.isDuration(t)||N.isMoment(t)||(t=N.duration(t));var e=0;return N.isDuration(t)&&(e=24*Math.floor(t.asDays())),this.hours(e+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},bt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),dt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},bt.hasTime=function(){return!this._ambigTime},bt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),dt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},bt.hasZone=function(){return!this._ambigZone},bt.local=function(){var t=this.toArray(),e=this._ambigZone;return wt.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&ft(this,t),this},bt.utc=function(){return wt.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},O.each(["zone","utcOffset"],function(t,e){wt[e]&&(bt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),wt[e].apply(this,arguments)})}),bt.format=function(){return this._fullCalendar&&arguments[0]?(t=this,e=arguments[0],j(t,q(e))):this._ambigTime?z(this,"YYYY-MM-DD"):this._ambigZone?z(this,"YYYY-MM-DD[T]HH:mm:ss"):wt.format.apply(this,arguments);var t,e},bt.toISOString=function(){return this._ambigTime?z(this,"YYYY-MM-DD"):this._ambigZone?z(this,"YYYY-MM-DD[T]HH:mm:ss"):wt.toISOString.apply(this,arguments)},bt.isWithin=function(t,e){var n=E([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},bt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=E([this,t],!0),wt.isSame.call(n[0],n[1],e)):(t=at.moment.parseZone(t),wt.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):wt.isSame.apply(this,arguments)},O.each(["isBefore","isAfter"],function(t,i){bt[i]=function(t,e){var n;return this._fullCalendar?(n=E([this,t]),wt[i].call(n[0],n[1],e)):wt[i].apply(this,arguments)}}),ht="_d"in N()&&"updateOffset"in N,dt=ht?function(t,e){t._d.setTime(Date.UTC.apply(Date,e)),N.updateOffset(t,!1)}:D,ft=ht?function(t,e){t._d.setTime(+new Date(e[0]||0,e[1]||0,e[2]||0,e[3]||0,e[4]||0,e[5]||0,e[6]||0)),N.updateOffset(t,!1)}:D;var xt={t:function(t){return z(t,"a").charAt(0)},T:function(t){return z(t,"A").charAt(0)}};at.formatRange=W;var kt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Ct={};(at.Class=Y).extend=function(t){var e,n=this;return w(t=t||{},"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=M(n.prototype),b(t,e.prototype),function(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)t[i=r[n]]!==Object.prototype[i]&&(e[i]=t[i])}(t,e.prototype),b(n,e),e},Y.mixin=function(t){b(t.prototype||t,this.prototype)};var _t=Y.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,e=this.options;this.el=O('<div class="fc-popover"/>').addClass(e.className||"").css({top:0,left:0}).append(e.content).appendTo(e.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),e.autoHide&&O(document).on("mousedown",this.documentMousedownProxy=S(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!O(t.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),O(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,e,n,i,r,o=this.options,s=this.el.offsetParent().offset(),a=this.el.outerWidth(),l=this.el.outerHeight(),c=O(window),u=p(this.el);i=o.top||0,r=void 0!==o.left?o.left:void 0!==o.right?o.right-a:0,u.is(window)||u.is(document)?(u=c,e=t=0):(t=(n=u.offset()).top,e=n.left),t+=c.scrollTop(),e+=c.scrollLeft(),!1!==o.viewportConstrain&&(i=Math.min(i,t+u.outerHeight()-l-this.margin),i=Math.max(i,t+this.margin),r=Math.min(r,e+u.outerWidth()-a-this.margin),r=Math.max(r,e+this.margin)),this.el.css({top:i-s.top,left:r-s.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),St=Y.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(t){this.grid=t},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(t,e){var n,i,r,o=this.rowCoords,s=o.length,a=this.colCoords,l=a.length,c=null,u=null;if(this.inBounds(t,e)){for(n=0;n<s;n++)if(e>=(i=o[n]).top&&i.bottom>e){c=n;break}for(n=0;n<l;n++)if(t>=(i=a[n]).left&&i.right>t){u=n;break}if(null!==c&&null!==u)return(r=this.grid.getCell(c,u)).grid=this.grid,O.extend(r,o[c],a[u]),r}return null},computeBounds:function(){this.bounds=this.containerEl?e(this.containerEl):null},inBounds:function(t,e){var n=this.bounds;return!n||t>=n.left&&n.right>t&&e>=n.top&&n.bottom>e}}),$t=Y.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,r=null;for(n=0;i.length>n&&!r;n++)r=i[n].getCell(t,e);return r},clear:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].clear()}}),Et=at.DragListener=Y.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){u(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(t){var e;this.isListening||(t&&this.options.scroll&&((e=p(O(t.target))).is(window)||e.is(document)||(this.scrollEl=e,this.scrollHandlerProxy=P(S(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),O(document).on("mousemove",this.mousemoveProxy=S(this,"mousemove")).on("mouseup",this.mouseupProxy=S(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n=t.pageX-this.originX,i=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1)*e<=n*n+i*i&&this.startDrag(t),this.isDragging&&this.drag(n,i,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),O(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?g(t):null},updateScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(o-(t.pageY-s.top))/o,n=(o-(s.bottom-t.pageY))/o,i=(o-(t.pageX-s.left))/o,r=(o-(s.right-t.pageX))/o,0<=e&&e<=1?a=-1*e*this.scrollSpeed:0<=n&&n<=1&&(a=n*this.scrollSpeed),0<=i&&i<=1?l=-1*i*this.scrollSpeed:0<=r&&r<=1&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(S(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):0<this.scrollTopVel&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),Tt=Et.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(t,e){Et.prototype.constructor.call(this,e),this.coordMap=t},listenStart:function(t){var e,n,i,r,o,s,a,l,c,u,h,d=this.subjectEl;Et.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(i=n={left:t.pageX,top:t.pageY},d&&(e=g(d),u=i,h=e,i={left:Math.min(Math.max(u.left,h.left),h.right),top:Math.min(Math.max(u.top,h.top),h.bottom)}),this.origCell=this.getCell(i.left,i.top),d&&this.options.subjectCenter&&(this.origCell&&(a=this.origCell,l=e,e=(c={left:Math.max(a.left,l.left),right:Math.min(a.right,l.right),top:Math.max(a.top,l.top),bottom:Math.min(a.bottom,l.bottom)}).left<c.right&&c.top<c.bottom&&c||e),i={left:((s=e).left+s.right)/2,top:(s.top+s.bottom)/2}),this.coordAdjust=(o=n,{left:(r=i).left-o.left,top:r.top-o.top})):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(t){var e;Et.prototype.dragStart.apply(this,arguments),(e=this.getCell(t.pageX,t.pageY))&&this.cellOver(e)},drag:function(t,e,n){var i;Et.prototype.drag.apply(this,arguments),U(i=this.getCell(n.pageX,n.pageY),this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),Et.prototype.dragStop.apply(this,arguments)},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,U(t,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){Et.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){Et.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.coordMap.getCell(t,e)}}),Dt=Y.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,e){this.options=e=e||{},this.sourceEl=t,this.parentEl=e.parentEl?O(e.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),O(document).on("mousemove",this.mousemoveProxy=S(this,"mousemove")))},stop:function(t,e){function n(){this.isAnimating=!1,i.destroyEl(),this.top0=this.left0=null,e&&e()}var i=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,O(document).off("mousemove",this.mousemoveProxy),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:n})):n())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Mt=Y.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i=this.getHtmlRenderer("cell",t),r="";for(e=e||0,n=0;this.colCnt>n;n++)r+=i(this.getCell(e,n));return"<tr>"+(r=this.bookendCells(r,t,e))+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),r=this.getHtmlRenderer("outro",e)(n||0),o=this.isRTL?r:i,s=this.isRTL?i:r;return"string"==typeof t?o+t+s:t.prepend(o).append(s)},getHtmlRenderer:function(t,e){var n,i,r,o,s,a=this.view;return n=t+"Html",e&&(i=e+((s=t).charAt(0).toUpperCase()+s.slice(1))+"Html"),i&&(o=a[i])?r=a:i&&(o=this[i])?r=this:(o=a[n])?r=a:(o=this[n])&&(r=this),"function"==typeof o?function(){return o.apply(r,arguments)||""}:function(){return o||""}}}),At=at.Grid=Mt.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){Mt.apply(this,arguments),this.coordMap=new St(this),this.elsByFill={},this.externalDragStartProxy=S(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){var e,n,i=this.view;this.start=t.start.clone(),this.end=t.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=i.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),null==(e=i.opt("displayEventTime"))&&(e=this.computeDisplayEventTime()),null==(n=i.opt("displayEventEnd"))&&(n=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=n},updateCells:function(){},rangeToSegs:function(){},diffDates:function(t,e){return this.largeUnit?L(t,e,this.largeUnit):I(t,e)},getCell:function(t,e){var n;return null==e&&("number"==typeof t?(e=t%this.colCnt,t=Math.floor(t/this.colCnt)):(e=t.col,t=t.row)),n={row:t,col:e},O.extend(n,this.getRowData(t),this.getColData(e)),O.extend(n,this.computeCellRange(n)),n},computeCellRange:function(t){var e=this.computeCellDate(t);return{start:e,end:e.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(t){return this.rowData[t]||{}},getColData:function(t){return this.colData[t]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;this.rowCnt>t;t++)n=(e=this.getRowEl(t)).offset().top,i.push({top:n,bottom:n+e.outerHeight()});return i},computeColCoords:function(){var t,e,n,i=[];for(t=0;this.colCnt>t;t++)n=(e=this.getColEl(t)).offset().left,i.push({left:n,right:n+e.outerWidth()});return i},setElement:function(t){var e=this;(this.el=t).on("mousedown",function(t){O(t.target).is(".fc-event-container *, .fc-more")||O(t.target).closest(".fc-popover").length||e.dayMousedown(t)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){O(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){O(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var i,r,o=this,e=this.view,s=e.opt("selectable");new Tt(this.coordMap,{scroll:e.opt("dragScroll"),dragStart:function(){e.unselect()},cellOver:function(t,e,n){n&&(i=e?t:null,s&&((r=o.computeSelection(n,t))?o.renderSelection(r):d()))},cellOut:function(){r=i=null,o.destroySelection(),f()},listenStop:function(t){i&&e.trigger("dayClick",o.getCellDayEl(i),i.start,t),r&&e.reportSelection(r,t),f()}}).mousedown(t)},renderRangeHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?M(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(C),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(t){this.renderFill("highlight",this.rangeToSegs(t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(t,r){var e,o=this,s=this[t+"SegEl"],n="",a=[];if(r.length){for(e=0;r.length>e;e++)n+=this.fillSegHtml(t,r[e]);O(n).each(function(t,e){var n=r[t],i=O(e);s&&(i=s.call(o,n,i)),i&&((i=O(i)).is(o.fillSegTag)&&(n.el=i,a.push(n)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],o=k(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+pt[n.day()]+'">'+A(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+pt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):t<n?i.push("fc-past"):i.push("fc-future"),i}});At.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n,i,r,o=this.eventsToSegs(t),s=[],a=[];for(e=0;o.length>e;e++)n=o[e],i=n.event,void 0,"background"===(r=G(i))||"inverse-background"===r?s.push(n):a.push(n);s=this.renderBgSegs(s)||s,a=this.renderFgSegs(a)||a,this.segs=s.concat(a)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(r,t){var e,o=this.view,n="",s=[];if(r.length){for(e=0;r.length>e;e++)n+=this.fgSegHtml(r[e],t);O(n).each(function(t,e){var n=r[t],i=o.resolveEventEl(n.event,O(e));i&&(i.data("fc-seg",n),n.el=i,s.push(n))})}return s},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){var e=this.view,n=t.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||e.opt("eventBackgroundColor")||e.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var i=this,n=this.view;O.each({mouseenter:function(t,e){i.triggerSegMouseover(t,e)},mouseleave:function(t,e){i.triggerSegMouseout(t,e)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(t,e){O(e.target).is(".fc-resizer")&&n.isEventResizable(t.event)?i.segResizeMousedown(t,e,O(e.target).is(".fc-start-resizer")):n.isEventDraggable(t.event)&&i.segDragMousedown(t,e)}},function(t,n){i.el.on(t,".fc-event-container > *",function(t){var e=O(this).data("fc-seg");return!e||i.isDraggingSeg||i.isResizingSeg?void 0:n.call(this,e,t)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(i,t){var r,o=this,s=this.view,a=s.calendar,e=i.el,l=i.event,c=new Dt(i.el,{parentEl:s.el,opacity:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2});new Tt(s.coordMap,{distance:5,scroll:s.opt("dragScroll"),subjectEl:e,subjectCenter:!0,listenStart:function(t){c.hide(),c.start(t)},dragStart:function(t){o.triggerSegMouseout(i,t),o.segDragStart(i,t),s.hideEvent(l)},cellOver:function(t,e,n){i.cell&&(n=i.cell),(r=o.computeEventDrop(n,t,l))&&!a.isEventRangeAllowed(r,l)&&(d(),r=null),r&&s.renderDrag(r,i)?c.hide():c.show(),e&&(r=null)},cellOut:function(){s.destroyDrag(),c.show(),r=null},cellDone:function(){f()},dragStop:function(t){c.stop(!r,function(){s.destroyDrag(),s.showEvent(l),o.segDragStop(i,t),r&&s.reportEventDrop(l,r,this.largeUnit,e,t)})},listenStop:function(){c.stop()}}).mousedown(t)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,o=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),n.allDay&&y(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventRangeTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var n=this.view.opt("dragOpacity");null!=n&&t.each(function(t,e){e.style.opacity=n})},externalDragStart:function(t,e){var n,i,r=this.view;r.opt("droppable")&&(n=O((e?e.item:null)||t.target),i=r.opt("dropAccept"),(O.isFunction(i)?i.call(n[0],n):n.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(n,t,e)))},listenToExternalDrag:function(t,e,n){var i,r,o,s,a,l,c,u=this,h=(r=t,(c=at.dataAttrPrefix)&&(c+="-"),(o=r.data(c+"event")||null)&&(null==(s=(o="object"==typeof o?O.extend({},o):{}).start)&&(s=o.time),a=o.duration,l=o.stick,delete o.start,delete o.time,delete o.duration,delete o.stick),null==s&&(s=r.data(c+"start")),null==s&&(s=r.data(c+"time")),null==a&&(a=r.data(c+"duration")),null==l&&(l=r.data(c+"stick")),{eventProps:o,startTime:s=null!=s?N.duration(s):null,duration:a=null!=a?N.duration(a):null,stick:l=Boolean(l)});new Tt(this.coordMap,{listenStart:function(){u.isDraggingExternal=!0},cellOver:function(t){(i=u.computeExternalDrop(t,h))?u.renderDrag(i):d()},cellOut:function(){i=null,u.destroyDrag(),f()},dragStop:function(){u.destroyDrag(),f(),i&&u.view.reportExternalDrop(h,i,t,e,n)},listenStop:function(){u.isDraggingExternal=!1}}).startDrag(e)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(i,t,r){var o,s=this,a=this.view,l=a.calendar,e=i.el,c=i.event,u=l.getEventEnd(c);new Tt(this.coordMap,{distance:5,scroll:a.opt("dragScroll"),subjectEl:e,dragStart:function(t){s.triggerSegMouseout(i,t),s.segResizeStart(i,t)},cellOver:function(t,e,n){(o=r?s.computeEventStartResize(n,t,c):s.computeEventEndResize(n,t,c))&&(l.isEventRangeAllowed(o,c)?o.start.isSame(c.start)&&o.end.isSame(u)&&(o=null):(d(),o=null)),o&&(a.hideEvent(c),s.renderEventResize(o,i))},cellOut:function(){o=null},cellDone:function(){s.destroyEventResize(),a.showEvent(c),f()},dragStop:function(t){s.segResizeStop(i,t),o&&a.reportEventResize(c,o,this.largeUnit,e,t)}}).mousedown(t)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,o,s=this.view.calendar,a=this.diffDates(n[t],e[t]);return(r={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay}).allDay&&y(a)&&(r.allDay=!1,s.normalizeEventRangeTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(o=i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration,this.cellDuration&&o>this.cellDuration&&(o=this.cellDuration),"start"==t?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,r=n.color,o=e.opt("eventColor");return{"background-color":t.backgroundColor||i||n.backgroundColor||r||e.opt("eventBackgroundColor")||o,"border-color":t.borderColor||i||n.borderColor||r||e.opt("eventBorderColor")||o,color:t.textColor||n.textColor||e.opt("eventTextColor")}},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),r=[];for(n=0;i.length>n;n++)r.push.apply(r,this.eventRangeToSegs(i[n],e));return r},eventsToRanges:function(t){var n=this,e=function(t){var e,n,i={};for(e=0;t.length>e;e++)(i[(n=t[e])._id]||(i[n._id]=[])).push(n);return i}(t),i=[];return O.each(e,function(t,e){e.length&&i.push.apply(i,"inverse-background"===G(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),i},eventsToNormalRanges:function(t){var e,n,i,r,o=this.view.calendar,s=[];for(e=0;t.length>e;e++)i=(n=t[e]).start.clone().stripZone(),r=o.getEventEnd(n).stripZone(),s.push({event:n,start:i,end:r,eventStartMS:+i,eventDurationMS:r-i});return s},eventsToInverseRanges:function(t){var e,n,i=this.view,r=i.start.clone().stripZone(),o=i.end.clone().stripZone(),s=this.eventsToNormalRanges(t),a=[],l=t[0],c=r;for(s.sort(X),e=0;s.length>e;e++)(n=s[e]).start>c&&a.push({event:l,start:c,end:n.start}),c=n.end;return c<o&&a.push({event:l,start:c,end:o}),a},eventRangeToSegs:function(t,e){var n,i,r;for(n=e?e(t):this.rangeToSegs(t),i=0;n.length>i;i++)(r=n[i]).event=t.event,r.eventStartMS=t.eventStartMS,r.eventDurationMS=t.eventDurationMS;return n}}),at.compareSegs=K,at.dataAttrPrefix="";var Pt=At.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){At.apply(this,arguments),this.cellDuration=N.duration(1,"day")},renderDates:function(t){var e,n,i,r=this.view,o=this.rowCnt,s=o*this.colCnt,a="";for(e=0;e<o;e++)a+=this.dayRowHtml(e,t);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;n<s;n++)i=this.getCell(n),r.trigger("dayRender",null,i.start,this.dayEls.eq(n))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},dayRowHtml:function(t,e){var n=["fc-row","fc-week",this.view.widgetContentClass];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return 1<this.rowCnt?"ddd":1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;t.length>i&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,r=[];e.isBefore(this.end);)t.isHiddenDay(e)?r.push(i+.5):(i++,r.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=r},computeCellDate:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col);return this.cellDates[n].clone()},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=At.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,r,o,s,a,l,c,u,h=this.isRTL,d=this.rowCnt,f=this.colCnt,p=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;i<d;i++)o=(r=i*f)+f-1,l=Math.max(r,e),c=Math.min(o,n),(l=Math.ceil(l))<=(c=Math.floor(c))&&(s=l===e,a=c===n,l-=r,c-=r,u={row:i,isStart:s,isEnd:a},h?(u.leftCol=f-c-1,u.rightCol=f-l-1):(u.leftCol=l,u.rightCol=c),p.push(u));return p},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t)),e&&!e.el.closest(this.el).length?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(t,e){this.renderHighlight(t),this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(t,o){var s,a=[],e=this.eventsToSegs([t]);e=this.renderFgSegEls(e),s=this.renderSegRows(e),this.rowEls.each(function(t,e){var n,i=O(e),r=O('<div class="fc-helper-skeleton"><table/></div>');n=o&&o.row===t?o.el.position().top:i.find(".fc-content-skeleton tbody").position().top,r.css("top",n).find("table").append(s[t].tbodyEl),i.append(r),a.push(r[0])}),this.helperEls=O(a)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,e,n){var i,r,o,s=[];for(e=this.renderFillSegEls(t,e),i=0;e.length>i;i++)r=e[i],o=this.renderFillRow(t,r,n),this.rowEls.eq(r.row).append(o),s.push(o[0]);return this.elsByFill[t]=O(s),e},renderFillRow:function(t,e,n){var i,r,o=this.colCnt,s=e.leftCol,a=e.rightCol+1;return n=n||t.toLowerCase(),r=(i=O('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>')).find("tr"),0<s&&r.append('<td colspan="'+s+'"/>'),r.append(e.el.attr("colspan",a-s)),a<o&&r.append('<td colspan="'+(o-a)+'"/>'),this.bookendCells(r,t),i}});Pt.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),At.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return At.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var e=O.grep(t,function(t){return t.event.allDay});return At.prototype.renderBgSegs.call(this,e)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,e){O(e).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},destroyFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;e.length>n;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,o=t.event,s=r.isEventDraggable(o),a=!e&&o.allDay&&t.isStart&&r.isEventResizableFromStart(o),l=!e&&o.allDay&&t.isEnd&&r.isEventResizableFromEnd(o),c=this.getSegClasses(t,s,a||l),u=k(this.getEventSkinCss(o)),h="";return c.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&((n=this.getEventTimeText(o))&&(h='<span class="fc-time">'+A(n)+"</span>")),i='<span class="fc-title">'+(A(o.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(o.url?' href="'+A(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+h:h+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,e){function n(t){for(;o<t;)(c=(m[i-1]||[])[o])?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=O("<td/>"),s.append(c)),g[i][o]=c,m[i][o]=c,o++}var i,r,o,s,a,l,c,u=this.colCnt,h=this.buildSegLevels(e),d=Math.max(1,h.length),f=O("<tbody/>"),p=[],g=[],m=[];for(i=0;i<d;i++){if(r=h[i],o=0,s=O("<tr/>"),p.push([]),g.push([]),m.push([]),r)for(a=0;r.length>a;a++){for(n((l=r[a]).leftCol),c=O('<td class="fc-event-container"/>').append(l.el),l.leftCol!=l.rightCol?c.attr("colspan",l.rightCol-l.leftCol+1):m[i][o]=c;l.rightCol>=o;)g[i][o]=c,p[i][o]=l,o++;s.append(c)}n(u),this.bookendCells(s,"eventSkeleton"),f.append(s)}return{row:t,tbodyEl:f,cellMatrix:g,segMatrix:p,segLevels:h,segs:e}},buildSegLevels:function(t){var e,n,i,r=[];for(t.sort(K),e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&Z(n,r[i]);i++);(r[n.level=i]||(r[i]=[])).push(n)}for(i=0;r.length>i;i++)r[i].sort(Q);return r},groupSegRows:function(t){var e,n=[];for(e=0;this.rowCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].row].push(t[e]);return n}}),Pt.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},computeRowLevelLimit:function(t){function e(t,e){r=Math.max(r,O(e).outerHeight())}var n,i,r,o=this.rowEls.eq(t).height(),s=this.rowStructs[t].tbodyEl.children();for(n=0;s.length>n;n++)if(i=s.eq(n).removeClass("fc-limited"),r=0,i.find("> td > :first-child").each(e),i.position().top+r>o)return n;return!1},limitRow:function(e,n){function t(t){for(;k<t;)i=b.getCell(e,k),(c=b.getCellSegs(i,n)).length&&(d=o[n-1][k],y=b.renderMoreLink(i,c),v=O("<div/>").append(y),d.append(v),x.push(v[0])),k++}var i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b=this,w=this.rowStructs[e],x=[],k=0;if(n&&w.segLevels.length>n){for(r=w.segLevels[n-1],o=w.cellMatrix,s=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;r.length>a;a++){for(t((l=r[a]).leftCol),h=[],u=0;l.rightCol>=k;)i=this.getCell(e,k),c=this.getCellSegs(i,n),h.push(c),u+=c.length,k++;if(u){for(f=(d=o[n-1][l.leftCol]).attr("rowspan")||1,p=[],g=0;h.length>g;g++)m=O('<td class="fc-more-cell"/>').attr("rowspan",f),c=h[g],i=this.getCell(e,l.leftCol+g),y=this.renderMoreLink(i,[l].concat(c)),v=O("<div/>").append(y),m.append(v),p.push(m[0]),x.push(m[0]);d.addClass("fc-limited").after(O(p)),s.push(d[0])}}t(this.colCnt),w.moreEls=O(x),w.limitedEls=O(s)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(l,c){var u=this,h=this.view;return O('<a class="fc-more"/>').text(this.getMoreLinkText(c.length)).on("click",function(t){var e=h.opt("eventLimitClick"),n=l.start,i=O(this),r=u.getCellDayEl(l),o=u.getCellSegs(l),s=u.resliceDaySegs(o,n),a=u.resliceDaySegs(c,n);"function"==typeof e&&(e=h.trigger("eventLimitClick",null,{date:n,dayEl:r,moreEl:i,segs:s,hiddenSegs:a},t)),"popover"===e?u.showSegPopover(l,i,s):"string"==typeof e&&h.calendar.zoomTo(n,e)})},showSegPopover:function(t,e,n){var i,r,o=this,s=this.view,a=e.parent();i=1==this.rowCnt?s.el:this.rowEls.eq(t.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){o.segPopover.destroy(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=a.offset().left+a.outerWidth()+1:r.left=a.offset().left-1,this.segPopover=new _t(r),this.segPopover.show()},renderSegPopoverContent:function(t,e){var n,i=this.view,r=i.opt("theme"),o=t.start.format(i.opt("dayPopoverFormat")),s=O('<div class="fc-header '+i.widgetHeaderClass+'"><span class="fc-close '+(r?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+A(o)+'</span><div class="fc-clear"/></div><div class="fc-body '+i.widgetContentClass+'"><div class="fc-event-container"></div></div>'),a=s.find(".fc-event-container");for(e=this.renderFgSegEls(e,!0),this.popoverSegs=e,n=0;e.length>n;n++)e[n].cell=t,a.append(e[n].el);return s},resliceDaySegs:function(t,e){var n=O.map(t,function(t){return t.event}),i=e.clone().stripTime(),r={start:i,end:i.clone().add(1,"days")};return(t=this.eventsToSegs(n,function(t){var e=m(t,r);return e?[e]:[]})).sort(K),t},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,r=e||0,o=[];i.length>r;)(n=i[r][t.col])&&o.push(n),r++;return o}});var Ot=At.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){At.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,e,n,i=this.view,r=this.isRTL,o="",s=0==this.slotDuration.asMinutes()%15,a=N.duration(+this.minTime);this.maxTime>a;)e=(t=this.start.clone().time(a)).minutes(),n='<td class="fc-axis fc-time '+i.widgetContentClass+'" '+i.axisStyleAttr()+">"+(s&&e?"":"<span>"+A(t.format(this.axisFormat))+"</span>")+"</td>",o+="<tr "+(e?'class="fc-minor"':"")+">"+(r?"":n)+'<td class="'+i.widgetContentClass+'"/>'+(r?n:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var t=this.view,e=t.opt("slotDuration"),n=t.opt("snapDuration");e=N.duration(e),n=n?N.duration(n):e,this.slotDuration=e,this.snapDuration=n,this.cellDuration=n,this.minTime=N.duration(t.opt("minTime")),this.maxTime=N.duration(t.opt("maxTime")),this.axisFormat=t.opt("axisFormat")||t.opt("smallTimeFormat")},computeColHeadFormat:function(){return 1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push({day:t.clone()}),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(t){var e=this.computeSnapTime(t.row);return this.view.calendar.rezoneDate(t.day).time(e)},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return N.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,r=this.colCnt,o=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;n<r;n++)(e=m(t,{start:(i=this.colData[n].day).clone().time(this.minTime),end:i.clone().time(this.maxTime)}))&&(e.col=n,o.push(e));return o},updateSize:function(t){this.computeSlatTops(),t&&this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;this.rowCnt>t;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},0<t&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,e){return this.computeTimeTop(N.duration(t.clone().stripZone()-e.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),n=(r=Math.min(this.slatEls.length,r))-(e=Math.floor(r)),i=this.slatTops[e],n?i+(this.slatTops[e+1]-i)*n:i},computeSlatTops:function(){var n,i=[];this.slatEls.each(function(t,e){n=O(e).position().top,i.push(n)}),i.push(n+this.slatEls.last().outerHeight()),this.slatTops=i},renderDrag:function(t,e){return e?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(t,e){var n,i,r,o,s=this.eventsToSegs([t]);for(s=this.renderFgSegEls(s),n=this.renderSegTable(s),i=0;s.length>i;i++)r=s[i],e&&e.col===r.col&&(o=e.el,r.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")}));this.helperEl=O('<div class="fc-helper-skeleton"/>').append(n).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(t)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(t,e,n){var i,r,o,s,a,l,c,u,h,d;if(e.length){for(e=this.renderFillSegEls(t,e),i=this.groupSegCols(e),n=n||t.toLowerCase(),o=(r=O('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>')).find("tr"),s=0;i.length>s;s++)if(a=i[s],l=O("<td/>").appendTo(o),a.length)for(c=O('<div class="fc-'+n+'-container"/>').appendTo(l),u=this.colData[s].day,h=0;a.length>h;h++)d=a[h],c.append(d.el.css({top:this.computeDateTop(d.start,u),bottom:-this.computeDateTop(d.end,u)}));this.bookendCells(o,t),this.el.append(r),this.elsByFill[t]=r}return e}});Ot.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=O('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var e,n,i,r,o,s,a=O("<table><tr/></table>"),l=a.find("tr");for(e=this.groupSegCols(t),this.computeSegVerticals(t),r=0;e.length>r;r++){for(J(o=e[r]),s=O('<div class="fc-event-container"/>'),n=0;o.length>n;n++)(i=o[n]).el.css(this.generateSegPositionCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short"),s.append(i.el);l.append(O("<td/>").append(s))}return this.bookendCells(l,"eventSkeleton"),a},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)(n=t[e]).top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,r,o=this.view,s=t.event,a=o.isEventDraggable(s),l=!e&&t.isStart&&o.isEventResizableFromStart(s),c=!e&&t.isEnd&&o.isEventResizableFromEnd(s),u=this.getSegClasses(t,a,l||c),h=k(this.getEventSkinCss(s));return u.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+u.join(" ")+'"'+(s.url?' href="'+A(s.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+A(r)+'" data-full="'+A(i)+'"><span>'+A(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+A(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(e=1-o,n=r):(e=r,n=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;this.colCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].col].push(t[e]);return n}});var Nt=at.View=Y.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(t,e,n,i){this.calendar=t,this.type=this.name=e,this.options=n,this.intervalDuration=i||N.duration(1,"day"),this.nextDayThreshold=N.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=S(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(t){O.extend(this,t),this.updateTitle()},computeRange:function(t){var e,n,i=v(this.intervalDuration),r=t.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.rezoneDate(r)),o.hasTime()||(o=this.calendar.rezoneDate(o))),e=r.clone(),e=this.skipHiddenDays(e),n=o.clone(),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:e,end:n=this.skipHiddenDays(n,-1,!0)}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e)).startOf("day"),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):1<this.intervalDuration.as("days")?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),W(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var e=null;this.isDisplayed&&(e=this.queryScroll()),this.clear(),this.setDate(t),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,e=this.computeInitialScroll(e),this.forceScroll(e),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){O(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){O(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(),this.updateWidth(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return(e=this.el.add(i)).css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(t,e){var n=this.trigger("eventRender",t,t,e);return!1===n?e=null:n&&!0!==n&&(e=O(n)),e},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return F(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventDrop(t,s.dateDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(t,e,n,i,r){var o,s,a=t.eventProps;a&&(o=O.extend({},a,e),s=this.calendar.renderEvent(o,t.stick)[0]),this.triggerExternalDrop(s,e,n,i,r)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return F(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventResize(t,s.durationDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(t){var e;this.isSelected&&this.opt("unselectAuto")&&u(t)&&((e=this.opt("unselectCancel"))&&O(t.target).closest(e).length||this.unselect(t))},initHiddenDays:function(){var t,e=this.opt("hiddenDays")||[],n=[],i=0;for(!1===this.opt("weekends")&&e.push(0,6),t=0;t<7;t++)(n[t]=-1!==O.inArray(t,e))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=n},isHiddenDay:function(t){return N.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),(e=+i.time())&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||r<=n)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return 1<e.end.diff(e.start,"days")}}),It=at.Calendar=at.CalendarBase=Y.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:function(t,e){function n(){return t.is(":visible")}function i(t){T++,w&&t&&w.type!==t&&(v.deactivateButton(w.type),u(),w.removeElement(),w=d.view=null),!w&&t&&((w=d.view=E[t]||(E[t]=d.instantiateView(t))).setElement(O("<div class='fc-view fc-"+t+"-view' />").appendTo(b)),v.activateButton(t)),w&&(C=w.massageCurrentDate(C),w.isDisplayed&&C.isWithin(w.intervalStart,w.intervalEnd)||n()&&(u(),w.display(C),h(),v.updateTitle(w.title),d.getNow().isWithin(w.intervalStart,w.intervalEnd)?v.disableButton("today"):v.enableButton("today"),!f.lazyFetching||_(w.start,w.end)?c():l())),h(),T--}function r(t){return n()?(t&&s(),T++,w.updateSize(!0),T--,!0):void 0}function o(){n()&&s()}function s(){x="number"==typeof f.contentHeight?f.contentHeight:"number"==typeof f.height?f.height-(y?y.outerHeight(!0):0):Math.round(b.width()/Math.max(f.aspectRatio,.5))}function a(t){!T&&t.target===window&&w.start&&r(!0)&&w.trigger("windowResize",$)}function l(){n()&&(u(),w.displayEvents(D),h())}function c(){S(w.start,w.end)}function u(){b.css({width:"100%",height:b.height(),overflow:"hidden"})}function h(){b.css({width:"",height:"",overflow:""})}var d=this;d.initOptions(e||{});var f=this.options;d.render=function(){b?n()&&(o(),i()):(f.theme,t.addClass("fc"),f.isRTL?t.addClass("fc-rtl"):t.addClass("fc-ltr"),f.theme?t.addClass("ui-widget"):t.addClass("fc-unthemed"),b=O("<div class='fc-view-container'/>").prependTo(t),v=d.header=new function(d,f){function e(t){var e=O('<div class="fc-'+t+'"/>'),n=f.header[t];return n&&O.each(n.split(" "),function(){var t,u=O(),h=!0;O.each(this.split(","),function(t,e){var n,i,r,o,s,a,l,c;"title"==e?(u=u.add(O("<h2>&nbsp;</h2>")),h=!1):((n=d.getViewSpec(e))?(i=function(){d.changeView(e)},g.push(e),r=n.buttonTextOverride,o=n.buttonTextDefault):d[e]&&(i=function(){d[e]()},r=(d.overrides.buttonText||{})[e],o=f.buttonText[e]),i&&(s=f.themeButtonIcons[e],a=f.buttonIcons[e],l=r?A(r):s&&f.theme?"<span class='ui-icon ui-icon-"+s+"'></span>":a&&!f.theme?"<span class='fc-icon fc-icon-"+a+"'></span>":A(o),c=O('<button type="button" class="'+["fc-"+e+"-button",p+"-button",p+"-state-default"].join(" ")+'">'+l+"</button>").click(function(){c.hasClass(p+"-state-disabled")||(i(),(c.hasClass(p+"-state-active")||c.hasClass(p+"-state-disabled"))&&c.removeClass(p+"-state-hover"))}).mousedown(function(){c.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){c.removeClass(p+"-state-down")}).hover(function(){c.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){c.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),u=u.add(c)))}),h&&u.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),1<u.length?(t=O("<div/>"),h&&t.addClass("fc-button-group"),t.append(u),e.append(t)):e.append(u)}),e}this.render=function(){var t=f.header;return p=f.theme?"ui":"fc",t?n=O("<div class='fc-toolbar'/>").append(e("left")).append(e("right")).append(e("center")).append('<div class="fc-clear"/>'):void 0},this.destroy=function(){n.remove()},this.updateTitle=function(t){n.find("h2").text(t)},this.activateButton=function(t){n.find(".fc-"+t+"-button").addClass(p+"-state-active")},this.deactivateButton=function(t){n.find(".fc-"+t+"-button").removeClass(p+"-state-active")},this.disableButton=function(t){n.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")},this.enableButton=function(t){n.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")},this.getViewsWithButtons=function(){return g};var p,n=O(),g=[]}(d,f),(y=v.render())&&t.prepend(y),i(f.defaultView),f.handleWindowResize&&(k=P(a,f.windowResizeDelay),O(window).resize(k)))},d.destroy=function(){w&&w.removeElement(),v.destroy(),b.remove(),t.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),k&&O(window).unbind("resize",k)},d.refetchEvents=function(){u(),w.clearEvents(),h(),c()},d.reportEvents=function(t){D=t,l()},d.reportEventChange=function(){l()},d.rerenderEvents=l,d.changeView=i,d.select=function(t,e){t=d.moment(t),e=e?d.moment(e):t.hasTime()?t.clone().add(d.defaultTimedEventDuration):t.clone().add(d.defaultAllDayEventDuration),w.select({start:t,end:e})},d.unselect=function(){w&&w.unselect()},d.prev=function(){C=w.computePrevDate(C),i()},d.next=function(){C=w.computeNextDate(C),i()},d.prevYear=function(){C.add(-1,"years"),i()},d.nextYear=function(){C.add(1,"years"),i()},d.today=function(){C=d.getNow(),i()},d.gotoDate=function(t){C=d.moment(t),i()},d.incrementDate=function(t){C.add(N.duration(t)),i()},d.zoomTo=function(t,e){var n;e=e||"day",n=d.getViewSpec(e)||d.getUnitViewSpec(e),C=t,i(n?n.type:null)},d.getDate=function(){return C.clone()},d.getCalendar=function(){return d},d.getView=function(){return w},d.option=function(t,e){return void 0===e?f[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(f[t]=e,r(!0)))},d.trigger=function(t,e){return f[t]?f[t].apply(e||$,Array.prototype.slice.call(arguments,2)):void 0};var p,g=M(ot(f.lang));if(f.monthNames&&(g._months=f.monthNames),f.monthNamesShort&&(g._monthsShort=f.monthNamesShort),f.dayNames&&(g._weekdays=f.dayNames),f.dayNamesShort&&(g._weekdaysShort=f.dayNamesShort),null!=f.firstDay){var m=M(g._week);m.dow=f.firstDay,g._week=m}g._fullCalendar_weekCalc="function"==typeof(p=f.weekNumberCalculation)?p:"local"===p?p:"iso"===p||"ISO"===p?"ISO":void 0,d.defaultAllDayEventDuration=N.duration(f.defaultAllDayEventDuration),d.defaultTimedEventDuration=N.duration(f.defaultTimedEventDuration),d.moment=function(){var t;return"local"===f.timezone?(t=at.moment.apply(null,arguments)).hasTime()&&t.local():t="UTC"===f.timezone?at.moment.utc.apply(null,arguments):at.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=g:t._lang=g,t},d.getIsAmbigTimezone=function(){return"local"!==f.timezone&&"UTC"!==f.timezone},d.rezoneDate=function(t){return d.moment(t.toArray())},d.getNow=function(){var t=f.now;return"function"==typeof t&&(t=t()),d.moment(t)},d.getEventEnd=function(t){return t.end?t.end.clone():d.getDefaultEventEnd(t.allDay,t.start)},d.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(d.defaultAllDayEventDuration):n.add(d.defaultTimedEventDuration),d.getIsAmbigTimezone()&&n.stripZone(),n},d.humanizeDuration=function(t){return(t.locale||t.lang).call(t,f.lang).humanize()},function(m){function o(o,s){!function t(e,n){var i,r,o=at.sourceFetchers;for(i=0;o.length>i;i++){if(!0===(r=o[i].call(S,e,$.clone(),E.clone(),m.timezone,n)))return;if("object"==typeof r)return void t(r,n)}var s=e.events;if(s)O.isFunction(s)?(v(),s.call(S,$.clone(),E.clone(),m.timezone,function(t){n(t),w()})):O.isArray(s)?n(s):n();else{var a=e.url;if(a){var l,c=e.success,u=e.error,h=e.complete;l=O.isFunction(e.data)?e.data():e.data;var d=O.extend({},l||{}),f=F(e.startParam,m.startParam),p=F(e.endParam,m.endParam),g=F(e.timezoneParam,m.timezoneParam);f&&(d[f]=$.format()),p&&(d[p]=E.format()),m.timezone&&"local"!=m.timezone&&(d[g]=m.timezone),v(),O.ajax(O.extend({},zt,e,{data:d,success:function(t){t=t||[];var e=R(c,this,arguments);O.isArray(e)&&(t=e),n(t)},error:function(){R(u,this,arguments),n()},complete:function(){R(h,this,arguments),w()}}))}else n()}}(o,function(t){var e,n,i,r=O.isArray(o.events);if(s==D){if(t)for(e=0;t.length>e;e++)n=t[e],(i=r?n:x(n,o))&&P.push.apply(P,C(i));--M||p(P)}})}function i(t){var e,n,i=at.sourceNormalizers;if(O.isFunction(t)||O.isArray(t)?e={events:t}:"string"==typeof t?e={url:t}:"object"==typeof t&&(e=O.extend({},t)),e){for(e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[],O.isArray(e.events)&&(e.origArray=e.events,e.events=O.map(e.events,function(t){return x(t,e)})),n=0;i.length>n;n++)i[n].call(S,e);return e}}function n(t,e){return t&&e&&r(t)==r(e)}function r(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function e(t){var i={};return O.each(t,function(t,e){var n;y(t)&&void 0!==e&&(n=e,/undefined|null|boolean|number|string/.test(O.type(n)))&&(i[t]=e)}),i}function y(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function b(e){return O.isFunction(e)?O.grep(P,e):null!=e?(e+="",O.grep(P,function(t){return t._id==e})):P}function v(){A++||t("loading",null,!0,d())}function w(){--A||t("loading",null,!1,d())}function x(t,e){var n,i,r,o={};if(m.eventDataTransform&&(t=m.eventDataTransform(t)),e&&e.eventDataTransform&&(t=e.eventDataTransform(t)),O.extend(o,t),e&&(o.source=e),o._id=t._id||(void 0===t.id?"_fc"+jt++:t.id+""),o.className=t.className?"string"==typeof t.className?t.className.split(/\s+/):t.className:[],n=t.start||t.date,i=t.end,H(n)&&(n=N.duration(n)),H(i)&&(i=N.duration(i)),t.dow||N.isDuration(n)||N.isDuration(i))o.start=n?N.duration(n):null,o.end=i?N.duration(i):null,o._recurring=!0;else{if(n&&!(n=S.moment(n)).isValid())return!1;i&&((i=S.moment(i)).isValid()||(i=null)),void 0===(r=t.allDay)&&(r=F(e?e.allDayDefault:void 0,m.allDayDefault)),f(n,i,r,o)}return o}function f(t,e,n,i){i.start=t,i.end=e,i.allDay=n,k(i),st(i)}function k(t){s(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(t.end=m.forceEventDuration?S.getDefaultEventEnd(t.allDay,t.start):null)}function s(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=S.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=S.rezoneDate(t.end)))}function a(t){var e;return t.end||(null==(e=t.allDay)&&(e=!t.start.hasTime()),(t=O.extend({},t)).end=S.getDefaultEventEnd(e,t.start)),t}function C(t,e,n){var i,r,o,s,a,l,c,u,h,d=[];if(e=e||$,n=n||E,t)if(t._recurring){if(r=t.dow)for(i={},o=0;r.length>o;o++)i[r[o]]=!0;for(s=e.clone().stripTime();s.isBefore(n);)(!i||i[s.day()])&&(a=t.start,l=t.end,c=s.clone(),u=null,a&&(c=c.time(a)),l&&(u=s.clone().time(l)),h=O.extend({},t),f(c,u,!a&&!l,h),d.push(h)),s.add(1,"days")}else d.push(t);return d}function l(t,r,o){function e(t,e){return o?L(t,e,o):r.allDay?(n=t,i=e,N.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days")})):I(t,e);var n,i}var n,i,s,a,l,c,u,h,d,f,p,g,m,v={};return(r=r||{}).start||(r.start=t.start.clone()),void 0===r.end&&(r.end=t.end?t.end.clone():null),null==r.allDay&&(r.allDay=t.allDay),k(r),k(n={start:t._start.clone(),end:t._end?t._end.clone():S.getDefaultEventEnd(t._allDay,t._start),allDay:r.allDay}),i=null!==t._end&&null===r.end,s=e(r.start,n.start),r.end?(a=e(r.end,n.end),l=a.subtract(s)):l=null,O.each(r,function(t,e){y(t)&&void 0!==e&&(v[t]=e)}),c=b(t._id),u=i,h=r.allDay,d=s,f=l,p=v,g=S.getIsAmbigTimezone(),m=[],d&&!d.valueOf()&&(d=null),f&&!f.valueOf()&&(f=null),O.each(c,function(t,e){var n,i;n={start:e.start.clone(),end:e.end?e.end.clone():null,allDay:e.allDay},O.each(p,function(t){n[t]=e[t]}),k(i={start:e._start,end:e._end,allDay:h}),u?i.end=null:f&&!i.end&&(i.end=S.getDefaultEventEnd(i.allDay,i.start)),d&&(i.start.add(d),i.end&&i.end.add(d)),f&&i.end.add(f),g&&!i.allDay&&(d||f)&&(i.start.stripZone(),i.end&&i.end.stripZone()),O.extend(e,p,i),st(e),m.push(function(){O.extend(e,n),st(e)})}),{dateDelta:s,durationDelta:l,undo:function(){for(var t=0;m.length>t;t++)m[t]()}}}function _(t){var e,n=m.businessHours,i=S.getView();return n&&(e=O.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof n?n:{})),e?(t&&(e.start=null,e.end=null),C(x(e),i.start,i.end)):[]}function c(t,e){var n=e.source||{},i=F(e.constraint,n.constraint,m.eventConstraint),r=F(e.overlap,n.overlap,m.eventOverlap);return h(t=a(t),i,r,e)}function u(t){return h(t,m.selectConstraint,m.selectOverlap)}function h(t,e,n,i){var r,o,s,a,l,c,u,h,d,f,p,g,m,v;if((t=O.extend({},t)).start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),null!=e){for(r="businessHours"===(p=e)?_():"object"==typeof p?C(x(p)):b(p),o=!1,a=0;r.length>a;a++)if(u=r[a],h=t,d=u.start.clone().stripZone(),f=S.getEventEnd(u).stripZone(),h.start>=d&&f>=h.end){o=!0;break}if(!o)return!1}for(s=S.getPeerEvents(i,t),a=0;s.length>a;a++)if(l=s[a],m=t,v=(g=l).start.clone().stripZone(),S.getEventEnd(g).stripZone()>m.start&&m.end>v){if(!1===n)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(!1===(c=F(l.overlap,(l.source||{}).overlap)))return!1;if("function"==typeof c&&!c(i,l))return!1}}return!0}var S=this;S.isFetchNeeded=function(t,e){return!$||t.clone().stripZone()<$.clone().stripZone()||e.clone().stripZone()>E.clone().stripZone()},S.fetchEvents=function(t,e){$=t,E=e,P=[];var n=++D,i=T.length;M=i;for(var r=0;r<i;r++)o(T[r],n)},S.addEventSource=function(t){var e=i(t);e&&(T.push(e),M++,o(e,D))},S.removeEventSource=function(e){T=O.grep(T,function(t){return!n(t,e)}),P=O.grep(P,function(t){return!n(t.source,e)}),p(P)},S.updateEvent=function(t){t.start=S.moment(t.start),t.end=t.end?S.moment(t.end):null,l(t,e(t)),p(P)},S.renderEvent=function(t,e){var n,i,r,o=x(t);if(o){for(n=C(o),i=0;n.length>i;i++)(r=n[i]).source||(e&&(g.events.push(r),r.source=g),P.push(r));return p(P),n}return[]},S.removeEvents=function(t){var e,n;for(null==t?t=function(){return!0}:O.isFunction(t)||(e=t+"",t=function(t){return t._id==e}),P=O.grep(P,t,!0),n=0;T.length>n;n++)O.isArray(T[n].events)&&(T[n].events=O.grep(T[n].events,t,!0));p(P)},S.clientEvents=b,S.mutateEvent=l,S.normalizeEventRange=k,S.normalizeEventRangeTimes=s,S.ensureVisibleEventRange=a;var $,E,t=S.trigger,d=S.getView,p=S.reportEvents,g={events:[]},T=[g],D=0,M=0,A=0,P=[];O.each((m.events?[m.events]:[]).concat(m.eventSources||[]),function(t,e){var n=i(e);n&&T.push(n)}),S.getBusinessHoursEvents=_,S.isEventRangeAllowed=c,S.isSelectionRangeAllowed=u,S.isExternalDropRangeAllowed=function(t,e){var n,i;return e&&(n=O.extend({},e,t),i=C(x(n))[0]),i?c(t,i):u(t=a(t))},S.getEventCache=function(){return P}}.call(d,f);var v,y,b,w,x,k,C,_=d.isFetchNeeded,S=d.fetchEvents,$=t[0],E={},T=0,D=[];C=null!=f.defaultDate?d.moment(f.defaultDate):d.getNow(),d.getSuggestedViewHeight=function(){return void 0===x&&o(),x},d.isHeightAuto=function(){return"auto"===f.contentHeight||"auto"===f.height}},initOptions:function(t){var e,n,i,r,o,s;s={views:(r=t).views||{}},O.each(r,function(n,t){"views"!=n&&(O.isPlainObject(t)&&!/(time|duration|interval)$/i.test(n)&&-1==O.inArray(n,ct)?(o=null,O.each(t,function(t,e){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(s.views[t]||(s.views[t]={}),s.views[t][n]=e):(o||(o={}),o[t]=e)}),o&&(s[n]=o)):s[n]=t)}),e=(t=s).lang,(n=Lt[e])||(e=It.defaults.lang,n=Lt[e]||{}),i=F(t.isRTL,n.isRTL,It.defaults.isRTL)?It.rtlDefaults:{},this.dirDefaults=i,this.langDefaults=n,this.overrides=t,this.options=h(It.defaults,i,n,t),rt(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(t){var e,n,i;if(-1!=O.inArray(t,gt))for(e=this.header.getViewsWithButtons(),O.each(at.views,function(t){e.push(t)}),n=0;e.length>n;n++)if((i=this.getViewSpec(e[n]))&&i.singleUnit==t)return i},buildViewSpec:function(t){for(var e,n,i,r,o,s,a=this.overrides.views||{},l=[],c=[],u=t;u&&!e;)n=lt[u]||{},i=a[u]||{},r=r||i.duration||n.duration,u=i.type||n.type,"function"==typeof n?(e=n,l.unshift(e.defaults||{})):l.unshift(n),c.unshift(i);return e?(s={class:e,type:t},r&&((r=N.duration(r)).valueOf()||(r=null)),r&&(o=v(s.duration=r),1===r.as(o)&&(s.singleUnit=o,c.unshift(a[o]||{}))),s.defaults=h.apply(null,l),s.overrides=h.apply(null,c),this.buildViewSpecOptions(s),this.buildViewSpecButtonText(s,t),s):void 0},buildViewSpecOptions:function(t){t.options=h(It.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides),rt(t.options)},buildViewSpecButtonText:function(n,i){function t(t){var e=t.buttonText||{};return e[i]||(n.singleUnit?e[n.singleUnit]:null)}n.buttonTextOverride=t(this.overrides)||n.overrides.buttonText,n.buttonTextDefault=t(this.langDefaults)||t(this.dirDefaults)||n.defaults.buttonText||t(It.defaults)||(n.duration?this.humanizeDuration(n.duration):null)||i},instantiateView:function(t){var e=this.getViewSpec(t);return new e.class(this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))}});It.defaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},It.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},It.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Lt=at.langs={};at.datepickerLang=function(t,e,n){var i=Lt[t]||(Lt[t]={});i.isRTL=n.isRTL,i.weekNumberTitle=n.weekHeader,O.each(Ht,function(t,e){i[t]=e(n)}),O.datepicker&&(O.datepicker.regional[e]=O.datepicker.regional[t]=n,O.datepicker.regional.en=O.datepicker.regional[""],O.datepicker.setDefaults(n))},at.lang=function(t,e){var n,i;n=Lt[t]||(Lt[t]={}),e&&(n=Lt[t]=h(n,e)),i=ot(t),O.each(Rt,function(t,e){null==n[t]&&(n[t]=e(i,n))}),It.defaults.lang=t};var Ht={buttonText:function(t){return{prev:x(t.prevText),next:x(t.nextText),today:x(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},Rt={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Ft={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};at.lang("en",It.englishDefaults),at.sourceNormalizers=[],at.sourceFetchers=[];var zt={dataType:"json",cache:!1},jt=1;It.prototype.getPeerEvents=function(t){var e,n,i=this.getEventCache(),r=[];for(e=0;i.length>e;e++)n=i[e],t&&t._id===n._id||r.push(n);return r};var Bt=lt.basic=Nt.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new Pt(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){Nt.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=Nt.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},render:function(){this.dayNumbersVisible=1<this.dayGrid.rowCnt,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+A(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(t,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?((e=this.dayGrid.getDayClasses(n)).unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=t(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");a(this.scrollerEl),o(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&s(this.scrollerEl,n)&&(r(this.headRowEl,l(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?i(this.dayGrid.rowEls):n(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},destroySelection:function(){this.dayGrid.destroySelection()}}),Wt=lt.month=Bt.extend({computeRange:function(t){var e,n=Bt.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){(e=e||"variable"===this.opt("weekMode"))&&(t*=this.rowCnt/6),n(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Wt.duration={months:1},Wt.defaults={fixedWeekCount:!0},lt.basicWeek={type:"basic",duration:{weeks:1}},lt.basicDay={type:"basic",duration:{days:1}};return(lt.agenda=Nt.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new Ot(this),this.opt("allDaySlot")?(this.dayGrid=new Pt(this),this.coordMap=new $t([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){Nt.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=O('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+A(t)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||A(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){this.timeGrid.updateSize(t),Nt.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=t(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),a(this.scrollerEl),o(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=5),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),s(this.scrollerEl,i)?(r(this.noScrollRowEls,l(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=N.duration(this.opt("scrollTime")),e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,e},renderEvents:function(t){var e,n=[],i=[];for(e=0;t.length>e;e++)t[e].allDay?n.push(t[e]):i.push(t[e]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}})).defaults={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},lt.agendaWeek={type:"agenda",duration:{weeks:1}},lt.agendaDay={type:"agenda",duration:{days:1}},at}),window.console||(console={log:function(){}});var textAngular=angular.module("textAngular",["ngSanitize"]);textAngular.directive("textAngular",["$compile","$window","$document","$rootScope","$timeout","taFixChrome",function(f,t,p,g,m,v){function e(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},arguments.callee(t[n],e[n])):t[n]=e[n];return t}console.log("Thank you for using textAngular! http://www.textangular.com"),g.textAngularOpts=e({toolbar:[["h1","h2","h3","p","pre","quote"],["bold","italics","underline","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight"],["html","insertImage","insertLink","unlink"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",textEditor:"form-control",htmlEditor:"form-control"}},null!=g.textAngularOpts?g.textAngularOpts:{});var n=function(t){t=t.toLowerCase();var e=p[0].queryCommandValue("formatBlock").toLowerCase();return e===t||e===t};return g.textAngularTools=e({html:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>Toggle HTML</button>",action:function(){var t=this;this.$parent.showHtml=!this.$parent.showHtml,this.$parent.showHtml?m(function(){return t.$parent.displayElements.html[0].focus()},100):m(function(){return t.$parent.displayElements.text[0].focus()},100),this.active=this.$parent.showHtml}},h1:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H1</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H1>")},activeState:function(){return n("h1")}},h2:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H2</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H2>")},activeState:function(){return n("h2")}},h3:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H3</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H3>")},activeState:function(){return n("h3")}},p:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>P</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<P>")},activeState:function(){return n("p")}},pre:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>pre</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<PRE>")},activeState:function(){return n("pre")}},ul:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-list-ul'></i></button>",action:function(){return this.$parent.wrapSelection("insertUnorderedList",null)},activeState:function(){return p[0].queryCommandState("insertUnorderedList")}},ol:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-list-ol'></i></button>",action:function(){return this.$parent.wrapSelection("insertOrderedList",null)},activeState:function(){return p[0].queryCommandState("insertOrderedList")}},quote:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-quote-right'></i></button>",action:function(){return this.$parent.wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return n("blockquote")}},undo:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-undo'></i></button>",action:function(){return this.$parent.wrapSelection("undo",null)}},redo:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-repeat'></i></button>",action:function(){return this.$parent.wrapSelection("redo",null)}},bold:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-bold'></i></button>",action:function(){return this.$parent.wrapSelection("bold",null)},activeState:function(){return p[0].queryCommandState("bold")}},justifyLeft:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-left'></i></button>",action:function(){return this.$parent.wrapSelection("justifyLeft",null)},activeState:function(){return p[0].queryCommandState("justifyLeft")}},justifyRight:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-right'></i></button>",action:function(){return this.$parent.wrapSelection("justifyRight",null)},activeState:function(){return p[0].queryCommandState("justifyRight")}},justifyCenter:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-center'></i></button>",action:function(){return this.$parent.wrapSelection("justifyCenter",null)},activeState:function(){return p[0].queryCommandState("justifyCenter")}},italics:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-italic'></i></button>",action:function(){return this.$parent.wrapSelection("italic",null)},activeState:function(){return p[0].queryCommandState("italic")}},underline:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-underline'></i></button>",action:function(){return this.$parent.wrapSelection("underline",null)},activeState:function(){return p[0].queryCommandState("underline")}},clear:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-ban'></i></button>",action:function(){return this.$parent.wrapSelection("removeFormat",null)}},insertImage:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-picture-o'></i></button>",action:function(){var t;if(""!==(t=prompt("Please enter an image URL to insert","http://")))return this.$parent.wrapSelection("insertImage",t)}},insertLink:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-link'></i></button>",action:function(){var t;if(""!==(t=prompt("Please enter an URL to insert","http://")))return this.$parent.wrapSelection("createLink",t)}},unlink:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-unlink'></i></button>",action:function(){return this.$parent.wrapSelection("unlink",null)}}},null!=g.textAngularTools?g.textAngularTools:{}),{require:"ngModel",scope:{},restrict:"EA",link:function(i,t,e,n){var r,o,s,a,l,c;angular.extend(i,g.textAngularOpts,{wrapSelection:function(t,e){document.execCommand(t,!1,e),"insertUnorderedList"!==t&&"insertOrderedList"!==t||v(i.displayElements.text),i.showHtml?i.displayElements.html[0].focus():i.displayElements.text[0].focus(),i.updateSelectedStyles(),i.showHtml||i.updateTaBindtext()},showHtml:!1}),e.taToolbar&&(i.toolbar=i.$eval(e.taToolbar)),e.taFocussedClass&&(i.classes.focussed=i.$eval(e.taFocussedClass)),e.taToolbarClass&&(i.classes.toolbar=e.taToolbarClass),e.taToolbarGroupClass&&(i.classes.toolbarGroup=e.taToolbarGroupClass),e.taToolbarButtonClass&&(i.classes.toolbarButton=e.taToolbarButtonClass),e.taToolbarActiveButtonClass&&(i.classes.toolbarButtonActive=e.taToolbarActiveButtonClass),e.taTextEditorClass&&(i.classes.textEditor=e.taTextEditorClass),e.taHtmlEditorClass&&(i.classes.htmlEditor=e.taHtmlEditorClass),i.displayElements={toolbar:angular.element("<div></div>"),forminput:angular.element("<input type='hidden' style='display: none;'>"),html:angular.element("<textarea ng-show='showHtml' ta-bind='html' ng-model='html' ></textarea>"),text:angular.element("<div contentEditable='true' ng-hide='showHtml' ta-bind='text' ng-model='text' ></div>")},t.append(i.displayElements.toolbar),t.append(i.displayElements.text),t.append(i.displayElements.html),e.name&&(i.displayElements.forminput.attr("name",e.name),t.append(i.displayElements.forminput)),f(i.displayElements.text)(i),f(i.displayElements.html)(i),t.addClass("ta-root"),i.displayElements.toolbar.addClass("ta-toolbar "+i.classes.toolbar),i.displayElements.text.addClass("ta-text ta-editor "+i.classes.textEditor),i.displayElements.html.addClass("ta-html ta-editor "+i.classes.textEditor),t.on("focusin",function(){t.addClass(i.classes.focussed),m(function(){t.triggerHandler("focus")},0)}),t.on("focusout",function(){m(function(){p[0].activeElement!==i.displayElements.html[0]&&p[0].activeElement!==i.displayElements.text[0]&&(t.removeClass(i.classes.focussed),m(function(){t.triggerHandler("blur")},0))},0)}),i.tools={};for(var u=0;u<i.toolbar.length;u++){r=i.toolbar[u],(o=angular.element("<div></div>")).addClass(i.classes.toolbarGroup);for(var h=0;h<r.length;h++){l=r[h],(c=angular.element(g.textAngularTools[l].display)).addClass(i.classes.toolbarButton),c.attr("unselectable","on"),c.attr("ng-disabled","showHtml()");var d=angular.extend(i.$new(!0),g.textAngularTools[l],{name:l,showHtml:function(){return"html"!==this.name&&this.$parent.showHtml},displayActiveToolClass:function(t){return t?this.$parent.classes.toolbarButtonActive:""}});i.tools[l]=d,o.append(f(c)(d))}i.displayElements.toolbar.append(o)}n.$render=function(){if(i.displayElements.forminput.val(n.$viewValue),void 0!==n.$viewValue&&p[0].activeElement!==i.displayElements.html[0]&&p[0].activeElement!==i.displayElements.text[0]){var t=n.$viewValue||"";i.text=t,i.html=t}},i.$watch("text",function(t,e){i.html=t,n.$setViewValue(t),i.displayElements.forminput.val(t)}),i.$watch("html",function(t,e){i.text=t,n.$setViewValue(t),i.displayElements.forminput.val(t)}),i.bUpdateSelectedStyles=!1,i.updateSelectedStyles=function(){for(var t=0;t<i.toolbar.length;t++)for(var e=i.toolbar[t],n=0;n<e.length;n++)l=e[n],null!=i.tools[l].activeState&&(i.tools[l].active=i.tools[l].activeState.apply(i));this.bUpdateSelectedStyles&&m(this.updateSelectedStyles,200)},s=function(t){i.bUpdateSelectedStyles=!0,i.$apply(function(){i.updateSelectedStyles()})},i.displayElements.html.on("keydown",s),i.displayElements.text.on("keydown",s),a=function(t){i.bUpdateSelectedStyles=!1},i.displayElements.html.on("keyup",a),i.displayElements.text.on("keyup",a),mouseup=function(t){i.$apply(function(){i.updateSelectedStyles()})},i.displayElements.html.on("mouseup",mouseup),i.displayElements.text.on("mouseup",mouseup)}}}]).directive("taBind",["$sanitize","$document","taFixChrome",function(s,a,l){return{require:"ngModel",scope:{taBind:"@"},link:function(e,n,t,i){var r="textarea"!==n[0].tagName.toLowerCase()&&"input"!==n[0].tagName.toLowerCase()&&void 0!==n.attr("contenteditable"),o=function(){var t=l(angular.element("<div>").append(n.html())).html();return"html"===e.taBind&&r&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),t};e.$parent["updateTaBind"+e.taBind]=function(){var t=o(),e=i.$parsers;i.$parsers=[],i.$oldViewValue=t,i.$setViewValue(t),i.$parsers=e},r&&n.on("keyup",function(t){i.$setViewValue(o())}),i.$parsers.push(function(t){void 0===i.$oldViewValue&&(i.$oldViewValue=t);try{s(t)}catch(t){return i.$oldViewValue}return i.$oldViewValue=t}),i.$render=function(){if(void 0!==i.$viewValue)if(a[0].activeElement!==n[0]){var t=i.$viewValue||"";i.$oldViewValue=t,"text"===e.taBind?(n.html(t),n.find("a").on("click",function(t){return t.preventDefault(),!1})):r||"textarea"!==n[0].tagName.toLowerCase()&&"input"!==n[0].tagName.toLowerCase()?n.html(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")):n.val(t)}else r||n.val(t)}}}}]).factory("taFixChrome",function(){return function(t){for(var e=angular.element(t).find("span"),n=0;n<e.length;n++){var i=angular.element(e[n]);i.attr("style")&&i.attr("style").match(/line-height: 1.428571429;|color: inherit; line-height: 1.1;/i)&&(0<i.next().length&&"BR"===i.next()[0].tagName&&i.next().remove(),i.replaceWith(i.html()))}var r=t.html().replace(/style="[^"]*?(line-height: 1.428571429;|color: inherit; line-height: 1.1;)[^"]*"/gi,"");return t.html(r),t}}),function(){"use strict";var t="undefined"!=typeof module&&module.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if((t=n[i])&&t[1]in document){for(i=0,e=t.length;i<e;i++)o[n[0][i]]=t[i];return o}return!1}(),e={request:function(t){var e=i.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[e]():t[e](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:i};i?(Object.defineProperties(e,{isFullscreen:{get:function(){return Boolean(document[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[i.fullscreenEnabled])}}}),t?module.exports=e:window.screenfull=e):t?module.exports=!1:window.screenfull=!1}(),function(){function t(t,e){angular.element(e).bind("resize",function(){t.$emit("resizeMsg")})}angular.module("googlechart",[]).run(t),t.$inject=["$rootScope","$window"]}(),angular.module("googlechart").factory("FormatManager",function(){return function(s){var a=this,r={};function l(t,e,n){var i;if(angular.isArray(n[t])&&!angular.equals(n[t],r[t]))if(r[t]=n[t],a.iFormats[t]=[],"color"===t)!function(t){var e,n,i,r,o="color";for(e=0;e<t[o].length;e++){for(n=new s.visualization.ColorFormat,i=0;i<t[o][e].formats.length;i++)void 0!==(r=t[o][e].formats[i]).fromBgColor&&void 0!==r.toBgColor?n.addGradientRange(r.from,r.to,r.color,r.fromBgColor,r.toBgColor):n.addRange(r.from,r.to,r.color,r.bgcolor);a.iFormats[o].push(n)}}(n);else for(i=0;i<n[t].length;i++)a.iFormats[t].push(new e(n[t][i]))}function c(t,e){var n=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()+"Format";return s.visualization.hasOwnProperty(n)?google.visualization[n]:angular.isDefined(e)&&e.hasOwnProperty(t)?e[t]:void 0}a.iFormats={},a.applyFormats=function(t,e,n){var i,r,o=!1;if(!angular.isDefined(e)||!angular.isDefined(t))return{requiresHtml:!1};for(i in e)if(e.hasOwnProperty(i)){if(r=c(i,n),!angular.isFunction(r))continue;l(i,r,e),"arrow"!==i&&"bar"!==i&&"color"!==i||(o=!0)}return function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i))for(n=0;n<a.iFormats[i].length;n++)t[i][n].columnNum<e.getNumberOfColumns()&&a.iFormats[i][n].format(e,t[i][n].columnNum)}(e,t),{requiresHtml:o}}}}),function(){function t(e,t,n,i,r,o,s,a){var l,c,u=this;function h(){l()}function d(){d.triggered||void 0===u.chart?void 0!==u.chart&&(r.cancel(d.recallTimeout),d.recallTimeout=r(d,10)):r(g,0,d.triggered=!0)}function f(){c.getReadyPromise().then(d)}function p(){c.draw(),d.triggered=!1}function g(){c.setup(t,u.chart.type,u.chart.data,u.chart.view,u.chart.options,u.chart.formatters,u.chart.customFormatters),r(p)}function m(){u.chart=e.$eval(n.chart),f()}function v(){var t=e.$eval(n.chart);if(angular.isDefined(t)&&angular.isObject(t))return{customFormatters:t.customFormatters,data:t.data,formatters:t.formatters,options:t.options,type:t.type,view:t.view}}c=new a,u.registerChartListener=c.registerChartListener,u.registerWrapperListener=c.registerWrapperListener,u.registerServiceListener=c.registerServiceListener,e.$watch(v,m,!0),l=s.$on("resizeMsg",f),e.$on("$destroy",h)}angular.module("googlechart").controller("GoogleChartController",t),t.$inject=["$scope","$element","$attrs","$injector","$timeout","$window","$rootScope","GoogleChartService"]}(),angular.module("googlechart").directive("agcBeforeDraw",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(e,t,n,i){function r(t){e.$apply(function(){e.$eval(n.agcBeforeDraw,{chartWrapper:t})})}r.$inject=["chartWrapper"],i.registerServiceListener("beforeDraw",r,this)}}}),angular.module("googlechart").directive("agcOnClick",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(i,t,r,e){function n(t,e,n){i.$apply(function(){i.$eval(r.agcOnClick,{args:t,chart:e,chartWrapper:n})})}n.$inject=["args","chart","chartWrapper"],e.registerChartListener("click",n,this)}}}),angular.module("googlechart").directive("agcOnError",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(r,t,o,e){function n(t,e,n){var i={chartWrapper:t,chart:e,args:n,error:n[0],err:n[0],id:n[0].id,message:n[0].message};r.$apply(function(){r.$eval(o.agcOnError,i)})}n.$inject=["chartWrapper","chart","args"],e.registerWrapperListener("error",n,this)}}}),angular.module("googlechart").directive("agcOnMouseout",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(r,t,o,e){function n(t,e,n){var i={chartWrapper:n,chart:e,args:t,column:t[0].column,row:t[0].row};r.$apply(function(){r.$eval(o.agcOnMouseout,i)})}n.$inject=["args","chart","chartWrapper"],e.registerChartListener("onmouseout",n,this)}}}),angular.module("googlechart").directive("agcOnMouseover",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(r,t,o,e){function n(t,e,n){var i={chartWrapper:n,chart:e,args:t,column:t[0].column,row:t[0].row};r.$apply(function(){r.$eval(o.agcOnMouseover,i)})}n.$inject=["args","chart","chartWrapper"],e.registerChartListener("onmouseover",n,this)}}}),angular.module("googlechart").directive("agcOnReady",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(e,t,n,i){function r(t){e.$apply(function(){e.$eval(n.agcOnReady,{chartWrapper:t})})}r.$inject=["chartWrapper"],i.registerWrapperListener("ready",r,this)}}}),angular.module("googlechart").directive("agcOnSelect",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(i,t,r,e){function n(t,e){var n={selectedItems:e.getSelection()};n.selectedItem=n.selectedItems[0],n.chartWrapper=t,n.chart=e,i.$apply(function(){i.$eval(r.agcOnSelect,n)})}n.$inject=["chartWrapper","chart"],e.registerWrapperListener("select",n,this)}}}),function(){function t(){return{restrict:"A",scope:!1,controller:"GoogleChartController"}}angular.module("googlechart").directive("googleChart",t),t.$inject=[]}(),angular.module("googlechart").value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}}),function(){function t(e,t,n,i){n.optionalSettings=n.optionalSettings||{};var r=t.defer(),o=function(){var t={callback:function(){var t=n.optionalSettings.callback;e.$apply(function(){r.resolve(google)}),angular.isFunction(t)&&t.call(this)}};t=angular.extend({},n.optionalSettings,t),window.google.load("visualization",n.version,t)},s=document.getElementsByTagName("head")[0],a=document.createElement("script");return a.setAttribute("type","text/javascript"),a.src=i,a.addEventListener?a.addEventListener("load",o,!1):a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,o())},s.appendChild(a),r.promise}angular.module("googlechart").factory("googleChartApiPromise",t),t.$inject=["$rootScope","$q","googleChartApiConfig","googleJsapiUrl"]}(),function(){function t(E,T,D,M){return function(){var t=this;t.draw=function(){o&&(a=a.then(x)),a=a.then((function(t){var e;if(angular.isArray(m[t]))for(e=0;e<m[t].length;e++)m[t][e]()}("beforeDraw"),void l.draw()))},t.getChartWrapper=function(){return l},t.getData=function(){var t=h||{};return angular.copy(t)},t.getElement=function(){return c},t.getOption=function(t){return k(f||{},t)},t.getOptions=function(){var t=f||{};return angular.copy(t)},t.getView=function(){var t=d||{};return angular.copy(t)},t.getReadyPromise=function(){return r.promise},t.isApiReady=function(){return e},t.registerChartListener=function(t,e,n){return _(y,t,e,n)},t.registerServiceListener=function(t,e,n){return _(m,t,e,n)},t.registerWrapperListener=$,t.setData=function(t){angular.isDefined(t)&&(h=angular.copy(t),o=!0)},t.setElement=function(t){angular.isElement(t)&&c!==t&&(c=t,l=null,o=!0)},t.setOption=function(t,e){k(f=f||{},t,angular.copy(e)),o=!0},t.setOptions=function(t){angular.isDefined(t)&&(f=angular.copy(t),o=!0)},t.setup=function(t,e,n,i,r,o,s){c=t||c,u=e||u,h=n||h,d=i||d,f=r||f,p=o||p,g=s||g,a=a.then(x)},t.setView=function(t){d=angular.copy(t)};var s,a,e,l,c,u,h,d,f,p,n,i,g,r,o=!0,m={},v={},y={};function b(t){return t}function w(t){return s=t,e=!0,r.resolve(),t}function x(){angular.isDefined(l)?(l.setChartType(u),l.setDataTable(h),l.setView(d),l.setOptions(f)):S(l=new s.visualization.ChartWrapper({chartType:u,dataTable:h,view:d,options:f,containerId:c[0]}),v),i||(i=new M(s)),i.applyFormats(l.getDataTable(),p,g).requiresHtml&&l.setOption("allowHtml",!0),o=!1}function k(t,e,n){for(var i=e?e.split("."):[];i.length&&t;){var r=i.shift();new RegExp("(.+)\\[([0-9]*)\\]").exec(r),n&&(void 0===t[r]&&(t[r]={}),0===i.length&&(t[r]=n)),t=t[r]}return t}function C(){n!==l.getChart()&&S(n=l.getChart(),y)}function _(e,n,i,r){var o=function(){var t={chartWrapper:l,chart:l.getChart(),args:arguments};T.invoke(i,r||this,t)};if(angular.isDefined(e)&&angular.isObject(e))return angular.isArray(e[n])||(e[n]=[]),e[n].push(o),function(){angular.isDefined(o.googleListenerHandle)&&s.visualization.events.removeListener(o.googleListenerHandle);var t=e[n].indexOf(o);e[n].splice(t,1),0===e[n].length&&(e[n]=void 0)}}function S(t,e){for(var n in e)if(e.hasOwnProperty(n)&&angular.isArray(e[n]))for(var i=0;i<e[n].length;i++)angular.isFunction(e[n][i])&&(e[n][i].googleListenerHandle=s.visualization.events.addListener(t,n,e[n][i]))}function $(t,e,n){return _(v,t,e,n)}e=!1,r=D.defer(),a=E.then(w).catch(b),$("ready",C,t)}}angular.module("googlechart").factory("GoogleChartService",t),t.$inject=["googleChartApiPromise","$injector","$q","FormatManager"]}(),angular.module("googlechart").provider("googleJsapiUrl",function(){var e="https:",n="//www.google.com/jsapi";this.setProtocol=function(t){e=t},this.setUrl=function(t){n=t},this.$get=function(){return(e||"")+n}}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e,n,i,r,o,s,a,l,v,c,u,h,d,f,p,g,m,y,b,w,P,x,k,C,D,_,S,M,$,O,E,T,A,N,I,L,H,R,F,z,j,B,W,V,q,Y,U,G,X,K,Z,Q,J,tt,et,nt,it,rt,ot,st,at,lt,ct,ut,ht,dt,ft,pt,gt,mt,vt,yt,bt,wt,xt,kt,Ct,_t,St,$t,Et,Tt,Dt,Mt,At,Pt,Ot,Nt,It,Lt,Ht,Rt,Ft,zt,jt,Bt,Wt,Vt,qt,Yt,Ut,Gt,Xt,Kt,Zt,Qt,Jt,te,ee,ne,ie,re,oe,se,ae,le,ce,ue,he,de,fe,pe,ge,me,ve,ye,be,we,xe,ke,Ce,_e,Se,$e,Ee,Te,De,Me,Ae,Pe,Oe,Ne,Ie,Le,He,Re,Fe,ze,je,Be,We,Ve,qe,Ye,Ue,Ge,Xe,Ke,Ze,Qe,Je,tn,en,nn,rn,on,sn,an,ln,cn,un,hn,dn,fn,pn,gn,mn,vn,yn,bn,wn,xn,kn,Cn,_n,Sn,$n,En,Tn,Dn,Mn,An,Pn,On,Nn,In,Ln,Hn,Rn,Fn,zn,jn,Bn,Wn,Vn,qn,Yn,Un,Gn,Xn,Kn,Zn,Qn,Jn,ti,ei,ni,ii,ri,oi,si,ai,li,ci,ui,hi,di,fi,pi,gi,mi,vi,yi,bi,wi,xi,ki,Ci,_i,Si,$i,Ei,Ti,Di,Mi,Ai,Pi,Oi,Ni,Ii,Li,Hi,Ri,Fi,zi,ji,Bi,Wi,Vi,qi,Yi,Ui,Gi,Xi,Ki,Zi,Qi,Ji,tr,er,nr,ir,rr,or,sr,ar,lr,cr,ur,hr,dr,fr,pr,gr,mr,vr,yr,br,wr,xr,kr,Cr,_r,Sr,$r,Er,Tr,Dr,Mr,Ar,Pr,Or,Nr,Ir,Lr,Hr,Rr,Fr,zr,jr,Br,Wr,Vr,qr,Yr,Ur,Gr,Xr,Kr,Zr,Qr,Jr,to,eo,no,io,ro,oo,so,ao,lo,co,uo,ho,fo,po,go,mo,vo,yo,bo,wo,xo,ko,Co,_o,So,$o,Eo,To,Do,Mo,Ao,Po,Oo,No,Io,Lo,Ho,Ro,Fo,zo,jo,Bo,Wo,Vo,qo,Yo,Uo,Go,Xo,Ko,Zo,Qo,Jo,ts;return e=window,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!window.opera,s=!r,a=/Firefox/.test(i),l=a&&parseInt(i.split("Firefox/")[1],10)<4,t=e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.2",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:/AppleWebKit/.test(i),isFirefox:a,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",idCounter:0,chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,vml:s,win:e,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}},c=[],u=(v=t).charts,h=v.doc,d=v.win,v.error=function(t,e){if(t="Highcharts error #"+t+": www.highcharts.com/errors/"+t,e)throw Error(t);d.console&&console.log(t)},v.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},v.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&r<1)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?e[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(t,e,n){var i,r=this,o=function(t){return!o.stopped&&r.step(t)};this.startTime=+new Date,this.start=t,this.end=e,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===c.push(o)&&(o.timerId=setInterval(function(){for(i=0;i<c.length;i++)c[i]()||c.splice(i--,1);c.length||clearInterval(o.timerId)},13))},step:function(t){var e,n=+new Date,i=this.options;e=this.elem;var r,o=i.complete,s=i.duration,a=i.curAnim;if(e.attr&&!e.element)e=!1;else if(t||n>=s+this.startTime){for(r in this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0,a)!0!==a[r]&&(t=!1);t&&o&&o.call(e),e=!1}else this.pos=i.easing((n-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,n){function i(t){for(c=t.length;c--;)"M"!==t[c]&&"L"!==t[c]||t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function r(t,e){for(;t.length<a;){t[0]=e[a-t.length];var n=t.slice(0,f);[].splice.apply(t,[0,0].concat(n)),g&&(n=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(n)),c--)}t[0]="M"}function o(t,e){for(var n=(a-t.length)/f;0<n&&n--;)(l=t.slice().splice(t.length/m-f,f*m))[0]=e[a-f-n*f],d&&(l[f-6]=l[f-2],l[f-5]=l[f-1]),[].splice.apply(t,[t.length/m,0].concat(l)),g&&n--}e=e||"";var s,a,l,c,u=t.startX,h=t.endX,d=-1<e.indexOf("C"),f=d?7:3;e=e.split(" "),n=n.slice();var p,g=t.isArea,m=g?2:1;if(d&&(i(e),i(n)),u&&h){for(c=0;c<u.length;c++){if(u[c]===h[0]){s=c;break}if(u[0]===h[h.length-u.length+c]){s=c,p=!0;break}}void 0===s&&(e=[])}return e.length&&v.isNumber(s)&&(a=n.length+s*m*f,p?(r(e,n),o(n,e)):(r(n,e),o(e,n))),[e,n]}},v.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},v.merge=function(){var t,e,n=arguments,i={},r=function(t,e){var n,i;for(i in"object"!=typeof t&&(t={}),e)e.hasOwnProperty(i)&&(n=e[i],v.isObject(n,!0)&&"renderTo"!==i&&"number"!=typeof n.nodeType?t[i]=r(t[i]||{},n):t[i]=e[i]);return t};for(!0===n[0]&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;t<e;t++)i=r(i,n[t]);return i},v.pInt=function(t,e){return parseInt(t,e||10)},v.isString=function(t){return"string"==typeof t},v.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},v.isObject=function(t,e){return t&&"object"==typeof t&&(!e||!v.isArray(t))},v.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},v.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},v.defined=function(t){return null!=t},v.attr=function(t,e,n){var i,r;if(v.isString(e))v.defined(n)?t.setAttribute(e,n):t&&t.getAttribute&&(r=t.getAttribute(e));else if(v.defined(e)&&v.isObject(e))for(i in e)t.setAttribute(i,e[i]);return r},v.splat=function(t){return v.isArray(t)?t:[t]},v.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},v.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(null!=(e=n[t]))return e},v.css=function(t,e){v.isMS&&!v.svg&&e&&void 0!==e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),v.extend(t.style,e)},v.createElement=function(t,e,n,i,r){t=h.createElement(t);var o=v.css;return e&&v.extend(t,e),r&&o(t,{padding:0,border:"none",margin:0}),n&&o(t,n),i&&i.appendChild(t),t},v.extendClass=function(t,e){var n=function(){};return n.prototype=new t,v.extend(n.prototype,e),n},v.pad=function(t,e,n){return Array((e||2)+1-String(t).length).join(n||0)+t},v.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},v.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}},v.getTZOffset=function(t){var e=v.Date;return 6e4*(e.hcGetTimezoneOffset&&e.hcGetTimezoneOffset(t)||e.hcTimezoneOffset||0)},v.dateFormat=function(t,e,n){if(!v.defined(e)||isNaN(e))return v.defaultOptions.lang.invalidDate||"";t=v.pick(t,"%Y-%m-%d %H:%M:%S");var i,r=new(p=v.Date)(e-v.getTZOffset(e)),o=r[p.hcGetHours](),s=r[p.hcGetDay](),a=r[p.hcGetDate](),l=r[p.hcGetMonth](),c=r[p.hcGetFullYear](),u=v.defaultOptions.lang,h=u.weekdays,d=u.shortWeekdays,f=v.pad,p=v.extend({a:d?d[s]:h[s].substr(0,3),A:h[s],d:f(a),e:f(a,2," "),w:s,b:u.shortMonths[l],B:u.months[l],m:f(l+1),y:c.toString().substr(2,2),Y:c,H:f(o),k:o,I:f(o%12||12),l:o%12||12,M:f(r[p.hcGetMinutes]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:f(r.getSeconds()),L:f(Math.round(e%1e3),3)},v.dateFormats);for(i in p)for(;-1!==t.indexOf("%"+i);)t=t.replace("%"+i,"function"==typeof p[i]?p[i](e):p[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},v.formatSingle=function(t,e){var n=/\.([0-9])/,i=v.defaultOptions.lang;return/f$/.test(t)?(n=(n=t.match(n))?n[1]:-1,null!==e&&(e=v.numberFormat(e,n,i.decimalPoint,-1<t.indexOf(",")?i.thousandsSep:""))):e=v.dateFormat(t,e),e},v.format=function(t,e){for(var n,i,r,o,s,a="{",l=!1,c=[];t&&-1!==(a=t.indexOf(a));){if(n=t.slice(0,a),l){for(o=(i=(n=n.split(":")).shift().split(".")).length,s=e,r=0;r<o;r++)s=s[i[r]];n.length&&(s=v.formatSingle(n.join(":"),s)),c.push(s)}else c.push(n);t=t.slice(a+1),a=(l=!l)?"}":"{"}return c.push(t),c.join("")},v.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},v.normalizeTickInterval=function(t,e,n,i,r){var o,s=t;for(o=t/(n=v.pick(n,1)),e||(e=[1,2,2.5,5,10],!1===i&&(1===n?e=[1,2,5,10]:n<=.1&&(e=[1/n]))),i=0;i<e.length&&(s=e[i],!(r&&t<=s*n||!r&&o<=(e[i]+(e[i+1]||e[i]))/2));i++);return s*n},v.stableSort=function(t,n){var i,e,r=t.length;for(e=0;e<r;e++)t[e].safeI=e;for(t.sort(function(t,e){return 0===(i=n(t,e))?t.safeI-e.safeI:i}),e=0;e<r;e++)delete t[e].safeI},v.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},v.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},v.destroyObjectProperties=function(t,e){for(var n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]},v.discardElement=function(t){var e=v.garbageBin;e||(e=v.createElement("div")),t&&e.appendChild(t),e.innerHTML=""},v.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},v.setAnimation=function(t,e){e.renderer.globalAnimation=v.pick(t,e.options.chart.animation,!0)},v.animObject=function(t){return v.isObject(t)?v.merge(t):{duration:t?500:0}},v.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},v.numberFormat=function(t,e,n,i){t=+t||0,e=+e;var r,o,s=v.defaultOptions.lang,a=(t.toString().split(".")[1]||"").length,l=Math.abs(t);return-1===e?e=Math.min(a,20):v.isNumber(e)||(e=2),o=3<(r=String(v.pInt(l.toFixed(e)))).length?r.length%3:0,n=v.pick(n,s.decimalPoint),i=v.pick(i,s.thousandsSep),t=(t<0?"-":"")+(o?r.substr(0,o)+i:""),t+=r.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i),e&&(t+=n+(i=Math.abs(l-r+Math.pow(10,-Math.max(e,a)-1))).toFixed(e).slice(2)),t},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},v.getStyle=function(t,e){return"width"===e?Math.min(t.offsetWidth,t.scrollWidth)-v.getStyle(t,"padding-left")-v.getStyle(t,"padding-right"):"height"===e?Math.min(t.offsetHeight,t.scrollHeight)-v.getStyle(t,"padding-top")-v.getStyle(t,"padding-bottom"):(t=d.getComputedStyle(t,void 0))&&v.pInt(t.getPropertyValue(e))},v.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},v.grep=function(t,e){return[].filter.call(t,e)},v.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},v.offset=function(t){var e=h.documentElement;return{top:(t=t.getBoundingClientRect()).top+(d.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(d.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},v.stop=function(t){for(var e=c.length;e--;)c[e].elem===t&&(c[e].stopped=!0)},v.each=function(t,e,n){return Array.prototype.forEach.call(t,e,n)},v.addEvent=function(e,t,n){function i(t){t.target=t.srcElement||d,n.call(e,t)}var r=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=i,e.attachEvent("on"+t,i)),r[t]||(r[t]=[]),r[t].push(n)},v.removeEvent=function(n,i,t){function r(t,e){n.removeEventListener?n.removeEventListener(t,e,!1):n.attachEvent&&(e=n.hcEventsIE[e.toString()],n.detachEvent("on"+t,e))}function e(){var t,e;if(n.nodeName)for(e in i?(t={})[i]=!0:t=a,t)if(a[e])for(t=a[e].length;t--;)r(e,a[e][t])}var o,s,a=n.hcEvents;a&&(i?(o=a[i]||[],t?(-1<(s=v.inArray(t,o))&&(o.splice(s,1),a[i]=o),r(i,t)):(e(),a[i]=[])):(e(),n.hcEvents={}))},v.fireEvent=function(t,e,n,i){var r,o,s;if(r=t.hcEvents,n=n||{},h.createEvent&&(t.dispatchEvent||t.fireEvent))(r=h.createEvent("Events")).initEvent(e,!0,!0),v.extend(r,n),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r);else if(r)for(o=(r=r[e]||[]).length,n.target||v.extend(n,{preventDefault:function(){n.defaultPrevented=!0},target:t,type:e}),e=0;e<o;e++)(s=r[e])&&!1===s.call(t,n)&&n.preventDefault();i&&!n.defaultPrevented&&i(n)},v.animate=function(t,e,n){var i,r,o,s,a="";for(s in v.isObject(n)||(n={duration:(i=arguments)[2],easing:i[3],complete:i[4]}),v.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=v.merge(e),e)o=new v.Fx(t,n,s),r=null,"d"===s?(o.paths=o.initPath(t,t.d,e.d),o.toD=e.d,i=0,r=1):t.attr?i=t.attr(s):(i=parseFloat(v.getStyle(t,s))||0,"opacity"!==s&&(a="px")),r||(r=e[s]),r.match&&r.match("px")&&(r=r.replace(/px/g,"")),o.run(i,r,a)},v.seriesType=function(t,e,n,i,r){var o=v.getOptions(),s=v.seriesTypes;return o.plotOptions[t]=v.merge(o.plotOptions[e],n),s[t]=v.extendClass(s[e]||function(){},i),s[t].prototype.type=t,r&&(s[t].prototype.pointClass=v.extendClass(v.Point,r)),s[t]},d.jQuery&&(d.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(v[v.isString(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):u[v.attr(this[0],"data-highcharts-chart")]}),h&&!h.defaultView&&(v.getStyle=function(t,e){var n={width:"clientWidth",height:"clientHeight"}[e];return t.style[e]?v.pInt(t.style[e]):("opacity"===e&&(e="filter"),n?(t.style.zoom=1,Math.max(t[n]-2*v.getStyle(t,"padding"),0)):(t=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(t=t.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===t?1:v.pInt(t)))}),Array.prototype.forEach||(v.each=function(t,e,n){for(var i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return i}),Array.prototype.indexOf||(v.inArray=function(t,e){var n,i=0;if(e)for(n=e.length;i<n;i++)if(e[i]===t)return i;return-1}),Array.prototype.filter||(v.grep=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)e(t[i],i)&&n.push(t[i]);return n}),p=(f=t).each,g=f.isNumber,m=f.map,y=f.merge,b=f.pInt,f.Color=function(t){if(!(this instanceof f.Color))return new f.Color(t);this.init(t)},f.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[b(t[1]),b(t[2]),b(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[b(t[1],16),b(t[2],16),b(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[b(t[1]),b(t[2]),b(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var e,n,i,r;if((this.input=t=this.names[t]||t)&&t.stops)this.stops=m(t.stops,function(t){return new f.Color(t[1])});else for(i=this.parsers.length;i--&&!n;)(e=(r=this.parsers[i]).regex.exec(t))&&(n=r.parse(e));this.rgba=n||[]},get:function(n){var i,t=this.input,e=this.rgba;return this.stops?((i=y(t)).stops=[].concat(i.stops),p(this.stops,function(t,e){i.stops[e]=[i.stops[e][0],t.get(n)]})):i=e&&g(e[0])?"rgb"===n||!n&&1===e[3]?"rgb("+e[0]+","+e[1]+","+e[2]+")":"a"===n?e[3]:"rgba("+e.join(",")+")":t,i},brighten:function(e){var t,n=this.rgba;if(this.stops)p(this.stops,function(t){t.brighten(e)});else if(g(e)&&0!==e)for(t=0;t<3;t++)n[t]+=b(255*e),n[t]<0&&(n[t]=0),255<n[t]&&(n[t]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},f.color=function(t){return new f.Color(t)},k=(w=t).addEvent,C=w.animate,D=w.attr,_=w.charts,S=w.color,M=w.css,$=w.createElement,O=w.defined,E=w.deg2rad,T=w.destroyObjectProperties,A=w.doc,N=w.each,I=w.extend,L=w.erase,H=w.grep,R=w.hasTouch,F=w.isArray,z=w.isFirefox,j=w.isMS,B=w.isObject,W=w.isString,V=w.isWebKit,q=w.merge,Y=w.noop,U=w.pick,G=w.pInt,X=w.removeEvent,K=w.stop,Z=w.svg,Q=w.SVG_NS,J=w.symbolSizes,tt=w.win,(P=w.SVGElement=function(){return this}).prototype={opacity:1,SVG_NS:Q,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textOverflow textShadow".split(" "),init:function(t,e){this.element="span"===e?$(e):A.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,n){return e=U(e,this.renderer.globalAnimation,!0),K(this),e?(n&&(e.complete=n),C(this,t,e)):this.attr(t,null,n),this},colorGradient:function(t,e,n){var i,r,o,s,a,l,c,u,h,d,f,p,g=this.renderer,m=[];if(t.linearGradient?r="linearGradient":t.radialGradient&&(r="radialGradient"),r){for(f in o=t[r],a=g.gradients,c=t.stops,d=n.radialReference,F(o)&&(t[r]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&d&&!O(o.gradientUnits)&&(o=q(s=o,g.getRadialAttr(d,s),{gradientUnits:"userSpaceOnUse"})),o)"id"!==f&&m.push(f,o[f]);for(f in c)m.push(c[f]);a[m=m.join(",")]?d=a[m].attr("id"):(o.id=d="highcharts-"+w.idCounter++,a[m]=l=g.createElement(r).attr(o).add(g.defs),l.radAttr=s,l.stops=[],N(c,function(t){0===t[1].indexOf("rgba")?(i=w.color(t[1]),u=i.get("rgb"),h=i.get("a")):(u=t[1],h=1),t=g.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":h}).add(l),l.stops.push(t)})),p="url("+g.url+"#"+d+")",n.setAttribute(e,p),n.gradient=m,t.toString=function(){return p}}},applyTextShadow:function(t){var e,o=this.element,n=-1!==t.indexOf("contrast"),i={},r=this.renderer.forExport,s=this.renderer.forExport||void 0!==o.style.textShadow&&!j;n&&(i.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(o.style.fill))),(V||r)&&(i.textRendering="geometricPrecision"),s?this.css(i):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(o.getElementsByTagName("tspan")),N(t.split(/\s?,\s?/g),function(t){var n,i,r=o.firstChild;t=t.split(" "),n=t[t.length-1],(i=t[t.length-2])&&N(e,function(t,e){0===e&&(t.setAttribute("x",o.getAttribute("x")),e=o.getAttribute("y"),t.setAttribute("y",e||0),null===e&&o.setAttribute("y",0)),t=t.cloneNode(1),D(t,{class:"highcharts-text-shadow",fill:n,stroke:n,"stroke-opacity":1/Math.max(G(i),3),"stroke-width":i,"stroke-linejoin":"round"}),o.insertBefore(t,r)})}))},attr:function(t,e,n){var i,r,o,s=this.element,a=this;if("string"==typeof t&&void 0!==e&&(i=t,(t={})[i]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(i in t)e=t[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(t),r=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||((o=this[i+"Setter"]||this._defaultSetter).call(this,e,i,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),a},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==D(this.element,"class").indexOf(t)},removeClass:function(t){return D(this.element,"class",(D(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(e){var n=this;N("x y r start end width height innerR anchorX anchorY".split(" "),function(t){n[t]=U(e[t],n[t])}),n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n,i,r={};for(n in e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),O(t.strokeWidth)&&(t.strokeWidth=e),t)this[n]!==t[n]&&(this[n]=r[n]=t[n]);return r},css:function(t){var e,n,i=this.styles,r={},o=this.element,s="";if(e=!i,t&&t.color&&(t.fill=t.color),i)for(n in t)t[n]!==i[n]&&(r[n]=t[n],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===o.nodeName.toLowerCase()&&G(t.width)||this.textWidth,i&&(t=I(i,r)),this.styles=t,e&&!Z&&this.renderer.forExport&&delete t.width,j&&!Z)M(this.element,t);else{for(n in i=function(t,e){return"-"+e.toLowerCase()},t)s+=n.replace(/([A-Z])/g,i)+":"+t[n]+";";D(o,"style",s)}this.added&&e&&this.renderer.buildText(this)}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return R&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===tt.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(O(n)||O(i))&&t.push("scale("+U(n,1)+" "+U(i,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a,l,c={};return o=(r=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||W(n))&&(this.alignTo=i=n||"renderer",L(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=U(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?a=1:"center"===i&&(a=2),a&&(o+=(n.width-(t.width||0))/a),c[e?"translateX":"x"]=Math.round(o),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(s+=(n.height-(t.height||0))/l),c[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var n,i,r,o,s,a,l=this.renderer,c=this.element,u=this.styles,h=this.textStr,d=c.style,f=l.cache,p=l.cacheKeys;if(i=(e=U(e,this.rotation))*E,r=u&&u.fontSize,void 0!==h&&(a=h.toString().replace(/[0-9]/g,"0")+["",e||0,r,c.style.width].join()),a&&!t&&(n=f[a]),!n){if(c.namespaceURI===this.SVG_NS||l.forExport){try{s=this.fakeTS&&function(e){N(c.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},z&&d.textShadow?(o=d.textShadow,d.textShadow=""):s&&s("none"),n=c.getBBox?I({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},o?d.textShadow=o:s&&s("")}catch(t){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(l.isSVG&&(t=n.width,l=n.height,j&&u&&"11px"===u.fontSize&&"16.9"===l.toPrecision(3)&&(n.height=l=14),e&&(n.width=Math.abs(l*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(l*Math.cos(i))+Math.abs(t*Math.sin(i)))),a&&0<n.height){for(;250<p.length;)delete f[p.shift()];f[a]||p.push(a),f[a]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this.element||{},i=this.renderer.isSVG&&"SPAN"===n.nodeName&&this.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,K(this),this.clipPath&&(this.clipPath=this.clipPath.destroy()),this.stops){for(e=0;e<this.stops.length;e++)this.stops[e]=this.stops[e].destroy();this.stops=null}for(this.safeRemoveChild(n),this.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)n=i.parentGroup,this.safeRemoveChild(i.div),delete i.div,i=n;for(t in this.alignTo&&L(this.renderer.alignedObjects,this),this)delete this[t];return null},shadow:function(t,e,n){var i,r,o,s,a,l,c=[],u=this.element;if(t){if(!this.shadows){for(s=U(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+U(t.offsetX,1)+", "+U(t.offsetY,1)+")",i=1;i<=s;i++)r=u.cloneNode(0),o=2*s+1-2*i,D(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:"none"}),n&&(D(r,"height",Math.max(D(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):u.parentNode.insertBefore(r,u),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){N(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=U(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=G(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=A.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(A.createTextNode(String(U(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):n.setAttribute(e,t)},zIndexSetter:function(t,e){var n,i,r,o=this.renderer,s=this.parentGroup,a=(s||o).element||o.box,l=this.element;if(n=this.added,O(t)&&(t=+(l.zIndex=t),this[e]===t&&(n=!1),this[e]=t),n){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,r=0;r<e.length&&!i;r++)n=(s=e[r]).zIndex,s!==l&&(G(n)>t||!O(t)&&O(n)||t<0&&!O(n)&&a!==o.box)&&(a.insertBefore(l,s),i=!0);i||a.appendChild(l)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},P.prototype.yGetter=P.prototype.xGetter,P.prototype.translateXSetter=P.prototype.translateYSetter=P.prototype.rotationSetter=P.prototype.verticalAlignSetter=P.prototype.scaleXSetter=P.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},P.prototype["stroke-widthSetter"]=P.prototype.strokeSetter=function(t,e,n){this[e]=t,this.stroke&&this["stroke-width"]?(P.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},(x=w.SVGRenderer=function(){this.init.apply(this,arguments)}).prototype={Element:P,SVG_NS:Q,init:function(t,e,n,i,r,o){var s,a;s=(i=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(i))).element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&D(s,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=s,this.boxWrapper=i,this.alignedObjects=[],this.url=(z||V)&&A.getElementsByTagName("base").length?tt.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(A.createTextNode("Created with Highcharts 5.0.2")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),z&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){M(t,{left:0,top:0}),a=t.getBoundingClientRect(),M(t,{left:Math.ceil(a.left)-a.left+"px",top:Math.ceil(a.top)-a.top+"px"})},e(),k(tt,"resize",e))},getStyle:function(t){return this.style=I({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),T(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&X(tt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:Y,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(m){for(var v,y,b,w,x=m.element,k=this,C=k.forExport,t=U(m.textStr,"").toString(),e=-1!==t.indexOf("<"),n=x.childNodes,_=D(x,"x"),S=m.styles,$=m.textWidth,i=S&&S.lineHeight,r=S&&S.textShadow,E=S&&"ellipsis"===S.textOverflow,o=n.length,s=$&&!m.added&&this.box,T=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:S&&S.fontSize||k.style.fontSize||12,i?G(i):k.fontMetrics(e,t).h};o--;)x.removeChild(n[o]);e||r||E||$||-1!==t.indexOf(" ")?(v=/<.*class="([^"]+)".*>/,y=/<.*style="([^"]+)".*>/,b=/<.*href="(http[^"]+)".*>/,s&&s.appendChild(x),t=e?t.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[t],t=H(t,function(t){return""!==t}),N(t,function(t,f){var p,g=0;t=t.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),p=t.split("|||"),N(p,function(t){if(""!==t||1===p.length){var e,n,i={},r=A.createElementNS(k.SVG_NS,"tspan");if(v.test(t)&&(e=t.match(v)[1],D(r,"class",e)),y.test(t)&&(n=t.match(y)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),D(r,"style",n)),b.test(t)&&!C&&(D(r,"onclick",'location.href="'+t.match(b)[1]+'"'),M(r,{cursor:"pointer"}))," "!==(t=(t.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){if(r.appendChild(A.createTextNode(t)),g?i.dx=0:f&&null!==_&&(i.x=_),D(r,i),x.appendChild(r),!g&&f&&(!Z&&C&&M(r,{display:"block"}),D(r,"dy",T(r))),$){i=t.replace(/([^\^])-/g,"$1- ").split(" "),e="nowrap"===S.whiteSpace;for(var o,s,a=1<p.length||f||1<i.length&&!e,l=[],c=T(r),u=m.rotation,h=t,d=h.length;(a||E)&&(i.length||l.length);)m.rotation=0,s=(o=m.getBBox(!0)).width,!Z&&k.forExport&&(s=k.measureSpanWidth(r.firstChild.data,m.styles)),o=$<s,void 0===w&&(w=o),E&&w?(d/=2,""===h||!o&&d<.5?i=[]:(i=[(h=t.substring(0,h.length+(o?-1:1)*Math.ceil(d)))+(3<$?"":"")],r.removeChild(r.firstChild))):o&&1!==i.length?(r.removeChild(r.firstChild),l.unshift(i.pop())):(i=l,l=[],i.length&&!e&&(r=A.createElementNS(Q,"tspan"),D(r,{dy:c,x:_}),n&&D(r,"style",n),x.appendChild(r)),$<s&&($=s)),i.length&&r.appendChild(A.createTextNode(i.join(" ").replace(/- /g,"-")));m.rotation=u}g++}}})}),w&&m.attr("title",m.textStr),s&&s.removeChild(x),r&&m.applyTextShadow&&m.applyTextShadow(r)):x.appendChild(A.createTextNode(t.replace(/&lt;/g,"<").replace(/&gt;/g,">")))},getContrast:function(t){return 510<(t=S(t).rgba)[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,i,r,o,s,a,l){var c,u,h,d,f=this.label(t,e,n,l,null,null,null,null,"button"),p=0;return f.attr(q({padding:8,r:2},r)),r=q({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},r),c=r.style,delete r.style,o=q(r,{fill:"#e6e6e6"},o),u=o.style,delete o.style,s=q(r,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),h=s.style,delete s.style,a=q(r,{style:{color:"#cccccc"}},a),d=a.style,delete a.style,k(f.element,j?"mouseover":"mouseenter",function(){3!==p&&f.setState(1)}),k(f.element,j?"mouseout":"mouseleave",function(){3!==p&&f.setState(p)}),f.setState=function(t){1!==t&&(f.state=p=t),f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),f.attr([r,o,s,a][t||0]).css([c,u,h,d][t||0])},f.attr(r).css(I({cursor:"default"},c)),f.on("click",function(t){3!==p&&i.call(f,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return F(t)?e.d=t:B(t)&&I(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=B(t)?t:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return B(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,o=t.end,t=t.x),(t=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:o||0})).r=n,t},rect:function(t,e,n,i,r,o){r=B(t)?t.r:r;var s=this.createElement("rect");return t=B(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==o&&(t.strokeWidth=o,t=s.crisp(t)),t.fill="none",r&&(t.r=r),s.rSetter=function(t,e,n){D(n,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:U(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,i,r){var o={preserveAspectRatio:"none"};return 1<arguments.length&&I(o,{x:e,y:n,width:i,height:r}),(o=this.createElement("image").attr(o)).element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var s,a,l,c=this,u=this.symbols[t],h=O(e)&&u&&u(Math.round(e),Math.round(n),i,r,o),d=/^url\((.*?)\)$/;return u?((s=this.path(h)).attr("fill","none"),I(s,{symbolName:t,x:e,y:n,width:i,height:r}),o&&I(s,o)):d.test(t)&&(a=t.match(d)[1],(s=this.image(a)).imgwidth=U(J[a]&&J[a].width,o&&o.width),s.imgheight=U(J[a]&&J[a].height,o&&o.height),l=function(){s.attr({width:s.width,height:s.height})},N(["width","height"],function(t){s[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,O(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),O(e)&&s.attr({x:e,y:n}),s.isImg=!0,O(s.imgwidth)&&O(s.imgheight)?l():(s.attr({width:0,height:0}),$("img",{onload:function(){var t=_[c.chartIndex];0===this.width&&(M(this,{position:"absolute",top:"-999em"}),A.body.appendChild(this)),J[a]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&l(),this.parentNode&&this.parentNode.removeChild(this),c.imgCount--,!c.imgCount&&t&&t.onload&&t.onload()},src:a}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return["M",t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start;n=r.r||n||i;var s=r.end-.001;i=r.innerR;var a=r.open,l=Math.cos(o),c=Math.sin(o),u=Math.cos(s);return s=Math.sin(s),["M",t+n*l,e+n*c,"A",n,n,0,r=r.end-o<Math.PI?0:1,1,t+n*u,e+n*s,a?"M":"L",t+i*u,e+i*s,"A",i,i,0,r,0,t+i*l,e+i*c,a?"":"Z"]},callout:function(t,e,n,i,r){var o,s=Math.min(r&&r.r||0,n,i),a=s+6,l=r&&r.anchorX;return r=r&&r.anchorY,o=["M",t+s,e,"L",t+n-s,e,"C",t+n,e,t+n,e,t+n,e+s,"L",t+n,e+i-s,"C",t+n,e+i,t+n,e+i,t+n-s,e+i,"L",t+s,e+i,"C",t,e+i,t,e+i,t,e+i-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&n<l&&e+a<r&&r<e+i-a?o.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-s):l&&l<0&&e+a<r&&r<e+i-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):r&&i<r&&t+a<l&&l<t+n-a?o.splice(23,3,"L",l+6,e+i,l,e+i+6,l-6,e+i,t+s,e+i):r&&r<0&&t+a<l&&l<t+n-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-s,e),o}},clipRect:function(t,e,n,i){var r="highcharts-"+w.idCounter++,o=this.createElement("clipPath").attr({id:r}).add(this.defs);return(t=this.rect(t,e,n,i,0).add(o)).id=r,t.clipPath=o,t.count=0,t},text:function(t,e,n,i){var r=!Z&&this.forExport,o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)(i=o[r]).getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||this.style&&this.style.fontSize,{h:e=(t=/px/.test(t)?G(t):/em/.test(t)?12*parseFloat(t):12)<24?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*E),4)),{x:-t/3*Math.sin(e*E),y:i}},label:function(t,e,n,i,r,o,s,a,l){var c,u,h,d,f,p,g,m,v,y,b,w,x,k=this,C=k.g("button"!==l&&"label"),_=C.text=k.text("",0,0,s).attr({zIndex:1}),S=0,$=3,E=0,T={},D=/^url\((.*?)\)$/.test(i),M=D;l&&C.addClass("highcharts-"+l),M=D,y=function(){return(m||0)%2/2},b=function(){var t=_.element.style,e={};u=(void 0===h||void 0===d||g)&&O(_.textStr)&&_.getBBox(),C.width=(h||u.width||0)+2*$+E,C.height=(d||u.height||0)+2*$,v=$+k.fontMetrics(t&&t.fontSize,_).b,M&&(c||(C.box=c=k.symbols[i]||D?k.symbol(i):k.rect(),c.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),c.add(C),t=y(),e.x=t,e.y=(a?-v:0)+t),e.width=Math.round(C.width),e.height=Math.round(C.height),c.attr(I(e,T)),T={})},w=function(){var t,e=E+$;t=a?0:v,O(h)&&u&&("center"===g||"right"===g)&&(e+={center:.5,right:1}[g]*(h-u.width)),e===_.x&&t===_.y||(_.attr("x",e),void 0!==t&&_.attr("y",t)),_.x=e,_.y=t},x=function(t,e){c?c.attr(t,e):T[t]=e},C.onAdd=function(){_.add(C),C.attr({text:t||0===t?t:"",x:e,y:n}),c&&O(r)&&C.attr({anchorX:r,anchorY:o})},C.widthSetter=function(t){h=t},C.heightSetter=function(t){d=t},C["text-alignSetter"]=function(t){g=t},C.paddingSetter=function(t){O(t)&&t!==$&&($=C.padding=t,w())},C.paddingLeftSetter=function(t){O(t)&&t!==E&&(E=t,w())},C.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==S&&(S=t,u&&C.attr({x:f}))},C.textSetter=function(t){void 0!==t&&_.textSetter(t),b(),w()},C["stroke-widthSetter"]=function(t,e){t&&(M=!0),m=this["stroke-width"]=t,x(e,t)},C.strokeSetter=C.fillSetter=C.rSetter=function(t,e){"fill"===e&&t&&(M=!0),x(e,t)},C.anchorXSetter=function(t,e){r=t,x(e,Math.round(t)-y()-f)},C.anchorYSetter=function(t,e){x(e,(o=t)-p)},C.xSetter=function(t){C.x=t,S&&(t-=S*((h||u.width)+2*$)),f=Math.round(t),C.attr("translateX",f)},C.ySetter=function(t){p=C.y=Math.round(t),C.attr("translateY",p)};var A=C.css;return I(C,{css:function(e){if(e){var n={};e=q(e),N(C.textProps,function(t){void 0!==e[t]&&(n[t]=e[t],delete e[t])}),_.css(n)}return A.call(C,e)},getBBox:function(){return{width:u.width+2*$,height:u.height+2*$,x:u.x-$,y:u.y-$}},shadow:function(t){return t&&(b(),c&&c.shadow(t)),C},destroy:function(){X(C.element,"mouseenter"),X(C.element,"mouseleave"),_&&(_=_.destroy()),c&&(c=c.destroy()),P.prototype.destroy.call(C),C=k=b=w=x=null}})}},w.Renderer=x,nt=(et=t).attr,it=et.createElement,rt=et.css,ot=et.defined,st=et.each,at=et.extend,lt=et.isFirefox,ct=et.isMS,ut=et.isWebKit,ht=et.pInt,dt=et.SVGRenderer,ft=et.win,pt=et.wrap,at(et.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=at(this.styles,t),rt(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,n=this.element,i=this.translateX||0,r=this.translateY||0,t=this.x||0,o=this.y||0,s=this.textAlign||"left",a={left:0,center:.5,right:1}[s],l=this.styles;if(rt(n,{marginLeft:i,marginTop:r}),this.shadows&&st(this.shadows,function(t){rt(t,{marginLeft:i+1,marginTop:r+1})}),this.inverted&&st(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var c=this.rotation,u=ht(this.textWidth),h=l&&l.whiteSpace,d=[c,s,n.innerHTML,this.textWidth,this.textAlign].join();d!==this.cTT&&(l=e.fontMetrics(n.style.fontSize).b,ot(c)&&this.setSpanRotation(c,a,l),rt(n,{width:"",whiteSpace:h||"nowrap"}),n.offsetWidth>u&&/[ \-]/.test(n.textContent||n.innerText)&&rt(n,{width:u+"px",display:"block",whiteSpace:h||"normal"}),this.getSpanCorrection(n.offsetWidth,l,a,c,s)),rt(n,{left:t+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),ut&&(l=n.offsetHeight),this.cTT=d}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var i={},r=ct?"-ms-transform":ut?"-webkit-transform":lt?"MozTransform":ft.opera?"-o-transform":"";i[r]=i.transform="rotate("+t+"deg)",i[r+(lt?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",rt(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),at(dt.prototype,{html:function(t,e,n){var i=this.createElement("span"),o=i.element,s=i.renderer,r=s.isSVG,a=function(e,r){st(["opacity","visibility"],function(t){pt(e,t+"Setter",function(t,e,n,i){t.call(this,e,n,i),r[n]=e})})};return i.textSetter=function(t){t!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=t,i.htmlUpdateTransform()},r&&a(i,i.element.style),i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),i[e]=t,i.htmlUpdateTransform()},i.attr({text:t,x:Math.round(e),y:Math.round(n)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),o.style.whiteSpace="nowrap",i.css=i.htmlCss,r&&(i.add=function(t){var e,r=s.box.parentNode,n=[];if(this.parentGroup=t){if(!(e=t.div)){for(;t;)n.push(t),t=t.parentGroup;st(n.reverse(),function(n){var i,t=nt(n.element,"class");t&&(t={className:t}),e=n.div=n.div||it("div",t,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px",display:n.display,opacity:n.opacity,pointerEvents:n.styles&&n.styles.pointerEvents},e||r),i=e.style,at(n,{translateXSetter:function(t,e){i.left=t+"px",n[e]=t,n.doTransform=!0},translateYSetter:function(t,e){i.top=t+"px",n[e]=t,n.doTransform=!0}}),a(n,i)})}}else e=r;return e.appendChild(o),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}}),function(T){var t,e,D=T.createElement,c=T.css,o=T.defined,u=T.deg2rad,i=T.discardElement,s=T.doc,M=T.each,r=T.erase,a=T.extend;t=T.extendClass;var n=T.isArray,l=T.isNumber,h=T.isObject,d=T.merge;e=T.noop;var g=T.pick,m=T.pInt,f=T.SVGElement,p=T.SVGRenderer,v=T.win;T.svg||((e={docMode8:s&&8===s.documentMode,init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],i=["position: ","absolute",";"],r="div"===e;("shape"===e||r)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),e&&(n=r||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=D(n)),this.renderer=t},add:function(t){var e=this.renderer,n=this.element,i=e.box,r=t&&t.inverted;i=t?t.element||t:i;return t&&(this.parentGroup=t),r&&e.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:f.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*u),n=Math.sin(t*u);c(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,n,i,r){var o,s=i?Math.cos(i*u):1,a=i?Math.sin(i*u):0,l=g(this.elemHeight,this.element.offsetHeight);this.xCorr=s<0&&-t,this.yCorr=a<0&&-l,o=s*a<0,this.xCorr+=a*e*(o?1-n:n),this.yCorr-=s*e*(i?o?n:1-n:1),r&&"left"!==r&&(this.xCorr-=t*n*(s<0?-1:1),i&&(this.yCorr-=l*n*(a<0?-1:1)),c(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)l(t[e])?n[e]=Math.round(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n=this;return t?(e=t.members,r(e,n),e.push(n),n.destroyClip=function(){r(e,n)},t=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),t={clip:n.docMode8?"inherit":"rect(auto)"}),n.css(t)},css:f.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&i(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),f.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=v.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return 9!==(n=(t=t.split(/[ ,]/)).length)&&11!==n||(t[n-4]=t[n-2]=m(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var i,r,o,s,a,l,c,u=[],h=this.element,d=this.renderer,f=h.style,p=h.path;if(p&&"string"!=typeof p.value&&(p="x"),a=p,t){for(l=g(t.width,3),c=(t.opacity||.15)/l,i=1;i<=3;i++)s=2*l+1-2*i,n&&(a=this.cutOffPath(p.value,s+.5)),o=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',a,'" coordsize="10 10" style="',h.style.cssText,'" />'],r=D(d.prepVML(o),null,{left:m(f.left)+g(t.offsetX,1),top:m(f.top)+g(t.offsetY,1)}),n&&(r.cutOff=s+1),o=['<stroke color="',t.color||"#000000",'" opacity="',c*i,'"/>'],D(d.prepVML(o),null,null,r),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),u.push(r);this.shadows=u}return this},updateShadows:e,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,n){(n.getElementsByTagName("stroke")[0]||D(this.renderer.prepVML(["<stroke/>"]),null,null,n))[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(t,i[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},"fill-opacitySetter":function(t,e,n){D(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,n)},opacitySetter:e,rotationSetter:function(t,e,n){n=n.style,this[e]=n[e]=t,n.left=-Math.round(Math.sin(t*u)+1)+"px",n.top=Math.round(Math.cos(t*u))+"px"},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e,this))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,l(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(e,n,t){"inherit"===e&&(e="visible"),this.shadows&&M(this.shadows,function(t){t.style[n]=e}),"DIV"===t.nodeName&&(e="hidden"===e?"-999em":0,this.docMode8||(t.style[n]=e?"visible":"hidden"),n="top"),t.style[n]=e},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}})["stroke-opacitySetter"]=e["fill-opacitySetter"],T.VMLElement=e=t(f,e),e.prototype.ySetter=e.prototype.widthSetter=e.prototype.heightSetter=e.prototype.xSetter,e={Element:e,isIE8:-1<v.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,n){var i,r;if(this.alignedObjects=[],r=(i=this.createElement("div").css({position:"relative"})).element,t.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),!s.namespaces.hcv){s.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{s.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){s.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var r=this.createElement(),o=h(t);return a(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=(o=t.element).nodeName,n=t.inverted,i=this.top-("shape"===e?o.offsetTop:0),r=this.left,o=r+this.width,s=i+this.height;i={clip:"rect("+Math.round(n?r:i)+"px,"+Math.round(n?s:o)+"px,"+Math.round(n?o:s)+"px,"+Math.round(n?i:r)+"px)"};return!n&&t.docMode8&&"DIV"===e&&a(i,{width:o+"px",height:s+"px"}),i},updateClipping:function(){M(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,n,i){var r,o,s,a=this,l=/^rgba/,c="none";if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var u,h,d,f,p,g,m,v=t.linearGradient||t.radialGradient,y="";t=t.stops;var b,w=[],x=function(){o=['<fill colors="'+w.join(",")+'" opacity="',p,'" o:opacity2="',f,'" type="',s,'" ',y,'focus="100%" method="any" />'],D(a.prepVML(o),null,null,e)};if(d=t[0],b=t[t.length-1],0<d[0]&&t.unshift([0,d[1]]),b[0]<1&&t.push([1,b[1]]),M(t,function(t,e){l.test(t[1])?(r=T.color(t[1]),u=r.get("rgb"),h=r.get("a")):(u=t[1],h=1),w.push(100*t[0]+"% "+u),e?(p=h,g=u):(f=h,m=u)}),"fill"===n)if("gradient"===s)n=v.x1||v[0]||0,t=v.y1||v[1]||0,d=v.x2||v[2]||0,v=v.y2||v[3]||0,y='angle="'+(90-180*Math.atan((v-t)/(d-n))/Math.PI)+'"',x();else{var k,C=2*(c=v.r),_=2*c,S=v.cx,$=v.cy,E=e.radialReference;c=function(){E&&(k=i.getBBox(),S+=(E[0]-k.x)/k.width-.5,$+=(E[1]-k.y)/k.height-.5,C*=E[2]/k.width,_*=E[2]/k.height),y='src="'+T.getOptions().global.VMLRadialGradientURL+'" size="'+C+","+_+'" origin="0.5,0.5" position="'+S+","+$+'" color2="'+m+'" ',x()};i.added?c():i.onAdd=c,c=g}else c=u}else l.test(t)&&"IMG"!==e.tagName?(r=T.color(t),i[n+"-opacitySetter"](r.get("a"),n,e),c=r.get("rgb")):((c=e.getElementsByTagName(n)).length&&(c[0].opacity=1,c[0].type="solid"),c=t);return c},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?t=-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):t=t.replace("<","<hcv:"),t},text:p.prototype.html,path:function(t){var e={coordsize:"10 10"};return n(t)?e.d=t:h(t)&&a(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return h(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return 1<arguments.length&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):p.prototype.createElement.call(this,t)},invertChild:function(e,t){var n=this;t=t.style;var i="IMG"===e.tagName&&e.style;c(e,{flip:"x",left:m(t.width)-(i?m(i.top):1),top:m(t.height)-(i?m(i.left):1),rotation:-90}),M(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(t,e,n,i,r){var o=r.start,s=r.end,a=r.r||n||i;n=r.innerR,i=Math.cos(o);var l=Math.sin(o),c=Math.cos(s),u=Math.sin(s);return 0==s-o?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*i,e+a*l,t+a*c,e+a*u],r.open&&!n&&o.push("e","M",t,e),o.push("at",t-n,e-n,t+n,e+n,t+n*c,e+n*u,t+n*i,e+n*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&o(r.r)&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return p.prototype.symbols[o(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}},T.VMLRenderer=t=function(){this.init.apply(this,arguments)},t.prototype=d(p.prototype,e),T.Renderer=t),p.prototype.measureSpanWidth=function(t,e){var n=s.createElement("span");return t=s.createTextNode(t),n.appendChild(t),c(n,e),this.box.appendChild(n),e=n.offsetWidth,i(n),e}}(t),function(i){function e(){var a,t=i.defaultOptions.global,l=t.useUTC,e=l?"getUTC":"get",n=l?"setUTC":"set";i.Date=a=t.Date||o.Date,a.hcTimezoneOffset=l&&t.timezoneOffset,a.hcGetTimezoneOffset=l&&t.getTimezoneOffset,a.hcMakeTime=function(t,e,n,i,r,o){var s;return l?(s=a.UTC.apply(0,arguments),s+=c(s)):s=new a(t,e,u(n,1),u(i,0),u(r,0),u(o,0)).getTime(),s},r("Minutes Hours Day Date Month FullYear".split(" "),function(t){a["hcGet"+t]=e+t}),r("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){a["hcSet"+t]=n+t})}var t=i.color,r=i.each,c=i.getTZOffset,n=i.merge,u=i.pick,o=i.win;i.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.2/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#666666"},widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:i.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:i.isTouchDevice?25:10,backgroundColor:t("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},i.setOptions=function(t){return i.defaultOptions=n(!0,i.defaultOptions,t),e(),i.defaultOptions},i.getOptions=function(){return i.defaultOptions},i.defaultPlotOptions=i.defaultOptions.plotOptions,e()}(t),mt=(gt=t).arrayMax,vt=gt.arrayMin,yt=gt.defined,bt=gt.destroyObjectProperties,wt=gt.each,xt=gt.erase,kt=gt.merge,Ct=gt.pick,gt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},gt.PlotLineOrBand.prototype={render:function(){var t,n=this,e=n.axis,i=e.horiz,r=n.options,o=r.label,s=n.label,a=r.to,l=r.from,c=r.value,u=yt(l)&&yt(a),h=yt(c),d=n.svgElem,f=!d,p=[],g=r.color,m=Ct(r.zIndex,0),v=r.events,y=(p={class:"highcharts-plot-"+(u?"band ":"line ")+(r.className||"")},{}),b=e.chart.renderer,w=u?"bands":"lines",x=e.log2lin;if(e.isLog&&(l=x(l),a=x(a),c=x(c)),h?(p={stroke:g,"stroke-width":r.width},r.dashStyle&&(p.dashstyle=r.dashStyle)):u&&(g&&(p.fill=g),r.borderWidth&&(p.stroke=r.borderColor,p["stroke-width"]=r.borderWidth)),(g=e[w+="-"+(y.zIndex=m)])||(e[w]=g=b.g("plot-"+w).attr(y).add()),f&&(n.svgElem=d=b.path().attr(p).add(g)),h)p=e.getPlotLinePath(c,d.strokeWidth());else{if(!u)return;p=e.getPlotBandPath(l,a,r)}if(f&&p&&p.length){if(d.attr({d:p}),v)for(t in r=function(e){d.on(e,function(t){v[e].apply(n,[t])})},v)r(t)}else d&&(p?(d.show(),d.animate({d:p})):(d.hide(),s&&(n.label=s=s.destroy())));return o&&yt(o.text)&&p&&p.length&&0<e.width&&0<e.height&&!p.flat?(o=kt({align:i&&u&&"center",x:i?!u&&4:10,verticalAlign:!i&&u&&"middle",y:i?u?16:10:u?6:-4,rotation:i&&!u&&90},o),this.renderLabel(o,p,u,m)):s&&s.hide(),n},renderLabel:function(t,e,n,i){var r=this.label,o=this.axis.chart.renderer;r||((r={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(t.className||"")}).zIndex=i,this.label=r=o.text(t.text,0,0,t.useHTML).attr(r).add(),r.css(t.style)),i=[e[1],e[4],n?e[6]:e[1]],e=[e[2],e[5],n?e[7]:e[2]],n=vt(i),o=vt(e),r.align(t,!1,{x:n,y:o,width:mt(i)-n,height:mt(e)-o}),r.show()},destroy:function(){xt(this.axis.plotLinesAndBands,this),delete this.axis,bt(this)}},gt.AxisPlotLineOrBandExtension={getPlotBandPath:function(t,e){return e=this.getPlotLinePath(e,null,null,!0),(t=this.getPlotLinePath(t,null,null,!0))&&e?(t.flat=t.toString()===e.toString(),t.push(e[4],e[5],e[1],e[2])):t=null,t},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new gt.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();wt([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(t){for(r=t.length;r--;)t[r].id===e&&xt(t,t[r])})}},St=(_t=t).correctFloat,$t=_t.defined,Et=_t.destroyObjectProperties,Tt=_t.isNumber,Dt=_t.merge,Mt=_t.pick,At=_t.stop,Pt=_t.deg2rad,_t.Tick=function(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()},_t.Tick.prototype={addLabel:function(){var t,e=this.axis,n=e.options,i=e.chart,r=e.categories,o=e.names,s=this.pos,a=n.labels,l=s===(u=e.tickPositions)[0],c=s===u[u.length-1],u=(o=r?Mt(r[s],o[s],s):s,r=this.label,u.info);e.isDatetimeAxis&&u&&(t=n.dateTimeLabelFormats[u.higherRanks[s]||u.unitName]),this.isFirst=l,this.isLast=c,n=e.labelFormatter.call({axis:e,chart:i,isFirst:l,isLast:c,dateTimeLabelFormat:t,value:e.isLog?St(e.lin2log(o)):o}),$t(r)?r&&r.attr({text:n}):(this.labelLength=(this.label=r=$t(n)&&a.enabled?i.renderer.text(n,0,0,a.useHTML).css(Dt(a.style)).add(e.labelGroup):null)&&r.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=t.x,r=n.chart.chartWidth,o=n.chart.spacing,s=Mt(n.labelLeft,Math.min(n.pos,o[3])),a=(o=Mt(n.labelRight,Math.max(n.pos+n.len,r-o[1])),this.label),l=this.rotation,c={left:0,center:.5,right:1}[n.labelAlign],u=a.getBBox().width,h=n.getSlotWidth(),d=h,f=1,p={};l?l<0&&i-c*u<s?e=Math.round(i/Math.cos(l*Pt)-s):0<l&&o<i+c*u&&(e=Math.round((r-i)/Math.cos(l*Pt))):(r=i+(1-c)*u,i-c*u<s?d=t.x+d*(1-c)-s:o<r&&(d=o-t.x+d*c,f=-1),(d=Math.min(h,d))<h&&"center"===n.labelAlign&&(t.x+=f*(h-d-c*(h-Math.min(u,d)))),(d<u||n.autoRotation&&(a.styles||{}).width)&&(e=d)),e&&(p.width=e,(n.options.labels.style||{}).textOverflow||(p.textOverflow="ellipsis"),a.css(p))},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,o,s,a){var l=this.axis,c=l.transA,u=l.reversed,h=l.staggerLines,d=l.tickRotCorr||{x:0,y:0},f=r.y;return $t(f)||(f=0===l.side?n.rotation?-8:-n.getBBox().height:2===l.side?d.y+8:Math.cos(n.rotation*Pt)*(d.y-n.getBBox(!1,0).height/2)),t=t+r.x+d.x-(o&&i?o*c*(u?-1:1):0),e=e+f-(o&&!i?o*c*(u?1:-1):0),h&&(n=s/(a||1)%h,l.opposite&&(n=h-n-1),e+=l.labelOffset/h*n),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=i.horiz,a=this.type,l=this.label,c=this.pos,u=r.labels,h=this.gridLine,d=a?a+"Tick":"tick",f=i.tickSize(d),p=this.mark,g=!p,m=u.step,v={},y=!0,b=i.tickmarkOffset,w=(x=this.getPosition(s,c,b,e)).x,x=x.y,k=s&&w===i.pos+i.len||!s&&x===i.pos?-1:1,C=r[($=a?a+"Grid":"grid")+"LineWidth"],_=r[$+"LineColor"],S=r[$+"LineDashStyle"],$=Mt(r[d+"Width"],!a&&i.isXAxis?1:0);d=r[d+"Color"],n=Mt(n,1),this.isActive=!0,h||(v.stroke=_,v["stroke-width"]=C,S&&(v.dashstyle=S),a||(v.zIndex=1),e&&(v.opacity=0),this.gridLine=h=o.path().attr(v).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(i.gridGroup)),!e&&h&&(c=i.getPlotLinePath(c+b,h.strokeWidth()*k,e,!0))&&h[this.isNew?"attr":"animate"]({d:c,opacity:n}),f&&(i.opposite&&(f[0]=-f[0]),g&&(this.mark=p=o.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(i.axisGroup),p.attr({stroke:d,"stroke-width":$})),p[g?"attr":"animate"]({d:this.getMarkPath(w,x,f[0],p.strokeWidth()*k,s,o),opacity:n})),l&&Tt(w)&&(l.xy=x=this.getLabelPosition(w,x,l,s,u,b,t,m),this.isFirst&&!this.isLast&&!Mt(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Mt(r.showLastLabel,1)?y=!1:!s||i.isRadial||u.step||u.rotation||e||0===n||this.handleOverflow(x),m&&t%m&&(y=!1),y&&Tt(x.y)?(x.opacity=n,l[this.isNew?"attr":"animate"](x)):(At(l),l.attr("y",-9999)),this.isNew=!1)},destroy:function(){Et(this,this.axis)}},Nt=(Ot=t).addEvent,It=Ot.animObject,Lt=Ot.arrayMax,Ht=Ot.arrayMin,Rt=Ot.AxisPlotLineOrBandExtension,Ft=Ot.color,zt=Ot.correctFloat,jt=Ot.defaultOptions,Bt=Ot.defined,Wt=Ot.deg2rad,Vt=Ot.destroyObjectProperties,qt=Ot.each,Yt=Ot.error,Ut=Ot.extend,Gt=Ot.fireEvent,Xt=Ot.format,Kt=Ot.getMagnitude,Zt=Ot.grep,Qt=Ot.inArray,Jt=Ot.isArray,te=Ot.isNumber,ee=Ot.isString,ne=Ot.merge,ie=Ot.normalizeTickInterval,re=Ot.pick,oe=Ot.PlotLineOrBand,se=Ot.removeEvent,ae=Ot.splat,le=Ot.syncTimeout,ce=Ot.Tick,Ot.Axis=function(){this.init.apply(this,arguments)},Ot.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Ot.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var n=e.isX;this.chart=t,this.horiz=t.inverted?!n:n,this.isXAxis=n,this.coll=this.coll||(n?"xAxis":"yAxis"),this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var i,r=this.options,o=r.type;for(i in this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=r.reversed,this.visible=!1!==r.visible,this.zoomEnabled=!1!==r.zoomEnabled,this.hasNames="category"===o||!0===r.categories,this.categories=r.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===o,this.isDatetimeAxis="datetime"===o,this.isLinked=Bt(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=re(r.crosshair,ae(t.options.tooltip.crosshairs)[n?0:1],!1),e=this.options.events,-1===Qt(this,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&n&&void 0===this.reversed&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,e)Nt(this,i,e[i]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=ne(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ne(jt[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,n=this.value,i=e.categories,r=this.dateTimeLabelFormat,o=jt.lang.numericSymbols,s=o&&o.length,a=e.options.labels.format;if(e=e.isLog?n:e.tickInterval,a)t=Xt(a,this);else if(i)t=n;else if(r)t=Ot.dateFormat(r,n);else if(s&&1e3<=e)for(;s--&&void 0===t;)(i=Math.pow(1e3,s+1))<=e&&0==10*n%i&&null!==o[s]&&0!==n&&(t=Ot.numberFormat(n/i,-1)+o[s]);return void 0===t&&(t=1e4<=Math.abs(n)?Ot.numberFormat(n,-1):Ot.numberFormat(n,-1,void 0,"")),t},getSeriesExtremes:function(){var r=this,o=r.chart;r.hasVisibleSeries=!1,r.dataMin=r.dataMax=r.threshold=null,r.softThreshold=!r.isXAxis,r.buildStacks&&r.buildStacks(),qt(r.series,function(t){if(t.visible||!o.options.chart.ignoreHiddenSeries){var e,n=t.options,i=n.threshold;r.hasVisibleSeries=!0,r.isLog&&i<=0&&(i=null),r.isXAxis?(n=t.xData).length&&(t=Ht(n),te(t)||t instanceof Date||(n=Zt(n,function(t){return te(t)}),t=Ht(n)),r.dataMin=Math.min(re(r.dataMin,n[0]),t),r.dataMax=Math.max(re(r.dataMax,n[0]),Lt(n))):(t.getExtremes(),e=t.dataMax,t=t.dataMin,Bt(t)&&Bt(e)&&(r.dataMin=Math.min(re(r.dataMin,t),t),r.dataMax=Math.max(re(r.dataMax,e),e)),Bt(i)&&(r.threshold=i),(!n.softThreshold||r.isLog)&&(r.softThreshold=!1))}})},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,c=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var u=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,c||(c=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(l-=(a*=-1)*(s.sector||s.len)),e?(t=(t*a+l-u)/c+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),"between"===o&&(o=.5),t=a*(t-i)*c+l+a*u+(te(o)?c*o*s.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,c=this.left,u=this.top,h=n&&l.oldChartHeight||l.chartHeight,d=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,n){return(t<e||n<t)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=re(r,this.translate(t,null,null,n)),t=n=Math.round(r+o),o=s=Math.round(h-r-o),te(r)?this.horiz?(o=u,s=h-this.bottom,t=n=f(t,c,c+this.width)):(t=c,n=d-this.right,o=s=f(o,u,u+this.height)):a=!0,a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=zt(Math.floor(e/t)*t),o=zt(Math.ceil(n/t)*t),s=[];if(e===n&&te(e))return[e];for(e=r;e<=o&&(s.push(e),(e=zt(e+t))!==i);)i=e;return s},getMinorTickPositions:function(){var t,e=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[],o=this.pointRangePadding||0;t=this.min-o;var s=(o=this.max+o)-t;if(s&&s/i<this.len/3)if(this.isLog)for(o=n.length,t=1;t<o;t++)r=r.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),t,o,e.startOfWeek));else for(n=t+(n[0]-t)%i;n<=o;n+=i)r.push(n);return 0!==r.length&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var t,e,n,i,r,o,s=this.options,a=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(Bt(s.min)||Bt(s.max)?this.minRange=null:(qt(this.series,function(t){for(r=t.xData,n=t.xIncrement?1:r.length-1;0<n;n--)i=r[n]-r[n-1],(void 0===e||i<e)&&(e=i)}),this.minRange=Math.min(5*e,this.dataMax-this.dataMin))),l-a<this.minRange&&(t=[a-(t=((o=this.minRange)-l+a)/2),re(s.min,a-t)],c&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),l=[(a=Lt(t))+o,re(s.max,a+o)],c&&(l[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(l=Ht(l))-a<o&&(t[0]=l-o,t[1]=re(s.min,l-o),a=Lt(t))),this.min=a,this.max=l},getClosest:function(){var n;return this.categories?n=1:qt(this.series,function(t){var e=t.closestPointRange;!t.noSharedTooltip&&Bt(e)&&(n=Bt(n)?Math.min(n,e):e)}),n},nameToX:function(t){var e,n=Jt(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,Bt(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():Qt(t.name,i)),-1===r?n||(e=i.length):e=r,this.names[e]=t.name,e},updateNames:function(){var r=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,qt(this.series||[],function(i){i.points&&!i.isDirtyData||(i.processData(),i.generatePoints()),qt(i.points,function(t,e){var n;t.options&&void 0===t.options.x&&(n=r.nameToX(t))!==t.x&&(t.x=n,i.xData[e]=n)})}))},setAxisTranslation:function(t){var n,i=this,e=i.max-i.min,r=i.axisPointRange||0,o=0,s=0,a=i.linkedParent,l=!!i.categories,c=i.transA,u=i.isXAxis;(u||l||r)&&(a?(o=a.minPointOffset,s=a.pointRangePadding):(n=i.getClosest(),qt(i.series,function(t){var e=l?1:u?re(t.options.pointRange,n,0):i.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,e),i.single||(o=Math.max(o,ee(t)?0:e/2),s=Math.max(s,"on"===t?0:e))})),a=i.ordinalSlope&&n?i.ordinalSlope/n:1,i.minPointOffset=o*=a,i.pointRangePadding=s*=a,i.pointRange=Math.min(r,e),u&&(i.closestPointRange=n)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.len/(e+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,n,i,r,o=this,s=o.chart,a=o.options,l=o.isLog,c=o.log2lin,u=o.isDatetimeAxis,h=o.isXAxis,d=o.isLinked,f=a.maxPadding,p=a.minPadding,g=a.tickInterval,m=a.tickPixelInterval,v=o.categories,y=o.threshold,b=o.softThreshold;u||v||d||this.getTickAmount(),i=re(o.userMin,a.min),r=re(o.userMax,a.max),d?(o.linkedParent=s[o.coll][a.linkedTo],s=o.linkedParent.getExtremes(),o.min=re(s.min,s.dataMin),o.max=re(s.max,s.dataMax),a.type!==o.linkedParent.options.type&&Yt(11,1)):(!b&&Bt(y)&&(o.dataMin>=y?(e=y,p=0):o.dataMax<=y&&(n=y,f=0)),o.min=re(i,e,o.dataMin),o.max=re(r,n,o.dataMax)),l&&(!t&&Math.min(o.min,re(o.dataMin,o.min))<=0&&Yt(10,1),o.min=zt(c(o.min),15),o.max=zt(c(o.max),15)),o.range&&Bt(o.max)&&(o.userMin=o.min=i=Math.max(o.min,o.minFromRange()),o.userMax=r=o.max,o.range=null),Gt(o,"foundExtremes"),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),!(v||o.axisPointRange||o.usePercentage||d)&&Bt(o.min)&&Bt(o.max)&&(c=o.max-o.min)&&(!Bt(i)&&p&&(o.min-=c*p),!Bt(r)&&f&&(o.max+=c*f)),te(a.floor)?o.min=Math.max(o.min,a.floor):te(a.softMin)&&(o.min=Math.min(o.min,a.softMin)),te(a.ceiling)?o.max=Math.min(o.max,a.ceiling):te(a.softMax)&&(o.max=Math.max(o.max,a.softMax)),b&&Bt(o.dataMin)&&(y=y||0,!Bt(i)&&o.min<y&&o.dataMin>=y?o.min=y:!Bt(r)&&o.max>y&&o.dataMax<=y&&(o.max=y)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:d&&!g&&m===o.linkedParent.options.tickPixelInterval?g=o.linkedParent.tickInterval:re(g,this.tickAmount?(o.max-o.min)/Math.max(this.tickAmount-1,1):void 0,v?1:(o.max-o.min)*m/Math.max(o.len,m)),h&&!t&&qt(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&!g&&(o.tickInterval=Math.max(o.pointRange,o.tickInterval)),t=re(a.minTickInterval,o.isDatetimeAxis&&o.closestPointRange),!g&&o.tickInterval<t&&(o.tickInterval=t),u||l||g||(o.tickInterval=ie(o.tickInterval,null,Kt(o.tickInterval),re(a.allowDecimals,!(.5<o.tickInterval&&o.tickInterval<5&&1e3<o.max&&o.max<9999)),!!this.tickAmount)),this.tickAmount||(o.tickInterval=o.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=i&&i.slice(),!t&&((t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&Bt(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,i||r||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&Bt(i)&&t.push((r+i)/2)},alignToOthers:function(){var n,i={},t=this.options;return!1!==this.chart.options.chart.alignTicks&&!1!==t.alignTicks&&qt(this.chart[this.coll],function(t){var e=t.options;e=[t.horiz?e.left:e.top,e.width,e.height,e.pane].join(),t.series.length&&(i[e]?n=!0:i[e]=1)}),n},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!Bt(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length;if(r<n){for(;e.length<n;)e.push(zt(e[e.length-1]+t));this.transA*=(r-1)/(n-1),this.max=e[e.length-1]}else n<r&&(this.tickInterval*=2,this.setTickPositions());if(Bt(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||i<=2&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,qt(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=re(n,!0),qt(o.series,function(t){delete t.kdTree}),r=Ut(r,{min:t,max:e}),Gt(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,re(r.min,n));return r=Math.max(i,re(r.max,i)),t===this.min&&e===this.max||(this.allowZoomOutside||(Bt(n)&&t<=o&&(t=o),Bt(i)&&r<=e&&(e=r)),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=(s=this.options).offsetLeft||0,n=this.horiz,i=re(s.width,t.plotWidth-e+(s.offsetRight||0)),r=re(s.height,t.plotHeight),o=re(s.top,t.plotTop),s=re(s.left,t.plotLeft+e);(e=/%$/).test(r)&&(r=Math.round(parseFloat(r)/100*t.plotHeight)),e.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight+t.plotTop)),this.left=s,this.top=o,this.width=i,this.height=r,this.bottom=t.chartHeight-r-o,this.right=t.chartWidth-i-s,this.len=Math.max(n?i:r,0),this.pos=n?s:o},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?zt(e(this.min)):this.min,max:t?zt(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=this.lin2log,i=e?n(this.min):this.min;return e=e?n(this.max):this.max,null===t?t=i:t<i?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(re(t,0)-90*this.side+720)%360)&&t<165?"right":195<t&&t<345?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=re(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var n,i,t,e=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=e.rotation,c=this.labelMetrics(),u=Number.MAX_VALUE,h=function(t){return(t=1<(t/=a||1)?Math.ceil(t):1)*o};return r?(t=!e.staggerLines&&!e.step&&(Bt(l)?[l]:a<re(e.autoRotationLimit,80)&&e.autoRotation))&&qt(t,function(t){var e;(t===l||t&&-90<=t&&t<=90)&&(e=(i=h(Math.abs(c.h/Math.sin(Wt*t))))+Math.abs(t/360))<u&&(u=e,n=t,s=i)}):e.step||(s=h(c.h)),this.autoRotation=t,this.labelRotation=re(n,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*t.plotWidth/i||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var n,t,e,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=this.horiz,c=this.getSlotWidth(),u=Math.max(1,Math.round(c-2*(a.padding||5))),h={},d=this.labelMetrics(),f=a.style&&a.style.textOverflow,p=0;if(ee(a.rotation)||(h.rotation=a.rotation||0),qt(o,function(t){(t=s[t])&&t.labelLength>p&&(p=t.labelLength)}),this.maxLabelLength=p,this.autoRotation)u<p&&p>d.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(n={width:u+"px"},!f))for(n.textOverflow="clip",t=o.length;!l&&t--;)e=o[t],(u=s[e].label)&&(u.styles&&"ellipsis"===u.styles.textOverflow?u.css({textOverflow:"clip"}):s[e].labelLength>c&&u.css({width:c+"px"}),u.getBBox().height>this.len/o.length-(d.h-d.f)&&(u.specCss={textOverflow:"ellipsis"}));h.rotation&&(n={width:(p>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},f||(n.textOverflow="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),qt(o,function(t){var e=(t=s[t])&&t.label;e&&(e.attr(h),n&&e.css(ne(n,e.specCss)),delete e.specCss,t.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(d.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||Bt(this.min)&&Bt(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,n,i,r=this,o=(b=r.chart).renderer,s=r.options,a=r.tickPositions,l=r.ticks,c=r.horiz,u=r.side,h=b.inverted?[1,0,3,2][u]:u,d=0,f=0,p=s.title,g=s.labels,m=0,v=r.opposite,y=b.axisOffset,b=b.clipOffset,w=[-1,1,1,-1][u],x=s.className,k=r.axisParent,C=this.tickSize("tick");if(t=r.hasData(),r.showAxis=e=t||re(s.showEmpty,!0),r.staggerLines=r.horiz&&g.staggerLines,r.axisGroup||(r.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(x||"")).add(k),r.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(x||"")).add(k),r.labelGroup=o.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels "+(x||"")).add(k)),t||r.isLinked)qt(a,function(t){l[t]?l[t].addLabel():l[t]=new ce(r,t)}),r.renderUnsquish(),!1===g.reserveSpace||0!==u&&2!==u&&{1:"left",3:"right"}[u]!==r.labelAlign&&"center"!==r.labelAlign||qt(a,function(t){m=Math.max(l[t].getLabelSize(),m)}),r.staggerLines&&(m*=r.staggerLines,r.labelOffset=m*(r.opposite?-1:1));else for(i in l)l[i].destroy(),delete l[i];p&&p.text&&!1!==p.enabled&&(r.axisTitle||((i=p.textAlign)||(i=(c?{low:"left",middle:"center",high:"right"}:{low:v?"right":"left",middle:"center",high:v?"left":"right"})[p.align]),r.axisTitle=o.text(p.text,0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:i}).addClass("highcharts-axis-title").css(p.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(d=r.axisTitle.getBBox()[c?"height":"width"],n=p.offset,f=Bt(n)?0:re(p.margin,c?5:10)),r.axisTitle[e?"show":"hide"](!0)),r.renderLine(),r.offset=w*re(s.offset,y[u]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},o=0===u?-r.labelMetrics().h:2===u?r.tickRotCorr.y:0,f=Math.abs(m)+f,m&&(f=f-o+w*(c?re(g.y,r.tickRotCorr.y+8*w):g.x)),r.axisTitleMargin=re(n,f),y[u]=Math.max(y[u],r.axisTitleMargin+d+w*r.offset,f,t&&a.length&&C?C[0]:0),s=s.offset?0:2*Math.floor(r.axisLine.strokeWidth()/2),b[h]=Math.max(b[h],s)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;return i=e.chartHeight-this.bottom-(n?this.height:0)+i,n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,u=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f;return i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?u:0),{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+c-(s?this.height:0)+a:i+c}},render:function(){var n,i,r=this,o=r.chart,t=o.renderer,e=r.options,s=r.isLog,a=r.lin2log,l=r.isLinked,c=r.tickPositions,u=r.axisTitle,h=r.ticks,d=r.minorTicks,f=r.alternateBands,p=e.stackLabels,g=e.alternateGridColor,m=r.tickmarkOffset,v=r.axisLine,y=o.hasRendered&&te(r.oldMin),b=r.showAxis,w=It(t.globalAnimation);r.labelEdge.length=0,r.overlap=!1,qt([h,d,f],function(t){for(var e in t)t[e].isActive=!1}),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&qt(r.getMinorTickPositions(),function(t){d[t]||(d[t]=new ce(r,t,"minor")),y&&d[t].isNew&&d[t].render(null,!0),d[t].render(null,!1,1)}),c.length&&(qt(c,function(t,e){(!l||t>=r.min&&t<=r.max)&&(h[t]||(h[t]=new ce(r,t)),y&&h[t].isNew&&h[t].render(e,!0,.1),h[t].render(e))}),m&&(0===r.min||r.single)&&(h[-1]||(h[-1]=new ce(r,-1,null,!0)),h[-1].render(-1))),g&&qt(c,function(t,e){i=void 0!==c[e+1]?c[e+1]+m:r.max-m,0==e%2&&t<r.max&&i<=r.max+(o.polar?-m:m)&&(f[t]||(f[t]=new oe(r)),n=t+m,f[t].options={from:s?a(n):n,to:s?a(i):i,color:g},f[t].render(),f[t].isActive=!0)}),r._addedPlotLB||(qt((e.plotLines||[]).concat(e.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),qt([h,d,f],function(t){var e,n,i=[],r=w.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));le(function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])},t!==f&&o.hasRendered&&r?r:0)}),v&&(v[v.isPlaced?"animate":"attr"]({d:this.getLinePath(v.strokeWidth())}),v.isPlaced=!0,v[b?"show":"hide"](!0)),u&&b&&(u[u.isNew?"attr":"animate"](r.getTitlePosition()),u.isNew=!1),p&&p.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),qt(this.plotLinesAndBands,function(t){t.render()})),qt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;for(e in t||se(i),r)Vt(r[e]),r[e]=null;if(qt([i.ticks,i.minorTicks,i.alternateBands],function(t){Vt(t)}),o)for(t=o.length;t--;)o[t].destroy();for(n in qt("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),o="extKey hcEvents names series userMax userMin".split(" "),i)i.hasOwnProperty(n)&&-1===Qt(n,o)&&delete i[n]},drawCrosshair:function(t,e){var n,i,r=this.crosshair,o=re(r.snap,!0),s=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(Bt(e)||!o)?(o?Bt(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),Bt(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:re(e.stackY,e.y)),null,null,null,i)||null),Bt(n)?(e=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+r.className).attr({zIndex:re(r.zIndex,2)}).add(),s.attr({stroke:r.color||(e?Ft("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":re(r.width,1)}),r.dashStyle&&s.attr({dashstyle:r.dashStyle})),s.show().attr({d:n}),e&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Ut(Ot.Axis.prototype,Rt),he=(ue=t).Axis,de=ue.Date,fe=ue.dateFormat,pe=ue.defaultOptions,ge=ue.defined,me=ue.each,ve=ue.extend,ye=ue.getMagnitude,be=ue.getTZOffset,we=ue.normalizeTickInterval,xe=ue.pick,ke=ue.timeUnits,he.prototype.getTimeTicks=function(t,e,n,i){var r,o,s,a=[],l={},c=pe.global.useUTC,u=new de(e-be(e)),h=de.hcMakeTime,d=t.unitRange,f=t.count;if(ge(e)){for(u[de.hcSetMilliseconds](d>=ke.second?0:f*Math.floor(u.getMilliseconds()/f)),d>=ke.second&&u[de.hcSetSeconds](d>=ke.minute?0:f*Math.floor(u.getSeconds()/f)),d>=ke.minute&&u[de.hcSetMinutes](d>=ke.hour?0:f*Math.floor(u[de.hcGetMinutes]()/f)),d>=ke.hour&&(u[de.hcSetHours](d>=ke.day?0:f*Math.floor(u[de.hcGetHours]()/f)),o=u[de.hcGetHours]()),d>=ke.day&&u[de.hcSetDate](d>=ke.month?1:f*Math.floor(u[de.hcGetDate]()/f)),d>=ke.month&&(u[de.hcSetMonth](d>=ke.year?0:f*Math.floor(u[de.hcGetMonth]()/f)),r=u[de.hcGetFullYear]()),d>=ke.year&&u[de.hcSetFullYear](r-r%f),d===ke.week&&u[de.hcSetDate](u[de.hcGetDate]()-u[de.hcGetDay]()+xe(i,1)),i=1,(de.hcTimezoneOffset||de.hcGetTimezoneOffset)&&(s=(!c||!!de.hcGetTimezoneOffset)&&(n-e>4*ke.month||be(e)!==be(n)),u=u.getTime(),u=new de(u+be(u))),r=u[de.hcGetFullYear](),e=u.getTime(),c=u[de.hcGetMonth](),u=u[de.hcGetDate]();e<n;)a.push(e),e=d===ke.year?h(r+i*f,0):d===ke.month?h(r,c+i*f):!s||d!==ke.day&&d!==ke.week?s&&d===ke.hour?h(r,c,u,o+i*f):e+d*f:h(r,c,u+i*f*(d===ke.day?1:7)),i++;a.push(e),d<=ke.hour&&me(a,function(t){"000000000"===fe("%H%M%S%L",t)&&(l[t]="day")})}return a.info=ve(t,{higherRanks:l,totalRange:d*f}),a},he.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var i,r=ke[e[0]],o=e[1];for(i=0;i<n.length&&(e=n[i],r=ke[e[0]],o=e[1],!(n[i+1]&&t<=(r*o[o.length-1]+ke[n[i+1][0]])/2));i++);return r===ke.year&&t<5*r&&(o=[1,2,5]),{unitRange:r,count:t=we(t/r,o,"year"===e[0]?Math.max(ye(t/r),1):1),unitName:e[0]}},_e=(Ce=t).Axis,Se=Ce.getMagnitude,$e=Ce.map,Ee=Ce.normalizeTickInterval,Te=Ce.pick,_e.prototype.getLogTickPositions=function(t,e,n,i){var r=this.options,o=this.len,s=this.lin2log,a=this.log2lin,l=[];if(i||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),l=this.getLinearTickPositions(t,e,n);else if(.08<=t){var c,u,h,d,f;for(o=Math.floor(e),r=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<n+1&&!f;o++)for(u=r.length,c=0;c<u&&!f;c++)e<(h=a(s(o)*r[c]))&&(!i||d<=n)&&void 0!==d&&l.push(d),n<d&&(f=!0),d=h}else e=s(e),n=s(n),t=r[i?"minorTickInterval":"tickInterval"],t=Te("auto"===t?null:t,this._minorAutoInterval,r.tickPixelInterval/(i?5:1)*(n-e)/((i?o/this.tickPositions.length:o)||1)),t=Ee(t,null,Se(t)),l=$e(this.getLinearTickPositions(t,e,n),a),i||(this._minorAutoInterval=t/5);return i||(this.tickInterval=t),l},_e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},_e.prototype.lin2log=function(t){return Math.pow(10,t)},Me=(De=t).dateFormat,Ae=De.each,Pe=De.extend,Oe=De.format,Ne=De.isNumber,Ie=De.map,Le=De.merge,He=De.pick,Re=De.splat,Fe=De.stop,ze=De.syncTimeout,je=De.timeUnits,De.Tooltip=function(){this.init.apply(this,arguments)},De.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(n){Ae(this.chart.series,function(t){var e=t&&t.tt;e&&(!e.isActive||n?t.tt=e.destroy():e.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),this.init(this.chart,Le(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,i){var r=this,o=r.now,s=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(t-o.x)||1<Math.abs(e-o.y)),a=r.followPointer||1<r.len;Pe(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?void 0:s?(2*o.anchorX+n)/3:n,anchorY:a?void 0:s?(o.anchorY+i)/2:i}),r.getLabel().attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,n,i)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=He(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=ze(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,i,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,c=0,u=0;return n=(t=Re(t))[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=o.pointer.normalize(e)),n=[e.chartX-o.plotLeft,e.chartY-a]),n||(Ae(t,function(t){i=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!s&&r?r.left-l:0),u+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&i?i.top-a:0)}),c/=t.length,u/=t.length,n=[s?o.plotWidth-u:c,this.shared&&!s&&1<t.length&&e?e.chartY-a:s?o.plotHeight-c:u]),Ie(n,Math.round)},getPosition:function(t,e,n){var i,r=this.chart,c=this.distance,u={},h=n.h||0,o=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],s=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],d=!this.followPointer&&He(n.ttBelow,!r.inverted==!!n.negative),a=function(t){var e=o;o=s,s=e,i=t},l=function(){!1!==function(t,e,n,i,r,o){var s=n<i-c,a=i+c+n<e,l=i-c-n;if(i+=c,d&&a)u[t]=i;else if(!d&&s)u[t]=l;else if(s)u[t]=Math.min(o-n,l-h<0?l:l-h);else{if(!a)return!1;u[t]=Math.max(r,e<i+h+n?i:i+h)}}.apply(0,o)?!1!==function(t,e,n,i){var r;return i<c||e-c<i?r=!1:u[t]=i<n/2?1:e-n/2<i?e-n-2:i-n/2,r}.apply(0,s)||i||(a(!0),l()):i?u.x=u.y=0:(a(!0),l())};return(r.inverted||1<this.len)&&a(),l(),u},defaultFormatter:function(t){var e,n=this.points||Re(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(t,e){var n,i,r,o=this.chart,s=this.getLabel(),a=this.options,l={},c=[];r=a.formatter||this.defaultFormatter,l=o.hoverPoints;var u=this.shared;clearTimeout(this.hideTimer),this.followPointer=Re(t)[0].series.tooltipOptions.followPointer,e=(i=this.getAnchor(t,e))[0],n=i[1],!u||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(o.hoverPoints=t,l&&Ae(l,function(t){t.setState()}),Ae(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),(l={x:t[0].category,y:t[0].y}).points=c,this.len=c.length,t=t[0]),r=r.call(l,this),l=t.series,this.distance=He(l.tooltipOptions.distance,16),!1===r?this.hide():(this.isHidden&&(Fe(s),s.attr({opacity:1}).show()),this.split?this.renderSplit(r,o.hoverPoints):(s.attr({text:r.join?r.join(""):r}),s.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+He(t.colorIndex,l.colorIndex)),s.attr({stroke:a.borderColor||t.color||l.color||"#666666"}),this.updatePosition({plotX:e,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:i[2]||0})),this.isHidden=!1)},renderSplit:function(t,s){var a,l=this,c=[],u=this.chart,h=u.renderer,d=!0,f=this.options,p=this.getLabel();Ae(t.slice(0,t.length-1),function(t,e){var n=(e=s[e-1]||{isHeader:!0,plotX:s[0].plotX}).series||l,i=n.tt,r=e.series||{},o="highcharts-color-"+He(e.colorIndex,r.colorIndex,"none");i||(n.tt=i=h.label(null,null,null,e.isHeader&&"callout").addClass("highcharts-tooltip-box "+o).attr({padding:f.padding,r:f.borderRadius,fill:f.backgroundColor,stroke:e.color||r.color||"#333333","stroke-width":f.borderWidth}).add(p),e.series&&(i.connector=h.path().addClass("highcharts-tooltip-connector "+o).attr({"stroke-width":r.options.lineWidth||2,stroke:e.color||r.color||"#666666"}).add(i))),i.isActive=!0,i.attr({text:t}),r=(t=i.getBBox()).width+i.strokeWidth(),e.isHeader?(a=t.height,r=Math.max(0,Math.min(e.plotX+u.plotLeft-r/2,u.chartWidth-r))):r=e.plotX+u.plotLeft-He(f.distance,16)-r,r<0&&(d=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=u.plotTop,c.push({target:e.isHeader?u.plotHeight+a:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:r,tt:i})}),this.cleanSplit(),De.distribute(c,u.plotHeight+a),Ae(c,function(t){var e,n=t.point,i=t.tt;e={visibility:void 0===t.pos?"hidden":"inherit",x:d||n.isHeader?t.x:n.plotX+u.plotLeft+He(f.distance,16),y:t.pos+u.plotTop},n.isHeader&&(e.anchorX=n.plotX+u.plotLeft,e.anchorY=e.y-100),i.attr(e),n.isHeader||i.connector.attr({d:["M",n.plotX+u.plotLeft-e.x,n.plotY+n.series.yAxis.pos-e.y,"L",(d?-1:1)*He(f.distance,16)+n.plotX+u.plotLeft-e.x,t.pos+u.plotTop+i.getBBox().height/2-e.y]})})},updatePosition:function(t){var e=this.chart,n=this.getLabel();n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t),this.move(Math.round(n.x),Math.round(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,n){var i;e=e.dateTimeLabelFormats;var r,o,s=n&&n.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(s){for(r in o=Me("%m-%d %H:%M:%S.%L",t.x),je){if(s===je.week&&+Me("%w",t.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(je[r]>s){r=l;break}if(a[r]&&o.substr(a[r])!=="01-01 00:00:00.000".substr(a[r]))break;"week"!==r&&(l=r)}r&&(i=e[r])}else i=e.day;return i||e.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=(e=t.series).tooltipOptions,r=i.xDateFormat,o=e.xAxis,s=o&&"datetime"===o.options.type&&Ne(t.key);return n=i[n+"Format"],s&&!r&&(r=this.getXDateFormat(t,i,o)),s&&r&&(n=n.replace("{point.key}","{point.key:"+r+"}")),Oe(n,{point:t,series:e})},bodyFormatter:function(t){return Ie(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}},We=(Be=t).addEvent,Ve=Be.attr,qe=Be.charts,Ye=Be.color,Ue=Be.css,Ge=Be.defined,Xe=Be.doc,Ke=Be.each,Ze=Be.extend,Qe=Be.fireEvent,Je=Be.offset,tn=Be.pick,en=Be.removeEvent,nn=Be.splat,rn=Be.Tooltip,on=Be.win,Be.Pointer=function(t,e){this.init(t,e)},Be.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},rn&&e.tooltip.enabled&&(t.tooltip=new rn(t,e.tooltip),this.followTouchMove=tn(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(){var t=(n=this.chart).options.chart.zoomType,e=/x/.test(t),n=(t=/y/.test(t),n.inverted);this.zoomX=e,this.zoomY=t,this.zoomHor=e&&!n||t&&n,this.zoomVert=t&&!n||e&&n,this.hasZoom=e||t},normalize:function(t,e){var n,i;return(t=t||on.event).target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=Je(this.chart.container)),void 0===i.pageX?(n=Math.max(t.x,t.clientX-e.left),e=t.y):(n=i.pageX-e.left,e=i.pageY-e.top),Ze(t,{chartX:Math.round(n),chartY:Math.round(e)})},getCoordinates:function(e){var n={xAxis:[],yAxis:[]};return Ke(this.chart.axes,function(t){n[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(e[t.horiz?"chartX":"chartY"])})}),n},runPointActions:function(n){var t,e,i,r,o=this.chart,s=o.series,a=o.tooltip,l=!!a&&a.shared,c=!0,u=o.hoverPoint,h=o.hoverSeries,d=[];if(!l&&!h)for(t=0;t<s.length;t++)!s[t].directTouch&&s[t].options.stickyTracking||(s=[]);if(h&&(l?h.noSharedTooltip:h.directTouch)&&u?d=[u]:(l||!h||h.options.stickyTracking||(s=[h]),Ke(s,function(t){e=t.noSharedTooltip&&l,i=!l&&t.directTouch,t.visible&&!e&&!i&&tn(t.options.enableMouseTracking,!0)&&(r=t.searchPoint(n,!e&&1===t.kdDimensions))&&r.series&&d.push(r)}),d.sort(function(t,e){var n=t.distX-e.distX,i=t.dist-e.dist;return 0!==n&&l?n:0!==i?i:t.series.group.zIndex>e.series.group.zIndex?-1:1})),l)for(t=d.length;t--;)(d[t].x!==d[0].x||d[t].series.noSharedTooltip)&&d.splice(t,1);if(d[0]&&(d[0]!==this.prevKDPoint||a&&a.isHidden)){if(l&&!d[0].series.noSharedTooltip){for(t=0;t<d.length;t++)d[t].onMouseOver(n,d[t]!==(h&&h.directTouch&&u||d[0]));d.length&&a&&a.refresh(d.sort(function(t,e){return t.series.index-e.series.index}),n)}else a&&a.refresh(d[0],n),h&&h.directTouch||d[0].onMouseOver(n);this.prevKDPoint=d[0],c=!1}c&&(s=h&&h.tooltipOptions.followPointer,a&&s&&!a.isHidden&&(s=a.getAnchor([{}],n),a.updatePosition({plotX:s[0],plotY:s[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(t){qe[Be.hoverChartIndex]&&qe[Be.hoverChartIndex].pointer.onDocumentMouseMove(t)},We(Xe,"mousemove",this._onDocumentMouseMove)),Ke(l?d:[tn(u,d[0])],function(e){Ke(o.axes,function(t){(!e||e.series&&e.series[t.coll]===t)&&t.drawCrosshair(n,e)})})},reset:function(e,t){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,a=s&&s.shared?o:r;e&&a&&Ke(nn(a),function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?s&&a&&(s.refresh(a),r&&(r.setState(r.state,!0),Ke(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&Ke(o,function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(t),this._onDocumentMouseMove&&(en(Xe,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ke(n.axes,function(t){t.hideCrosshair()}),this.hoverX=this.prevKDPoint=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,n){var i,r=this.chart;Ke(r.series,function(t){i=e||t.getPlotBox(),t.xAxis&&t.xAxis.zoomEnabled&&t.group&&(t.group.attr(i),t.markerGroup&&(t.markerGroup.attr(i),t.markerGroup.clip(n?r.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(i))}),r.clipRect.attr(n||r.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,r=t.chartX,o=t.chartY,s=this.zoomHor,a=this.zoomVert,l=n.plotLeft,c=n.plotTop,u=n.plotWidth,h=n.plotHeight,d=this.selectionMarker,f=this.mouseDownX,p=this.mouseDownY,g=i.panKey&&t[i.panKey+"Key"];d&&d.touch||(r<l?r=l:l+u<r&&(r=l+u),o<c?o=c:c+h<o&&(o=c+h),this.hasDragged=Math.sqrt(Math.pow(f-r,2)+Math.pow(p-o,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-l,p-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!d&&(this.selectionMarker=d=n.renderer.rect(l,c,s?1:u,a?1:h,0).attr({fill:i.selectionMarkerFill||Ye("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),d&&s&&(r-=f,d.attr({width:Math.abs(r),x:(0<r?0:r)+f})),d&&a&&(r=o-p,d.attr({height:Math.abs(r),y:(0<r?0:r)+p})),e&&!d&&i.panning&&n.pan(t,i.panning)))},drop:function(r){var o=this,e=this.chart,s=this.hasPinched;if(this.selectionMarker){var a,l={originalEvent:r,xAxis:[],yAxis:[]},t=this.selectionMarker,c=t.attr?t.attr("x"):t.x,u=t.attr?t.attr("y"):t.y,h=t.attr?t.attr("width"):t.width,d=t.attr?t.attr("height"):t.height;(this.hasDragged||s)&&(Ke(e.axes,function(t){if(t.zoomEnabled&&Ge(t.min)&&(s||o[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var e=t.horiz,n="touchend"===r.type?t.minPixelPadding:0,i=t.toValue((e?c:u)+n);e=t.toValue((e?c+h:u+d)-n),l[t.coll].push({axis:t,min:Math.min(i,e),max:Math.max(i,e)}),a=!0}}),a&&Qe(e,"selection",l,function(t){e.zoom(Ze(t,s?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),s&&this.scaleGroups()}e&&(Ue(e.container,{cursor:e._cursor}),e.cancelClick=10<this.hasDragged,e.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){qe[Be.hoverChartIndex]&&qe[Be.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var e=qe[Be.hoverChartIndex];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;Ge(Be.hoverChartIndex)&&qe[Be.hoverChartIndex]&&qe[Be.hoverChartIndex].mouseIsDown||(Be.hoverChartIndex=e.index),(t=this.normalize(t)).returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=Ve(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(Qe(n.series,"click",Ze(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(Ze(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&Qe(e,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},We(t,"mouseleave",e.onContainerMouseLeave),1===Be.chartCount&&We(Xe,"mouseup",e.onDocumentMouseUp),Be.hasTouch&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Be.chartCount&&We(Xe,"touchend",e.onDocumentTouchEnd))},destroy:function(){var t;for(t in en(this.chart.container,"mouseleave",this.onContainerMouseLeave),Be.chartCount||(en(Xe,"mouseup",this.onDocumentMouseUp),en(Xe,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[t]=null}},an=(sn=t).charts,ln=sn.each,cn=sn.extend,un=sn.map,hn=sn.noop,dn=sn.pick,cn(sn.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,h=this.chart,d=t?"x":"y",f=t?"X":"Y",p="chart"+f,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=a||1,y=h.inverted,b=h.bounds[t?"h":"v"],w=1===e.length,x=e[0][p],k=n[0][p],C=!w&&e[1][p],_=!w&&n[1][p];(n=function(){!w&&20<Math.abs(x-C)&&(v=a||Math.abs(k-_)/Math.abs(x-C)),c=(m-k)/v+x,l=h["plot"+(t?"Width":"Height")]/v})(),(e=c)<b.min?(e=b.min,u=!0):e+l>b.max&&(e=b.max-l,u=!0),u?(k-=.8*(k-s[d][0]),w||(_-=.8*(_-s[d][1])),n()):s[d]=[k,_],y||(o[d]=c-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,i[y?t?"scaleY":"scaleX":"scale"+f]=v,i["translate"+f]=o*m+(k-o*x)},pinch:function(t){var e=this,s=e.chart,n=e.pinchDown,i=t.touches,r=i.length,o=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,c={},u=1===r&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),h={};1<r&&(e.initiated=!0),a&&e.initiated&&!u&&t.preventDefault(),un(i,function(t){return e.normalize(t)}),"touchstart"===t.type?(ln(i,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),o.x=[n[0].chartX,n[1]&&n[1].chartX],o.y=[n[0].chartY,n[1]&&n[1].chartY],ln(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(dn(t.options.min,t.dataMin)),r=t.toPixels(dn(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=cn({destroy:hn,touch:!0},s.plotBox)),e.pinchTranslate(n,i,c,l,h,o),e.hasPinched=a,e.scaleGroups(c,h),!a&&e.followTouchMove&&1===r?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var n,i=this.chart;sn.hoverChartIndex=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(n=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),dn(n,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.zoomOption(),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){an[sn.hoverChartIndex]&&an[sn.hoverChartIndex].pointer.drop(t)}}),function(r){var e=r.addEvent,o=r.charts,i=r.css,n=r.doc,t=r.extend,s=r.noop,a=r.Pointer,l=r.removeEvent,c=r.win,u=r.wrap;if(c.PointerEvent||c.MSPointerEvent){var h={},d=!!c.PointerEvent,f=function(t,e,n,i){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!o[r.hoverChartIndex]||(i(t),(i=o[r.hoverChartIndex].pointer)[e]({type:n,target:t.currentTarget,preventDefault:s,touches:function(){var t,e=[];for(t in e.item=function(t){return this[t]},h)h.hasOwnProperty(t)&&e.push({pageX:h[t].pageX,pageY:h[t].pageY,target:h[t].target});return e}()}))};t(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(n,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),u(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),gn=(fn=t).addEvent,mn=fn.css,vn=fn.discardElement,yn=fn.defined,bn=fn.each,wn=fn.extend,xn=fn.isFirefox,kn=fn.marginNames,Cn=fn.merge,_n=fn.pick,Sn=fn.setAnimation,$n=fn.stableSort,En=fn.win,Tn=fn.wrap,(pn=fn.Legend=function(t,e){this.init(t,e)}).prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),gn(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=_n(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=Cn(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.initialItemX=this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=_n(t.symbolWidth,16),this.pages=[]},update:function(t,e){var n=this.chart;this.setOptions(Cn(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,_n(e,!0)&&n.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n,i=this.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,l=(i=e?i.itemStyle.color:a,e&&t.color||a),c=t.options&&t.options.marker,u={fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),s){if(c&&s.isMarker&&(u=t.pointAttribs(),!e))for(n in u)u[n]=a;s.attr(u)}},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,i=(r=t._legendItemPos)[0],r=r[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(n?i:this.legendWidth-i-2*e-4,r),o&&(o.x=i,o.y=r)},destroyItem:function(e){var t=e.checkbox;bn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&vn(e.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),bn(this.getAllItems(),function(e){bn(["legendItem","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())})}),t&&(this.group=t.destroy())},positionCheckboxes:function(i){var r,o=this.group.alignAttr,s=this.clipHeight||this.legendHeight,a=this.titleHeight;o&&(r=o.translateY,bn(this.allItems,function(t){var e,n=t.checkbox;n&&(e=r+a+n.y+(i||0)+3,mn(n,{left:o.translateX+t.checkboxOffset+n.x-20+"px",top:e+"px",display:r-6<e&&e<r+s-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,n=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),n=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?fn.format(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r="horizontal"===i.layout,o=this.symbolWidth,s=i.symbolPadding,a=this.itemStyle,l=this.itemHiddenStyle,c=this.padding,u=r?_n(i.itemDistance,20):0,h=!i.rtl,d=i.width,f=i.itemMarginBottom||0,p=this.itemMarginTop,g=this.initialItemX,m=t.legendItem,v=!t.series,y=!v&&t.series.drawLegendSymbol?t.series:t,b=y.options,w=(b=this.createCheckboxForItem&&b&&b.showCheckbox,i.useHTML);m||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+y.type+"-series highcharts-color-"+t.colorIndex+" "+(t.options.className||"")+(v?"highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=m=n.text("",h?o+s:-s,this.baseline||0,w).css(Cn(t.visible?a:l)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(a=a.fontSize,this.fontMetrics=n.fontMetrics(a,m),this.baseline=this.fontMetrics.f+3+p,m.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,m,w),b&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),n=m.getBBox(),o=t.checkboxOffset=i.itemWidth||t.legendItemWidth||o+s+n.width+u+(b?20:0),this.itemHeight=s=Math.round(t.legendItemHeight||n.height),r&&this.itemX-g+o>(d||e.chartWidth-2*c-g-i.x)&&(this.itemX=g,this.itemY+=p+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,o),this.lastItemY=p+this.itemY+f,this.lastLineHeight=Math.max(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=o:(this.itemY+=p+s+f,this.lastLineHeight=s),this.offsetWidth=d||Math.max((r?this.itemX-g-u:o)+c,this.offsetWidth)},getAllItems:function(){var n=[];return bn(this.chart.series,function(t){var e=t&&t.options;t&&_n(e.showInLegend,!yn(e.linkedTo)&&void 0,!0)&&(n=n.concat(t.legendItems||("point"===e.legendType?t.data:t)))}),n},adjustMargins:function(n,i){var r=this.chart,o=this.options,s=o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0);o.floating||bn([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(t,e){t.test(s)&&!yn(n[e])&&(r[kn[e]]=Math.max(r[kn[e]],r.legend[(e+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][e]*o[e%2?"x":"y"]+_n(o.margin,12)+i[e]))})},render:function(){var t,e,n,i,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,c=r.options,u=r.padding;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),$n(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,bn(t,function(t){r.renderItem(t)}),n=(c.width||r.offsetWidth)+u,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=u,l||(r.box=l=s.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(a),l.isNew=!0),l.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),0<n&&0<i&&(l[l.isNew?"attr":"animate"](l.crisp({x:0,y:0,width:n,height:i},l.strokeWidth())),l.isNew=!1),l[e?"show":"hide"](),r.legendWidth=n,r.legendHeight=i,bn(t,function(t){r.positionItem(t)}),e&&a.align(wn({width:n,height:i},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var r,o,e=this,n=this.chart,i=n.renderer,s=this.options,a=s.y,l=(a=n.spacingBox.height+("top"===s.verticalAlign?-a:a)-this.padding,s.maxHeight),c=this.clipRect,u=s.navigation,h=_n(u.animation,!0),d=u.arrowSize||12,f=this.nav,p=this.pages,g=this.padding,m=this.allItems,v=function(t){c.attr({height:t}),e.contentGroup.div&&(e.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+t)+"px,0)")};return"horizontal"===s.layout&&(a/=2),l&&(a=Math.min(a,l)),p.length=0,a<t&&!1!==u.enabled?(this.clipHeight=r=Math.max(a-20-this.titleHeight-g,0),this.currentPage=_n(this.currentPage,1),this.fullHeight=t,bn(m,function(t,e){var n=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var i=p.length;(!i||n-p[i-1]>r&&(o||n)!==p[i-1])&&(p.push(o||n),i++),e===m.length-1&&n+t-p[i-1]>r&&p.push(n),n!==o&&(o=n)}),c||(c=e.clipRect=i.clipRect(0,g,9999,0),e.contentGroup.clip(c)),v(r),f||(this.nav=f=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,d,d).on("click",function(){e.scroll(-1,h)}).add(f),this.pager=i.text("",15,10).addClass("highcharts-legend-navigation").css(u.style).add(f),this.down=i.symbol("triangle-down",0,0,d,d).on("click",function(){e.scroll(1,h)}).add(f)),e.scroll(0),t=a):f&&(v(n.chartHeight),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;i<t&&(t=i),0<t&&(void 0!==e&&Sn(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),e=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},fn.LegendSymbolMixin={drawRectangle:function(t,e){var n=(i=t.options).symbolHeight||t.fontMetrics.f,i=i.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,_n(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker,r=t.symbolWidth,o=this.chart.renderer,s=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":n.lineWidth||0},n.dashStyle&&(e.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(e).add(s),i&&!1!==i.enabled&&(n=0===this.symbol.indexOf("url")?0:i.radius,this.legendSymbol=i=o.symbol(this.symbol,r/2-n,t-n,2*n,2*n,i).addClass("highcharts-point").add(s),i.isMarker=!0)}},(/Trident\/7\.0/.test(En.navigator.userAgent)||xn)&&Tn(pn.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)}),Mn=(Dn=t).addEvent,An=Dn.animate,Pn=Dn.animObject,On=Dn.attr,Nn=Dn.doc,In=Dn.Axis,Ln=Dn.createElement,Hn=Dn.defaultOptions,Rn=Dn.discardElement,Fn=Dn.charts,zn=Dn.css,jn=Dn.defined,Bn=Dn.each,Wn=Dn.error,Vn=Dn.extend,qn=Dn.fireEvent,Yn=Dn.getStyle,Un=Dn.grep,Gn=Dn.isNumber,Xn=Dn.isObject,Kn=Dn.isString,Zn=Dn.Legend,Qn=Dn.marginNames,Jn=Dn.merge,ti=Dn.Pointer,ei=Dn.pick,ni=Dn.pInt,ii=Dn.removeEvent,ri=Dn.seriesTypes,oi=Dn.splat,si=Dn.svg,ai=Dn.syncTimeout,li=Dn.win,ci=Dn.Renderer,ui=Dn.Chart=function(){this.getArgs.apply(this,arguments)},Dn.chart=function(t,e,n){return new ui(t,e,n)},ui.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(Kn(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var n,i,r=t.series;if(t.series=null,(n=Jn(Hn,t)).series=t.series=r,this.userOptions=t,this.respRules=[],r=(t=n.chart).events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=t.showAxes,this.index=Fn.length,Fn.push(this),Dn.chartCount++,r)for(i in r)Mn(this,i,r[i]);this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=ri[t.type||e.type||e.defaultSeriesType])||Wn(17,!0),(e=new e).init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(t){var n,e,i=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=r.length,h=u,d=this.renderer,f=d.isHidden(),p=[];for(Dn.setAnimation(t,this),f&&this.cloneRenderTo(),this.layOutTitles();h--;)if((t=r[h]).options.stacking&&(n=!0,t.isDirty)){e=!0;break}if(e)for(h=u;h--;)(t=r[h]).options.stacking&&(t.isDirty=!0);Bn(r,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0),t.isDirtyData&&qn(t,"updatedData")}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),n&&this.getStacks(),l&&Bn(i,function(t){t.updateNames(),t.setScale()}),this.getMargins(),l&&(Bn(i,function(t){t.isDirty&&(c=!0)}),Bn(i,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,p.push(function(){qn(t,"afterSetExtremes",Vn(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(c||n)&&t.redraw()})),c&&this.drawChartBox(),Bn(r,function(t){(c||t.isDirty)&&t.visible&&t.redraw()}),o&&o.reset(!0),d.draw(),qn(this,"redraw"),f&&this.cloneRenderTo(!0),Bn(p,function(t){t.call()})},get:function(t){var e,n,i=this.axes,r=this.series;for(e=0;e<i.length;e++)if(i[e].options.id===t)return i[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(n=r[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var e=this,t=(n=this.options).xAxis=oi(n.xAxis||{}),n=n.yAxis=oi(n.yAxis||{});Bn(t,function(t,e){t.index=e,t.isX=!0}),Bn(n,function(t,e){t.index=e}),t=t.concat(n),Bn(t,function(t){new In(e,t)})},getSelectedPoints:function(){var e=[];return Bn(this.series,function(t){e=e.concat(Un(t.points||[],function(t){return t.selected}))}),e},getSelectedSeries:function(){return Un(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,o=this,r=o.options;i=r.title=Jn(r.title,t),r=r.subtitle=Jn(r.subtitle,e),Bn([["title",t,i],["subtitle",e,r]],function(t,e){var n=t[0],i=o[n],r=t[1];t=t[2],i&&r&&(o[n]=i=i.destroy()),t&&t.text&&!i&&(o[n]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+n,zIndex:t.zIndex||4}).add(),o[n].update=function(t){o.setTitle(!e&&t,e&&t)},o[n].css(t.style))}),o.layOutTitles(n)},layOutTitles:function(t){var e,r=0,o=this.renderer,s=this.spacingBox;Bn(["title","subtitle"],function(t){var e,n=this[t],i=this.options[t];n&&(e=i.style.fontSize,e=o.fontMetrics(e,n).b,n.css({width:(i.width||s.width+i.widthAdjust)+"px"}).align(Vn({y:r+e+("title"===t?-3:2)},i),!1,"spacingBox"),i.floating||i.verticalAlign||(r=Math.ceil(r+n.getBBox().height)))},this),e=this.titleOffset!==r,this.titleOffset=r,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&ei(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(e=this.options.chart).width,e=e.height,n=this.renderToClone||this.renderTo;jn(t)||(this.containerWidth=Yn(n,"width")),jn(e)||(this.containerHeight=Yn(n,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,ei(e,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;if(t){if(e){for(;e.childNodes.length;)this.renderTo.appendChild(e.firstChild);Rn(e),delete this.renderToClone}}else n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),zn(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),Nn.body.appendChild(e),n&&e.appendChild(n)},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var t,e,n,i=this.options,r=i.chart;t=this.renderTo;var o,s="highcharts-"+Dn.idCounter++;t||(this.renderTo=t=r.renderTo),Kn(t)&&(this.renderTo=t=Nn.getElementById(t)),t||Wn(13,!0),e=ni(On(t,"data-highcharts-chart")),Gn(e)&&Fn[e]&&Fn[e].hasRendered&&Fn[e].destroy(),On(t,"data-highcharts-chart",this.index),t.innerHTML="",r.skipClone||t.offsetWidth||this.cloneRenderTo(),this.getChartSize(),e=this.chartWidth,n=this.chartHeight,o=Vn({position:"relative",overflow:"hidden",width:e+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),this.container=t=Ln("div",{id:s},o,this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(Dn[r.renderer]||ci)(t,e,n,null,r.forExport,i.exporting&&i.exporting.allowHTML),this.setClassName(r.className),this.renderer.setStyle(r.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!jn(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(n,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var n=this,i=n.axisOffset=[0,0,0,0],r=n.margin;n.hasCartesianSeries&&Bn(n.axes,function(t){t.visible&&t.getOffset()}),Bn(Qn,function(t,e){jn(r[e])||(n[t]+=i[e])}),n.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=jn(n.width),o=n.width||Yn(i,"width");n=n.height||Yn(i,"height"),i=t?t.target:li,r||e.isPrinting||!o||!n||i!==li&&i!==Nn||(o===e.containerWidth&&n===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=ai(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=o,e.containerHeight=n)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Mn(li,"resize",t),Mn(e,"destroy",function(){ii(li,"resize",t)})},setSize:function(t,e,n){var i=this,r=i.renderer;i.isResizing+=1,Dn.setAnimation(n,i),i.oldChartHeight=i.chartHeight,i.oldChartWidth=i.chartWidth,void 0!==t&&(i.options.chart.width=t),void 0!==e&&(i.options.chart.height=e),i.getChartSize(),((t=r.globalAnimation)?An:zn)(i.container,{width:i.chartWidth+"px",height:i.chartHeight+"px"},t),i.setChartSize(!0),r.setSize(i.chartWidth,i.chartHeight,n),Bn(i.axes,function(t){t.isDirty=!0,t.setScale()}),i.isDirtyLegend=!0,i.isDirtyBox=!0,i.layOutTitles(),i.getMargins(),i.setResponsive&&i.setResponsive(!1),i.redraw(n),i.oldChartHeight=null,qn(i,"resize"),ai(function(){i&&qn(i,"endResize",null,function(){--i.isResizing})},Pn(t).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,h[3])/2),s=Math.ceil(Math.max(a,h[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,h[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,h[2])/2-s))},t||Bn(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var r=this,o=r.options.chart;Bn(["margin","spacing"],function(n){var t=o[n],i=Xn(t)?t:[t,t,t,t];Bn(["Top","Right","Bottom","Left"],function(t,e){r[n][e]=ei(o[n+t],i[e])})}),Bn(Qn,function(t,e){r[t]=ei(r.margin[e],r.spacing[e])}),r.axisOffset=[0,0,0,0],r.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,u=n.backgroundColor,h=n.plotBackgroundColor,d=n.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,w="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),w="attr"),e=(t=n.borderWidth||0)+(n.shadow?8:0),u={fill:u||"none"},(t||s["stroke-width"])&&(u.stroke=n.borderColor,u["stroke-width"]=t),s.attr(u).shadow(n.shadow),s[w]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),w="animate",a||(w="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[w](v),a.attr({fill:h||"none"}).shadow(n.plotShadow),d&&(c?c.animate(v):this.plotBGImage=i.image(d,f,p,g,m).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),w="animate",l||(w="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:f,y:p,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var e,n,i,r=this,o=r.options.chart,s=r.options.series;Bn(["inverted","angular","polar"],function(t){for(e=ri[o.type||o.defaultSeriesType],i=o[t]||e&&e.prototype[t],n=s&&s.length;!i&&n--;)(e=ri[s[n].type])&&e.prototype[t]&&(i=!0);r[t]=i})},linkSeries:function(){var n=this,t=n.series;Bn(t,function(t){t.linkedSeries.length=0}),Bn(t,function(t){var e=t.options.linkedTo;Kn(e)&&(e=":previous"===e?n.series[t.index-1]:n.get(e))&&e.linkedParent!==t&&(e.linkedSeries.push(t),t.linkedParent=e,t.visible=ei(t.options.visible,e.options.visible,t.visible))})},renderSeries:function(){Bn(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var r=this,o=r.options.labels;o.items&&Bn(o.items,function(t){var e=Vn(o.style,t.style),n=ni(e.left)+r.plotLeft,i=ni(e.top)+r.plotTop+12;delete e.left,delete e.top,r.renderer.text(t.html,n,i).attr({zIndex:2}).css(e).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new Zn(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight-=21,Bn(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(Bn(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Bn(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=Jn(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(li.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var t,n=this,e=n.axes,i=n.series,r=n.container,o=r&&r.parentNode;for(qn(n,"destroy"),Fn[n.index]=void 0,Dn.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),ii(n),t=e.length;t--;)e[t]=e[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=i.length;t--;)i[t]=i[t].destroy();for(t in Bn("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),r&&(r.innerHTML="",ii(r),o&&Rn(r)),n)delete n[t]},isReadyToRender:function(){var t=this;return!(!si&&li==li.top&&"complete"!==Nn.readyState&&(Nn.attachEvent("onreadystatechange",function(){Nn.detachEvent("onreadystatechange",t.firstRender),"complete"===Nn.readyState&&t.firstRender()}),1))},firstRender:function(){var e=this,t=e.options;e.isReadyToRender()&&(e.getContainer(),qn(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Bn(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),qn(e,"beforeRender"),ti&&(e.pointer=new ti(e,t)),e.render(),e.renderer.draw(),!e.renderer.imgCount&&e.onload&&e.onload(),e.cloneRenderTo(!0))},onload:function(){Bn([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),qn(this,"load"),!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}},fi=(hi=t).each,pi=hi.extend,gi=hi.erase,mi=hi.fireEvent,vi=hi.format,yi=hi.isArray,bi=hi.isNumber,wi=hi.pick,xi=hi.removeEvent,(di=hi.Point=function(){}).prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=wi(this.colorIndex,n),t.chart.pointCount++,this},applyOptions:function(t,e){var n=this.series,i=n.options.pointValKey||n.pointValKey;return t=di.prototype.optionsToObject.call(this,t),pi(this,t),this.options=this.options?pi(this.options,t):t,t.group&&delete this.group,i&&(this.y=this[i]),this.isNull=wi(this.isValid&&!this.isValid(),null===this.x||!bi(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n&&(this.x=void 0===e?n.autoIncrement(this):e),this},optionsToObject:function(t){var e={},n=this.series,i=n.options.keys,r=i||n.pointArrayMap||["y"],o=r.length,s=0,a=0;if(bi(t)||null===t)e[r[0]]=t;else if(yi(t))for(!i&&t.length>o&&("string"==(n=typeof t[0])?e.name=t[0]:"number"===n&&(e.x=t[0]),s++);a<o;)i&&void 0===t[s]||(e[r[a]]=t[s]),s++,a++;else"object"==typeof t&&((e=t).dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||"y",i=0;for(t=e[i];this[n]>=t.value;)t=e[++i];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),gi(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(xi(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)this[t=e[n]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=wi(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return fi(t.pointArrayMap||["y"],function(t){t="{point."+t,(r||o)&&(e=e.replace(t+"}",r+t+"}"+o)),e=e.replace(t+"}",t+":,."+i+"f}")}),vi(e,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),mi(this,t,e,n)},visible:!0},Ci=(ki=t).addEvent,_i=ki.animObject,Si=ki.arrayMax,$i=ki.arrayMin,Ei=ki.correctFloat,Ti=ki.Date,Di=ki.defaultOptions,Mi=ki.defaultPlotOptions,Ai=ki.defined,Pi=ki.each,Oi=ki.erase,Ni=ki.error,Ii=ki.extend,Li=ki.fireEvent,Hi=ki.grep,Ri=ki.isArray,Fi=ki.isNumber,zi=ki.isString,ji=ki.merge,Bi=ki.pick,Wi=ki.removeEvent,Vi=ki.splat,qi=ki.stableSort,Yi=ki.SVGElement,Ui=ki.syncTimeout,Gi=ki.win,ki.Series=ki.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":ki.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:ki.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,e){var n,i,r=this,o=t.series,s=function(t,e){return Bi(t.options.index,t._i)-Bi(e.options.index,e._i)};for(n in r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),Ii(r,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),i=e.events)Ci(r,n,i[n]);(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),Pi(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,qi(o,s),this.yAxis&&qi(this.yAxis.series,s),Pi(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var n,i=this,r=i.options,t=i.chart;Pi(i.axisTypes||[],function(e){Pi(t[e],function(t){n=t.options,(r[e]===n.index||void 0!==r[e]&&r[e]===n.id||void 0===r[e]&&0===n.index)&&(t.series.push(i),(i[e]=t).isDirty=!0)}),i[e]||i.optionalAxis===e||Ni(18,!0)})},updateParallelArrays:function(n,i){var r=n.series,e=arguments,t=Fi(i)?function(t){var e="y"===t&&r.toYData?r.toYData(n):n[t];r[t+"Data"][i]=e}:function(t){Array.prototype[i].apply(r[t+"Data"],Array.prototype.slice.call(e,2))};Pi(r.parallelArrays,t)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit;return n=Bi(n,e.pointStart,0),this.pointInterval=t=Bi(this.pointInterval,e.pointInterval,1),i&&(e=new Ti(n),"day"===i?e=+e[Ti.hcSetDate](e[Ti.hcGetDate]()+t):"month"===i?e=+e[Ti.hcSetMonth](e[Ti.hcGetMonth]()+t):"year"===i&&(e=+e[Ti.hcSetFullYear](e[Ti.hcGetFullYear]()+t)),t=e-n),this.xIncrement=n+t,n},setOptions:function(t){var e,n=(e=this.chart).options.plotOptions,i=(e=e.userOptions||{}).plotOptions||{},r=n[this.type];return this.userOptions=t,n=ji(r,n.series,t),this.tooltipOptions=ji(Di.tooltip,Di.plotOptions[this.type].tooltip,e.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,t.tooltip),null===r.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,t=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||t.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,className:"highcharts-negative",color:n.negativeColor,fillColor:n.negativeFillColor}),t.length&&Ai(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(t,e,n){var i,r=this.userOptions,o=t+"Index",s=t+"Counter",a=n?n.length:Bi(this.chart.options.chart[t+"Count"],this.chart[t+"Count"]);e||(i=Bi(r[o],r["_"+o]),Ai(i)||(r["_"+o]=i=this.chart[s]%a,this.chart[s]+=1),n&&(e=n[i])),void 0!==i&&(this[o]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||Mi[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:ki.LegendSymbolMixin.drawLineMarker,setData:function(t,e,n,i){var r,o=this,s=o.points,a=s&&s.length||0,l=o.options,c=o.chart,u=null,h=o.xAxis,d=l.turboThreshold,f=this.xData,p=this.yData,g=(r=o.pointArrayMap)&&r.length;if(r=(t=t||[]).length,e=Bi(e,!0),!1!==i&&r&&a===r&&!o.cropped&&!o.hasGroupedData&&o.visible)Pi(t,function(t,e){s[e].update&&t!==l.data[e]&&s[e].update(t,!1,null,!1)});else{if(o.xIncrement=null,o.colorCounter=0,Pi(this.parallelArrays,function(t){o[t+"Data"].length=0}),d&&d<r){for(n=0;null===u&&n<r;)u=t[n],n++;if(Fi(u))for(n=0;n<r;n++)f[n]=this.autoIncrement(),p[n]=t[n];else if(Ri(u))if(g)for(n=0;n<r;n++)u=t[n],f[n]=u[0],p[n]=u.slice(1,g+1);else for(n=0;n<r;n++)u=t[n],f[n]=u[0],p[n]=u[1];else Ni(12)}else for(n=0;n<r;n++)void 0!==t[n]&&(u={series:o},o.pointClass.prototype.applyOptions.apply(u,[t[n]]),o.updateParallelArrays(u,n));for(zi(p[0])&&Ni(14,!0),o.data=[],o.options.data=o.userOptions.data=t,n=a;n--;)s[n]&&s[n].destroy&&s[n].destroy();h&&(h.minRange=h.userMinRange),o.isDirty=c.isDirtyBox=!0,o.isDirtyData=!!s,n=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(n)},processData:function(t){var e,n=this.xData,i=this.yData,r=n.length;e=0;var o,s,a,l=this.xAxis;a=(f=this.options).cropThreshold;var c,u,h=this.getExtremesFromAll||f.getExtremesFromAll,d=this.isCartesian,f=l&&l.val2lin,p=l&&l.isLog;if(d&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(c=(t=l.getExtremes()).min,u=t.max),d&&this.sorted&&!h&&(!a||a<r||this.forceCrop)&&(n[r-1]<c||n[0]>u?(n=[],i=[]):(n[0]<c||n[r-1]>u)&&(n=(e=this.cropData(this.xData,this.yData,c,u)).xData,i=e.yData,e=e.start,o=!0)),a=n.length||1;--a;)0<(r=p?f(n[a])-f(n[a-1]):n[a]-n[a-1])&&(void 0===s||r<s)?s=r:r<0&&this.requireSorting&&Ni(15);this.cropped=o,this.cropStart=e,this.processedXData=n,this.processedYData=i,this.closestPointRange=s},cropData:function(t,e,n,i){var r,o=t.length,s=0,a=o,l=Bi(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=n){s=Math.max(0,r-l);break}for(n=r;n<o;n++)if(t[n]>i){a=n+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,n,i,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,u=this.cropStart||0,h=this.hasGroupedData,d=[];for(o||h||((o=[]).length=r.length,o=this.data=o),i=0;i<c;i++)e=u+i,h?(d[i]=(new l).init(this,[s[i]].concat(Vi(a[i]))),d[i].dataGroup=this.groupMap[i]):(o[e]?n=o[e]:void 0!==r[e]&&(o[e]=n=(new l).init(this,r[e],s[i])),d[i]=n),d[i].index=e;if(o&&(c!==(t=o.length)||h))for(i=0;i<t;i++)i!==u||h||(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=void 0);this.data=o,this.points=d},getExtremes:function(t){var e,n,i,r,o,s=this.yAxis,a=this.processedXData,l=[],c=0,u=(e=this.xAxis.getExtremes()).min,h=e.max;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,o=0;o<e;o++)if(i=a[o],r=t[o],n=(Fi(r,!0)||Ri(r))&&(!s.isLog||r.length||0<r),i=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(a[o+1]||i)>=u&&(a[o-1]||i)<=h,n&&i)if(n=r.length)for(;n--;)null!==r[n]&&(l[c++]=r[n]);else l[c++]=r;this.dataMin=$i(l),this.dataMax=Si(l)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,n,i,r=(m=this.options).stacking,o=this.xAxis,s=o.categories,a=this.yAxis,l=this.points,c=l.length,u=!!this.modifyValue,h=m.pointPlacement,d="between"===h||Fi(h),f=m.threshold,p=m.startFromThreshold?f:0,g=Number.MAX_VALUE,m=0;m<c;m++){var v=l[m],y=v.x,b=v.y;e=v.low;var w,x=r&&a.stacks[(this.negStacks&&b<(p?0:f)?"-":"")+this.stackKey];a.isLog&&null!==b&&b<=0&&(v.isNull=!0),v.plotX=t=Ei(Math.min(Math.max(-1e5,o.translate(y,0,0,0,1,h,"flags"===this.type)),1e5)),r&&this.visible&&!v.isNull&&x&&x[y]&&(i=this.getStackIndicator(i,y,this.index),e=(b=(w=x[y]).points[i.key])[0],b=b[1],e===p&&i.key===x[y].base&&(e=Bi(f,a.min)),a.isLog&&e<=0&&(e=null),v.total=v.stackTotal=w.total,v.percentage=w.total&&v.y/w.total*100,v.stackY=b,w.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=Ai(e)?a.translate(e,0,1,0,1):null,u&&(b=this.modifyValue(b,v)),v.plotY=e="number"==typeof b&&1/0!==b?Math.min(Math.max(-1e5,a.translate(b,0,1,0,1)),1e5):void 0,v.isInside=void 0!==e&&0<=e&&e<=a.len&&0<=t&&t<=o.len,v.clientX=d?Ei(o.translate(y,0,0,0,1,h)):t,v.negative=v.y<(f||0),v.category=s&&void 0!==s[v.x]?s[v.x]:v.x,v.isNull||(void 0!==n&&(g=Math.min(g,Math.abs(t-n))),n=t)}this.closestPointRangePx=g},getValidPoints:function(t,e){var n=this.chart;return Hi(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted)||t.isNull)})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=c=i.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n=this.chart,i=_i(this.options.animation);t?this.setClip(i):((t=n[e=this.sharedClipKey])&&t.animate({width:n.plotSizeX},i),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99},i),this.animate=null)},afterAnimate:function(){this.setClip(),Li(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,c=this.chart,u=this.options.marker,h=this.markerGroup,d=Bi(u.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>2*u.radius);if(!1!==u.enabled||this._hasPointMarkers)for(e=l.length;e--;)t=(n=l[e]).plotY,i=n.graphic,r=n.marker||{},o=!!n.marker,s=d&&void 0===r.enabled||r.enabled,a=n.isInside,s&&Fi(t)&&null!==n.y?(t=Bi(r.symbol,this.symbol),n.hasImage=0===t.indexOf("url"),s=this.markerAttribs(n,n.selected&&"select"),i?i[a?"show":"hide"](!0).animate(s):a&&(0<s.width||n.hasImage)&&(n.graphic=i=c.renderer.symbol(t,s.x,s.y,s.width,s.height,o?r:u).add(h)),i&&i.attr(this.pointAttribs(n,n.selected&&"select")),i&&i.addClass(n.getClassName(),!0)):i&&(n.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=(r=t&&t.options)&&r.marker||{},r=Bi(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],r=Bi(e&&e.radius,n&&n.radius,r+(n&&n.radiusPlus||0))),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var n,i=this.options.marker,r=(a=t&&t.options)&&a.marker||{},o=i.lineWidth,s=this.color,a=a&&a.color,l=t&&t.color;return t&&this.zones.length&&(t=t.getZone())&&t.color&&(n=t.color),s=a||n||l||s,n=r.fillColor||i.fillColor||s,s=r.lineColor||i.lineColor||s,e&&(i=i.states[e],e=r.states&&r.states[e]||{},o=i.lineWidth||o+i.lineWidthPlus,n=e.fillColor||i.fillColor||n,s=e.lineColor||i.lineColor||s),{stroke:s,"stroke-width":o,fill:n}},destroy:function(){var t,e,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test(Gi.navigator.userAgent),a=r.data||[];for(Li(r,"destroy"),Wi(r),Pi(r.axisTypes||[],function(t){(i=r[t])&&i.series&&(Oi(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();for(n in r.points=null,clearTimeout(r.animationTimeout),r)r[n]instanceof Yi&&!r[n].survive&&(t=s&&"group"===n?"hide":"destroy",r[n][t]());for(n in o.hoverSeries===r&&(o.hoverSeries=null),Oi(o.series,r),r)delete r[n]},getGraphPath:function(o,s,a){var t,l,c=this,u=c.options,h=u.step,d=[],f=[];return(t=(o=o||c.points).reversed)&&o.reverse(),(h={right:1,center:2}[h]||h&&3)&&t&&(h=4-h),!u.connectNulls||s||a||(o=this.getValidPoints(o)),Pi(o,function(t,e){var n=t.plotX,i=t.plotY,r=o[e-1];(t.leftCliff||r&&r.rightCliff)&&!a&&(l=!0),t.isNull&&!Ai(s)&&0<e?l=!u.connectNulls:t.isNull&&!s?l=!0:(0===e||l?e=["M",t.plotX,t.plotY]:c.getPointSpline?e=c.getPointSpline(o,t,e):h?(e=1===h?["L",r.plotX,i]:2===h?["L",(r.plotX+n)/2,r.plotY,"L",(r.plotX+n)/2,i]:["L",n,r.plotY]).push("L",n,i):e=["L",n,i],f.push(t.x),h&&f.push(t.x),d.push.apply(d,e),l=!1)}),d.xMap=f,c.graphPath=d},drawGraph:function(){var r=this,o=this.options,s=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",o.lineColor||this.color,o.dashStyle]];Pi(this.zones,function(t,e){n.push(["zone-graph-"+e,"highcharts-graph highcharts-zone-graph-"+e+" "+(t.className||""),t.color||r.color,t.dashStyle||o.dashStyle])}),Pi(n,function(t,e){var n=t[0],i=r[n];i?(i.endX=s.xMap,i.animate({d:s})):s.length&&(r[n]=r.chart.renderer.path(s).addClass(t[1]).attr({zIndex:1}).add(r.group),i={stroke:t[2],"stroke-width":o.lineWidth,fill:r.fillGraph&&r.color||"none"},t[3]?i.dashstyle=t[3]:"square"!==o.linecap&&(i["stroke-linecap"]=i["stroke-linejoin"]="round"),i=r[n].attr(i).shadow(e<2&&o.shadow)),i&&(i.startX=s.xMap,i.isArea=s.isArea)})},applyZones:function(){var n,i,r,o,s,a,l,c,u,h=this,d=this.chart,f=d.renderer,t=this.zones,p=this.clips||[],g=this.graph,m=this.area,v=Math.max(d.chartWidth,d.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=d.inverted,w=!1;t.length&&(g||m)&&y&&void 0!==y.min&&(s=y.reversed,a=y.horiz,g&&g.hide(),m&&m.hide(),o=y.getExtremes(),Pi(t,function(t,e){n=s?a?d.plotWidth:0:a?0:y.toPixels(o.min),n=Math.min(Math.max(Bi(i,n),0),v),i=Math.min(Math.max(Math.round(y.toPixels(Bi(t.value,o.max),!0)),0),v),w&&(n=i=y.toPixels(o.max)),l=Math.abs(n-i),c=Math.min(n,i),u=Math.max(n,i),y.isXAxis?(r={x:b?u:c,y:0,width:l,height:v},a||(r.x=d.plotHeight-r.x)):(r={x:0,y:b?u:c,width:v,height:l},a&&(r.y=d.plotWidth-r.y)),b&&f.isVML&&(r=y.isXAxis?{x:0,y:s?c:u,height:r.width,width:d.chartWidth}:{x:r.y-d.plotLeft-d.spacingBox.x,y:0,width:r.height,height:d.chartHeight}),p[e]?p[e].animate(r):(p[e]=f.clipRect(r),g&&h["zone-graph-"+e].clip(p[e]),m&&h["zone-area-"+e].clip(p[e])),w=t.value>o.max}),this.clips=p)},invertGroups:function(n){function t(){var e={width:i.yAxis.len,height:i.xAxis.len};Pi(["group","markerGroup"],function(t){i[t]&&i[t].attr(e).invert(n)})}var i=this,e=i.chart;i.xAxis&&(Ci(e,"resize",t),Ci(i,"destroy",function(){Wi(e,"resize",t)}),t(),i.invertGroups=t)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:i||.1}).add(r),o.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,r=!!e.animate&&n.renderer.isSVG&&_i(i.animation).duration,o=e.visible?"inherit":"hidden",s=i.zIndex,a=e.hasRendered,l=n.seriesGroup,c=n.inverted;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),r&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===i.clip||e.sharedClipKey||a||t.clip(n.clipRect),r&&e.animate(),a||(e.animationTimeout=Ui(function(){e.afterAnimate()},r)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:Bi(i&&i.left,t.plotLeft),translateY:Bi(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){var s=this,t=s.kdDimensions;delete s.kdTree,Ui(function(){s.kdTree=function t(e,n,i){var r,o;if(o=e&&e.length)return r=s.kdAxisArray[n%i],e.sort(function(t,e){return t[r]-e[r]}),{point:e[o=Math.floor(o/2)],left:t(e.slice(0,o),n+1,i),right:t(e.slice(o+1),n+1,i)}}(s.getValidPoints(null,!s.directTouch),t,t)},s.options.kdNow?0:1)},searchKDTree:function(t,e){var u=this,h=this.kdAxisArray[0],d=this.kdAxisArray[1],f=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return function t(e,n,i,r){var o,s,a=n.point,l=u.kdAxisArray[i%r],c=a;return o=((s=Ai(e[h])&&Ai(a[h])?Math.pow(e[h]-a[h],2):null)||0)+((o=Ai(e[d])&&Ai(a[d])?Math.pow(e[d]-a[d],2):null)||0),a.dist=Ai(o)?Math.sqrt(o):Number.MAX_VALUE,a.distX=Ai(s)?Math.sqrt(s):Number.MAX_VALUE,s=(l=e[l]-a[l])<0?"right":"left",n[o=l<0?"left":"right"]&&(c=(o=t(e,n[o],i+1,r))[f]<c[f]?o:a),n[s]&&Math.sqrt(l*l)<c[f]&&(c=(e=t(e,n[s],i+1,r))[f]<c[f]?e:c),c}(t,this.kdTree,this.kdDimensions,this.kdDimensions)}}),function(t){function x(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:_(e.y,o?4:n?14:-6),x:_(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}var e=t.Axis,n=t.Chart,k=t.correctFloat,C=t.defined,i=t.destroyObjectProperties,l=t.each,r=t.format,_=t.pick;t=t.Series,x.prototype={destroy:function(){i(this,this.axis)},render:function(t){var e=this.options,n=(n=e.format)?r(n,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n=(s=this.axis).chart,i=n.inverted,r=s.reversed,o=(r=this.isNegative&&!r||!this.isNegative&&r,s.translate(s.usePercentage?100:this.total,0,0,0,1)),s=s.translate(0);s=Math.abs(o-s);t=n.xAxis[0].translate(this.x)+t;var a=n.plotHeight;i={x:i?r?o:o-s:t,y:i?a-t-e:r?a-o-s:a-o,width:i?s:e,height:i?e:s};(e=this.label)&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},n.prototype.getStacks=function(){var e=this;l(e.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),l(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+_(t.options.stack,""))})},e.prototype.buildStacks=function(){var t,e,n=this.series,i=_(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)n[i?e:r-e-1].setStackedPoints();for(e=r;e--;)(t=n[i?e:r-e-1]).setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)n[e].setPercentStacks()}},e.prototype.renderStackTotals=function(){var t,e,n=this.chart,i=n.renderer,r=this.stacks,o=this.stackTotalGroup;for(t in o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop),r)for(e in n=r[t])n[e].render(o)},e.prototype.resetStacks=function(){var t,e,n=this.stacks;if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].touched<this.stacksTouched?(n[t][e].destroy(),delete n[t][e]):(n[t][e].total=null,n[t][e].cum=0)},e.prototype.cleanStacks=function(){var t,e,n;if(!this.isXAxis)for(e in this.oldStacks&&(t=this.stacks=this.oldStacks),t)for(n in t[e])t[e][n].cum=t[e][n].total},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,n,i,r,o,s,a=this.processedXData,l=this.processedYData,c=[],u=l.length,h=(p=this.options).threshold,d=p.startFromThreshold?h:0,f=p.stack,p=p.stacking,g=this.stackKey,m="-"+g,v=this.negStacks,y=this.yAxis,b=y.stacks,w=y.oldStacks;for(y.stacksTouched+=1,r=0;r<u;r++)o=a[r],s=l[r],i=(t=this.getStackIndicator(t,o,this.index)).key,b[n=(e=v&&s<(d?0:h))?m:g]||(b[n]={}),b[n][o]||(w[n]&&w[n][o]?(b[n][o]=w[n][o],b[n][o].total=null):b[n][o]=new x(y,y.options.stackLabels,e,o,f)),n=b[n][o],null!==s&&(n.points[i]=n.points[this.index]=[_(n.cum,d)],C(n.cum)||(n.base=i),n.touched=y.stacksTouched,0<t.index&&!1===this.singleStacks&&(n.points[i][0]=n.points[this.index+","+o+",0"][0])),"percent"===p?(e=e?g:m,v&&b[e]&&b[e][o]?(e=b[e][o],n.total=e.total=Math.max(e.total,n.total)+Math.abs(s)||0):n.total=k(n.total+(Math.abs(s)||0))):n.total=k(n.total+(s||0)),n.cum=_(n.cum,d)+(s||0),null!==s&&(n.points[i].push(n.cum),c[r]=n.cum);"percent"===p&&(y.usePercentage=!0),this.stackedYData=c,y.oldStacks={}}},t.prototype.setPercentStacks=function(){var r,o=this,t=o.stackKey,s=o.yAxis.stacks,a=o.processedXData;l([t,"-"+t],function(t){for(var e,n,i=a.length;i--;)e=a[i],r=o.getStackIndicator(r,e,o.index,t),(e=(n=s[t]&&s[t][e])&&n.points[r.key])&&(n=n.total?100/n.total:0,e[0]=k(e[0]*n),e[1]=k(e[1]*n),o.stackedYData[i]=e[1])})},t.prototype.getStackIndicator=function(t,e,n,i){return!C(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(t),Ki=(Xi=t).addEvent,Zi=Xi.animate,Qi=Xi.Axis,Ji=Xi.createElement,tr=Xi.css,er=Xi.defined,nr=Xi.each,ir=Xi.erase,rr=Xi.extend,or=Xi.fireEvent,sr=Xi.inArray,ar=Xi.isNumber,lr=Xi.isObject,cr=Xi.merge,ur=Xi.pick,hr=Xi.Point,dr=Xi.Series,fr=Xi.seriesTypes,pr=Xi.setAnimation,gr=Xi.splat,rr(Xi.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=ur(e,!0),or(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,i){var r=e?"xAxis":"yAxis",o=this.options;t=cr(t,{index:this[r].length,isX:e}),new Qi(this,t),o[r]=gr(o[r]||{}),o[r].push(t),ur(n,!0)&&this.redraw(i)},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,r=n.loading,o=function(){i&&tr(i,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};i||(e.loadingDiv=i=Ji("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container),e.loadingSpan=Ji("span",{className:"highcharts-loading-inner"},null,i),Ki(e,"redraw",o)),i.className="highcharts-loading",e.loadingSpan.innerHTML=t||n.lang.loading,tr(i,rr(r.style,{zIndex:10})),tr(e.loadingSpan,r.labelStyle),e.loadingShown||(tr(i,{opacity:0,display:""}),Zi(i,{opacity:r.style.opacity||.5},{duration:r.showDuration||0})),e.loadingShown=!0,o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",Zi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){tr(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:["chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions"],update:function(t,e){var n,i,r,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},s=t.chart;if(s){for(n in cr(!0,this.options.chart,s),"className"in s&&this.setClassName(s.className),("inverted"in s||"polar"in s)&&(this.propFromSeries(),i=!0),s)s.hasOwnProperty(n)&&(-1!==sr("chart."+n,this.propsRequireUpdateSeries)&&(r=!0),-1!==sr(n,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in s&&this.renderer.setStyle(s.style)}for(n in t)this[n]&&"function"==typeof this[n].update?this[n].update(t[n],!1):"function"==typeof this[o[n]]&&this[o[n]](t[n]),"chart"!==n&&-1!==sr(n,this.propsRequireUpdateSeries)&&(r=!0);t.colors&&(this.options.colors=t.colors),t.plotOptions&&cr(!0,this.options.plotOptions,t.plotOptions),nr(["xAxis","yAxis","series"],function(n){t[n]&&nr(gr(t[n]),function(t){var e=er(t.id)&&this.get(t.id)||this[n][0];e&&e.coll===n&&e.update(t,!1)},this)},this),i&&nr(this.axes,function(t){t.update({},!1)}),r&&nr(this.series,function(t){t.update({},!1)}),t.loading&&cr(!0,this.options.loading,t.loading),n=s&&s.width,s=s&&s.height,ar(n)&&n!==this.chartWidth||ar(s)&&s!==this.chartHeight?this.setSize(n,s):ur(e,!0)&&this.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),rr(hr.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),lr(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=lr(u.data[o],!0)?s.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;e=ur(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(sr(this,this.series.data),t,e)}}),rr(dr.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,c=this.data,u=this.chart,h=this.xAxis&&this.xAxis.names,d=l.data,f=this.xData;if(e=ur(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,this.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),h&&r.name&&(h[a]=r.name),d.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&u.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};pr(n,a),e=ur(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),ur(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?or(r,"remove",null,i):i()},update:function(t,e){var n,i=this,r=this.chart,o=this.userOptions,s=this.type,a=t.type||o.type||r.options.chart.type,l=fr[s].prototype,c=["group","markerGroup","dataLabelsGroup"];for(n in(a&&a!==s||void 0!==t.zIndex)&&(c.length=0),nr(c,function(t){c[t]=i[t],delete i[t]}),t=cr(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1,null,!1),l)this[n]=void 0;rr(this,fr[a||s].prototype),nr(c,function(t){i[t]=c[t]}),this.init(r,t),r.linkSeries(),ur(e,!0)&&r.redraw(!1)}}),rr(Qi.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=cr(this.userOptions,t),this.destroy(!0),this.init(n,rr(t,{events:void 0})),n.isDirtyBox=!0,ur(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);ir(e.axes,this),ir(e[n],this),e.options[n].splice(this.options.index,1),nr(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,ur(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}}),vr=(mr=t).color,yr=mr.each,br=mr.map,wr=mr.pick,xr=mr.Series,(0,mr.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var l,c,t,e=[],u=[],n=this.xAxis,i=this.yAxis,h=i.stacks[this.stackKey],d={},r=this.points,f=this.index,o=i.series,p=o.length,g=wr(i.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(c=0;c<r.length;c++)d[r[c].x]=r[c];for(t in h)null!==h[t].total&&u.push(t);u.sort(function(t,e){return t-e}),l=br(o,function(){return this.visible}),yr(u,function(r,o){var s,a,t=0;if(d[r]&&!d[r].isNull)e.push(d[r]),yr([-1,1],function(t){var e=1===t?"rightNull":"leftNull",n=0,i=h[u[o+t]];if(i)for(c=f;0<=c&&c<p;)(s=i.points[c])||(c===f?d[r][e]=!0:l[c]&&(a=h[r].points[c])&&(n-=a[1]-a[0])),c+=g;d[r][1===t?"rightCliff":"leftCliff"]=n});else{for(c=f;0<=c&&c<p;){if(s=h[r].points[c]){t=s[1];break}c+=g}t=i.toPixels(t,!0),e.push({isNull:!0,plotX:n.toPixels(r,!0),plotY:t,yBottom:t})}})}return e},getGraphPath:function(a){var t,e,l,n,i=xr.prototype.getGraphPath,c=(r=this.options).stacking,u=this.yAxis,h=[],d=[],f=this.index,p=u.stacks[this.stackKey],g=r.threshold,m=u.getThreshold(r.threshold),r=r.connectNulls||"percent"===c,o=function(t,e,n){var i=a[t];t=c&&p[i.x].points[f];var r,o,s=i[n+"Null"]||0;n=i[n+"Cliff"]||0,i=!0,n||s?(r=(s?t[0]:t[1])+n,o=t[0]+n,i=!!s):!c&&a[e]&&a[e].isNull&&(r=o=g),void 0!==r&&(d.push({plotX:l,plotY:null===r?m:u.getThreshold(r),isNull:i}),h.push({plotX:l,plotY:null===o?m:u.getThreshold(o),doCurve:!1}))};for(a=a||this.points,c&&(a=this.getStackPoints()),t=0;t<a.length;t++)e=a[t].isNull,l=wr(a[t].rectPlotX,a[t].plotX),n=wr(a[t].yBottom,m),(!e||r)&&(r||o(t,t-1,"left"),e&&!c&&r||(d.push(a[t]),h.push({x:t,plotX:l,plotY:n})),r||o(t,t+1,"right"));return t=i.call(this,d,!0,!0),h.reversed=!0,(e=i.call(this,h,!0,!0)).length&&(e[0]="L"),e=t.concat(e),i=i.call(this,d,!1,r),e.xMap=t.xMap,this.areaPath=e,i},drawGraph:function(){this.areaPath=[],xr.prototype.drawGraph.apply(this);var i=this,r=this.areaPath,o=this.options,n=[["area","highcharts-area",this.color,o.fillColor]];yr(this.zones,function(t,e){n.push(["zone-area-"+e,"highcharts-area highcharts-zone-area-"+e+" "+t.className,t.color||i.color,t.fillColor||o.fillColor])}),yr(n,function(t){var e=t[0],n=i[e];n?(n.endX=r.xMap,n.animate({d:r})):(n=i[e]=i.chart.renderer.path(r).addClass(t[1]).attr({fill:wr(t[3],vr(t[2]).setOpacity(wr(o.fillOpacity,.75)).get()),zIndex:0}).add(i.group)).isArea=!0,n.startX=r.xMap,n.shiftUnit=o.step?2:1})},drawLegendSymbol:mr.LegendSymbolMixin.drawRectangle}),Cr=(kr=t).extendClass,_r=kr.merge,Sr=kr.pick,$r=kr.Series,Er=kr.seriesTypes,kr.defaultPlotOptions.spline=_r(kr.defaultPlotOptions.line),Er.spline=Cr($r,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,s,a=e.plotX,l=e.plotY,c=t[n-1];if(n=t[n+1],c&&!c.isNull&&!1!==c.doCurve&&n&&!n.isNull&&!1!==n.doCurve){t=c.plotY,o=n.plotX;var u=0;r=(1.5*l+t)/2.5,s=(1.5*l+(n=n.plotY))/2.5,(o=(1.5*a+o)/2.5)!=(i=(1.5*a+c.plotX)/2.5)&&(u=(s-r)*(o-a)/(o-i)+l-s),s+=u,t<(r+=u)&&l<r?s=2*l-(r=Math.max(t,l)):r<t&&r<l&&(s=2*l-(r=Math.min(t,l))),n<s&&l<s?r=2*l-(s=Math.max(n,l)):s<n&&s<l&&(r=2*l-(s=Math.min(n,l))),e.rightContX=o,e.rightContY=s}return e=["C",Sr(c.rightContX,c.plotX),Sr(c.rightContY,c.plotY),Sr(i,a),Sr(r,l),a,l],c.rightContX=c.rightContY=null,e}}),Dr=(Tr=t).seriesTypes.area.prototype,(0,Tr.seriesType)("areaspline","spline",Tr.defaultPlotOptions.area,{getStackPoints:Dr.getStackPoints,getGraphPath:Dr.getGraphPath,setStackCliffs:Dr.setStackCliffs,drawGraph:Dr.drawGraph,drawLegendSymbol:Tr.LegendSymbolMixin.drawRectangle}),Ar=(Mr=t).animObject,Pr=Mr.color,Or=Mr.each,Nr=Mr.extend,Ir=Mr.isNumber,Lr=Mr.merge,Hr=Mr.pick,Rr=Mr.Series,Fr=Mr.seriesType,zr=Mr.stop,jr=Mr.svg,Fr("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Rr.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Or(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var r,o=this,t=o.options,e=o.xAxis,s=o.yAxis,n=e.reversed,a={},l=0;!1===t.grouping?l=1:Or(o.chart.series,function(t){var e,n=t.options,i=t.yAxis;t.type===o.type&&t.visible&&s.len===i.len&&s.pos===i.pos&&(n.stacking?(r=t.stackKey,void 0===a[r]&&(a[r]=l++),e=a[r]):!1!==n.grouping&&(e=l++),t.columnIndex=e)});var i=Math.min(Math.abs(e.transA)*(e.ordinalSlope||t.pointRange||e.closestPointRange||e.tickInterval||1),e.len),c=i*t.groupPadding,u=(i-2*c)/l;return t=Math.min(t.maxPointWidth||e.len,Hr(t.pointWidth,u*(1-2*t.pointPadding))),o.columnMetrics={width:t,offset:(u-t)/2+(c+((o.columnIndex||0)+(n?1:0))*u-i/2)*(n?-1:1)},o.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=-((s=this.borderWidth)%2?.5:0),s=s%2?.5:1;return r.inverted&&r.renderer.isVML&&(s+=1),n=Math.round(t+n)+o,t=Math.round(t)+o,i=Math.round(e+i)+s,o=Math.abs(e)<=.5&&.5<i,i-=e=Math.round(e)+s,o&&i&&(--e,i+=1),{x:t,y:e,width:n-t,height:i}},translate:function(){var l=this,c=l.chart,t=l.options,e=l.dense=l.closestPointRange*l.xAxis.transA<2,u=(e=l.borderWidth=Hr(t.borderWidth,e?0:1),l.yAxis),h=l.translatedThreshold=u.getThreshold(t.threshold),d=Hr(t.minPointLength,5),n=l.getColumnMetrics(),f=n.width,p=l.barW=Math.max(f,1+2*e),g=l.pointXOffset=n.offset;c.inverted&&(h-=.5),t.pointPadding&&(p=Math.ceil(p)),Rr.prototype.translate.apply(l),Or(l.points,function(t){var e,n=Hr(t.yBottom,h),i=999+Math.abs(n),r=(i=Math.min(Math.max(-i,t.plotY),u.len+i),t.plotX+g),o=p,s=Math.min(i,n),a=Math.max(i,n)-s;Math.abs(a)<d&&d&&(a=d,e=!u.reversed&&!t.negative||u.reversed&&t.negative,s=Math.abs(s-h)>d?n-d:h-(e?d:0)),t.barX=r,t.pointWidth=f,t.tooltipPos=c.inverted?[u.len+u.pos-c.plotLeft-i,l.xAxis.len-r-o/2,a]:[r+o/2,i+u.pos-c.plotTop,a],t.shapeType="rect",t.shapeArgs=l.crispCol.apply(l,t.isNull?[t.plotX,u.len/2,0,0]:[r,s,o,a])})},getSymbol:Mr.noop,drawLegendSymbol:Mr.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,i=this.options,r=(l=this.pointAttrToOptions||{}).stroke||"borderColor",o=l["stroke-width"]||"borderWidth",s=t&&t.color||this.color,a=t[r]||i[r]||this.color||s,l=i.dashStyle;return t&&this.zones.length&&(s=(s=t.getZone())&&s.color||t.options.color||this.color),e&&(n=(e=i.states[e]).brightness,s=e.color||void 0!==n&&Pr(s).brighten(e.brightness).get()||s,a=e[r]||a,l=e.dashStyle||l),t={fill:s,stroke:a,"stroke-width":t[o]||i[o]||this[o]||0},i.borderRadius&&(t.r=i.borderRadius),l&&(t.dashstyle=l),t},drawPoints:function(){var n,i=this,r=this.chart,o=i.options,s=r.renderer,a=o.animationLimit||250;Or(i.points,function(t){var e=t.graphic;Ir(t.plotY)&&null!==t.y?(n=t.shapeArgs,e?(zr(e),e[r.pointCount<a?"animate":"attr"](Lr(n))):t.graphic=e=s[t.shapeType](n).attr({class:t.getClassName()}).add(t.group||i.group),e.attr(i.pointAttribs(t,t.selected&&"select")).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):e&&(t.graphic=e.destroy())})},animate:function(t){var n=this,e=this.yAxis,i=n.options,r=this.chart.inverted,o={};jr&&(t?(o.scaleY=.001,t=Math.min(e.pos+e.len,Math.max(e.pos,e.toPixels(i.threshold))),r?o.translateX=t-e.len:o.translateY=t,n.group.attr(o)):(o[r?"translateX":"translateY"]=e.pos,n.group.animate(o,Nr(Ar(n.options.animation),{step:function(t,e){n.group.attr({scaleY:Math.max(.001,e.pos)})}})),n.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Or(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Rr.prototype.remove.apply(e,arguments)}}),(0,t.seriesType)("bar","column",null,{inverted:!0}),Wr=(Br=t).Series,(Br=Br.seriesType)("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Wr.prototype.drawGraph.call(this)}}),qr=(Vr=t).pick,Yr=Vr.relativeLength,Vr.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,i=this.chart,r=2*(n.slicedOffset||0),o=i.plotWidth-2*r,s=(i=i.plotHeight-2*r,n.center),a=(s=[qr(s[0],"50%"),qr(s[1],"50%"),n.size||"100%",n.innerSize||0],Math.min(o,i));for(t=0;t<4;++t)e=s[t],n=t<2||2===t&&/%$/.test(e),s[t]=Yr(e,[o,i,a,s[2]][t])+(n?r:0);return s[3]>s[2]&&(s[3]=s[2]),s}},Gr=(Ur=t).addEvent,Xr=Ur.defined,Kr=Ur.each,Zr=Ur.extend,Qr=Ur.inArray,Jr=Ur.noop,to=Ur.pick,eo=Ur.Point,no=Ur.Series,io=Ur.seriesType,ro=Ur.setAnimation,io("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:Ur.seriesTypes.column.prototype.pointAttribs,animate:function(t){var i=this,e=i.points,r=i.startAngleRad;t||(Kr(e,function(t){var e=t.graphic,n=t.shapeArgs;e&&(e.attr({r:t.startR||i.center[3]/2,start:r,end:r}),e.animate({r:n.r,start:n.start,end:n.end},i.options.animation))}),i.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)(e=i[t]).y<0&&(e.y=null),n+=o&&!e.visible?0:e.y;for(this.total=n,t=0;t<r;t++)(e=i[t]).percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){no.prototype.generatePoints.call(this),this.updateTotals()},translate:function(n){this.generatePoints();var t,e,i,r,o,s=0,a=(f=this.options).slicedOffset,l=a+(f.borderWidth||0),c=f.startAngle||0,u=this.startAngleRad=Math.PI/180*(c-90),h=(c=(this.endAngleRad=Math.PI/180*(to(f.endAngle,c+360)-90))-u,this.points),d=f.dataLabels.distance,f=f.ignoreHiddenPoint,p=h.length;for(n||(this.center=n=this.getCenter()),this.getX=function(t,e){return i=Math.asin(Math.min((t-n[1])/(n[2]/2+d),1)),n[0]+(e?-1:1)*Math.cos(i)*(n[2]/2+d)},r=0;r<p;r++)o=h[r],t=u+s*c,f&&!o.visible||(s+=o.percentage/100),e=u+s*c,o.shapeType="arc",o.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:Math.round(1e3*t)/1e3,end:Math.round(1e3*e)/1e3},(i=(e+t)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),o.slicedTranslation={translateX:Math.round(Math.cos(i)*a),translateY:Math.round(Math.sin(i)*a)},t=Math.cos(i)*n[2]/2,e=Math.sin(i)*n[2]/2,o.tooltipPos=[n[0]+.7*t,n[1]+.7*e],o.half=i<-Math.PI/2||i>Math.PI/2?1:0,o.angle=i,l=Math.min(l,d/5),o.labelPos=[n[0]+t+Math.cos(i)*d,n[1]+e+Math.sin(i)*d,n[0]+t+Math.cos(i)*l,n[1]+e+Math.sin(i)*l,n[0]+t,n[1]+e,d<0?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var n,i,r,o,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),Kr(s.points,function(t){if(null!==t.y){i=t.graphic,o=t.shapeArgs,n=t.sliced?t.slicedTranslation:{};var e=t.shadowGroup;l&&!e&&(e=t.shadowGroup=a.g("shadow").add(s.shadowGroup)),e&&e.attr(n),r=s.pointAttribs(t,t.selected&&"select"),i?i.setRadialReference(s.center).attr(r).animate(Zr(o,n)):(t.graphic=i=a[t.shapeType](o).addClass(t.getClassName()).setRadialReference(s.center).attr(n).add(s.group),t.visible||i.attr({visibility:"hidden"}),i.attr(r).attr({"stroke-linejoin":"round"}).shadow(l,e))}})},searchPoint:Jr,sortByAngle:function(t,n){t.sort(function(t,e){return void 0!==t.angle&&(e.angle-t.angle)*n})},drawLegendSymbol:Ur.LegendSymbolMixin.drawRectangle,getCenter:Ur.CenteredSeriesMixin.getCenter,getSymbol:Jr},{init:function(){eo.prototype.init.apply(this,arguments);var t,e=this;return e.name=to(e.name,"Slice"),Gr(e,"select",t=function(t){e.slice("select"===t.type)}),Gr(e,"unselect",t),e},setVisible:function(e,t){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint;t=to(t,o),e!==n.visible&&(n.visible=n.options.visible=e=void 0===e?!n.visible:e,i.options.data[Qr(n,i.data)]=n.options,Kr(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,e),e||"hover"!==n.state||n.setState(""),o&&(i.isDirty=!0),t&&r.redraw())},slice:function(t,e,n){var i=this.series;ro(n,i.chart),to(e,!0),this.sliced=this.options.sliced=t=Xr(t)?t:!this.sliced,i.options.data[Qr(this,i.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),so=(oo=t).addEvent,ao=oo.arrayMax,lo=oo.defined,co=oo.each,uo=oo.extend,ho=oo.format,fo=oo.map,po=oo.merge,go=oo.noop,mo=oo.pick,vo=oo.relativeLength,yo=oo.Series,bo=oo.seriesTypes,wo=oo.stableSort,xo=oo.stop,oo.distribute=function(t,e){function n(t,e){return t.target-e.target}var i,r,o=!0,s=t,a=[];for(r=0,i=t.length;i--;)r+=t[i].size;if(e<r){for(wo(t,function(t,e){return(e.rank||0)-(t.rank||0)}),r=i=0;r<=e;)r+=t[i].size,i++;a=t.splice(i-1,t.length)}for(wo(t,n),t=fo(t,function(t){return{size:t.size,targets:[t.target]}});o;){for(i=t.length;i--;)o=t[i],r=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,r-o.size/2),e-o.size);for(i=t.length,o=!1;i--;)0<i&&t[i-1].pos+t[i-1].size>t[i].pos&&(t[i-1].size+=t[i].size,t[i-1].targets=t[i-1].targets.concat(t[i].targets),t[i-1].pos+t[i-1].size>e&&(t[i-1].pos=e-t[i-1].size),t.splice(i,1),o=!0)}i=0,co(t,function(t){var e=0;co(t.targets,function(){s[i].pos=t.pos+e,e+=s[i].size,i++})}),s.push.apply(s,a),wo(s,n)},yo.prototype.drawDataLabels=function(){var c,u,h,d,f=this,p=f.options,g=p.dataLabels,t=f.points,e=f.hasRendered||0,n=mo(g.defer,!0),m=f.chart.renderer;(g.enabled||f._hasPointLabels)&&(f.dlProcessOptions&&f.dlProcessOptions(g),d=f.plotGroup("dataLabelsGroup","data-labels",n&&!e?"hidden":"visible",g.zIndex||6),n&&(d.attr({opacity:+e}),e||so(f,"afterAnimate",function(){f.visible&&d.show(!0),d[p.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=g,co(t,function(t){var e,n,i,r,o=t.dataLabel,s=t.connector,a=!0,l={};if(c=t.dlOptions||t.options&&t.options.dataLabels,e=mo(c&&c.enabled,u.enabled)&&null!==t.y,o&&!e)t.dataLabel=o.destroy();else if(e){if(r=(g=po(u,c)).style,e=g.rotation,n=t.getLabelConfig(),h=g.format?ho(g.format,n):g.formatter.call(n,g),r.color=mo(g.color,r.color,f.color,"#000000"),o)lo(h)?(o.attr({text:h}),a=!1):(t.dataLabel=o=o.destroy(),s&&(t.connector=s.destroy()));else if(lo(h)){for(i in o={fill:g.backgroundColor,stroke:g.borderColor,"stroke-width":g.borderWidth,r:g.borderRadius||0,rotation:e,padding:g.padding,zIndex:1},"contrast"===r.color&&(l.color=g.inside||g.distance<0||p.stacking?m.getContrast(t.color||f.color):"#000000"),p.cursor&&(l.cursor=p.cursor),o)void 0===o[i]&&delete o[i];(o=t.dataLabel=m[e?"text":"label"](h,0,-9999,g.shape,null,null,g.useHTML,null,"data-label").attr(o)).addClass("highcharts-data-label-color-"+t.colorIndex+" "+(g.className||"")),o.css(uo(r,l)),o.add(d),o.shadow(g.shadow)}o&&f.alignDataLabel(t,o,g,null,a)}}))},yo.prototype.alignDataLabel=function(t,e,n,i,r){var o,s=this.chart,a=s.inverted,l=mo(t.plotX,-9999),c=mo(t.plotY,-9999),u=e.getBBox(),h=n.rotation,d=n.align,f=this.visible&&(t.series.forceDL||s.isInsidePlot(l,Math.round(c),a)||i&&s.isInsidePlot(l,a?i.x+1:i.y+i.height-1,a)),p="justify"===mo(n.overflow,"justify");f&&(o=n.style.fontSize,o=s.renderer.fontMetrics(o,e).b,i=uo({x:a?s.plotWidth-c:l,y:Math.round(a?s.plotHeight-l:c),width:0,height:0},i),uo(n,{width:u.width,height:u.height}),h?(p=!1,a=s.renderer.rotCorr(o,h),a={x:i.x+n.x+i.width/2+a.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](a).attr({align:d}),l=180<(l=(h+720)%360)&&l<360,"left"===d?a.y-=l?u.height:0:"center"===d?(a.x-=u.width/2,a.y-=u.height/2):"right"===d&&(a.x-=u.width,a.y-=l?0:u.height)):(e.align(n,null,i),a=e.alignAttr),p?this.justifyDataLabel(e,n,a,u,i,r):mo(n.crop,!0)&&(f=s.isInsidePlot(a.x,a.y)&&s.isInsidePlot(a.x+u.width,a.y+u.height)),n.shape&&!h&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),f||(xo(e),e.attr({y:-9999}),e.placed=!1)},yo.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,h=t.box?0:t.padding||0;(s=n.x+h)<0&&("right"===c?e.align="left":e.x=-s,a=!0),(s=n.x+i.width-h)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),(s=n.y+h)<0&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),(s=n.y+i.height-h)>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},bo.pie&&(bo.pie.prototype.drawDataLabels=function(){var l,n,c,u,h,d,f,p,g,m,v=this,t=v.data,y=v.chart,b=v.options.dataLabels,w=mo(b.connectorPadding,10),i=mo(b.connectorWidth,1),x=y.plotWidth,k=y.plotHeight,C=b.distance,_=v.center,S=_[2]/2,$=_[1],e=0<C,r=[[],[]],E=[0,0,0,0];v.visible&&(b.enabled||v._hasPointLabels)&&(yo.prototype.drawDataLabels.apply(v),co(t,function(t){t.dataLabel&&t.visible&&(r[t.half].push(t),t.dataLabel._pos=null)}),co(r,function(t,e){var n,i,r,o,s,a=t.length;if(a)for(v.sortByAngle(t,e-.5),0<C&&(n=Math.max(0,$-S-C),i=Math.min($+S+C,y.plotHeight),r=fo(t,function(t){if(t.dataLabel)return s=t.dataLabel.getBBox().height||21,{target:t.labelPos[1]-n+s/2,size:s,rank:t.y}}),oo.distribute(r,i+s-n)),m=0;m<a;m++)l=t[m],h=l.labelPos,c=l.dataLabel,g=!1===l.visible?"hidden":"inherit",o=h[1],r?void 0===r[m].pos?g="hidden":(d=r[m].size,p=n+r[m].pos):p=o,f=b.justify?_[0]+(e?-1:1)*(S+C):v.getX(p<n+2||i-2<p?o:p,e),c._attr={visibility:g,align:h[6]},c._pos={x:f+b.x+({left:w,right:-w}[h[6]]||0),y:p+b.y-10},h.x=f,h.y=p,null===v.options.size&&(u=c.width,f-u<w?E[3]=Math.max(Math.round(u-f+w),E[3]):x-w<f+u&&(E[1]=Math.max(Math.round(f+u-x+w),E[1])),p-d/2<0?E[0]=Math.max(Math.round(d/2-p),E[0]):k<p+d/2&&(E[2]=Math.max(Math.round(p+d/2-k),E[2])))}),0===ao(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),e&&i&&co(this.points,function(t){var e;n=t.connector,(c=t.dataLabel)&&c._pos&&t.visible?(g=c._attr.visibility,(e=!n)&&(t.connector=n=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(v.dataLabelsGroup),n.attr({"stroke-width":i,stroke:b.connectorColor||t.color||"#666666"})),n[e?"attr":"animate"]({d:v.connectorPath(t.labelPos)}),n.attr("visibility",g)):n&&(t.connector=n.destroy())}))},bo.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return mo(this.options.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},bo.pie.prototype.placeDataLabels=function(){co(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},bo.pie.prototype.alignDataLabel=go,bo.pie.prototype.verifyDataLabelOverflow=function(t){var e,n,i=this.center,r=this.options,o=r.center,s=r.minSize||80;return null!==o[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),s):(e=Math.max(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==o[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),s):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(vo(r.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):n=!0,n}),bo.column&&(bo.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,l=mo(t.below,t.plotY>mo(this.translatedThreshold,s.yAxis.len)),c=mo(n.inside,!!this.options.stacking);a&&((i=po(a)).y<0&&(i.height+=i.y,i.y=0),0<(a=i.y+i.height-s.yAxis.len)&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),c||(o?(i.x+=l?0:i.width,i.width=0):(i.y+=l?i.height:0,i.height=0))),n.align=mo(n.align,!o||c?"center":l?"right":"left"),n.verticalAlign=mo(n.verticalAlign,o||c?"middle":l?"top":"bottom"),yo.prototype.alignDataLabel.call(this,t,e,n,i,r)}),Co=(ko=t).Chart,_o=ko.each,So=ko.pick,$o=ko.addEvent,Co.prototype.callbacks.push(function(t){function e(){var i=[];_o(t.series,function(t){var e=t.options.dataLabels,n=t.dataLabelCollections||["dataLabel"];(e.enabled||t._hasPointLabels)&&!e.allowOverlap&&t.visible&&_o(n,function(e){_o(t.points,function(t){t[e]&&(t[e].labelrank=So(t.labelrank,t.shapeArgs&&t.shapeArgs.height),i.push(t[e]))})})}),t.hideOverlappingLabels(i)}e(),$o(t,"redraw",e)}),Co.prototype.hideOverlappingLabels=function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y=t.length;for(n=0;n<y;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<y;n++)for(i=t[n],e=n+1;e<y;++e)r=t[e],i&&r&&i.placed&&r.placed&&0!==i.newOpacity&&0!==r.newOpacity&&(o=i.alignAttr,s=r.alignAttr,a=i.parentGroup,l=r.parentGroup,c=2*(i.box?0:i.padding),u=o.x+a.translateX,h=o.y+a.translateY,d=i.width-c,f=i.height-c,p=s.x+l.translateX,g=s.y+l.translateY,m=r.width-c,v=r.height-c,o=!(u+d<p||p+m<u||h+f<g||g+v<h))&&((i.labelrank<r.labelrank?i:r).newOpacity=0);_o(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})},Do=(Eo=t).addEvent,Mo=Eo.Chart,Ao=Eo.createElement,Po=Eo.css,Oo=Eo.defaultOptions,No=Eo.defaultPlotOptions,Io=Eo.each,Lo=Eo.extend,Ho=Eo.fireEvent,Ro=Eo.hasTouch,Fo=Eo.inArray,zo=Eo.isObject,jo=Eo.Legend,Bo=Eo.merge,Wo=Eo.pick,Vo=Eo.Point,qo=Eo.Series,Yo=Eo.seriesTypes,Uo=Eo.svg,To=Eo.TrackerMixin={drawTrackerPoint:function(){var e=this,i=e.chart,n=i.pointer,r=function(t){for(var e,n=t.target;n&&!e;)e=n.point,n=n.parentNode;void 0!==e&&e!==i.hoverPoint&&e.onMouseOver(t)};Io(e.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),e._hasTracking||(Io(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(t){n.onTrackerMouseOut(t)}),Ro&&e[t].on("touchstart",r),e.options.cursor&&e[t].css(Po).css({cursor:e.options.cursor}))}),e._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,l=s.renderer,c=s.options.tooltip.snap,u=e.tracker,h=function(){s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(Uo?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-c,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+c,r[t-1]);u?u.attr({d:r}):e.graph&&(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:i?d:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*c),zIndex:2}).add(e.group),Io([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),Ro&&t.on("touchstart",h)}))}},Yo.column&&(Yo.column.prototype.drawTracker=To.drawTrackerPoint),Yo.pie&&(Yo.pie.prototype.drawTracker=To.drawTrackerPoint),Yo.scatter&&(Yo.scatter.prototype.drawTracker=To.drawTrackerPoint),Lo(jo.prototype,{setItemEvents:function(n,t,e){var i=this,r=i.chart,o="highcharts-legend-"+(n.series?"point":"series")+"-active";(e?t:n.legendGroup).on("mouseover",function(){n.setState("hover"),r.seriesGroup.addClass(o),t.css(i.options.itemHoverStyle)}).on("mouseout",function(){t.css(n.visible?i.itemStyle:i.itemHiddenStyle),r.seriesGroup.removeClass(o),n.setState()}).on("click",function(t){var e=function(){n.setVisible&&n.setVisible()};t={browserEvent:t},n.firePointEvent?n.firePointEvent("legendItemClick",t,e):Ho(n,"legendItemClick",t,e)})},createCheckboxForItem:function(e){e.checkbox=Ao("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Do(e.checkbox,"click",function(t){Ho(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),Oo.legend.itemStyle.cursor="pointer",Lo(Mo.prototype,{showResetZoom:function(){var t=this,e=Oo.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,o)},zoomOut:function(){var t=this;Ho(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var i,e,r=this.pointer,o=!1;!t||t.resetSelection?Io(this.axes,function(t){i=t.zoom()}):Io(t.xAxis.concat(t.yAxis),function(t){var e=t.axis,n=e.isXAxis;(r[n?"zoomX":"zoomY"]||r[n?"pinchX":"pinchY"])&&(i=e.zoom(t.min,t.max),e.displayBtn&&(o=!0))}),e=this.resetZoomButton,o&&!e?this.showResetZoom():!o&&zo(e)&&(this.resetZoomButton=e.destroy()),i&&this.redraw(Wo(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(a,t){var l,c=this,e=c.hoverPoints;e&&Io(e,function(t){t.setState()}),Io("xy"===t?[1,0]:[1],function(t){var e=(t=c[t?"xAxis":"yAxis"][0]).horiz,n=a[e?"chartX":"chartY"],i=c[e=e?"mouseDownX":"mouseDownY"],r=(t.pointRange||0)/2,o=t.getExtremes(),s=t.toValue(i-n,!0)+r;r=t.toValue(i+t.len-n,!0)-r,i=n<i,t.series.length&&(i||s>Math.min(o.dataMin,o.min))&&(!i||r<Math.max(o.dataMax,o.max))&&(t.setExtremes(s,r,!1,!1,{trigger:"pan"}),l=!0),c[e]=n}),l&&c.redraw(!1),Po(c.container,{cursor:"move"})}}),Lo(Vo.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=Wo(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[Fo(n,i.data)]=n.options,n.setState(t&&"select"),e||Io(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[Fo(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var n=this.series,i=n.chart,r=i.tooltip,o=i.hoverPoint;this.series&&(e||(o&&o!==this&&o.onMouseOut(),i.hoverSeries!==n&&n.onMouseOver(),i.hoverPoint=this),!r||r.shared&&!n.noSharedTooltip?r||this.setState("hover"):(this.setState("hover"),r.refresh(this,t)),this.firePointEvent("mouseOver"))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==Fo(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=Bo(this.series.options.point,this.options).events;for(t in this.events=e)Do(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t]||{},a=No[o.type].marker&&o.options.marker,l=a&&!1===a.enabled,c=a&&a.states&&a.states[t]||{},u=!1===c.enabled,h=o.stateMarkerGraphic,d=this.marker||{},f=o.chart,p=o.halo;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(u||l&&!1===c.enabled)||t&&d.states&&d.states[t]&&!1===d.states[t].enabled||(a&&o.markerAttribs&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.attr(o.pointAttribs(this,t)),n&&this.graphic.animate(n,Wo(f.options.chart.animation,c.animation,a.animation)),h&&h.hide()):(t&&c&&(a=d.symbol||o.symbol,h&&h.currentSymbol!==a&&(h=h.destroy()),h?h[e?"animate":"attr"]({x:n.x,y:n.y}):a&&(o.stateMarkerGraphic=h=f.renderer.symbol(a,n.x,n.y,n.width,n.height).add(o.markerGroup),h.currentSymbol=a),h&&h.attr(o.pointAttribs(this,t))),h&&(h[t&&f.isInsidePlot(i,r,f.inverted)?"show":"hide"](),h.element.point=this)),(i=s.halo)&&i.size?(p||(o.halo=p=f.renderer.path().add(o.markerGroup||o.group)),Eo.stop(p),p[e?"animate":"attr"]({d:this.haloPath(i.size)}),p.attr({class:"highcharts-halo highcharts-color-"+Wo(this.colorIndex,o.colorIndex)}),p.attr(Lo({fill:this.color||o.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))):p&&p.animate({d:this.haloPath(0)}),this.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),Lo(qo.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Ho(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&Ho(this,"mouseOut"),!n||t.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(e){var n=this,t=n.options,i=n.graph,r=t.states,o=t.lineWidth;if(t=0,e=e||"",n.state!==e&&(Io([n.group,n.markerGroup],function(t){t&&(n.state&&t.removeClass("highcharts-series-"+n.state),e&&t.addClass("highcharts-series-"+e))}),!r[n.state=e]||!1!==r[e].enabled)&&(e&&(o=r[e].lineWidth||o+(r[e].lineWidthPlus||0)),i&&!i.dashstyle))for(r={"stroke-width":o},i.attr(r);n["zone-graph-"+t];)n["zone-graph-"+t].attr(r),t+=1},setVisible:function(e,t){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=e=i.options.visible=i.userOptions.visible=void 0===e?!a:e)?"show":"hide",Io(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&Io(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Io(i.linkedSeries,function(t){t.setVisible(e,!1)}),s&&(r.isDirtyBox=!0),!1!==t&&r.redraw(),Ho(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Ho(this,t?"select":"unselect")},drawTracker:To.drawTrackerGraph}),Xo=(Go=t).Chart,Ko=Go.each,Zo=Go.inArray,Qo=Go.isObject,Jo=Go.pick,ts=Go.splat,Xo.prototype.setResponsive=function(e){var t=this.options.responsive;t&&t.rules&&Ko(t.rules,function(t){this.matchResponsiveRule(t,e)},this)},Xo.prototype.matchResponsiveRule=function(t,e){var n,i=this.respRules,r=t.condition;n=t.callback||function(){return this.chartWidth<=Jo(r.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Jo(r.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Jo(r.minWidth,0)&&this.chartHeight>=Jo(r.minHeight,0)},void 0===t._id&&(t._id=Go.idCounter++),n=n.call(this),!i[t._id]&&n?t.chartOptions&&(i[t._id]=this.currentOptions(t.chartOptions),this.update(t.chartOptions,e)):i[t._id]&&!n&&(this.update(i[t._id],e),delete i[t._id])},Xo.prototype.currentOptions=function(t){var e={};return function t(e,n,i){var r,o;for(r in e)if(-1<Zo(r,["series","xAxis","yAxis"]))for(e[r]=ts(e[r]),i[r]=[],o=0;o<e[r].length;o++)i[r][o]={},t(e[r][o],n[r][o],i[r][o]);else Qo(e[r])?(i[r]={},t(e[r],n[r]||{},i[r])):i[r]=n[r]||null}(t,this.options,e),e},t}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";function y(t,e,n){void 0===n&&(n=0),n<0&&(n+=t.length),n<0&&(n=0);for(var i=t.length;n<i;n++)if(n in t&&t[n]===e)return n;return-1}function o(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(this,t),i?i.apply(this,t):void 0}}function s(t,e){if(angular.isArray(e)){t=angular.isArray(t)?t:[];for(var n=0;n<e.length;n++)t[n]=s(t[n]||{},e[n])}else if(angular.isObject(e))for(var i in t=angular.isObject(t)?t:{},e)t[i]=s(t[i]||{},e[i]);else t=e;return t}angular.module("highcharts-ng",[]).factory("highchartsNG",["$q","$window",function(t,e){var n=t.when(e.Highcharts);function i(){return n}return{getHighcharts:i,ready:function(t,e){i().then(function(){t.call(e)})}}}]).directive("highchart",["highchartsNG","$timeout",function(i,a){var n=0,h=function(t){var e=!1;return angular.forEach(t,function(t){angular.isDefined(t.id)||(t.id="series-"+n++,e=!0)}),e},d=["xAxis","yAxis"],e={stock:"StockChart",map:"Map",chart:"Chart"},f=function(i,t,e){var r={},n={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1},xAxis:{events:{}},yAxis:{events:{}}};return(r=e.options?s(n,e.options):n).chart.renderTo=t[0],angular.forEach(d,function(n){angular.isDefined(e[n])&&(r[n]=s(r[n]||{},e[n]),(angular.isDefined(e[n].currentMin)||angular.isDefined(e[n].currentMax))&&(o(r.chart.events,"selection",function(t){var e=this;t[n]?i.$apply(function(){i.config[n].currentMin=t[n][0].min,i.config[n].currentMax=t[n][0].max}):i.$apply(function(){i.config[n].currentMin=e[n][0].dataMin,i.config[n].currentMax=e[n][0].dataMax})}),o(r.chart.events,"addSeries",function(t){i.config[n].currentMin=this[n][0].min||i.config[n].currentMin,i.config[n].currentMax=this[n][0].max||i.config[n].currentMax}),o(r[n].events,"setExtremes",function(t){t.trigger&&"zoom"!==t.trigger&&a(function(){i.config[n].currentMin=t.min,i.config[n].currentMax=t.max,i.config[n].min=t.min,i.config[n].max=t.max},0)})))}),e.title&&(r.title=e.title),e.subtitle&&(r.subtitle=e.subtitle),e.credits&&(r.credits=e.credits),e.size&&(e.size.width&&(r.chart.width=e.size.width),e.size.height&&(r.chart.height=e.size.height)),r},p=function(t,e){var n=t.getExtremes();e.currentMin===n.dataMin&&e.currentMax===n.dataMax||(t.setExtremes?t.setExtremes(e.currentMin,e.currentMax,!1):t.detachedsetExtremes(e.currentMin,e.currentMax,!1))},g=function(t,e,n){(e.currentMin||e.currentMax)&&t[n][0].setExtremes(e.currentMin,e.currentMax,!0)},m=function(t){return angular.extend(s({},t),{data:null,visible:null})},v=function(t){return void 0===t.config?"Chart":e[(""+t.config.chartType).toLowerCase()]||(t.config.useHighStocks?"StockChart":"Chart")};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:function(e,n,t){i.getHighcharts().then(function(t){!function(o,l,s,t){var c={},u=!1,i=function(t,s){var e,a=[];if(t){var n=h(t);if(n&&!l.disableDataWatch)return!1;if(angular.forEach(t,function(t,e){a.push(t.id);var n=u.get(t.id);if(n)if(angular.equals(c[t.id],m(t)))if(void 0!==t.visible&&n.visible!==t.visible&&n.setVisible(t.visible,!1),e<s.length){var i=s[e],r=angular.copy(i),o=t.data[t.data.length-1];r.data.push(o),angular.equals(r,t)?n.addPoint(o,!1):(r.data.shift(),angular.equals(r,t)?n.addPoint(o,!1,!0):n.setData(angular.copy(t.data),!1))}else n.setData(angular.copy(t.data),!1);else n.update(angular.copy(t),!1);else u.addSeries(angular.copy(t),!1);c[t.id]=m(t)}),l.config.noData){var i=!1;for(e=0;e<t.length;e++)if(t[e].data&&0<t[e].data.length){i=!0;break}i?u.hideLoading():u.showLoading(l.config.noData)}}for(e=u.series.length-1;0<=e;e--){var r=u.series[e];"highcharts-navigator-series"!==r.options.id&&y(a,r.options.id)<0&&r.remove(!1)}return!0},r=function(){u&&u.destroy(),c={};var t=l.config||{},e=f(l,s,t),n=t.func||void 0,i=v(l);u=new o[i](e,n);for(var r=0;r<d.length;r++)t[d[r]]&&g(u,t[d[r]],d[r]);t.loading&&u.showLoading(),t.getHighcharts=function(){return u}};r(),l.disableDataWatch?l.$watchCollection("config.series",function(t,e){i(t),u.redraw()}):l.$watch("config.series",function(t,e){var n=i(t,e);n&&u.redraw()},!0);l.$watch("config.title",function(t){u.setTitle(t,!0)},!0),l.$watch("config.subtitle",function(t){u.setTitle(!0,t)},!0),l.$watch("config.loading",function(t){t?u.showLoading(!0===t?null:t):u.hideLoading()}),l.$watch("config.noData",function(t){l.config&&l.config.loading&&u.showLoading(t)},!0),l.$watch("config.credits.enabled",function(t){t?u.credits.show():u.credits&&u.credits.hide()}),l.$watch(v,function(t,e){t!==e&&r()}),angular.forEach(d,function(i){l.$watch("config."+i,function(t){if(t){if(angular.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];e<u[i].length&&(u[i][e].update(n,!1),p(u[i][e],angular.copy(n)))}else u[i][0].update(t,!1),p(u[i][0],angular.copy(t));u.redraw()}},!0)}),l.$watch("config.options",function(t,e,n){t!==e&&(r(),i(n.config.series),u.redraw())},!0),l.$watch("config.size",function(t,e){t!==e&&t&&u.setSize(t.width||u.chartWidth,t.height||u.chartHeight)},!0),l.$on("highchartsng.reflow",function(){u.reflow()}),l.$on("$destroy",function(){if(u){try{u.destroy()}catch(t){}a(function(){s.remove()},0)}})}(t,e,n)})}}}])}(),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(r,i){function o(t){return"static"===(n="position",((e=t).currentStyle?e.currentStyle[n]:i.getComputedStyle?i.getComputedStyle(e)[n]:e.style[n])||"static");var e,n}return{position:function(t){var e=this.offset(t),n={top:0,left:0},i=function(t){for(var e=r[0],n=t.offsetParent||e;n&&n!==e&&o(n);)n=n.offsetParent;return n||e}(t[0]);return i!=r[0]&&((n=this.offset(angular.element(i))).top+=i.clientTop-i.scrollTop,n.left+=i.clientLeft-i.scrollLeft),{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:e.top-n.top,left:e.left-n.left}},offset:function(t){var e=t[0].getBoundingClientRect();return{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:e.top+(i.pageYOffset||r[0].body.scrollTop||r[0].documentElement.scrollTop),left:e.left+(i.pageXOffset||r[0].body.scrollLeft||r[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(i,t,p,e){var g={day:n(t.dayFormat,e.dayFormat),month:n(t.monthFormat,e.monthFormat),year:n(t.yearFormat,e.yearFormat),dayHeader:n(t.dayHeaderFormat,e.dayHeaderFormat),dayTitle:n(t.dayTitleFormat,e.dayTitleFormat),monthTitle:n(t.monthTitleFormat,e.monthTitleFormat)},m=n(t.startingDay,e.startingDay),a=n(t.yearRange,e.yearRange);function n(t,e){return angular.isDefined(t)?i.$parent.$eval(t):e}function v(t,e,n,i){return{date:t,label:p(t,e),selected:!!n,secondary:!!i}}this.minDate=e.minDate?new Date(e.minDate):null,this.maxDate=e.maxDate?new Date(e.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(t,e){var n=t.getFullYear(),i=t.getMonth(),r=new Date(n,i,1),o=m-r.getDay(),s=0<o?7-o:-o,a=new Date(r),l=0;0<s&&(a.setDate(1-s),l+=s),l+=new Date(n,i+1,0).getDate();for(var c=function(t,e){for(var n=new Array(e),i=t,r=0;r<e;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}(a,l+=(7-l%7)%7),u=new Array(7),h=0;h<l;h++){var d=new Date(c[h]);c[h]=v(d,g.day,e&&e.getDate()===d.getDate()&&e.getMonth()===d.getMonth()&&e.getFullYear()===d.getFullYear(),d.getMonth()!==i)}for(var f=0;f<7;f++)u[f]=p(c[f].date,g.dayHeader);return{objects:c,title:p(t,g.dayTitle),labels:u}},compare:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(t,e){for(var n=new Array(12),i=t.getFullYear(),r=0;r<12;r++){var o=new Date(i,r,1);n[r]=v(o,g.month,e&&e.getMonth()===r&&e.getFullYear()===i)}return{objects:n,title:p(t,g.monthTitle)}},compare:function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(t,e){for(var n=new Array(a),i=t.getFullYear(),r=parseInt((i-1)/a,10)*a+1,o=0;o<a;o++){var s=new Date(r+o,0,1);n[o]=v(s,g.year,e&&e.getFullYear()===s.getFullYear())}return{objects:n,title:[n[0].label,n[a-1].label].join(" - ")}},compare:function(t,e){return t.getFullYear()-e.getFullYear()},split:5,step:{years:a}}],this.isDisabled=function(t,e){var n=this.modes[e||0];return this.minDate&&n.compare(t,this.minDate)<0||this.maxDate&&0<n.compare(t,this.maxDate)||i.dateDisabled&&i.dateDisabled({date:t,mode:n.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(t,d,f,p){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(o,t,e,n){var s=n[0],a=n[1];if(a){var l=0,c=new Date,i=f.showWeeks;e.showWeeks?o.$parent.$watch(d(e.showWeeks),function(t){i=!!t,r()}):r(),e.min&&o.$parent.$watch(d(e.min),function(t){s.minDate=t?new Date(t):null,u()}),e.max&&o.$parent.$watch(d(e.max),function(t){s.maxDate=t?new Date(t):null,u()}),a.$render=function(){u(!0)},o.select=function(t){if(0===l){var e=new Date(a.$modelValue);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),a.$setViewValue(e),u(!0)}else c=t,h(l-1)},o.move=function(t){var e=s.modes[l].step;c.setMonth(c.getMonth()+t*(e.months||0)),c.setFullYear(c.getFullYear()+t*(e.years||0)),u()},o.toggleMode=function(){h((l+1)%s.modes.length)},o.getWeekNumber=function(t){return 0===l&&o.showWeekNumbers&&7===t.length?function(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}(t[0].date):null}}function r(){o.showWeekNumbers=0===l&&i}function u(t){var e=null,n=!0;a.$modelValue&&(e=new Date(a.$modelValue),isNaN(e)?(n=!1,p.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(c=e)),a.$setValidity("date",n);var i=s.modes[l],r=i.getVisibleDates(c,e);angular.forEach(r.objects,function(t){t.disabled=s.isDisabled(t.date,l)}),a.$setValidity("date-disabled",!e||!s.isDisabled(e)),o.rows=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n}(r.objects,i.split),o.labels=r.labels||[],o.title=r.title}function h(t){l=t,r(),u()}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(w,x,k,C,_,S){return{restrict:"EA",require:"ngModel",link:function(i,e,t,n){var r,o,s=angular.isDefined(t.closeOnDateSelection)?l.$eval(t.closeOnDateSelection):S.closeOnDateSelection,a=t.datepickerPopup||S.dateFormat,l=i.$new();function c(t){o?o(i,!!t):l.isOpen=!!t}i.$on("$destroy",function(){l.$destroy()}),t.isOpen&&(r=x(t.isOpen),o=r.assign,i.$watch(r,function(t){l.isOpen=!!t})),l.isOpen=!!r&&r(i);var u=function(t){l.isOpen&&t.target!==e[0]&&l.$apply(function(){c(!1)})},h=function(){l.$apply(function(){c(!0)})},d=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");d.attr({"ng-model":"date","ng-change":"dateSelection()"});var f=d.find("datepicker");function p(){l.date=n.$modelValue,m()}function g(t,e,n){t&&(i.$watch(x(t),function(t){l[e]=t}),f.attr(n||e,e))}function m(){l.position=C.position(e),l.position.top=l.position.top+e.prop("offsetHeight")}t.datepickerOptions&&f.attr(angular.extend({},i.$eval(t.datepickerOptions))),n.$parsers.unshift(function(t){if(!t)return n.$setValidity("date",!0),null;if(angular.isDate(t))return n.$setValidity("date",!0),t;if(angular.isString(t)){var e=new Date(t);return isNaN(e)?void n.$setValidity("date",!1):(n.$setValidity("date",!0),e)}n.$setValidity("date",!1)}),l.dateSelection=function(){n.$setViewValue(l.date),n.$render(),s&&c(!1)},e.bind("input change keyup",function(){l.$apply(function(){p()})}),n.$render=function(){var t=n.$viewValue?_(n.$viewValue,a):"";e.val(t),p()},g(t.min,"min"),g(t.max,"max"),t.showWeeks?g(t.showWeeks,"showWeeks","show-weeks"):(l.showWeeks=!0,f.attr("show-weeks","showWeeks")),t.dateDisabled&&f.attr("date-disabled",t.dateDisabled);var v=!1,y=!1;l.$watch("isOpen",function(t){t?(m(),k.bind("click",u),y&&e.unbind("focus",h),e[0].focus(),v=!0):(v&&k.unbind("click",u),e.bind("focus",h),y=!0),o&&o(i,t)});var b=x(t.ngModel).assign;l.today=function(){b(i,new Date)},l.clear=function(){b(i,null)},e.after(w(d)(l))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e,n){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var o={placement:"top",animation:!0,popupDelay:0},s={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(t){angular.extend(a,t)},this.setTriggers=function(t){angular.extend(s,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(t,w,x,k,C,_,r){return function(g,m,n){var v=angular.extend({},o,a);function y(t){var e=t||v.trigger||n;return{show:e,hide:s[e]||e}}var t=g.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),e=r.startSymbol(),i=r.endSymbol(),b="<"+t+'-popup title="'+e+"tt_title"+i+'" content="'+e+"tt_content"+i+'" placement="'+e+"tt_placement"+i+'" animation="tt_animation()" is-open="tt_isOpen"></'+t+"-popup>";return{restrict:"EA",scope:!0,link:function(r,o,t){var s,e,a,l=w(b)(r),c=!!angular.isDefined(v.appendToBody)&&v.appendToBody,n=y(void 0),i=!1;function u(){r.tt_isOpen?d():h()}function h(){r.tt_popupDelay?e=x(f,r.tt_popupDelay):r.$apply(f)}function d(){r.$apply(function(){p()})}function f(){var t,e,n,i;if(r.tt_content){switch(s&&x.cancel(s),l.css({top:0,left:0,display:"block"}),c?(a=a||C.find("body")).append(l):o.after(l),t=c?_.offset(o):_.position(o),e=l.prop("offsetWidth"),n=l.prop("offsetHeight"),r.tt_placement){case"right":i={top:t.top+t.height/2-n/2,left:t.left+t.width};break;case"bottom":i={top:t.top+t.height,left:t.left+t.width/2-e/2};break;case"left":i={top:t.top+t.height/2-n/2,left:t.left-e};break;default:i={top:t.top-n,left:t.left+t.width/2-e/2}}i.top+="px",i.left+="px",l.css(i),r.tt_isOpen=!0}}function p(){r.tt_isOpen=!1,x.cancel(e),angular.isDefined(r.tt_animation)&&r.tt_animation()?s=x(function(){l.remove()},500):l.remove()}r.tt_isOpen=!1,t.$observe(g,function(t){r.tt_content=t}),t.$observe(m+"Title",function(t){r.tt_title=t}),t.$observe(m+"Placement",function(t){r.tt_placement=angular.isDefined(t)?t:v.placement}),t.$observe(m+"Animation",function(t){r.tt_animation=angular.isDefined(t)?k(t):function(){return v.animation}}),t.$observe(m+"PopupDelay",function(t){var e=parseInt(t,10);r.tt_popupDelay=isNaN(e)?v.popupDelay:e}),t.$observe(m+"Trigger",function(t){i&&(o.unbind(n.show,h),o.unbind(n.hide,d)),(n=y(t)).show===n.hide?o.bind(n.show,u):(o.bind(n.show,h),o.bind(n.hide,d)),i=!0}),t.$observe(m+"AppendToBody",function(t){c=angular.isDefined(t)?k(t)(r):c}),c&&r.$on("$locationChangeSuccess",function(){r.tt_isOpen&&p()}),r.$on("$destroy",function(){r.tt_isOpen?p():l.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(w,x,k){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,t,e,r){if(r){var o=new Date,s=k.meridians,n=k.hourStep;e.hourStep&&i.$parent.$watch(w(e.hourStep),function(t){n=parseInt(t,10)});var a=k.minuteStep;e.minuteStep&&i.$parent.$watch(w(e.minuteStep),function(t){a=parseInt(t,10)}),i.showMeridian=k.showMeridian,e.showMeridian&&i.$parent.$watch(w(e.showMeridian),function(t){if(i.showMeridian=!!t,r.$error.time){var e=f(),n=p();angular.isDefined(e)&&angular.isDefined(n)&&(o.setHours(e),m())}else y()});var l=t.find("input"),c=l.eq(0),u=l.eq(1);if(angular.isDefined(e.mousewheel)?i.$eval(e.mousewheel):k.mousewheel){var h=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||0<e};c.bind("mousewheel wheel",function(t){i.$apply(h(t)?i.incrementHours():i.decrementHours()),t.preventDefault()}),u.bind("mousewheel wheel",function(t){i.$apply(h(t)?i.incrementMinutes():i.decrementMinutes()),t.preventDefault()})}if(i.readonlyInput=angular.isDefined(e.readonlyInput)?i.$eval(e.readonlyInput):k.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var d=function(t,e){r.$setViewValue(null),r.$setValidity("time",!1),angular.isDefined(t)&&(i.invalidHours=t),angular.isDefined(e)&&(i.invalidMinutes=e)};i.updateHours=function(){var t=f();angular.isDefined(t)?(o.setHours(t),m("h")):d(!0)},c.bind("blur",function(t){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=g(i.hours)})}),i.updateMinutes=function(){var t=p();angular.isDefined(t)?(o.setMinutes(t),m("m")):d(void 0,!0)},u.bind("blur",function(t){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=g(i.minutes)})})}r.$render=function(){var t=r.$modelValue?new Date(r.$modelValue):null;isNaN(t)?(r.$setValidity("time",!1),x.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(o=t),v(),y())},i.incrementHours=function(){b(60*n)},i.decrementHours=function(){b(60*-n)},i.incrementMinutes=function(){b(a)},i.decrementMinutes=function(){b(-a)},i.toggleMeridian=function(){b(720*(o.getHours()<12?1:-1))}}function f(){var t=parseInt(i.hours,10);if(i.showMeridian?0<t&&t<13:0<=t&&t<24)return i.showMeridian&&(12===t&&(t=0),i.meridian===s[1]&&(t+=12)),t}function p(){var t=parseInt(i.minutes,10);return 0<=t&&t<60?t:void 0}function g(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function m(t){v(),r.$setViewValue(new Date(o)),y(t)}function v(){r.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function y(t){var e=o.getHours(),n=o.getMinutes();i.showMeridian&&(e=0===e||12===e?12:e%12),i.hours="h"===t?e:g(e),i.minutes="m"===t?n:g(n),i.meridian=o.getHours()<12?s[0]:s[1]}function b(t){var e=new Date(o.getTime()+6e4*t);o.setHours(e.getHours(),e.getMinutes()),m()}}}}]),function(t,s,e){"use strict";var st,at,lt,ct,ut=s.noop,ht=s.copy,c=s.extend,X=s.element,dt=s.forEach,ft=s.isArray,K=s.isString,Z=s.isObject,Q=s.isUndefined,J=s.isDefined,x=s.isFunction,u=s.isElement,tt=1,pt="-add",gt="-remove",mt="ng-",C="ng-animate",et="$$ngAnimateChildren";Q(t.ontransitionend)&&J(t.onwebkittransitionend)?("-webkit-",st="WebkitTransition",at="webkitTransitionEnd transitionend"):(st="transition",at="transitionend"),Q(t.onanimationend)&&J(t.onwebkitanimationend)?("-webkit-",lt="WebkitAnimation",ct="webkitAnimationEnd animationend"):(lt="animation",ct="animationend");var r="Duration",vt="TimingFunction",o="PlayState",n=lt+"Delay",yt=lt+r,i=st+"Delay",a=st+r,l=s.$$minErr("ng");function h(t,e,n){if(!t)throw l("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function _(t,e){return t||e?t?e?(ft(t)&&(t=t.join(" ")),ft(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function bt(t,n,i){var r="";return t=ft(t)?t:t&&K(t)&&t.length?t.split(/\s+/):[],dt(t,function(t,e){t&&0<t.length&&(r+=0<e?" ":"",r+=i?n+t:t+n)}),r}function nt(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==tt)return n}}function S(l){return function(t,e){var n,i,r,o,s,a;e.addClass&&(n=l,i=t,r=e.addClass,dt(i,function(t){n.addClass(t,r)}),e.addClass=null),e.removeClass&&(o=l,s=t,a=e.removeClass,dt(s,function(t){o.removeClass(t,a)}),e.removeClass=null)}}function wt(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||ut;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=ut},t.$$prepared=!0}return t}function xt(t,e){kt(t,e),Ct(t,e)}function kt(t,e){e.from&&(t.css(e.from),e.from=null)}function Ct(t,e){e.to&&(t.css(e.to),e.to=null)}function it(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),s=(i.removeClass||"")+" "+(r.removeClass||""),a=function(r,t,e){var n={};r=i(r),t=i(t),dt(t,function(t,e){n[e]=1}),e=i(e),dt(e,function(t,e){n[e]=1===n[e]?null:-1});var o={addClass:"",removeClass:""};function i(t){K(t)&&(t=t.split(" "));var e={};return dt(t,function(t){t.length&&(e[t]=!0)}),e}return dt(n,function(t,e){var n,i;1===t?(n="addClass",i=!r[e]):-1===t&&(n="removeClass",i=r[e]),i&&(o[n].length&&(o[n]+=" "),o[n]+=e)}),o}(t.attr("class"),o,s);r.preparationClasses&&(i.preparationClasses=rt(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==ut?i.domOperation:null;return c(i,r),l&&(i.domOperation=l),a.addClass?i.addClass=a.addClass:i.addClass=null,a.removeClass?i.removeClass=a.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function _t(t){return t instanceof s.element?t[0]:t}function St(t,e){var n=e?"-"+e+"s":"";return Et(t,[i,n]),[i,n]}function $t(t,e){var n=e?"paused":"",i=lt+o;return Et(t,[i,n]),[i,n]}function Et(t,e){var n=e[0],i=e[1];t.style[n]=i}function rt(t,e){return t?e?t+" "+e:t:e}var d=["$interpolate",function(o){return{link:function(t,e,n){var i=n.ngAnimateChildren;function r(t){t="on"===t||"true"===t,e.data(et,t)}s.isString(i)&&0===i.length?e.data(et,!0):(r(o(i)(t)),n.$observe("ngAnimateChildren",r))}}}],Tt="$$animateCss",Dt=1e3,Mt=3,At=1.5,f={transitionDuration:a,transitionDelay:i,transitionProperty:st+"Property",animationDuration:yt,animationDelay:n,animationIterationCount:lt+"IterationCount"},Pt={transitionDuration:a,transitionDelay:i,animationDuration:yt,animationDelay:n};function Ot(t,e){return[e?n:i,t+"s"]}function Nt(t,e,n){var s=Object.create(null),a=t.getComputedStyle(e)||{};return dt(n,function(t,e){var n,i,r=a[t];if(r){var o=r.charAt(0);("-"===o||"+"===o||0<=o)&&(n=0,i=r.split(/\s*,\s*/),dt(i,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),r=n),0===r&&(r=null),s[e]=r}}),s}function It(t){return 0===t||null!=t}function Lt(t,e){var n=st,i=t+"s";return e?n+=r:i+=" linear all",[n,i]}function p(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e){n[t]?n[t].total++:n[t]={total:1,value:e}}}}function Ht(e,n,t){dt(t,function(t){e[t]=J(e[t])?e[t]:n.style.getPropertyValue(t)})}var g=["$animateProvider",function(t){var rt=p(),ot=p();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(G,X,K,Z,n,Q,e,J){var tt=S(X),r=0;function et(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++r))+"-"+t.getAttribute("class")+"-"+e}var i=[];function nt(t){i.push(t),e.waitUntilQuiet(function(){rt.flush(),ot.flush();for(var t=n(),e=0;e<i.length;e++)i[e](t);i.length=0})}function it(t,e,n){var i,r,o,s,a=(i=t,r=n,o=f,(s=rt.get(r))||"infinite"===(s=Nt(G,i,o)).animationIterationCount&&(s.animationIterationCount=1),rt.put(r,s),s),l=a.animationDelay,c=a.transitionDelay;return a.maxDelay=l&&c?Math.max(l,c):l||c,a.maxDuration=Math.max(a.animationDuration*a.animationIterationCount,a.transitionDuration),a}return function(c,t){var u=t||{};u.$$prepared||(u=wt(ht(u)));var h={},d=_t(c);if(!d||!d.parentNode||!J.enabled())return q();var e,n,f,o,s,i,r,p,g,m,v,y,b=[],a=c.attr("class"),l=(n={},(e=u)&&(e.to||e.from)&&(n.to=e.to,n.from=e.from),n),w=[];if(0===u.duration||!Q.animations&&!Q.transitions)return q();var x=u.event&&ft(u.event)?u.event.join(" "):u.event,k="",C="";x&&u.structural?k=bt(x,mt,!0):x&&(k=x),u.addClass&&(C+=bt(u.addClass,pt)),u.removeClass&&(C.length&&(C+=" "),C+=bt(u.removeClass,gt)),u.applyClassesEarly&&C.length&&tt(c,u);var _,S,$,E=[k,C].join(" ").trim(),T=a+" "+E,D=bt(E,"-active"),M=l.to&&0<Object.keys(l.to).length;if(!(0<(u.keyframeStyle||"").length)&&!M&&!E)return q();if(0<u.stagger){var A=parseFloat(u.stagger);S={transitionDelay:A,animationDelay:A,transitionDuration:0,animationDuration:0}}else _=et(d,T),S=function(t,e,n,i){var r;if(0<rt.count(n)&&!(r=ot.get(n))){var o=bt(e,"-stagger");X.addClass(t,o),(r=Nt(G,t,i)).animationDuration=Math.max(r.animationDuration,0),r.transitionDuration=Math.max(r.transitionDuration,0),X.removeClass(t,o),ot.put(n,r)}return r||{}}(d,E,_,Pt);if(u.$$skipPreparationClasses||X.addClass(c,E),u.transitionStyle){var P=[st,u.transitionStyle];Et(d,P),b.push(P)}if(0<=u.duration){$=0<d.style[st].length;var O=Lt(u.duration,$);Et(d,O),b.push(O)}if(u.keyframeStyle){var N=[lt,u.keyframeStyle];Et(d,N),b.push(N)}var I=S?0<=u.staggerIndex?u.staggerIndex:rt.count(_):0,L=0===I;L&&!u.skipBlocking&&St(d,9999);var H=it(d,0,_),R=H.maxDelay;p=Math.max(R,0),m=H.maxDuration;var F,z={};if(z.hasTransitions=0<H.transitionDuration,z.hasAnimations=0<H.animationDuration,z.hasTransitionAll=z.hasTransitions&&"all"==H.transitionProperty,z.applyTransitionDuration=M&&(z.hasTransitions&&!z.hasTransitionAll||z.hasAnimations&&!z.hasTransitions),z.applyAnimationDuration=u.duration&&z.hasAnimations,z.applyTransitionDelay=It(u.delay)&&(z.applyTransitionDuration||z.hasTransitions),z.applyAnimationDelay=It(u.delay)&&z.hasAnimations,z.recalculateTimingStyles=0<C.length,(z.applyTransitionDuration||z.applyAnimationDuration)&&(m=u.duration?parseFloat(u.duration):m,z.applyTransitionDuration&&(z.hasTransitions=!0,H.transitionDuration=m,$=0<d.style[st+"Property"].length,b.push(Lt(m,$))),z.applyAnimationDuration&&(z.hasAnimations=!0,H.animationDuration=m,b.push([yt,m+"s"]))),0===m&&!z.recalculateTimingStyles)return q();null!=u.delay&&("boolean"!=typeof u.delay&&(F=parseFloat(u.delay),p=Math.max(F,0)),z.applyTransitionDelay&&b.push(Ot(F)),z.applyAnimationDelay&&b.push(Ot(F,!0)));return null==u.duration&&0<H.transitionDuration&&(z.recalculateTimingStyles=z.recalculateTimingStyles||L),g=p*Dt,v=m*Dt,u.skipBlocking||(z.blockTransition=0<H.transitionDuration,z.blockKeyframeAnimation=0<H.animationDuration&&0<S.animationDelay&&0===S.animationDuration),u.from&&(u.cleanupStyles&&Ht(h,d,Object.keys(u.from)),kt(c,u)),z.blockTransition||z.blockKeyframeAnimation?V(m):u.skipBlocking||St(d,!1),{$$willAnimate:!0,end:j,start:function(){if(!f)return i=new K(r={end:j,cancel:B,resume:null,pause:null}),nt(U),i}};function j(){W()}function B(){W(!0)}function W(t){if(!(f||s&&o)){f=!0,o=!1,u.$$skipPreparationClasses||X.removeClass(c,E),X.removeClass(c,D),$t(d,!1),St(d,!1),dt(b,function(t){d.style[t[0]]=""}),tt(c,u),xt(c,u),Object.keys(h).length&&dt(h,function(t,e){t?d.style.setProperty(e,t):d.style.removeProperty(e)}),u.onDone&&u.onDone(),w&&w.length&&c.off(w.join(" "),Y);var e=c.data(Tt);e&&(Z.cancel(e[0].timer),c.removeData(Tt)),i&&i.complete(!t)}}function V(t){z.blockTransition&&St(d,t),z.blockKeyframeAnimation&&$t(d,!!t)}function q(){return i=new K({end:j,cancel:B}),nt(ut),W(),{$$willAnimate:!1,start:function(){return i},end:j}}function Y(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(Mt));Math.max(n-y,0)>=g&&m<=i&&(s=!0,W())}function U(){if(!f)if(d.parentNode){var t=function(t){if(s)o&&t&&(o=!1,W());else if(o=!t,H.animationDuration){var e=$t(d,o);o?b.push(e):(i=e,r=(n=b).indexOf(i),0<=i&&n.splice(r,1))}var n,i,r},e=0<I&&(H.transitionDuration&&0===S.transitionDuration||H.animationDuration&&0===S.animationDuration)&&Math.max(S.animationDelay,S.transitionDelay);e?Z(n,Math.floor(e*I*Dt),!1):n(),r.resume=function(){t(!0)},r.pause=function(){t(!1)}}else W();function n(){if(!f){if(V(!1),dt(b,function(t){var e=t[0],n=t[1];d.style[e]=n}),tt(c,u),X.addClass(c,D),z.recalculateTimingStyles){if(T=d.className+" "+E,_=et(d,T),H=it(d,0,_),R=H.maxDelay,p=Math.max(R,0),0===(m=H.maxDuration))return void W();z.hasTransitions=0<H.transitionDuration,z.hasAnimations=0<H.animationDuration}if(z.applyAnimationDelay&&(R="boolean"!=typeof u.delay&&It(u.delay)?parseFloat(u.delay):R,p=Math.max(R,0),H.animationDelay=R,F=Ot(R,!0),b.push(F),d.style[F[0]]=F[1]),g=p*Dt,v=m*Dt,u.easing){var t,e=u.easing;z.hasTransitions&&(t=st+vt,b.push([t,e]),d.style[t]=e),z.hasAnimations&&(t=lt+vt,b.push([t,e]),d.style[t]=e)}H.transitionDuration&&w.push(at),H.animationDuration&&w.push(ct),y=Date.now();var n=g+At*v,i=y+n,r=c.data(Tt)||[],o=!0;if(r.length){var s=r[0];(o=i>s.expectedEndTime)?Z.cancel(s.timer):r.push(W)}if(o){var a=Z(l,n,!1);r[0]={timer:a,expectedEndTime:i},r.push(W),c.data(Tt,r)}w.length&&c.on(w.join(" "),Y),u.to&&(u.cleanupStyles&&Ht(h,d,Object.keys(u.to)),Ct(c,u))}}function l(){var t=c.data(Tt);if(t){for(var e=1;e<t.length;e++)t[e]();c.removeData(Tt)}}}}}]}],m=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var b="ng-animate-shim",w="ng-anchor",x="ng-anchor-out",k="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(f,t,p,e,n,i,r){if(!n.animations&&!n.transitions)return ut;var o,g=r[0].body,s=_t(e),m=X((o=s).parentNode&&11===o.parentNode.nodeType||g.contains(s)?s:g);S(i);return function(t){return t.from&&t.to?function(t,e,n,i){var r=a(t),o=a(e),s=[];if(dt(i,function(t){var e=function(t,e,r){var o=X(_t(e).cloneNode(!0)),s=v(u(o));e.addClass(b),r.addClass(b),o.addClass(w),m.append(o);var i,n,a=(n=f(o,{addClass:x,delay:!0,from:c(e)})).$$willAnimate?n:null;if(!a&&!(i=h()))return d();var l=a||i;return{start:function(){var t,e=l.start();return e.done(function(){if(e=null,!i&&(i=h()))return(e=i.start()).done(function(){e=null,d(),t.complete()}),e;d(),t.complete()}),t=new p({end:n,cancel:n});function n(){e&&e.end()}}};function c(t){var n={},i=_t(t).getBoundingClientRect();return dt(["width","height","top","left"],function(t){var e=i[t];switch(t){case"top":e+=g.scrollTop;break;case"left":e+=g.scrollLeft}n[t]=Math.floor(e)+"px"}),n}function u(t){return t.attr("class")||""}function h(){var t=v(u(r)),e=y(t,s),n=y(s,t),i=f(o,{to:c(r),addClass:k+" "+e,removeClass:x+" "+n,delay:!0});return i.$$willAnimate?i:null}function d(){o.remove(),e.removeClass(b),r.removeClass(b)}}(0,t.out,t.in);e&&s.push(e)}),!r&&!o&&0===s.length)return;return{start:function(){var e=[];r&&e.push(r.start()),o&&e.push(o.start()),dt(s,function(t){e.push(t.start())});var n=new p({end:t,cancel:t});return p.all(e,function(t){n.complete(t)}),n;function t(){dt(e,function(t){t.end()})}}}}(t.from,t.to,t.classes,t.anchors):a(t)};function v(t){return t.replace(/\bng-\S+\b/g,"")}function y(t,e){return K(t)&&(t=t.split(" ")),K(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function a(t){var e=t.element,n=t.options||{};t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=rt(n.event,n.preparationClasses));var i=f(e,n);return i.$$willAnimate?i:null}}]}],v=["$animateProvider",function(w){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(v,y,t){var b=S(t);return function(t,e,n,i){var r=!1;3===arguments.length&&Z(n)&&(i=n,n=null),i=wt(i),n||(n=t.attr("class")||"",i.addClass&&(n+=" "+i.addClass),i.removeClass&&(n+=" "+i.removeClass));var o,s,a,l,c,u=i.addClass,h=i.removeClass,d=function(t){t=ft(t)?t:t.split(" ");for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=w.$$registeredAnimations[r];o&&!n[r]&&(e.push(v.get(o)),n[r]=!0)}return e}(n);d.length&&("leave"==e?(l="leave",a="afterLeave"):(l="before"+e.charAt(0).toUpperCase()+e.substr(1),a=e),"enter"!==e&&"move"!==e&&(o=m(t,e,i,d,l)),s=m(t,e,i,d,a));if(o||s)return{$$willAnimate:!0,end:function(){return c?c.end():(p(),(c=new y).complete(!0)),c},start:function(){if(c)return c;var e;c=new y;var t=[];return o&&t.push(function(t){e=o(t)}),t.length?t.push(function(t){f(),t(!0)}):f(),s&&t.push(function(t){e=s(t)}),c.setHost({end:function(){i()},cancel:function(){i(!0)}}),y.chain(t,n),c;function n(t){p(),c.complete(t)}function i(t){r||((e||ut)(t),n(t))}}};function f(){i.domOperation(),b(t,i)}function p(){r=!0,f(),xt(t,i)}function g(s,a,l,t,e){var n=[];return dt(t,function(t){var o=t[e];o&&n.push(function(){var e,n,i=!1,r=function(t){i||(i=!0,(n||ut)(t),e.complete(!t))};return e=new y({end:function(){r()},cancel:function(){r(!0)}}),n=function(t,e,n,i,r){var o;switch(n){case"animate":o=[e,i.from,i.to,r];break;case"setClass":o=[e,u,h,r];break;case"addClass":o=[e,u,r];break;case"removeClass":o=[e,h,r];break;default:o=[e,r]}o.push(i);var s=t.apply(t,o);if(s)if(x(s.start)&&(s=s.start()),s instanceof y)s.done(r);else if(x(s))return s;return ut}(o,s,a,l,function(t){r(!1===t)}),e})}),n}function m(t,e,n,i,r){var o,s,a=g(t,e,n,i,r);0===a.length&&("beforeSetClass"===r?(o=g(t,"removeClass",n,i,"beforeRemoveClass"),s=g(t,"addClass",n,i,"beforeAddClass")):"setClass"===r&&(o=g(t,"removeClass",n,i,"removeClass"),s=g(t,"addClass",n,i,"addClass")),o&&(a=a.concat(o)),s&&(a=a.concat(s)));if(0!==a.length)return function(t){var n=[];return a.length&&dt(a,function(t){n.push(t())}),n.length?y.all(n,t):t(),function(e){dt(n,function(t){e?t.cancel():t.end()})}}}}}]}],y=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(o,s){return function(t){if(t.from&&t.to){var i=e(t.from),r=e(t.to);if(!i&&!r)return;return{start:function(){var t=[];i&&t.push(i.start()),r&&t.push(r.start()),s.all(t,function(t){e.complete(t)});var e=new s({end:n(),cancel:n()});return e;function n(){return function(){dt(t,function(t){t.end()})}}}}}return e(t)};function e(t){var e=t.element,n=t.event,i=t.options,r=t.classes;return o(e,n,r,i)}}]}],ot="data-ng-animate",Rt="$ngAnimatePin",b=["$animateProvider",function(a){var q=1,Y=2,i=" ",r=this.rules={skip:[],cancel:[],join:[]};function l(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(i),n=Object.create(null);return dt(e,function(t){n[t]=!0}),n}(e);return t.split(i).some(function(t){return n[t]})}}function U(t,e,n,i){return r[t].some(function(t){return t(e,n,i)})}function G(t,e){var n=0<(t.addClass||"").length,i=0<(t.removeClass||"").length;return e?n&&i:n||i}r.join.push(function(t,e,n){return!e.structural&&G(e)}),r.skip.push(function(t,e,n){return!e.structural&&!G(e)}),r.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),r.skip.push(function(t,e,n){return n.structural&&n.state===Y&&!e.structural}),r.cancel.push(function(t,e,n){return n.structural&&e.structural}),r.cancel.push(function(t,e,n){return n.state===Y&&e.structural}),r.cancel.push(function(t,e,n){var i=e.addClass,r=e.removeClass,o=n.addClass,s=n.removeClass;return!(Q(i)&&Q(r)||Q(o)&&Q(s))&&(l(i,s)||l(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(T,D,M,t,e,A,P,n,i,r){var O=new e,N=new e,I=null,L=t[0]||{hidden:!0};var o=D.$watch(function(){return 0===n.totalPendingRequests},function(t){t&&(o(),D.$$postDigest(function(){D.$$postDigest(function(){null===I&&(I=!0)})}))}),H={},s=a.classNameFilter(),R=s?function(t){return s.test(t)}:function(){return!0},F=S(i);function z(t,e){return it(t,e,{})}var j=Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};return{on:function(t,e,n){var i=nt(e);H[t]=H[t]||[],H[t].push({node:i,callback:n})},off:function(t,e,n){var i,r,o,s=H[t];s&&(H[t]=1===arguments.length?null:(i=s,r=n,o=nt(e),i.filter(function(t){var e=t.node===o&&(!r||t.callback===r);return!e})))},pin:function(t,e){h(u(t),"element","not an element"),h(u(e),"parentElement","not an element"),t.data(Rt,e)},push:function(t,e,n,i){return(n=n||{}).domOperation=i,function(u,r,t){var o,h,s=ht(t);(u=function(t){if(t instanceof X)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===tt)return t;break;default:return X(nt(t))}if(t.nodeType===tt)return X(t)}(u))&&(o=_t(u),h=u.parent());s=wt(s);var a=new P,e=(n=!1,function(t){n?t():D.$$postDigest(function(){n=!0,t()})});var n;ft(s.addClass)&&(s.addClass=s.addClass.join(" "));s.addClass&&!K(s.addClass)&&(s.addClass=null);ft(s.removeClass)&&(s.removeClass=s.removeClass.join(" "));s.removeClass&&!K(s.removeClass)&&(s.removeClass=null);s.from&&!Z(s.from)&&(s.from=null);s.to&&!Z(s.to)&&(s.to=null);if(!o)return E(),a;var i=[o.className,s.addClass,s.removeClass].join(" ");if(!R(i))return E(),a;var l=0<=["enter","move","leave"].indexOf(r),c=L.hidden,d=!I||c||N.get(o),f=!d&&O.get(o)||{},p=!!f.state;d||p&&f.state==q||(d=!function(t,e,n){var i,r=X(L.body),o=W(t,r)||"HTML"===t[0].nodeName,s=W(t,M),a=!1,l=N.get(_t(t)),c=X.data(t[0],Rt);c&&(e=c);e=_t(e);for(;e&&(s||(s=W(e,M)),e.nodeType===tt);){var u=O.get(e)||{};if(!a){var h=N.get(e);if(!0===h&&!1!==l){l=!0;break}!1===h&&(l=!1),a=u.structural}if(Q(i)||!0===i){var d=X.data(e,et);J(d)&&(i=d)}if(a&&!1===i)break;if(o||(o=W(e,r)),o&&s)break;e=s||!(c=X.data(e,Rt))?e.parentNode:_t(c)}return(!a||i)&&!0!==l&&s&&o}(u,h));if(d)return c&&$(a,r,"start"),E(),c&&$(a,r,"close"),a;l&&(g=_t(u).querySelectorAll("["+ot+"]"),dt(g,function(t){var e=parseInt(t.getAttribute(ot)),n=O.get(t);if(n)switch(e){case Y:n.runner.end();case q:O.remove(t)}}));var g;var m={structural:l,element:u,event:r,addClass:s.addClass,removeClass:s.removeClass,close:E,options:s,runner:a};if(p){var v=U("skip",u,m,f);if(v)return f.state===Y?(E(),a):(it(u,f,m),f.runner);var y=U("cancel",u,m,f);if(y)if(f.state===Y)f.runner.end();else{if(!f.structural)return it(u,f,m),f.runner;f.close()}else{var b=U("join",u,m,f);if(b){if(f.state!==Y)return w=u,k=s,C="",(x=l?r:null)&&(C=bt(x,mt,!0)),k.addClass&&(C=rt(C,bt(k.addClass,pt))),k.removeClass&&(C=rt(C,bt(k.removeClass,gt))),C.length&&(k.preparationClasses=C,w.addClass(C)),r=m.event=f.event,s=it(u,f,m),f.runner;z(u,m)}}}else z(u,m);var w,x,k,C;var _=m.structural;_||(_="animate"===m.event&&0<Object.keys(m.options.to||{}).length||G(m));if(!_)return E(),B(u),a;var S=(f.counter||0)+1;return m.counter=S,V(u,q,m),D.$$postDigest(function(){var t=O.get(o),e=!t;t=t||{};var n=0<(u.parent()||[]).length&&("animate"===t.event||t.structural||G(t));if(e||t.counter!==S||!n)return e&&(F(u,s),xt(u,s)),(e||l&&t.event!==r)&&(s.domOperation(),a.end()),void(n||B(u));r=!t.structural&&G(t,!0)?"setClass":t.event,V(u,Y);var i=A(u,r,t.options);a.setHost(i),$(a,r,"start",{}),i.done(function(t){E(!t);var e=O.get(o);e&&e.counter===S&&B(_t(u)),$(a,r,"close",{})})}),a;function $(t,a,l,c){e(function(){var t,e,n,i,r,o,s=(t=h,e=a,n=_t(u),i=_t(t),r=[],(o=H[e])&&dt(o,function(t){j.call(t.node,n)?r.push(t.callback):"leave"===e&&j.call(t.node,i)&&r.push(t.callback)}),r);s.length&&T(function(){dt(s,function(t){t(u,l,c)})})}),t.progress(a,l,c)}function E(t){var e,n;e=u,(n=s).preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),F(u,s),xt(u,s),s.domOperation(),a.complete(!t)}}(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!I;else if(u(t)){var i=_t(t),r=N.get(i);1===n?e=!r:N.put(i,!e)}else e=I=!!t;return e}};function B(t){var e=_t(t);e.removeAttribute(ot),O.remove(e)}function W(t,e){return _t(t)===_t(e)}function V(t,e,n){(n=n||{}).state=e;var i=_t(t);i.setAttribute(ot,e);var r=O.get(i),o=r?c(r,n):n;O.put(i,o)}}]}],w=["$animateProvider",function(t){var b="ng-animate-ref",w=this.drivers=[],x="$$animationRunner";function k(t){return t.data(x)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(h,d,f,p,g,m){var v=[],y=S(h);return function(e,n,i){i=wt(i);var t,r=0<=["enter","move","leave"].indexOf(n),o=new p({end:function(){u()},cancel:function(){u(!0)}});if(!w.length)return u(),o;t=o,e.data(x,t);var s,a=_(e.attr("class"),_(i.addClass,i.removeClass)),l=i.tempClasses;return l&&(a+=" "+l,i.tempClasses=null),r&&(s="ng-"+n+"-prepare",h.addClass(e,s)),v.push({element:e,classes:a,event:n,structural:r,options:i,beforeStart:function(){e.addClass(C),l&&h.addClass(e,l);s&&(h.removeClass(e,s),s=null)},close:u}),e.on("$destroy",c),1<v.length||d.$$postDigest(function(){var e=[];dt(v,function(t){k(t.element)?e.push(t):t.close()}),v.length=0;var t=function(u){var d=[],f={};dt(u,function(t,n){var e,i,r,o,s=t.element,a=_t(s),l=t.event,c=0<=["enter","move"].indexOf(l),u=t.structural?(i="["+b+"]",r=(e=a).hasAttribute(b)?[e]:e.querySelectorAll(i),o=[],dt(r,function(t){var e=t.getAttribute(b);e&&e.length&&o.push(t)}),o):[];if(u.length){var h=c?"to":"from";dt(u,function(t){var e=t.getAttribute(b);f[e]=f[e]||{},f[e][h]={animationID:n,element:X(t)}})}else d.push(t)});var h={},p={};return dt(f,function(t,e){var n=t.from,i=t.to;if(n&&i){var r=u[n.animationID],o=u[i.animationID],s=n.animationID.toString();if(!p[s]){var a=p[s]={structural:!0,beforeStart:function(){r.beforeStart(),o.beforeStart()},close:function(){r.close(),o.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}(r.classes,o.classes),from:r,to:o,anchors:[]};a.classes.length?d.push(a):(d.push(r),d.push(o))}p[s].anchors.push({out:n.element,in:i.element})}else{var l=n?n.animationID:i.animationID,c=l.toString();h[c]||(h[c]=!0,d.push(u[l]))}}),d}(e),n=[];dt(t,function(r){n.push({domNode:_t(r.from?r.from.element:r.element),fn:function(){r.beforeStart();var t,e=r.close;if(k(r.anchors?r.from.element||r.to.element:r.element)){var n=function(t){for(var e=w.length-1;0<=e;e--){var n=w[e];if(f.has(n)){var i=f.get(n),r=i(t);if(r)return r}}}(r);n&&(t=n.start)}if(t){var i=t();i.done(function(t){e(!t)}),function(t,e){t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element);function n(t){k(t).setHost(e)}}(r,i)}else e()}})}),m(function(t){var e,r={children:[]},o=new g;for(e=0;e<t.length;e++){var n=t[e];o.put(n.domNode,t[e]={domNode:n.domNode,fn:n.fn,children:[]})}for(e=0;e<t.length;e++)s(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,s=[];for(e=0;e<i.length;e++){var a=i[e];r<=0&&(r=o,o=0,n.push(s),s=[]),s.push(a.fn),a.children.forEach(function(t){o++,i.push(t)}),r--}return s.length&&n.push(s),n}(r);function s(t){if(t.processed)return t;t.processed=!0;var e,n=t.domNode,i=n.parentNode;for(o.put(n,t);i;){if(e=o.get(i)){e.processed||(e=s(e));break}i=i.parentNode}return(e||r).children.push(t),t}}(n))}),o;function c(){var t=k(e);!t||"leave"===n&&i.$$domOperationFired||t.end()}function u(t){e.off("$destroy",c),e.removeData(x),y(e,i),xt(e,i),i.domOperation(),l&&h.removeClass(e,l),e.removeClass(C),o.complete(!t)}}}]}];s.module("ngAnimate",[]).directive("ngAnimateChildren",d).factory("$$rAFScheduler",["$$rAF",function(n){var i,r;function t(t){i=i.concat(t),o()}return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=n(function(){r=null,t(),o()})},t;function o(){if(i.length){for(var t=i.shift(),e=0;e<t.length;e++)t[e]();r||n(function(){r||o()})}}}]).provider("$$animateQueue",b).provider("$$animation",w).provider("$animateCss",g).provider("$$animateCssDriver",m).provider("$$animateJs",v).provider("$$animateJsDriver",y)}(window,window.angular),function(s){"use strict";var a="[data-toggle=dropdown]",i=function(t){var e=s(t).on("click.dropdown.data-api",this.toggle);s("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};function r(){s(".dropdown-backdrop").remove(),s(a).each(function(){l(s(this)).removeClass("open")})}function l(t){var e,n=t.attr("data-target");return n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),(e=n&&s(n))&&e.length||(e=t.parent()),e}i.prototype={constructor:i,toggle:function(t){var e,n,i=s(this);if(!i.is(".disabled, :disabled"))return n=(e=l(i)).hasClass("open"),r(),n||("ontouchstart"in document.documentElement&&s('<div class="dropdown-backdrop"/>').insertBefore(s(this)).on("click",r),e.toggleClass("open")),i.focus(),!1},keydown:function(t){var e,n,i,r,o;if(/(38|40|27)/.test(t.keyCode)&&(e=s(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(!(r=(i=l(e)).hasClass("open"))||r&&27==t.keyCode)return 27==t.which&&i.find(a).focus(),e.click();(n=s("[role=menu] li:not(.divider):visible a",i)).length&&(o=n.index(n.filter(":focus")),38==t.keyCode&&0<o&&o--,40==t.keyCode&&o<n.length-1&&o++,~o||(o=0),n.eq(o).focus())}}};var t=s.fn.dropdown;s.fn.dropdown=function(n){return this.each(function(){var t=s(this),e=t.data("dropdown");e||t.data("dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=t,this},s(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",a,i.prototype.toggle).on("keydown.dropdown.data-api",a+", [role=menu]",i.prototype.keydown)}(window.jQuery),function(l){"use strict";var r=function(t,e){this.init("tooltip",t,e)};r.prototype={constructor:r,init:function(t,e,n){var i,r,o,s,a;for(this.type=t,this.$element=l(e),this.options=this.getOptions(n),this.enabled=!0,a=(o=this.options.trigger.split(" ")).length;a--;)"click"==(s=o[a])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=s&&(i="hover"==s?"mouseenter":"focus",r="hover"==s?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=l.extend({},l.fn[this.type].defaults,this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e,n=l.fn[this.type].defaults,i={};if(this._options&&l.each(this._options,function(t,e){n[t]!=e&&(i[t]=e)},this),!(e=l(t.currentTarget)[this.type](i).data(this.type)).options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(t){var e=l(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out",this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var t,e,n,i,r,o,s=l.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),e=this.getPosition(),n=t[0].offsetWidth,i=t[0].offsetHeight,r){case"bottom":o={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"top":o={top:e.top-i,left:e.left+e.width/2-n/2};break;case"left":o={top:e.top+e.height/2-i/2,left:e.left-n};break;case"right":o={top:e.top+e.height/2-i/2,left:e.left+e.width}}this.applyPlacement(o,r),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(t).addClass(e).addClass("in"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,o=!0),"bottom"==e||"top"==e?(r=0,t.left<0&&(r=-2*t.left,t.left=0,s.offset(t),n=s[0].offsetWidth,i=s[0].offsetHeight),this.replaceArrow(r-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&s.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var t,e=this.tip(),n=l.Event("hide");if(this.$element.trigger(n),!n.isDefaultPrevented())return e.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?(t=setTimeout(function(){e.off(l.support.transition.end).detach()},500),e.one(l.support.transition.end,function(){clearTimeout(t),e.detach()})):e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return l.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var e=t?l(t.currentTarget)[this.type](this._options).data(this.type):this;e.tip().hasClass("in")?e.hide():e.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var t=l.fn.tooltip;l.fn.tooltip=function(i){return this.each(function(){var t=l(this),e=t.data("tooltip"),n="object"==typeof i&&i;e||t.data("tooltip",e=new r(this,n)),"string"==typeof i&&e[i]()})},l.fn.tooltip.Constructor=r,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=t,this}}(window.jQuery),function(r){"use strict";var o=function(t,e){this.init("popover",t,e)};o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype,{constructor:o,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=r(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var t=r.fn.popover;r.fn.popover=function(i){return this.each(function(){var t=r(this),e=t.data("popover"),n="object"==typeof i&&i;e||t.data("popover",e=new o(this,n)),"string"==typeof i&&e[i]()})},r.fn.popover.Constructor=o,r.fn.popover.defaults=r.extend({},r.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(window.jQuery),function(t){"use strict";function h(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function a(t,e,n,i,r,o){return h((s=h(h(e,t),h(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function d(t,e,n,i,r,o,s){return a(e&n|~e&i,t,e,r,o,s)}function f(t,e,n,i,r,o,s){return a(e&i|n&~i,t,e,r,o,s)}function p(t,e,n,i,r,o,s){return a(e^n^i,t,e,r,o,s)}function g(t,e,n,i,r,o,s){return a(n^(e|~i),t,e,r,o,s)}function l(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var n,i,r,o,s,a=1732584193,l=-271733879,c=-1732584194,u=271733878;for(n=0;n<t.length;n+=16)l=g(l=g(l=g(l=g(l=p(l=p(l=p(l=p(l=f(l=f(l=f(l=f(l=d(l=d(l=d(l=d(r=l,c=d(o=c,u=d(s=u,a=d(i=a,l,c,u,t[n],7,-680876936),l,c,t[n+1],12,-389564586),a,l,t[n+2],17,606105819),u,a,t[n+3],22,-1044525330),c=d(c,u=d(u,a=d(a,l,c,u,t[n+4],7,-176418897),l,c,t[n+5],12,1200080426),a,l,t[n+6],17,-1473231341),u,a,t[n+7],22,-45705983),c=d(c,u=d(u,a=d(a,l,c,u,t[n+8],7,1770035416),l,c,t[n+9],12,-1958414417),a,l,t[n+10],17,-42063),u,a,t[n+11],22,-1990404162),c=d(c,u=d(u,a=d(a,l,c,u,t[n+12],7,1804603682),l,c,t[n+13],12,-40341101),a,l,t[n+14],17,-1502002290),u,a,t[n+15],22,1236535329),c=f(c,u=f(u,a=f(a,l,c,u,t[n+1],5,-165796510),l,c,t[n+6],9,-1069501632),a,l,t[n+11],14,643717713),u,a,t[n],20,-373897302),c=f(c,u=f(u,a=f(a,l,c,u,t[n+5],5,-701558691),l,c,t[n+10],9,38016083),a,l,t[n+15],14,-660478335),u,a,t[n+4],20,-405537848),c=f(c,u=f(u,a=f(a,l,c,u,t[n+9],5,568446438),l,c,t[n+14],9,-1019803690),a,l,t[n+3],14,-187363961),u,a,t[n+8],20,1163531501),c=f(c,u=f(u,a=f(a,l,c,u,t[n+13],5,-1444681467),l,c,t[n+2],9,-51403784),a,l,t[n+7],14,1735328473),u,a,t[n+12],20,-1926607734),c=p(c,u=p(u,a=p(a,l,c,u,t[n+5],4,-378558),l,c,t[n+8],11,-2022574463),a,l,t[n+11],16,1839030562),u,a,t[n+14],23,-35309556),c=p(c,u=p(u,a=p(a,l,c,u,t[n+1],4,-1530992060),l,c,t[n+4],11,1272893353),a,l,t[n+7],16,-155497632),u,a,t[n+10],23,-1094730640),c=p(c,u=p(u,a=p(a,l,c,u,t[n+13],4,681279174),l,c,t[n],11,-358537222),a,l,t[n+3],16,-722521979),u,a,t[n+6],23,76029189),c=p(c,u=p(u,a=p(a,l,c,u,t[n+9],4,-640364487),l,c,t[n+12],11,-421815835),a,l,t[n+15],16,530742520),u,a,t[n+2],23,-995338651),c=g(c,u=g(u,a=g(a,l,c,u,t[n],6,-198630844),l,c,t[n+7],10,1126891415),a,l,t[n+14],15,-1416354905),u,a,t[n+5],21,-57434055),c=g(c,u=g(u,a=g(a,l,c,u,t[n+12],6,1700485571),l,c,t[n+3],10,-1894986606),a,l,t[n+10],15,-1051523),u,a,t[n+1],21,-2054922799),c=g(c,u=g(u,a=g(a,l,c,u,t[n+8],6,1873313359),l,c,t[n+15],10,-30611744),a,l,t[n+6],15,-1560198380),u,a,t[n+13],21,1309151649),c=g(c,u=g(u,a=g(a,l,c,u,t[n+4],6,-145523070),l,c,t[n+11],10,-1120210379),a,l,t[n+2],15,718787259),u,a,t[n+9],21,-343485551),a=h(a,i),l=h(l,r),c=h(c,o),u=h(u,s);return[a,l,c,u]}function c(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function u(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function i(t){var e,n,i="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=i.charAt(e>>>4&15)+i.charAt(15&e);return r}function n(t){return unescape(encodeURIComponent(t))}function r(t){return c(l(u(e=n(t)),8*e.length));var e}function o(t,e){return function(t,e){var n,i,r=u(t),o=[],s=[];for(o[15]=s[15]=void 0,16<r.length&&(r=l(r,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=l(o.concat(u(e)),512+8*e.length),c(l(s.concat(i),640))}(n(t),n(e))}function e(t,e,n){return e?n?o(e,t):i(o(e,t)):n?r(t):i(r(t))}"function"==typeof define&&define.amd?define(function(){return e}):t.md5=e}(this),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(f){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,o,n,i,r,s){function a(){n.cancel(c),s.complete(),u=h=0}function l(t){var e,n=o.get("$http"),i=f.defaults;!t.cache&&!i.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(e=angular.isObject(t.cache)?t.cache:angular.isObject(i.cache)?i.cache:n);var r=void 0!==e&&void 0!==e.get(t.url);return void 0!==t.cached&&r!==t.cached?t.cached:t.cached=r}var c,u=0,h=0,d=s.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||l(t)||(i.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===u&&(c=n(function(){s.start()},d)),u++,s.set(h/u)),t},response:function(t){return t&&t.config?t.config.ignoreLoadingBar||l(t.config)||(h++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),u<=h?a():s.set(h/u)):r.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t},responseError:function(t){return t&&t.config?t.config.ignoreLoadingBar||l(t.config)||(h++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),u<=h?a():s.set(h/u)):r.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t)}}}];f.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(r,o,s,a){function l(t){if(m){var e=100*t+"%";p.css("width",e),v=t,y&&(s.cancel(u),u=s(function(){n()},250))}}function n(){if(!(1<=i())){var t,e=i();t=0<=e&&e<.25?(3*Math.random()+3)/100:.25<=e&&e<.65?3*Math.random()/100:.65<=e&&e<.9?2*Math.random()/100:.9<=e&&e<.99?.005:0,l(i()+t)}}function i(){return v}function e(){v=0,m=!1}var c,u,h,d=this.parentSelector,f=angular.element(this.loadingBarTemplate),p=f.find("div").eq(0),g=angular.element(this.spinnerTemplate),m=!1,v=0,y=this.autoIncrement,b=this.includeSpinner,w=this.includeBar,x=this.startSize;return{start:function(){if(c||(c=r.get("$animate")),s.cancel(h),!m){var t=o[0],e=t.querySelector?t.querySelector(d):o.find(d)[0];e||(e=t.getElementsByTagName("body")[0]);var n=angular.element(e),i=e.lastChild&&angular.element(e.lastChild);a.$broadcast("cfpLoadingBar:started"),m=!0,w&&c.enter(f,n,i),b&&c.enter(g,n,f),l(x)}},set:l,status:i,inc:n,complete:function(){c||(c=r.get("$animate")),a.$broadcast("cfpLoadingBar:completed"),l(1),s.cancel(h),h=s(function(){var t=c.leave(f,e);t&&t.then&&t.then(e),c.leave(g)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(){function t(r){return{restrict:"A",link:function(t,e,i,n){var o=e[0];t.$watch(function(){var t=o.querySelector("tbody tr:first-child td:first-child");return t&&!t.style.width},function(t){t&&(angular.element(o.querySelectorAll("thead, tbody, tfoot")).css("display",""),r(function(){angular.forEach(o.querySelectorAll("tr:first-child th"),function(t,e){var n=o.querySelector("tbody tr:first-child td:nth-child("+(e+1)+")"),i=o.querySelector("tfoot tr:first-child td:nth-child("+(e+1)+")"),r=n?n.offsetWidth:t.offsetWidth;n&&(n.style.width=r+"px"),t&&(t.style.width=r+"px"),i&&(i.style.width=r+"px")}),angular.element(o.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(o.querySelectorAll("tbody")).css({display:"block",height:i.tableHeight||"inherit",overflow:"auto"});var t=o.querySelector("tbody"),e=t.offsetWidth-t.clientWidth;if(0<e){e-=2;var n=o.querySelector("tbody tr:first-child td:last-child");n.style.width=n.offsetWidth-e+"px"}}))})}}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",t),t.$inject=["$timeout"]}(),angular.module("dcbImgFallback",[]).directive("fallbackSrc",["imageService",function(o){return{restrict:"A",link:function(t,e,n){var i=n.fallbackSrc?o.setMissing(n.fallbackSrc):o.getMissing(),r=function(){var t=n.fallbackSrc?o.setMissing(n.fallbackSrc):o.getMissing();e[0].src!==t&&(e[0].src=t)};e[0].src===o.getLoading()&&(e[0].src=i),e.on("error",r),t.$on("$destroy",function(){e.off("error",r)})}}}]).directive("loadingSrc",["$interpolate","imageService",function(r,o){var n=function(t,e,n){e[0].src=n.loadingSrc?o.setLoading(n.loadingSrc):o.getLoading();var i=new Image;i.src=r(n.imgSrc)(t),i.onload=function(){i.onload=null,e[0].src!==i.src&&(e[0].src=i.src)}};return{restrict:"A",compile:function(t,e){return e.imgSrc=e.ngSrc,delete e.ngSrc,n}}}]).factory("imageService",function(){var t="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxkZWZzPjxyYWRpYWxHcmFkaWVudCBpZD0icmFkaWFsLWdyYWRpZW50IiBjeD0iNTAwIiBjeT0iNTAwIiByPSI1MDAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNkZmRmZGYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM5OTkiLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48cmVjdCBmaWxsPSJ1cmwoI3JhZGlhbC1ncmFkaWVudCkiIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNjAxIDQxNGwwIDBWNTg2bDAgMEgzOTlsMCAwVjQxNGwwIDBINjAxWm0wLTE0SDM5OUExNCAxNCAwIDAgMCAzODUgNDE0djE3M2ExNCAxNCAwIDAgMCAxNCAxNEg2MDFBMTQgMTQgMCAwIDAgNjE1IDU4NlY0MTRhMTQgMTQgMCAwIDAtMTQtMTRoMFpNNTc",e=t+"1IDUwMmE3NyA3NyAwIDAgMC0yNC01NCA3NiA3NiAwIDAgMC0yNS0xNiA3NSA3NSAwIDAgMC01NyAxQTc0IDc0IDAgMCAwIDQzMCA0NzQgNzMgNzMgMCAwIDAgNDMxIDUzMGE3MiA3MiAwIDAgMCAzOSAzOCA3MCA3MCAwIDAgMCA1NC0xIDY5IDY5IDAgMCAwIDM3LTM4IDY4IDY4IDAgMCAwIDQtMTZsMSAwYTEwIDEwIDAgMCAwIDEwLTEwYzAgMCAwLTEgMC0xaDBabS0xNSAyNmE2NyA2NyAwIDAgMS0zNyAzNSA2NiA2NiAwIDAgMS01MC0xIDY0IDY0IDAgMCAxLTM0LTM1QTYzIDYzIDAgMCAxIDQ0MCA0NzkgNjIgNjIgMCAwIDEgNDU0IDQ1OSA2MiA2MiAwIDAgMSA0NzQgNDQ2YTYxIDYxIDAgMCAxIDIzLTQgNjAgNjAgMCAwIDEgNDIgMTlBNTkgNTkgMCAwIDEgNTUyIDQ4MGE1OCA1OCAwIDAgMSA0IDIyaDBjMCAwIDAgMSAwIDFhMTAgMTAgMCAwIDAgOSAxMCA2NyA2NyAwIDAgMS01IDE1aDBaIi8+PC9zdmc+",n=t+"yIDQ1MGEyMiAyMiAwIDEgMS0yMi0yMkEyMiAyMiAwIDAgMSA1NzIgNDUwWk01ODYgNTcySDQxNFY1NDNsNTAtODYgNTggNzJoMTRsNTAtNDN2ODZaIi8+PC9zdmc+";return{getLoading:function(){return e},getMissing:function(){return n},setLoading:function(t){return e=t},setMissing:function(t){return n=t}}}),angular.module("mm.foundation",["mm.foundation.accordion","mm.foundation.alert","mm.foundation.bindHtml","mm.foundation.buttons","mm.foundation.position","mm.foundation.dropdownToggle","mm.foundation.interchange","mm.foundation.transition","mm.foundation.modal","mm.foundation.offcanvas","mm.foundation.pagination","mm.foundation.tooltip","mm.foundation.popover","mm.foundation.progressbar","mm.foundation.rating","mm.foundation.tabs","mm.foundation.topbar","mm.foundation.tour","mm.foundation.typeahead"]),angular.module("mm.foundation.accordion",[]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,n,i){this.groups=[],this.closeOthers=function(e){(angular.isDefined(n.closeOthers)?t.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},this.addGroup=function(e){var n=this;this.groups.push(e),e.$on("$destroy",function(t){n.removeGroup(e)})},this.removeGroup=function(t){-1!==this.groups.indexOf(t)&&this.groups.splice(this.groups.indexOf(t),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(s){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",open:"=",close:"="},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,t,n,i){var r,o;i.addGroup(e),e.isOpen=!1,n.isOpen&&(r=s(n.isOpen),o=r.assign,e.$parent.$watch(r,function(t){e.isOpen=!!t})),n.open&&e.$watch("open",function(t){t&&(e.isOpen=!0)}),n.close&&e.$watch("close",function(t){t&&(e.isOpen=!1)}),e.$watch("isOpen",function(t){t&&i.closeOthers(e),o&&o(e.$parent,t)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(t,e,r){return function(t,e,n,i){i.setHeading(r(t,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("mm.foundation.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("mm.foundation.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("mm.foundation.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass,this.toggleEvent=t.toggleEvent}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(r.toggleEvent,function(){e.hasClass(r.activeClass)||t.$apply(function(){o.$setViewValue(t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(i,t,e,n){var r=n[0],o=n[1];function s(){return a(e.btnCheckboxTrue,!0)}function a(t,e){var n=i.$eval(t);return angular.isDefined(n)?n:e}o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,s()))},t.bind(r.toggleEvent,function(){i.$apply(function(){o.$setViewValue(t.hasClass(r.activeClass)?a(e.btnCheckboxFalse,!1):s()),o.$render()})})}}}),angular.module("mm.foundation.position",[]).factory("$position",["$document","$window",function(o,i){function s(t){return"static"===(n="position",((e=t).currentStyle?e.currentStyle[n]:i.getComputedStyle?i.getComputedStyle(e)[n]:e.style[n])||"static");var e,n}return{position:function(t){var e=this.offset(t),n={top:0,left:0},i=function(t){for(var e=o[0],n=t.offsetParent||e;n&&n!==e&&s(n);)n=n.offsetParent;return n||e}(t[0]);i!=o[0]&&((n=this.offset(angular.element(i))).top+=i.clientTop-i.scrollTop,n.left+=i.clientLeft-i.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:e.top-n.top,left:e.left-n.left}},offset:function(t){var e=t[0].getBoundingClientRect();return{width:e.width||t.prop("offsetWidth"),height:e.height||t.prop("offsetHeight"),top:e.top+(i.pageYOffset||o[0].body.scrollTop||o[0].documentElement.scrollTop),left:e.left+(i.pageXOffset||o[0].body.scrollLeft||o[0].documentElement.scrollLeft)}}}}]),angular.module("mm.foundation.dropdownToggle",["mm.foundation.position"]).directive("dropdownToggle",["$document","$location","$position",function(a,t,l){var c=null,u=angular.noop;return{restrict:"CA",scope:{dropdownToggle:"@"},link:function(r,o,t){var s=angular.element(a[0].querySelector(r.dropdownToggle));r.$watch("$location.path",function(){u()}),o.bind("click",function(t){s=angular.element(a[0].querySelector(r.dropdownToggle));var e=o===c;if(t.preventDefault(),t.stopPropagation(),c&&u(),!e&&!o.hasClass("disabled")&&!o.prop("disabled")){s.css("display","block");var n=l.offset(o),i=l.offset(angular.element(s[0].offsetParent));s.css({left:n.left-i.left+"px",top:n.top-i.top+n.height+"px"}),c=o,u=function(t){a.unbind("click",u),s.css("display","none"),u=angular.noop,c=null},a.bind("click",u)}}),s&&s.css("display","none")}}}]),angular.module("mm.foundation.interchange",[]).factory("interchangeQueries",["$document",function(t){for(var e,n={default:"only screen",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},i="foundation-mq-",r=["small","medium","large","xlarge","xxlarge"],o=angular.element(t[0].querySelector("head")),s=0;s<r.length;s++)o.append('<meta class="'+i+r[s]+'" />'),e=getComputedStyle(o[0].querySelector("meta."+i+r[s])).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),n[r[s]]=e;return n}]).factory("interchangeQueriesManager",["interchangeQueries",function(n){return{add:function(t,e){return!(!(t&&e&&angular.isString(t)&&angular.isString(e))||n[t])&&(n[t]=e,!0)}}}]).factory("interchangeTools",["$window","interchangeQueries",function(i,r){return{parseAttribute:function(t){for(var e,n=t.split(/\[(.*?)\]/),i=n.length,r=/^(.+)\,\ \((.+)\)$/,o={};i--;)4<n[i].replace(/[\W\d]+/,"").length&&(e=r.exec(n[i]))&&3===e.length&&(o[e[2]]=e[1]);return o},findCurrentMediaFile:function(t){var e,n;for(e in t)if(n=r[e]||e,i.matchMedia(n).matches)return t[e]}}}]).directive("interchange",["$window","$rootScope","interchangeTools",function(s,a,l){var n=/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)\ *,/i;return{restrict:"A",scope:!0,priority:450,compile:function(t,e){return"DIV"!==t[0].nodeName||n.test(e.interchange)||t.html('<ng-include src="currentFile"></ng-include>'),{pre:function(t,e,n){},post:function(n,i,t){var e,r;switch(r=i&&i[0]&&i[0].nodeName,n.fileMap=l.parseAttribute(t.interchange),r){case"DIV":e=l.findCurrentMediaFile(n.fileMap),/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)$/i.test(e)?n.type="background":n.type="include";break;case"IMG":n.type="image";break;default:return}var o=function(t){var e=l.findCurrentMediaFile(n.fileMap);if(!n.currentFile||n.currentFile!==e){switch(n.currentFile=e,n.type){case"image":i.attr("src",n.currentFile);break;case"background":i.css("background-image","url("+n.currentFile+")")}a.$emit("replace",i,n),t&&n.$apply()}};o(),s.addEventListener("resize",o),n.$on("$destroy",function(){s.removeEventListener("resize",o)})}}}}}]),angular.module("mm.foundation.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(s,a,l){var c=function(e,t,n){n=n||{};var i=s.defer(),r=c[n.animation?"animationEndEventName":"transitionEndEventName"],o=function(t){l.$apply(function(){e.unbind(r,o),i.resolve(e)})};return r&&e.bind(r,o),a(function(){angular.isString(t)?e.addClass(t):angular.isFunction(t)?t(e):angular.isObject(t)&&e.css(t),r||i.resolve(e)}),i.promise.cancel=function(){r&&e.unbind(r,o),i.reject("Transition cancelled")},i.promise},n=document.createElement("trans");function t(t){for(var e in t)if(void 0!==n.style[e])return t[e]}return c.transitionEndEventName=t({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),c.animationEndEventName=t({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),c}]),angular.module("mm.foundation.modal",["mm.foundation.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(t,e){i.push({key:t,value:e})},get:function(t){for(var e=0;e<i.length;e++)if(t==i[e].key)return i[e]},keys:function(){for(var t=[],e=0;e<i.length;e++)t.push(i[e].key);return t},top:function(){return i[i.length-1]},remove:function(t){for(var e=-1,n=0;n<i.length;n++)if(t==i[n].key){e=n;break}return i.splice(e,1)[0]},removeTop:function(){return i.splice(i.length-1,1)[0]},length:function(){return i.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(n,e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0}),t.close=function(t){var e=n.getTop();e&&e.value.backdrop&&"static"!=e.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(e.key,"backdrop click"))}}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,i){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,e,n){t.windowClass=n.windowClass||"",i(function(){t.animate=!0,e[0].focus()})}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,l,s,c,u,t){var h,d,f="modal-open",p=t.createNew(),n={};function g(){for(var t=-1,e=p.keys(),n=0;n<e.length;n++)p.get(e[n]).value.backdrop&&(t=n);return t}function i(t){var e=s.find("body").eq(0),n=p.get(t).value;p.remove(t),o(n.modalDomEl,n.modalScope,300,r),e.toggleClass(f,0<p.length())}function r(){if(h&&-1==g()){var t=d;o(h,d,150,function(){t.$destroy(),t=null}),d=h=void 0}}function o(t,e,n,i){e.animate=!1;var r=a.transitionEndEventName;if(r){var o=l(s,n);t.bind(r,function(){l.cancel(o),s(),e.$apply()})}else l(s,0);function s(){s.done||(s.done=!0,t.remove(),i&&i())}}return u.$watch(g,function(t){d&&(d.index=t)}),s.bind("keydown",function(t){var e;27===t.which&&(e=p.top())&&e.value.keyboard&&u.$apply(function(){n.dismiss(e.key)})}),n.open=function(t,e){p.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var n=s.find("body").eq(0),i=g();0<=i&&!h&&((d=u.$new(!0)).index=i,h=c("<div modal-backdrop></div>")(d),n.append(h));var r=angular.element("<div modal-window></div>");r.attr("window-class",e.windowClass),r.attr("index",p.length()-1),r.attr("animate","animate"),r.html(e.content);var o=c(r)(e.scope);p.top().value.modalDomEl=o,n.append(o),n.addClass(f)},n.close=function(t,e){var n=p.get(t).value;n&&(n.deferred.resolve(e),i(t))},n.dismiss=function(t,e){var n=p.get(t).value;n&&(n.deferred.reject(e),i(t))},n.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},n.getTop=function(){return p.top()},n}]).provider("$modal",function(){var g={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(l,c,u,h,d,f,p){var t={};return t.open=function(e){var o=u.defer(),t=u.defer(),s={result:o.promise,opened:t.promise,close:function(t){p.close(s,t)},dismiss:function(t){p.dismiss(s,t)}};if((e=angular.extend({},g.options,e)).resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var n,i,r,a=u.all([(r=e,r.template?u.when(r.template):h.get(r.templateUrl,{cache:d}).then(function(t){return t.data}))].concat((n=e.resolve,i=[],angular.forEach(n,function(t,e){(angular.isFunction(t)||angular.isArray(t))&&i.push(u.when(l.invoke(t)))}),i)));return a.then(function(n){var t=(e.scope||c).$new();t.$close=s.close,t.$dismiss=s.dismiss;var i={},r=1;e.controller&&(i.$scope=t,i.$modalInstance=s,angular.forEach(e.resolve,function(t,e){i[e]=n[r++]}),f(e.controller,i)),p.open(s,{scope:t,deferred:o,content:n[0],backdrop:e.backdrop,keyboard:e.keyboard,windowClass:e.windowClass})},function(t){o.reject(t)}),a.then(function(){t.resolve(!0)},function(){t.reject(!1)}),s},t}]};return g}),angular.module("mm.foundation.offcanvas",[]).directive("offCanvasWrap",["$window",function(o){return{scope:{},restrict:"C",link:function(t,e,n){var i=angular.element(o),r=t.sidebar=e;t.hide=function(){r.removeClass("move-left"),r.removeClass("move-right")},i.bind("resize.body",t.hide),t.$on("$destroy",function(){i.unbind("resize.body",t.hide)})},controller:["$scope",function(t){this.leftToggle=function(){t.sidebar.toggleClass("move-right")},this.rightToggle=function(){t.sidebar.toggleClass("move-left")},this.hide=function(){t.hide()}}]}}]).directive("leftOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.leftToggle()})}}}]).directive("rightOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.rightToggle()})}}}]).directive("exitOffCanvas",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.hide()})}}}]).directive("offCanvasList",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.hide()})}}}]),angular.module("mm.foundation.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(i,e,n,r){var o=this,s=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(t){e.itemsPerPage?i.$parent.$watch(n(e.itemsPerPage),function(t){o.itemsPerPage=parseInt(t,10),i.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===i.totalPages},this.isActive=function(t){return this.page===t},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(i.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.getAttributeValue=function(t,e,n){return angular.isDefined(t)?n?r(t)(i.$parent):i.$parent.$eval(t):e},this.render=function(){this.page=parseInt(i.page,10)||1,0<this.page&&this.page<=i.totalPages&&(i.pages=this.getPages(this.page,i.totalPages))},i.selectPage=function(t){!o.isActive(t)&&0<t&&t<=i.totalPages&&(i.page=t,i.onSelectPage({page:t}))},i.$watch("page",function(){o.render()}),i.$watch("totalItems",function(){i.totalPages=o.calculateTotalPages()}),i.$watch("totalPages",function(t){s(i.$parent,t),o.page>t?i.selectPage(t):o.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(i,r){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(t,e,n,p){var g,m=p.getAttributeValue(n.boundaryLinks,r.boundaryLinks),v=p.getAttributeValue(n.directionLinks,r.directionLinks),y=p.getAttributeValue(n.firstText,r.firstText,!0),b=p.getAttributeValue(n.previousText,r.previousText,!0),w=p.getAttributeValue(n.nextText,r.nextText,!0),x=p.getAttributeValue(n.lastText,r.lastText,!0),k=p.getAttributeValue(n.rotate,r.rotate);function C(t,e,n,i){return{number:t,text:e,active:n,disabled:i}}p.init(r.itemsPerPage),n.maxSize&&t.$parent.$watch(i(n.maxSize),function(t){g=parseInt(t,10),p.render()}),p.getPages=function(t,e){var n=[],i=1,r=e,o=angular.isDefined(g)&&g<e;o&&(k?e<(r=(i=Math.max(t-Math.floor(g/2),1))+g-1)&&(i=(r=e)-g+1):(i=(Math.ceil(t/g)-1)*g+1,r=Math.min(i+g-1,e)));for(var s=i;s<=r;s++){var a=C(s,s,p.isActive(s),!1);n.push(a)}if(o&&!k){if(1<i){var l=C(i-1,"...",!1,!1);n.unshift(l)}if(r<e){var c=C(r+1,"...",!1,!1);n.push(c)}}if(v){var u=C(t-1,b,!1,p.noPrevious());n.unshift(u);var h=C(t+1,w,!1,p.noNext());n.push(h)}if(m){var d=C(1,y,!1,p.noPrevious());n.unshift(d);var f=C(e,x,!1,p.noNext());n.push(f)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(l){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,e,n,i){var r=i.getAttributeValue(n.previousText,l.previousText,!0),o=i.getAttributeValue(n.nextText,l.nextText,!0),s=i.getAttributeValue(n.align,l.align);function a(t,e,n,i,r){return{number:t,text:e,disabled:n,previous:s&&i,next:s&&r}}i.init(l.itemsPerPage),i.getPages=function(t){return[a(t-1,r,i.noPrevious(),!0,!1),a(t+1,o,i.noNext(),!1,!0)]}}}}]),angular.module("mm.foundation.tooltip",["mm.foundation.position","mm.foundation.bindHtml"]).provider("$tooltip",function(){var a={placement:"top",animation:!0,popupDelay:0},l={mouseenter:"mouseleave",click:"click",focus:"blur"},c={};this.options=function(t){angular.extend(c,t)},this.setTriggers=function(t){angular.extend(l,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(t,o,S,$,E,T,s){return function(x,k,n){var C=angular.extend({},a,c);function _(t){var e=t||C.trigger||n;return{show:e,hide:l[e]||e}}var t=x.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),e=s.startSymbol(),i=s.endSymbol(),r="<div "+t+'-popup title="'+e+"tt_title"+i+'" content="'+e+"tt_content"+i+'" placement="'+e+"tt_placement"+i+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(t,e){var w=o(r);return function(r,o,e){var s,t,n,a=!!angular.isDefined(C.appendToBody)&&C.appendToBody,i=_(void 0),l=!1,c=angular.isDefined(e[k+"Enable"]),u=function(){var t,e,n,i;switch(t=a?T.offset(o):T.position(o),e=s.prop("offsetWidth"),n=s.prop("offsetHeight"),r.tt_placement){case"right":i={top:t.top+t.height/2-n/2,left:t.left+t.width+10};break;case"bottom":i={top:t.top+t.height+10,left:t.left};break;case"left":i={top:t.top+t.height/2-n/2,left:t.left-e-10};break;default:i={top:t.top-n-10,left:t.left}}i.top+="px",i.left+="px",s.css(i)};function h(){r.tt_isOpen?f():d()}function d(){c&&!r.$eval(e[k+"Enable"])||(r.tt_popupDelay?(n=S(p,r.tt_popupDelay,!1)).then(function(t){t()}):p()())}function f(){r.$apply(function(){g()})}function p(){return r.tt_content?(function(){s&&m();s=w(r,function(){}),r.$digest()}(),t&&S.cancel(t),s.css({top:0,left:0,display:"block"}),a?E.find("body").append(s):o.after(s),u(),r.tt_isOpen=!0,r.$digest(),u):angular.noop}function g(){r.tt_isOpen=!1,S.cancel(n),r.tt_animation?t=S(m,500):m()}function m(){s&&(s.remove(),s=null)}r.tt_isOpen=!1,e.$observe(x,function(t){!(r.tt_content=t)&&r.tt_isOpen&&g()}),e.$observe(k+"Title",function(t){r.tt_title=t}),e.$observe(k+"Placement",function(t){r.tt_placement=angular.isDefined(t)?t:C.placement}),e.$observe(k+"PopupDelay",function(t){var e=parseInt(t,10);r.tt_popupDelay=isNaN(e)?C.popupDelay:e});var v=function(){l&&(o.unbind(i.show,d),o.unbind(i.hide,f))},y=function(){};e[k+"Trigger"]=e[k+"Trigger"]||null,e.$observe(k+"Trigger",function(t){v(),y(),i=_(t),angular.isFunction(i.show)?y=r.$watch(function(){return i.show(r,o,e)},function(t){return S(t?p:g)}):i.show===i.hide?o.bind(i.show,h):(o.bind(i.show,d),o.bind(i.hide,f)),l=!0});var b=r.$eval(e[k+"Animation"]);r.tt_animation=angular.isDefined(b)?!!b:C.animation,e.$observe(k+"AppendToBody",function(t){a=angular.isDefined(t)?$(t)(r):a}),a&&r.$on("$locationChangeSuccess",function(){r.tt_isOpen&&g()}),r.$on("$destroy",function(){S.cancel(t),S.cancel(n),v(),y(),m()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("mm.foundation.popover",["mm.foundation.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("mm.foundation.progressbar",["mm.foundation.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(t,e,n,r){var o=this,s=[],i=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,a=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.addBar=function(t,n){var e=0,i=t.$parent.$index;angular.isDefined(i)&&s[i]&&(e=s[i].value),s.push(t),this.update(n,t.value,e),t.$watch("value",function(t,e){t!==e&&o.update(n,t,e)}),t.$on("$destroy",function(){o.removeBar(t)})},this.update=function(t,e,n){var i=this.getPercentage(e);a?(t.css("width",this.getPercentage(n)+"%"),r(t,{width:i+"%"})):t.css({transition:"none",width:i+"%"})},this.removeBar=function(t){s.splice(s.indexOf(t),1)},this.getPercentage=function(t){return Math.round(100*t/i)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("mm.foundation.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,i){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):i.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):i.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):i.stateOff,this.createRateObjects=function(t){for(var e={stateOn:this.stateOn,stateOff:this.stateOff},n=0,i=t.length;n<i;n++)t[n]=angular.extend({index:n},e,t[n]);return t},e.range=angular.isDefined(t.ratingStates)?this.createRateObjects(angular.copy(e.$parent.$eval(t.ratingStates))):this.createRateObjects(new Array(this.maxRange)),e.rate=function(t){e.value===t||e.readonly||(e.value=t)},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=angular.copy(e.value),e.onLeave()},e.$watch("value",function(t){e.val=t}),e.readonly=!1,t.readonly&&e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("mm.foundation.tabs",[]).controller("TabsetController",["$scope",function(t){var i=this,r=i.tabs=t.tabs=[];i.select=function(t){angular.forEach(r,function(t){t.active=!1}),t.active=!0},i.addTab=function(t){r.push(t),(1===r.length||t.active)&&i.select(t)},i.removeTab=function(t){var e=r.indexOf(t);if(t.active&&1<r.length){var n=e==r.length-1?e-1:e+1;i.select(r[n])}r.splice(e,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified),t.type=angular.isDefined(n.type)?t.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,e,s){return function(n,t,e,i){var r,o;e.active?(r=a(e.active),o=r.assign,n.$parent.$watch(r,function(t,e){t!==e&&(n.active=!!t)}),n.active=r(n.$parent)):o=r=angular.noop,n.$watch("active",function(t){o(n.$parent,t),t?(i.select(n),n.onSelect()):n.onDeselect()}),n.disabled=!1,e.disabled&&n.$parent.$watch(a(e.disabled),function(t){n.disabled=!!t}),n.select=function(){n.disabled||(n.active=!0)},i.addTab(n),n.$on("$destroy",function(){i.removeTab(n)}),n.$transcludeFn=s}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e,n,i){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(t,n,e){var i=t.$eval(e.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){var e;(e=t).tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())?i.headingElement=t:n.append(t)})})}}}),angular.module("mm.foundation.topbar",[]).factory("closest",[function(){return function(t,e){for(var n=function(t,e){for(var n=(t.parentNode||t.document).querySelectorAll(e),i=-1;n[++i]&&n[i]!=t;);return!!n[i]},i=t[0];i;){if(n(i,e))return angular.element(i);i=i.parentElement}return!1}}]).directive("topBar",["$timeout","$compile","$window","$document",function(l,t,u,h){var d=angular.element(u),f=angular.element(h[0].querySelector("head"));f.append('<meta class="foundation-mq-topbar" />'),f.append('<meta class="foundation-mq-small" />'),f.append('<meta class="foundation-mq-medium" />'),f.append('<meta class="foundation-mq-large" />');var e,n,i,r,o,s,c=u.matchMedia||(e=h[0],i=e.documentElement,r=i.firstElementChild||i.firstChild,o=e.createElement("body"),(s=e.createElement("div")).id="mq-test-1",s.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(s),function(t){return s.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(o,r),n=42===s.offsetWidth,i.removeChild(o),{matches:n,media:t}});return{scope:{stickyClass:"@",backText:"@",stickyOn:"=",customBackText:"=",isHover:"=",mobileShowParentLink:"=",scrolltop:"="},restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar.html",transclude:!0,link:function(n,t,e){var i=n.topbar=t,r=i.parent(),o=/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,s=(n.mediaQueries={topbar:getComputedStyle(f[0].querySelector("meta.foundation-mq-topbar")).fontFamily.replace(o,""),small:getComputedStyle(f[0].querySelector("meta.foundation-mq-small")).fontFamily.replace(o,""),medium:getComputedStyle(f[0].querySelector("meta.foundation-mq-medium")).fontFamily.replace(o,""),large:getComputedStyle(f[0].querySelector("meta.foundation-mq-large")).fontFamily.replace(o,"")},angular.element(h[0].querySelector("body"))),a=n.isSticky=function(){var t=r.hasClass(n.settings.stickyClass);return!(!t||"all"!==n.settings.stickyOn)||(!(!t||!small()||"small"!==n.settings.stickyOn)||(!(!t||!medium()||"medium"!==n.settings.stickyOn)||!(!t||!large()||"large"!==n.settings.stickyOn)))},l=function(){if(n.stickyTopbar&&n.isSticky()){var t=angular.element(h[0].querySelector("."+n.settings.stickyClass)),e=c;d.scrollTop()>e&&!t.hasClass("fixed")?(t.addClass("fixed"),s.css("padding-top",n.originalHeight+"px")):d.scrollTop()<=e&&t.hasClass("fixed")&&(t.removeClass("fixed"),s.css("padding-top",""))}};if(n.toggle=function(t){if(!n.breakpoint())return!1;var e=void 0===t?!i.hasClass("expanded"):t;e?i.addClass("expanded"):i.removeClass("expanded"),n.settings.scrolltop?!e&&i.hasClass("fixed")?(i.parent().addClass("fixed"),i.removeClass("fixed"),s.css("padding-top",n.originalHeight+"px")):e&&i.parent().hasClass("fixed")&&(i.parent().removeClass("fixed"),i.addClass("fixed"),s.css("padding-top",""),u.scrollTo(0,0)):(a()&&i.parent().addClass("fixed"),i.parent().hasClass("fixed")&&(e?(i.addClass("fixed"),i.parent().addClass("expanded"),s.css("padding-top",n.originalHeight+"px")):(i.removeClass("fixed"),i.parent().removeClass("expanded"),l())))},r.hasClass("fixed")||a()){n.stickyTopbar=!0,n.height=r[0].offsetHeight;var c=r[0].getBoundingClientRect().top}else n.height=i[0].offsetHeight;n.originalHeight=n.height,n.$watch("height",function(t){t?i.css("height",t+"px"):i.css("height","")}),d.bind("resize",function(){var t=angular.element(i[0].querySelectorAll("section"));angular.forEach(t,function(t){angular.element(t.querySelectorAll("li.moved")).removeClass("moved")}),i.removeClass("expanded"),n.height="",n.$apply()}),d.bind("scroll",function(){l(),n.$apply()}),n.$on("$destroy",function(){d.unbind("scroll"),d.unbind("resize")}),r.hasClass("fixed")&&s.css("padding-top",n.originalHeight+"px")},controller:["$window","$scope","closest",function(t,r,o){r.settings={},r.settings.stickyClass=r.stickyClass||"sticky",r.settings.backText=r.backText||"Back",r.settings.stickyOn=r.stickyOn||"all",r.settings.customBackText=void 0===r.customBackText||r.customBackText,r.settings.isHover=void 0===r.isHover||r.isHover,r.settings.mobileShowParentLink=void 0===r.mobileShowParentLink||r.mobileShowParentLink,r.settings.scrolltop=void 0===r.scrolltop||r.scrolltop,this.settings=r.settings,r.index=0;var s=function(t){var e=t.offsetHeight,n=t.currentStyle||getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},a=r.breakpoint=this.breakpoint=function(){return!c(r.mediaQueries.topbar).matches},n=[];this.addSection=function(t){n.push(t)},this.removeSection=function(t){var e=n.indexOf(t);-1<e&&n.splice(e,1)};var i=/rtl/i.test(h.find("html").attr("dir"))?"right":"left";r.$watch("index",function(t){for(var e=0;e<n.length;e++)n[e].move(i,t)}),this.toggle=function(t){r.toggle(t);for(var e=0;e<n.length;e++)n[e].reset();r.index=0,r.height="",r.$apply()},this.back=function(t){if(!(r.index<1)&&a()){var e=angular.element(t.currentTarget),n=o(e,"li.moved"),i=n.parent();r.index=r.index-1,0===r.index?r.height="":r.height=r.originalHeight+s(i[0]),l(function(){n.removeClass("moved")},300)}},this.forward=function(t){if(!a())return!1;var e=angular.element(t.currentTarget);o(e,"li").addClass("moved"),r.height=r.originalHeight+s(e.parent()[0].querySelector("ul")),r.index=r.index+1,r.$apply()}}]}}]).directive("toggleTopBar",["closest",function(r){return{scope:{},require:"^topBar",restrict:"A",replace:!0,templateUrl:"template/topbar/toggle-top-bar.html",transclude:!0,link:function(t,e,n,i){e.bind("click",function(t){var e=r(angular.element(t.currentTarget),"li");e.hasClass("back")||e.hasClass("has-dropdown")||i.toggle()}),t.$on("$destroy",function(){e.unbind("click")})}}}]).directive("topBarSection",["$compile","closest",function(t,s){return{scope:{},require:"^topBar",restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar-section.html",transclude:!0,link:function(i,t,e,r){var n=t;i.reset=function(){angular.element(n[0].querySelectorAll("li.moved")).removeClass("moved")},i.move=function(t,e){"left"===t?n.css({left:-100*e+"%"}):n.css({right:-100*e+"%"})},r.addSection(i),i.$on("$destroy",function(){r.removeSection(i)});var o=n[0].querySelectorAll("li>a");angular.forEach(o,function(t){var e=angular.element(t),n=s(e,"li");n.hasClass("has-dropdown")||n.hasClass("back")||n.hasClass("title")||(e.bind("click",function(){r.toggle(!1)}),i.$on("$destroy",function(){e.bind("click")}))})}}}]).directive("hasDropdown",[function(){return{scope:{},require:["^topBar"],restrict:"A",templateUrl:"template/topbar/has-dropdown.html",replace:!0,transclude:!0,link:function(t,e,n,i){var r=i[0];i[1];t.triggerLink=e.children("a")[0];var o=angular.element(t.triggerLink);o.bind("click",function(t){r.forward(t)}),t.$on("$destroy",function(){o.unbind("click")}),e.bind("mouseenter",function(){r.settings.isHover&&!r.breakpoint()&&e.addClass("not-click")}),e.bind("click",function(t){r.settings.isHover||r.breakpoint()||(was_clicked_twice=e[0].className.indexOf("not-click"),$("#main").click(function(){$(".not-click").toggleClass("not-click"),$("#main").unbind("click")}),0!=$(".not-click").size()&&$(".not-click").toggleClass("not-click"),-1!=was_clicked_twice&&e.toggleClass("not-click"),e.toggleClass("not-click"))}),e.bind("mouseleave",function(){r.settings.isHover&&e.removeClass("not-click")}),t.$on("$destroy",function(){e.unbind("click"),e.unbind("mouseenter"),e.unbind("mouseleave")})},controller:["$window","$scope",function(t,e){this.triggerLink=e.triggerLink}]}}]).directive("topBarDropdown",["$compile",function(c){return{scope:{},require:["^topBar","^hasDropdown"],restrict:"A",replace:!0,templateUrl:"template/topbar/top-bar-dropdown.html",transclude:!0,link:function(t,e,n,i){var r,o=i[0],s=i[1],a=angular.element(s.triggerLink),l=a.attr("href");t.linkText=a.text(),t.back=function(t){o.back(t)},o.settings.customBackText?t.backText=o.settings.backText:t.backText="&laquo; "+a.html(),r=o.settings.mobileShowParentLink&&l&&1<l.length?angular.element('<li class="title back js-generated"><h5><a href="#" ng-click="back($event);">{{backText}}</a></h5></li><li><a class="parent-link js-generated" href="'+l+'">{{linkText}}</a></li>'):angular.element('<li class="title back js-generated"><h5><a href="" ng-click="back($event);">{{backText}}</a></h5></li>'),c(r)(t),e.prepend(r)}}}]),angular.module("mm.foundation.tour",["mm.foundation.position","mm.foundation.tooltip"]).service("$tour",["$window","$rootScope",function(e,t){var n=parseInt(e.localStorage.getItem("mm.tour.step"),10),i={};function r(t){n=t,e.localStorage.setItem("mm.tour.step",t)}this.add=function(t,e){i[t]=e},this.has=function(t){return!!i[t]},this.isActive=function(){return 0<n},this.current=function(t){if(!t)return n;r(n)},this.start=function(){r(1)},this.next=function(){r(n+1)},this.end=function(){t.$emit("tour_ended"),r(0)}}]).directive("stepTextPopup",["$tour",function(n){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tour/tour.html",link:function(t,e){t.isLastStep=function(){return!n.has(n.current()+1)},t.endTour=function(){e.remove(),n.end()},t.nextStep=function(){e.remove(),n.next()}}}}]).directive("stepText",["$position","$tooltip","$tour","$window","Page",function(a,t,l,c,u){return t("stepText","step",function(t,e,n){var i,r=parseInt(n.stepIndex,10);if(n.pageName)var o=n.pageName.replace(".","_");if(l.isActive()&&r&&o==u.pageName()&&(l.add(r,n),r===l.current())){if(!(0<=(i=e[0].getBoundingClientRect()).top&&0<=i.left&&i.bottom<=c.innerHeight-80&&i.right<=c.innerWidth)){var s=a.offset(e);c.scrollTo(0,s.top-c.innerHeight/2)}return!0}return!1})}]),angular.module("mm.foundation.typeahead",["mm.foundation.position","mm.foundation.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var i=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(t){var e=t.match(i);if(!e)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+t+"'.");return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(x,k,C,_,S,$,E){var T=[9,13,27,38,40];return{require:"ngModel",link:function(r,o,t,s){var a,e=r.$eval(t.typeaheadMinLength)||1,n=r.$eval(t.typeaheadWaitMs)||0,i=!1!==r.$eval(t.typeaheadEditable),l=k(t.typeaheadLoading).assign||angular.noop,c=k(t.typeaheadOnSelect),u=t.typeaheadInputFormatter?k(t.typeaheadInputFormatter):void 0,h=!!t.typeaheadAppendToBody&&k(t.typeaheadAppendToBody),d=k(t.ngModel).assign,f=E.parse(t.typeahead),p=angular.element("<div typeahead-popup></div>");p.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(t.typeaheadTemplateUrl)&&p.attr("template-url",t.typeaheadTemplateUrl);var g=r.$new();r.$on("$destroy",function(){g.$destroy()});var m,v=function(){g.matches=[],g.activeIdx=-1},y=function(n){var i={$viewValue:n};l(r,!0),C.when(f.source(r,i)).then(function(t){if(n===s.$viewValue&&a){if(0<t.length){g.activeIdx=0;for(var e=g.matches.length=0;e<t.length;e++)i[f.itemName]=t[e],g.matches.push({label:f.viewMapper(g,i),model:t[e]});g.query=n,g.position=h?$.offset(o):$.position(o),g.position.top=g.position.top+o.prop("offsetHeight")}else v();l(r,!1)}},function(){v(),l(r,!1)})};v(),g.query=void 0,s.$parsers.unshift(function(t){return a=!0,t&&t.length>=e?0<n?(m&&_.cancel(m),m=_(function(){y(t)},n)):y(t):(l(r,!1),v()),i?t:t?void s.$setValidity("editable",!1):(s.$setValidity("editable",!0),t)}),s.$formatters.push(function(t){var e,n={};return u?(n.$model=t,u(r,n)):(n[f.itemName]=t,e=f.viewMapper(r,n),n[f.itemName]=void 0,e!==f.viewMapper(r,n)?e:t)}),g.select=function(t){var e,n,i={};i[f.itemName]=n=g.matches[t].model,e=f.modelMapper(r,i),d(r,e),s.$setValidity("editable",!0),c(r,{$item:n,$model:e,$label:f.viewMapper(r,i)}),v(),o[0].focus()},o.bind("keydown",function(t){0!==g.matches.length&&-1!==T.indexOf(t.which)&&(t.preventDefault(),40===t.which?(g.activeIdx=(g.activeIdx+1)%g.matches.length,g.$digest()):38===t.which?(g.activeIdx=(g.activeIdx?g.activeIdx:g.matches.length)-1,g.$digest()):13===t.which||9===t.which?g.$apply(function(){g.select(g.activeIdx)}):27===t.which&&(t.stopPropagation(),v(),g.$digest()))}),o.bind("blur",function(t){a=!1});var b=function(t){o[0]!==t.target&&(v(),g.$digest())};S.bind("click",b),r.$on("$destroy",function(){S.unbind("click",b)});var w=x(p)(g);h?S.find("body").append(w):o.after(w)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return 0<e.matches.length},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(r,o,s,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,n,t){var i=a(t.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";r.get(i,{cache:o}).success(function(t){n.replaceWith(s(t.trim())(e))})}}}]).filter("typeaheadHighlight",function(){return function(t,e){return e?t.replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t}}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}}(function(){return function o(s,a,l){function c(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};s[n][0].call(r.exports,function(t){var e=s[n][1][t];return c(e||t)},r,r.exports,o,s,a,l)}return a[n].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){var i=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(t,e){for(;t&&t.nodeType!==i;){if(t.matches(e))return t;t=t.parentNode}}},{}],2:[function(t,e,n){var s=t("./closest");e.exports=function(t,e,n,i,r){var o=function(e,n,t,i){return function(t){t.delegateTarget=s(t.target,n),t.delegateTarget&&i.call(e,t)}}.apply(this,arguments);return t.addEventListener(n,o,r),{destroy:function(){t.removeEventListener(n,o,r)}}}},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){var d=t("./is"),f=t("delegate");e.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!d.string(e))throw new TypeError("Second argument must be a String");if(!d.fn(n))throw new TypeError("Third argument must be a Function");if(d.node(t))return r=e,o=n,(i=t).addEventListener(r,o),{destroy:function(){i.removeEventListener(r,o)}};var i,r,o,s,a,l,c,u,h;if(d.nodeList(t))return s=t,a=e,l=n,Array.prototype.forEach.call(s,function(t){t.addEventListener(a,l)}),{destroy:function(){Array.prototype.forEach.call(s,function(t){t.removeEventListener(a,l)})}};if(d.string(t))return c=t,u=e,h=n,f(document.body,c,u,h);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(t,e,n){e.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}},{}],6:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],7:[function(i,r,o){!function(t,e){if(void 0!==o)e(r,i("select"));else{var n={exports:{}};e(n,t.select),t.clipboardAction=n.exports}}(this,function(t,e){"use strict";var n,i=(n=e)&&n.__esModule?n:{default:n},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),s=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();t.exports=s})},{select:5}],8:[function(i,r,o){!function(t,e){if(void 0!==o)e(r,i("./clipboard-action"),i("tiny-emitter"),i("good-listener"));else{var n={exports:{}};e(n,t.clipboardAction,t.tinyEmitter,t.goodListener),t.clipboard=n.exports}}(this,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=r(e),a=r(n),l=r(i),c=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),u=function(t){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.resolveOptions(e),n.listenClick(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,a.default),c(i,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,l.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return o("action",t)}},{key:"defaultTarget",value:function(t){var e=o("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return o("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),i}();t.exports=u})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(){"use strict";var t,i,e="ngclipboard";"object"==typeof module&&module.exports?(t=require("angular"),i=require("clipboard"),module.exports=e):(t=window.angular,i=window.Clipboard),t.module(e,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(e,t){var n=new i(t[0]);n.on("success",function(t){e.$apply(function(){e.ngclipboardSuccess({e:t})})}),n.on("error",function(t){e.$apply(function(){e.ngclipboardError({e:t})})})}}})}(),angular.module("ngTextTruncate",[]).directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function(t,o,s,a){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"@ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:["$scope","$element","$attrs",function(t,e,n){t.toggleShow=function(){t.open=!t.open},t.useToggling=void 0===n.ngTtNoToggling}],link:function(t,e,n){t.open=!1,o.failIfWrongThreshouldConfig(t.charsThreshould,t.wordsThreshould);var i=parseInt(t.charsThreshould),r=parseInt(t.wordsThreshould);i?t.text&&s.truncationApplies(t,i)?s.applyTruncation(i,t,e):e.append(t.text):t.text&&a.truncationApplies(t,r)?a.applyTruncation(r,t,e):e.append(t.text)}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(t,e){if(!t&&!e||t&&e)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function(r){return{truncationApplies:function(t,e){return t.text.length>e},applyTruncation:function(t,e,n){if(e.useToggling){var i=angular.element("<span>"+e.text.substr(0,t)+"<span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(e.customMoreLabel?e.customMoreLabel:"More")+"</span><span ng-show='open'>"+e.text.substring(t)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(e.customLessLabel?e.customLessLabel:"Less")+"</span></span></span>");r(i)(e),n.append(i)}else n.append(e.text.substr(0,t)+"...")}}}]).factory("WordBasedTruncation",["$compile",function(o){return{truncationApplies:function(t,e){return t.text.split(" ").length>e},applyTruncation:function(t,e,n){var i=e.text.split(" ");if(e.useToggling){var r=angular.element("<span>"+i.slice(0,t).join(" ")+" <span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> More</span><span ng-show='open'>"+i.slice(t,i.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> Less</span></span></span>");o(r)(e),n.append(r)}else n.append(i.slice(0,t).join(" ")+"...")}}}]),function(t){function e(t,e){if(!(1<t.originalEvent.touches.length)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(t){!n&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){this.element.bind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),r.call(this)},i._mouseDestroy=function(){this.element.unbind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),o.call(this)}}}(jQuery),function(t,e){"undefined"!=typeof module&&module.exports?module.exports="undefined"==typeof angular?e(require("angular")):e(angular):"function"==typeof define&&define.amd?define(["angular"],e):e(t.angular)}(this,function(T){"use strict";var t=T.module("ngDialog",[]),D=T.element,e=T.isDefined,n=(document.body||document.documentElement).style,l=e(n.animation)||e(n.WebkitAnimation)||e(n.MozAnimation)||e(n.MsAnimation)||e(n.OAnimation),c="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",i={html:!1,body:!1},M={},A=[],P=!1;return t.provider("ngDialog",function(){var C=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceHtmlReload=function(t){i.html=t||!1},this.setForceBodyReload=function(t){i.body=t||!1},this.setDefaults=function(t){T.extend(C,t)};var _,S=0,$=0,E={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(n,o,p,s,a,g,m,v,y,b){var w=[];T.forEach(["html","body"],function(t){if(w[t]=n.find(t),i[t]){var e=x.getRouterLocationEventName();g.$on(e,function(){w[t]=n.find(t)})}});var x={onDocumentKeydown:function(t){27===t.keyCode&&k.close("$escape")},activate:function(t){t.data("$ngDialogOptions").trapFocus&&(t.on("keydown",x.onTrapFocusKeydown),w.body.on("keydown",x.onTrapFocusKeydown))},deactivate:function(t){t.off("keydown",x.onTrapFocusKeydown),w.body.off("keydown",x.onTrapFocusKeydown)},deactivateAll:function(){T.forEach(function(t){var e=T.element(t);x.deactivate(e)})},setBodyPadding:function(t){var e=parseInt(w.body.css("padding-right")||0,10);w.body.css("padding-right",e+t+"px"),w.body.data("ng-dialog-original-padding",e)},resetBodyPadding:function(){var t=w.body.data("ng-dialog-original-padding");t?w.body.css("padding-right",t+"px"):w.body.css("padding-right","")},performCloseDialog:function(t,e){var n=t.data("$ngDialogOptions"),i=t.attr("id"),r=M[i];if(r){if(void 0!==v.Hammer){var o=r.hammerTime;o.off("tap",_),o.destroy&&o.destroy(),delete r.hammerTime}else t.unbind("click");1===$&&w.body.unbind("keydown",x.onDocumentKeydown),t.hasClass("ngdialog-closing")||($-=1);var s=t.data("$ngDialogPreviousFocus");s&&s.focus(),g.$broadcast("ngDialog.closing",t,e),$=$<0?0:$,l&&!n.disableAnimation?(r.$destroy(),t.unbind(c).bind(c,function(){x.closeDialogElement(t,e)}).addClass("ngdialog-closing")):(r.$destroy(),x.closeDialogElement(t,e)),E[i]&&(E[i].resolve({id:i,value:e,$dialog:t,remainingDialogs:$}),delete E[i]),M[i]&&delete M[i],A.splice(A.indexOf(i),1),A.length||(w.body.unbind("keydown",x.onDocumentKeydown),P=!1)}},closeDialogElement:function(t,e){t.remove(),0===$&&(w.html.removeClass("ngdialog-open"),w.body.removeClass("ngdialog-open"),x.resetBodyPadding()),g.$broadcast("ngDialog.closed",t,e)},closeDialog:function(t,e){var n=t.data("$ngDialogPreCloseCallback");if(n&&T.isFunction(n)){var i=n.call(t,e);T.isObject(i)?i.closePromise?i.closePromise.then(function(){x.performCloseDialog(t,e)}):i.then(function(){x.performCloseDialog(t,e)},function(){}):!1!==i&&x.performCloseDialog(t,e)}else x.performCloseDialog(t,e)},onTrapFocusKeydown:function(t){var e,n=T.element(t.currentTarget);if(n.hasClass("ngdialog"))e=n;else if(null===(e=x.getActiveDialog()))return;var i=9===t.keyCode,r=!0===t.shiftKey;i&&x.handleTab(e,t,r)},handleTab:function(t,e,n){var i=x.getFocusableElements(t);if(0!==i.length){var r=document.activeElement,o=Array.prototype.indexOf.call(i,r),s=-1===o,a=0===o,l=o===i.length-1,c=!1;n?(s||a)&&(i[i.length-1].focus(),c=!0):(s||l)&&(i[0].focus(),c=!0),c&&(e.preventDefault(),e.stopPropagation())}else document.activeElement&&document.activeElement.blur()},autoFocus:function(t){var e=t[0],n=e.querySelector("*[autofocus]");if(null===n||(n.focus(),document.activeElement!==n)){var i=x.getFocusableElements(t);if(0<i.length)return void i[0].focus();var r=x.filterVisibleElements(e.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(0<r.length){var o=r[0];D(o).attr("tabindex","-1").css("outline","0"),o.focus()}}},getFocusableElements:function(t){var e=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=x.filterTabbableElements(e);return x.filterVisibleElements(n)},filterTabbableElements:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];"-1"!==D(i).attr("tabindex")&&e.push(i)}return e},filterVisibleElements:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];(0<i.offsetWidth||0<i.offsetHeight)&&e.push(i)}return e},getActiveDialog:function(){var t=document.querySelectorAll(".ngdialog");return 0===t.length?null:D(t[t.length-1])},applyAriaAttributes:function(t,e){if(e.ariaAuto){if(!e.ariaRole){var n=0<x.getFocusableElements(t).length?"dialog":"alertdialog";e.ariaRole=n}e.ariaLabelledBySelector||(e.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),e.ariaDescribedBySelector||(e.ariaDescribedBySelector="article,section,p")}e.ariaRole&&t.attr("role",e.ariaRole),x.applyAriaAttribute(t,"aria-labelledby",e.ariaLabelledById,e.ariaLabelledBySelector),x.applyAriaAttribute(t,"aria-describedby",e.ariaDescribedById,e.ariaDescribedBySelector)},applyAriaAttribute:function(t,e,n,i){if(n&&t.attr(e,n),i){var r=t.attr("id"),o=t[0].querySelector(i);if(!o)return;var s=r+"-"+e;return D(o).attr("id",s),t.attr(e,s),s}},detectUIRouter:function(){try{return T.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return x.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},k={open:function(t){function e(e,t){return g.$broadcast("ngDialog.templateLoading",e),a.get(e,t||{}).then(function(t){return g.$broadcast("ngDialog.templateLoaded",e),t.data||""})}var n,l,c=T.copy(C),u=++S,h="ngdialog"+u;A.push(h),t=t||{},T.extend(c,t),E[h]=n=s.defer(),M[h]=l=T.isObject(c.scope)?c.scope.$new():g.$new();var d,f,i,r=T.extend({},c.resolve);return T.forEach(r,function(t,e){r[e]=T.isString(t)?b.get(t):b.invoke(t,null,null,e)}),s.all({template:(i=c.template||c.templateUrl,i?T.isString(i)&&c.plain?i:"boolean"!=typeof c.cache||c.cache?e(i,{cache:o}):e(i,{cache:!1}):"Empty template"),locals:s.all(r)}).then(function(t){var e,n=t.template,i=t.locals;if(c.showClose&&(n+='<div class="ngdialog-close"></div>'),(d=D('<div id="ngdialog'+u+'" class="ngdialog"></div>')).html(c.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+n+"</div>":'<div class="ngdialog-content" role="document">'+n+"</div>"),d.data("$ngDialogOptions",c),l.ngDialogId=h,c.data&&T.isString(c.data)){var r=c.data.replace(/^\s*/,"")[0];l.ngDialogData="{"===r||"["===r?T.fromJson(c.data):c.data,l.ngDialogData.ngDialogId=h}else c.data&&T.isObject(c.data)&&(l.ngDialogData=c.data,l.ngDialogData.ngDialogId=h);if(c.controller&&(T.isString(c.controller)||T.isArray(c.controller)||T.isFunction(c.controller))){var o;c.controllerAs&&T.isString(c.controllerAs)&&(o=c.controllerAs);var s=y(c.controller,T.extend(i,{$scope:l,$element:d}),null,o);d.data("$ngDialogControllerController",s)}(c.className&&d.addClass(c.className),c.disableAnimation&&d.addClass("ngdialog-disabled-animation"),f=c.appendTo&&T.isString(c.appendTo)?T.element(document.querySelector(c.appendTo)):w.body,x.applyAriaAttributes(d,c),c.preCloseCallback)&&(T.isFunction(c.preCloseCallback)?e=c.preCloseCallback:T.isString(c.preCloseCallback)&&l&&(T.isFunction(l[c.preCloseCallback])?e=l[c.preCloseCallback]:l.$parent&&T.isFunction(l.$parent[c.preCloseCallback])?e=l.$parent[c.preCloseCallback]:g&&T.isFunction(g[c.preCloseCallback])&&(e=g[c.preCloseCallback])),e&&d.data("$ngDialogPreCloseCallback",e));if(l.closeThisDialog=function(t){x.closeDialog(d,t)},m(function(){var t=document.querySelectorAll(".ngdialog");x.deactivateAll(t),p(d)(l);var e=v.innerWidth-w.body.prop("clientWidth");w.html.addClass("ngdialog-open"),w.body.addClass("ngdialog-open");var n=e-(v.innerWidth-w.body.prop("clientWidth"));0<n&&x.setBodyPadding(n),f.append(d),x.activate(d),c.trapFocus&&x.autoFocus(d),c.name?g.$broadcast("ngDialog.opened",{dialog:d,name:c.name}):g.$broadcast("ngDialog.opened",d)}),P||(w.body.bind("keydown",x.onDocumentKeydown),P=!0),c.closeByNavigation){var a=x.getRouterLocationEventName();g.$on(a,function(){x.closeDialog(d)})}(c.preserveFocus&&d.data("$ngDialogPreviousFocus",document.activeElement),_=function(t){var e=!!c.closeByDocument&&D(t.target).hasClass("ngdialog-overlay"),n=D(t.target).hasClass("ngdialog-close");(e||n)&&k.close(d.attr("id"),n?"$closeButton":"$document")},void 0!==v.Hammer)?(l.hammerTime=v.Hammer(d[0])).on("tap",_):d.bind("click",_);return $+=1,k}),{id:h,closePromise:n.promise,close:function(t){x.closeDialog(d,t)}}},openConfirm:function(t){var n=s.defer(),e={closeByEscape:!1,closeByDocument:!1};T.extend(e,t),e.scope=T.isObject(e.scope)?e.scope.$new():g.$new(),e.scope.confirm=function(t){n.resolve(t);var e=D(document.getElementById(i.id));x.performCloseDialog(e,t)};var i=k.open(e);return i.closePromise.then(function(t){return t?n.reject(t.value):n.reject()}),n.promise},isOpen:function(t){return 0<D(document.getElementById(t)).length},close:function(t,e){var n=D(document.getElementById(t));if(n.length)x.closeDialog(n,e);else if("$escape"===t){var i=A[A.length-1];(n=D(document.getElementById(i))).data("$ngDialogOptions").closeByEscape&&x.closeDialog(n,e)}else k.closeAll(e);return k},closeAll:function(t){for(var e=document.querySelectorAll(".ngdialog"),n=e.length-1;0<=n;n--){var i=e[n];x.closeDialog(D(i),t)}},getOpenDialogs:function(){return A},getDefaults:function(){return C}};return k}]}),t.directive("ngDialog",["ngDialog",function(o){return{restrict:"A",scope:{ngDialogScope:"="},link:function(i,t,r){t.on("click",function(t){t.preventDefault();var e=T.isDefined(i.ngDialogScope)?i.ngDialogScope:"noScope";T.isDefined(r.ngDialogClosePrevious)&&o.close(r.ngDialogClosePrevious);var n=o.getDefaults();o.open({template:r.ngDialog,className:r.ngDialogClass||n.className,controller:r.ngDialogController,controllerAs:r.ngDialogControllerAs,bindToController:r.ngDialogBindToController,scope:e,data:r.ngDialogData,showClose:"false"!==r.ngDialogShowClose&&("true"===r.ngDialogShowClose||n.showClose),closeByDocument:"false"!==r.ngDialogCloseByDocument&&("true"===r.ngDialogCloseByDocument||n.closeByDocument),closeByEscape:"false"!==r.ngDialogCloseByEscape&&("true"===r.ngDialogCloseByEscape||n.closeByEscape),overlay:"false"!==r.ngDialogOverlay&&("true"===r.ngDialogOverlay||n.overlay),preCloseCallback:r.ngDialogPreCloseCallback||n.preCloseCallback})})}}}]),t});var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(p){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var g=p.document,n=p.URL||p.webkitURL||p,m=g.createElementNS("http://www.w3.org/1999/xhtml","a"),v=!p.externalHost&&"download"in m,y=p.webkitRequestFileSystem,b=p.requestFileSystem||y||p.mozRequestFileSystem,o=function(t){(p.setImmediate||p.setTimeout)(function(){throw t},0)},w="application/octet-stream",x=0,k=[],t=function(){for(var t=k.length;t--;){var e=k[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}k.length=0},C=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){o(t)}}},i=function(i,n){var t,r,e,o=this,s=i.type,a=!1,l=function(){var t=(p.URL||p.webkitURL||p).createObjectURL(i);return k.push(t),t},c=function(){C(o,"writestart progress write writeend".split(" "))},u=function(){!a&&t||(t=l()),r?r.location.href=t:window.open(t,"_blank"),o.readyState=o.DONE,c()},h=function(t){return function(){if(o.readyState!==o.DONE)return t.apply(this,arguments)}},d={create:!0,exclusive:!1};if(o.readyState=o.INIT,n||(n="download"),v){t=l(),g=p.document,(m=g.createElementNS("http://www.w3.org/1999/xhtml","a")).href=t,m.download=n;var f=g.createEvent("MouseEvents");return f.initMouseEvent("click",!0,!1,p,0,0,0,0,0,!1,!1,!1,!1,0,null),m.dispatchEvent(f),o.readyState=o.DONE,void c()}p.chrome&&s&&s!==w&&(e=i.slice||i.webkitSlice,i=e.call(i,0,i.size,w),a=!0),y&&"download"!==n&&(n+=".download"),(s===w||y)&&(r=p),b?(x+=i.size,b(p.TEMPORARY,x,h(function(t){t.root.getDirectory("saved",d,h(function(t){var e=function(){t.getFile(n,d,h(function(n){n.createWriter(h(function(e){e.onwriteend=function(t){r.location.href=n.toURL(),k.push(n),o.readyState=o.DONE,C(o,"writeend",t)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&u()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=o["on"+t]}),e.write(i),o.abort=function(){e.abort(),o.readyState=o.DONE},o.readyState=o.WRITING}),u)}),u)};t.getFile(n,{create:!1},h(function(t){t.remove(),e()}),h(function(t){t.code===t.NOT_FOUND_ERR?e():u()}))}),u)}),u)):u()},e=i.prototype,r=function(t,e){return new i(t,e)};return e.abort=function(){this.readyState=this.DONE,C(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,p.addEventListener("unload",t,!1),r.unload=function(){t(),p.removeEventListener("unload",t,!1)},r}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);if("undefined"!=typeof module&&(module.exports=saveAs),"function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof URL)if("function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof webkitURL)var Blob=function(t){"use strict";var s=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder||function(t){var a=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},e=function(){this.data=[]},l=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},n=e.prototype,i=l.prototype,c=t.FileReaderSync,u=function(t){this.code=this[this.name=t]},r="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),o=r.length,s=t.URL||t.webkitURL||t,h=s.createObjectURL,d=s.revokeObjectURL,f=s,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array;for(l.fake=i.fake=!0;o--;)u.prototype[r[o]]=o+1;return s.createObjectURL||(f=t.URL={}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof l?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(s,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(s,t)},n.append=function(t){var e=this.data;if(v&&(t instanceof m||t instanceof v)){for(var n="",i=new v(t),r=0,o=i.length;r<o;r++)n+=String.fromCharCode(i[r]);e.push(n)}else if("Blob"===a(t)||"File"===a(t)){if(!c)throw new u("NOT_READABLE_ERR");var s=new c;e.push(s.readAsBinaryString(t))}else t instanceof l?"base64"===t.encoding&&g?e.push(g(t.data)):"URI"===t.encoding?e.push(decodeURIComponent(t.data)):"raw"===t.encoding&&e.push(t.data):("string"!=typeof t&&(t+=""),e.push(unescape(encodeURIComponent(t))))},n.getBlob=function(t){return arguments.length||(t=null),new l(this.data.join(""),t,"raw")},n.toString=function(){return"[object BlobBuilder]"},i.slice=function(t,e,n){var i=arguments.length;return i<3&&(n=null),new l(this.data.slice(t,1<i?e:this.data.length),n,this.encoding)},i.toString=function(){return"[object Blob]"},e}(t);return function(t,e){var n=e&&e.type||"",i=new s;if(t)for(var r=0,o=t.length;r<o;r++)i.append(t[r]);return i.getBlob(n)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);else self.URL=webkitURL;var ics=function(){"use strict";if(!(-1<navigator.userAgent.indexOf("MSIE")&&-1==navigator.userAgent.indexOf("MSIE 10"))){var k=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",C=[],o=["BEGIN:VCALENDAR","VERSION:2.0"].join(k),s=k+"END:VCALENDAR";return{events:function(){return C},calendar:function(){return o+k+C.join(k)+s},addEvent:function(t,e,n,i,r){if(void 0===t||void 0===e||void 0===n||void 0===i||void 0===r)return!1;var o=new Date(i),s=new Date(r),a=("0000"+o.getFullYear().toString()).slice(-4),l=("00"+(o.getMonth()+1).toString()).slice(-2),c=("00"+o.getDate().toString()).slice(-2),u=("00"+o.getHours().toString()).slice(-2),h=("00"+o.getMinutes().toString()).slice(-2),d=("00"+o.getMinutes().toString()).slice(-2),f=("0000"+s.getFullYear().toString()).slice(-4),p=("00"+(s.getMonth()+1).toString()).slice(-2),g=("00"+s.getDate().toString()).slice(-2),m=("00"+s.getHours().toString()).slice(-2),v=("00"+s.getMinutes().toString()).slice(-2),y=("00"+s.getMinutes().toString()).slice(-2),b="",w="";h+d+v+y!=0&&(b="T"+u+h+d,w="T"+m+v+y);var x=["BEGIN:VEVENT","CLASS:PUBLIC","DESCRIPTION:"+e,"DTSTART;VALUE=DATE:"+(a+l+c+b),"DTEND;VALUE=DATE:"+(f+p+g+w),"LOCATION:"+n,"SUMMARY;LANGUAGE=en-us:"+t,"TRANSP:TRANSPARENT","END:VEVENT"].join(k);return C.push(x),x},download:function(t,e){if(C.length<1)return!1;e=void 0!==e?e:".ics",t=void 0!==t?t:"calendar";var n,i=o+k+C.join(k)+s;if(-1===navigator.userAgent.indexOf("MSIE 10"))n=new Blob([i]);else{var r=new BlobBuilder;r.append(i),n=r.getBlob("text/x-vCalendar;charset="+document.characterSet)}return saveAs(n,t+e),i}}}console.log("Unsupported Browser")};function wizardButtonDirective(r){angular.module("mgo-angular-wizard").directive(r,function(){return{restrict:"A",replace:!1,require:"^wizard",link:function(e,t,n,i){t.on("click",function(t){t.preventDefault(),e.$apply(function(){e.$eval(n[r]),i[r.replace("wz","").toLowerCase()]()})})}}})}angular.module("templates-angularwizard",["step.html","wizard.html"]),angular.module("step.html",[]).run(["$templateCache",function(t){t.put("step.html",'<section ng-show="selected" ng-class="{current: selected, done: completed}" class="step" ng-transclude>\n</section>')}]),angular.module("wizard.html",[]).run(["$templateCache",function(t){t.put("wizard.html",'<div>\n    <div class="steps" ng-if="indicatorsPosition === \'bottom\'" ng-transclude></div>\n    <ul class="steps-indicator steps-{{getEnabledSteps().length}}" ng-if="!hideIndicators">\n      <li ng-class="{default: !step.completed && !step.selected, current: step.selected && !step.completed, done: step.completed && !step.selected, editing: step.selected && step.completed}" ng-repeat="step in getEnabledSteps()">\n        <a ng-click="goTo(step)">{{step.title || step.wzTitle}}</a>\n      </li>\n    </ul>\n    <div class="steps" ng-if="indicatorsPosition === \'top\'" ng-transclude></div>\n</div>\n')}]),angular.module("mgo-angular-wizard",["templates-angularwizard"]),angular.module("mgo-angular-wizard").directive("wzStep",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{wzTitle:"@",canenter:"=",canexit:"=",disabled:"@?wzDisabled",description:"@",wzData:"=",wzOrder:"@?"},require:"^wizard",templateUrl:function(t,e){return e.template||"step.html"},link:function(e,t,n,i){n.$observe("wzTitle",function(t){e.title=e.wzTitle}),e.title=e.wzTitle,i.addStep(e),e.$on("$destroy",function(){i.removeStep(e)})}}}),angular.module("mgo-angular-wizard").directive("wizard",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{currentStep:"=",onFinish:"&",hideIndicators:"=",editMode:"=",name:"@",indicatorsPosition:"@?"},templateUrl:function(t,e){return e.template||"wizard.html"},controller:["$scope","$element","$log","WizardHandler","$q","$timeout",function(c,t,e,n,u,i){function h(){angular.forEach(c.getEnabledSteps(),function(t){t.selected=!1}),c.selectedStep=null}null==c.indicatorsPosition&&(c.indicatorsPosition="bottom");var d=!0;n.addWizard(c.name||n.defaultName,this),c.$on("$destroy",function(){n.removeWizard(c.name||n.defaultName)}),c.steps=[];var f=function(e){var n=0,i=-1;return angular.forEach(c.getEnabledSteps(),function(t){t===e&&(i=n),n++}),i},r=function(e){var n=null;return angular.forEach(c.getEnabledSteps(),function(t){t.wzTitle===e&&(n=t)}),n};c.context={},c.$watch("currentStep",function(t){if(t){var e=c.selectedStep.wzTitle;c.selectedStep&&e!==c.currentStep&&c.goTo(r(c.currentStep))}}),c.$watch("[editMode, steps.length]",function(){var t=c.editMode;if(!angular.isUndefined(t)&&null!==t)if(t)angular.forEach(c.getEnabledSteps(),function(t){t.completed=!0});else{var n=c.currentStepNumber()-1;angular.forEach(c.getEnabledSteps(),function(t,e){n<=e&&(t.completed=!1)})}},!0),this.addStep=function(t){var e=0<=t.wzOrder&&!c.steps[t.wzOrder]?t.wzOrder:c.steps.length;c.steps[e]=t,c.getEnabledSteps()[0]===t&&c.goTo(c.getEnabledSteps()[0])},this.removeStep=function(t){var e=c.steps.indexOf(t);0<e&&c.steps.splice(e,1)},this.context=c.context,c.getStepNumber=function(t){return f(t)+1},c.goTo=function(e){var t,n,i,r,o,s,a,l;d?(h(),c.selectedStep=e,angular.isUndefined(c.currentStep)||(c.currentStep=e.wzTitle),e.selected=!0,c.$emit("wizard:stepChanged",{step:e,index:f(e)}),d=!1):(0<c.currentStepNumber()?t=c.currentStepNumber()-1:0===c.currentStepNumber()&&(t=0),u.all([(o=c.getEnabledSteps()[t],s=e,void 0===o.canexit||c.getStepNumber(s)<c.currentStepNumber()||("boolean"==typeof o.canexit?o.canexit:(l=o.canexit(c.context),angular.isFunction(l.then)?(a=u.defer(),l.then(function(t){a.resolve(t)}),a.promise):!0===l))),(n=e,void 0===n.canenter||("boolean"==typeof n.canenter?n.canenter:(r=n.canenter(c.context),angular.isFunction(r.then)?(i=u.defer(),r.then(function(t){i.resolve(t)}),i.promise):!0===r)))]).then(function(t){t[0]&&t[1]&&(h(),c.selectedStep=e,angular.isUndefined(c.currentStep)||(c.currentStep=e.wzTitle),e.selected=!0,c.$emit("wizard:stepChanged",{step:e,index:f(e)}))}))},c.currentStepNumber=function(){return f(c.selectedStep)+1},c.getEnabledSteps=function(){return c.steps.filter(function(t){return t&&"true"!==t.disabled})},this.currentStepTitle=function(){return c.selectedStep.wzTitle},this.currentStepDescription=function(){return c.selectedStep.description},this.currentStep=function(){return c.selectedStep},this.totalStepCount=function(){return c.getEnabledSteps().length},this.getEnabledSteps=function(){return c.getEnabledSteps()},this.currentStepNumber=function(){return c.currentStepNumber()},this.next=function(t){var e=c.getEnabledSteps(),n=f(c.selectedStep);if(angular.isFunction(t)){if(!t())return;n===e.length-1?this.finish():c.goTo(e[n+1])}t||(c.selectedStep.completed=!0),n===e.length-1?this.finish():c.goTo(e[n+1])},this.goTo=function(n){i(function(){var t,e=c.getEnabledSteps();t=angular.isNumber(n)?e[n]:r(n),c.goTo(t)})},this.finish=function(){c.onFinish&&c.onFinish()},this.previous=function(){var t=f(c.selectedStep);if(0===t)throw new Error("Can't go back. It's already in step 0");c.goTo(c.getEnabledSteps()[t-1])},this.cancel=function(){if(0===f(c.selectedStep))throw new Error("Can't go back. It's already in step 0");c.goTo(c.getEnabledSteps()[0])},this.reset=function(){angular.forEach(c.getEnabledSteps(),function(t){t.completed=!1}),this.goTo(0)}}]}}),wizardButtonDirective("wzNext"),wizardButtonDirective("wzPrevious"),wizardButtonDirective("wzFinish"),wizardButtonDirective("wzCancel"),wizardButtonDirective("wzReset"),angular.module("mgo-angular-wizard").factory("WizardHandler",function(){var n={},i={};return n.defaultName="defaultWizard",n.addWizard=function(t,e){i[t]=e},n.removeWizard=function(t){delete i[t]},n.wizard=function(t){var e=t;return t||(e=n.defaultName),i[e]},n}),"classList"in document.createElement("_")||function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[n]=[],h=function(){return new c(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==l(this,t+="")},u.add=function(){for(var t,e=arguments,n=0,i=e.length,r=!1;t=e[n]+"",-1===l(this,t)&&(this.push(t),r=!0),++n<i;);r&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,r=n.length,o=!1;do{for(t=n[i]+"",e=l(this,t);-1!==e;)this.splice(e,1),o=!0,e=l(this,t)}while(++i<r);o&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},r.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,d)}catch(t){-2146823252===t.number&&(d.enumerable=!1,r.defineProperty(i,e,d))}}else r[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return new Blob}catch(t){}var a=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var a=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},e=function(){this.data=[]},l=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},n=e.prototype,i=l.prototype,c=t.FileReaderSync,u=function(t){this.code=this[this.name=t]},r="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),o=r.length,s=t.URL||t.webkitURL||t,h=s.createObjectURL,d=s.revokeObjectURL,f=s,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(l.fake=i.fake=!0;o--;)u.prototype[r[o]]=o+1;return s.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof l?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(s,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(s,t)},n.append=function(t){var e=this.data;if(v&&(t instanceof m||t instanceof v)){for(var n="",i=new v(t),r=0,o=i.length;r<o;r++)n+=String.fromCharCode(i[r]);e.push(n)}else if("Blob"===a(t)||"File"===a(t)){if(!c)throw new u("NOT_READABLE_ERR");var s=new c;e.push(s.readAsBinaryString(t))}else t instanceof l?"base64"===t.encoding&&g?e.push(g(t.data)):"URI"===t.encoding?e.push(decodeURIComponent(t.data)):"raw"===t.encoding&&e.push(t.data):("string"!=typeof t&&(t+=""),e.push(unescape(encodeURIComponent(t))))},n.getBlob=function(t){return arguments.length||(t=null),new l(this.data.join(""),t,"raw")},n.toString=function(){return"[object BlobBuilder]"},i.slice=function(t,e,n){var i=arguments.length;return i<3&&(n=null),new l(this.data.slice(t,1<i?e:this.data.length),n,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},e}(t);t.Blob=function(t,e){var n=e&&e.type||"",i=new a;if(t)for(var r=0,o=t.length;r<o;r++)Uint8Array&&t[r]instanceof Uint8Array?i.append(t[r].buffer):i.append(t[r]);var s=i.getBlob(n);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var e=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=e(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t,e){"use strict";"object"==typeof module?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.MediumEditor=e}(this,function(){"use strict";function v(t,e){return this.init(t,e)}var e,n,t,i,r,o,s,a,l,c,u;return v.extensions={},function(t){function e(t,e){var n,i=Array.prototype.slice.call(arguments,2);e=e||{};for(var r=0;r<i.length;r++){var o=i[r];if(o)for(n in o)o.hasOwnProperty(n)&&void 0!==o[n]&&(t||!1===e.hasOwnProperty(n))&&(e[n]=o[n])}return e}var r=!1;try{var n=document.createElement("div"),i=document.createTextNode(" ");n.appendChild(i),r=n.contains(i)}catch(t){}var f={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:-1<navigator.userAgent.toLowerCase().indexOf("firefox"),isMac:0<=t.navigator.platform.toUpperCase().indexOf("MAC"),keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(t){return!!(f.isMac&&t.metaKey||!f.isMac&&t.ctrlKey)},isKey:function(t,e){var n=f.getKeyCode(t);return!1===Array.isArray(e)?n===e:-1!==e.indexOf(n)},getKeyCode:function(t){var e=t.which;return null===e&&(e=null!==t.charCode?t.charCode:t.keyCode),e},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var t=[!0].concat(Array.prototype.slice.call(arguments));return e.apply(this,t)},defaults:function(){var t=[!1].concat(Array.prototype.slice.call(arguments));return e.apply(this,t)},createLink:function(t,e,n,i){var r=t.createElement("a");return f.moveTextRangeIntoElement(e[0],e[e.length-1],r),r.setAttribute("href",n),i&&r.setAttribute("target",i),r},findOrCreateMatchingTextNodes:function(t,e,n){for(var i=t.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),r=[],o=0,s=!1,a=null,l=null;null!==(a=i.nextNode());)if(!(3<a.nodeType))if(3===a.nodeType){if(!s&&n.start<o+a.nodeValue.length&&(s=!0,l=f.splitStartNodeIfNeeded(a,n.start,o)),s&&f.splitEndNodeIfNeeded(a,l,n.end,o),s&&o===n.end)break;if(s&&o>n.end+1)throw new Error("PerformLinking overshot the target!");s&&r.push(l||a),o+=a.nodeValue.length,null!==l&&(o+=l.nodeValue.length,i.nextNode()),l=null}else"img"===a.tagName.toLowerCase()&&(!s&&n.start<=o&&(s=!0),s&&r.push(a));return r},splitStartNodeIfNeeded:function(t,e,n){return e!==n?t.splitText(e-n):null},splitEndNodeIfNeeded:function(t,e,n,i){var r,o;r=i+(e||t).nodeValue.length+(e?t.nodeValue.length:0)-1,o=(e||t).nodeValue.length-(r+1-n),n<=r&&i!==r&&0!==o&&(e||t).splitText(o)},splitByBlockElements:function(t){if(3!==t.nodeType&&1!==t.nodeType)return[];var e=[],n=v.util.blockContainerElementNames.join(",");if(3===t.nodeType||0===t.querySelectorAll(n).length)return[t];for(var i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(3===r.nodeType)e.push(r);else if(1===r.nodeType){0===r.querySelectorAll(n).length?e.push(r):e=e.concat(v.util.splitByBlockElements(r))}}return e},findAdjacentTextNodeWithContent:function(t,e,n){var i,r=!1,o=n.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);for(i=o.nextNode();i;){if(i===e)r=!0;else if(r&&3===i.nodeType&&i.nodeValue&&0<i.nodeValue.trim().length)break;i=o.nextNode()}return i},findPreviousSibling:function(t){if(!t||f.isMediumEditorElement(t))return!1;for(var e=t.previousSibling;!e&&!f.isMediumEditorElement(t.parentNode);)e=(t=t.parentNode).previousSibling;return e},isDescendant:function(t,e,n){if(!t||!e)return!1;if(t===e)return!!n;if(1!==t.nodeType)return!1;if(r||3!==e.nodeType)return t.contains(e);for(var i=e.parentNode;null!==i;){if(i===t)return!0;i=i.parentNode}return!1},isElement:function(t){return!(!t||1!==t.nodeType)},throttle:function(n,i){var r,o,s,a=null,l=0,c=function(){l=Date.now(),a=null,s=n.apply(r,o),a||(r=o=null)};return i||0===i||(i=50),function(){var t=Date.now(),e=i-(t-l);return r=this,o=arguments,e<=0||i<e?(a&&(clearTimeout(a),a=null),l=t,s=n.apply(r,o),a||(r=o=null)):a||(a=setTimeout(c,e)),s}},traverseUp:function(t,e){if(!t)return!1;do{if(1===t.nodeType){if(e(t))return t;if(f.isMediumEditorElement(t))return!1}t=t.parentNode}while(t);return!1},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,e){var n,i,r,o,s,a,l,c=!1,u=["insertHTML",!1,e];if(!v.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,u)}catch(t){}if((n=t.getSelection()).rangeCount){if(l=(i=n.getRangeAt(0)).commonAncestorContainer,f.isMediumEditorElement(l)&&!l.firstChild)i.selectNode(l.appendChild(t.createTextNode("")));else if(3===l.nodeType&&0===i.startOffset&&i.endOffset===l.nodeValue.length||3!==l.nodeType&&l.innerHTML===i.toString()){for(;!f.isMediumEditorElement(l)&&l.parentNode&&1===l.parentNode.childNodes.length&&!f.isMediumEditorElement(l.parentNode);)l=l.parentNode;i.selectNode(l)}for(i.deleteContents(),(r=t.createElement("div")).innerHTML=e,o=t.createDocumentFragment();r.firstChild;)s=r.firstChild,a=o.appendChild(s);i.insertNode(o),a&&((i=i.cloneRange()).setStartAfter(a),i.collapse(!0),v.selection.selectRange(t,i)),c=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(u,c),c},execFormatBlock:function(t,e){var n=f.getTopBlockContainer(v.selection.getSelectionStart(t));if("blockquote"===e){if(n&&Array.prototype.slice.call(n.childNodes).some(function(t){return f.isBlockContainer(t)}))return t.execCommand("outdent",!1,null);if(f.isIE)return t.execCommand("indent",!1,e)}if(n&&e===n.nodeName.toLowerCase()&&(e="p"),f.isIE&&(e="<"+e+">"),n&&"blockquote"===n.nodeName.toLowerCase()){if(f.isIE&&"<p>"===e)return t.execCommand("outdent",!1,e);if((f.isFF||f.isEdge)&&"p"===e)return Array.prototype.slice.call(n.childNodes).some(function(t){return!f.isBlockContainer(t)})&&t.execCommand("formatBlock",!1,e),t.execCommand("outdent",!1,e)}return t.execCommand("formatBlock",!1,e)},setTargetBlank:function(t,e){var n,i=e||!1;if("a"===t.nodeName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)!1!==i&&i!==t[n].attributes.href.value||(t[n].target="_blank")},removeTargetBlank:function(t,e){var n;if("a"===t.nodeName.toLowerCase())t.removeAttribute("target");else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)e===t[n].attributes.href.value&&t[n].removeAttribute("target")},addClassToAnchors:function(t,e){var n,i,r=e.split(" ");if("a"===t.nodeName.toLowerCase())for(i=0;i<r.length;i+=1)t.classList.add(r[i]);else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)for(i=0;i<r.length;i+=1)t[n].classList.add(r[i])},isListItem:function(t){if(!t)return!1;if("li"===t.nodeName.toLowerCase())return!0;for(var e=t.parentNode,n=e.nodeName.toLowerCase();"li"===n||!f.isBlockContainer(e)&&"div"!==n;){if("li"===n)return!0;if(!(e=e.parentNode))return!1;n=e.nodeName.toLowerCase()}return!1},cleanListDOM:function(t,e){if("li"===e.nodeName.toLowerCase()){var n=e.parentElement;"p"===n.parentElement.nodeName.toLowerCase()&&(f.unwrap(n.parentElement,t),v.selection.moveCursor(t,e.firstChild,e.firstChild.textContent.length))}},splitOffDOMTree:function(t,e,n){for(var i=e,r=null,o=!n;i!==t;){var s,a=i.parentNode,l=a.cloneNode(!1),c=o?i:a.firstChild;for(r&&(o?l.appendChild(r):s=r),r=l;c;){var u=c.nextSibling;c===i?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&r.appendChild(c),c=o?u:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&r.appendChild(c),c=u)}s&&r.appendChild(s),i=a}return r},moveTextRangeIntoElement:function(t,e,n){if(!t||!e)return!1;var i=f.findCommonRoot(t,e);if(!i)return!1;if(e===t){var r=t.parentNode,o=t.nextSibling;return r.removeChild(t),n.appendChild(t),o?r.insertBefore(n,o):r.appendChild(n),n.hasChildNodes()}for(var s,a,l,c=[],u=0;u<i.childNodes.length;u++)if(l=i.childNodes[u],s){if(f.isDescendant(l,e,!0)){a=l;break}c.push(l)}else f.isDescendant(l,t,!0)&&(s=l);var h=a.nextSibling,d=i.ownerDocument.createDocumentFragment();return s===t?(s.parentNode.removeChild(s),d.appendChild(s)):d.appendChild(f.splitOffDOMTree(s,t)),c.forEach(function(t){t.parentNode.removeChild(t),d.appendChild(t)}),a===e?(a.parentNode.removeChild(a),d.appendChild(a)):d.appendChild(f.splitOffDOMTree(a,e,!0)),n.appendChild(d),a.parentNode===i?i.insertBefore(n,a):h?i.insertBefore(n,h):i.appendChild(n),n.hasChildNodes()},depthOfNode:function(t){for(var e=0,n=t;null!==n.parentNode;)n=n.parentNode,e++;return e},findCommonRoot:function(t,e){for(var n=f.depthOfNode(t),i=f.depthOfNode(e),r=t,o=e;n!==i;)i<n?(r=r.parentNode,n-=1):(o=o.parentNode,i-=1);for(;r!==o;)r=r.parentNode,o=o.parentNode;return r},isElementAtBeginningOfBlock:function(t){for(var e;!f.isBlockContainer(t)&&!f.isMediumEditorElement(t);){for(e=t;e=e.previousSibling;)if(0<(3===e.nodeType?e.nodeValue:e.textContent).length)return!1;t=t.parentNode}return!0},isMediumEditorElement:function(t){return t&&t.getAttribute&&!!t.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(t){return f.traverseUp(t,function(t){return f.isMediumEditorElement(t)})},isBlockContainer:function(t){return t&&3!==t.nodeType&&-1!==f.blockContainerElementNames.indexOf(t.nodeName.toLowerCase())},getClosestBlockContainer:function(t){return f.traverseUp(t,function(t){return f.isBlockContainer(t)||f.isMediumEditorElement(t)})},getTopBlockContainer:function(t){var e=!!f.isBlockContainer(t)&&t;return f.traverseUp(t,function(t){return f.isBlockContainer(t)&&(e=t),!(e||!f.isMediumEditorElement(t))&&(e=t,!0)}),e},getFirstSelectableLeafNode:function(t){for(;t&&t.firstChild;)t=t.firstChild;if("table"===(t=f.traverseUp(t,function(t){return-1===f.emptyElementNames.indexOf(t.nodeName.toLowerCase())})).nodeName.toLowerCase()){var e=t.querySelector("th, td");e&&(t=e)}return t},getFirstTextNode:function(t){return f.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),f._getFirstTextNode(t)},_getFirstTextNode:function(t){if(3===t.nodeType)return t;for(var e=0;e<t.childNodes.length;e++){var n=f._getFirstTextNode(t.childNodes[e]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(t){return-1===t.indexOf("://")?"http://"+t:t},warn:function(){void 0!==t.console&&"function"==typeof t.console.warn&&t.console.warn.apply(t.console,arguments)},deprecated:function(t,e,n){var i=t+" is deprecated, please use "+e+" instead.";n&&(i+=" Will be removed in "+n),f.warn(i)},deprecatedMethod:function(t,e,n,i){f.deprecated(t,e,i),"function"==typeof this[e]&&this[e].apply(this,n)},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){t.forEach(function(t){e.nodeName.toLowerCase()===t&&e.parentNode.removeChild(e)})},getClosestTag:function(t,e){return f.traverseUp(t,function(t){return t.nodeName.toLowerCase()===e.toLowerCase()})},unwrap:function(t,e){for(var n=e.createDocumentFragment(),i=Array.prototype.slice.call(t.childNodes),r=0;r<i.length;r++)n.appendChild(i[r]);n.childNodes.length?t.parentNode.replaceChild(n,t):t.parentNode.removeChild(t)},guid:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}};v.util=f}(window),(e=function(t){v.util.extend(this,t)}).extend=function(t){var e,n=this;e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return n.apply(this,arguments)},v.util.extend(e,n);var i=function(){this.constructor=e};return i.prototype=n.prototype,e.prototype=new i,t&&v.util.extend(e.prototype,t),e},e.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(t){return this.base.options[t]}},["execAction","on","off","subscribe","trigger"].forEach(function(t){e.prototype[t]=function(){return this.base[t].apply(this.base,arguments)}}),v.Extension=e,function(){function u(t){return v.util.isBlockContainer(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}v.selection={findMatchingSelectionParent:function(t,e){var n,i=e.getSelection();return 0!==i.rangeCount&&(n=i.getRangeAt(0).commonAncestorContainer,v.util.traverseUp(n,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent(function(t){return v.util.isMediumEditorElement(t)},t)},exportSelection:function(t,e){if(!t)return null;var n=null,i=e.getSelection();if(0<i.rangeCount){var r,o=i.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(t),s.setEnd(o.startContainer,o.startOffset),n={start:r=s.toString().length,end:r+o.toString().length},this.doesRangeStartWithImages(o,e)&&(n.startsWithImage=!0);var a=this.getTrailingImageCount(t,n,o.endContainer,o.endOffset);if(a&&(n.trailingImageCount=a),0!==r){var l=this.getIndexRelativeToAdjacentEmptyBlocks(e,t,o.startContainer,o.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(t,e,n,i){if(t&&e){var r=n.createRange();r.setStart(e,0),r.collapse(!0);var o,s=e,a=[],l=0,c=!1,u=!1,h=0,d=!1,f=!1,p=null;for((i||t.startsWithImage||void 0!==t.emptyBlocksIndex)&&(f=!0);!d&&s;)if(3<s.nodeType)s=a.pop();else{if(3!==s.nodeType||u){if(t.trailingImageCount&&u&&("img"===s.nodeName.toLowerCase()&&h++,h===t.trailingImageCount)){for(var g=0;s.parentNode.childNodes[g]!==s;)g++;r.setEnd(s.parentNode,g+1),d=!0}if(!d&&1===s.nodeType)for(var m=s.childNodes.length-1;0<=m;)a.push(s.childNodes[m]),m-=1}else o=l+s.length,!c&&t.start>=l&&t.start<=o&&(f||t.start<o?(r.setStart(s,t.start-l),c=!0):p=s),c&&t.end>=l&&t.end<=o&&(t.trailingImageCount?u=!0:(r.setEnd(s,t.end-l),d=!0)),l=o;d||(s=a.pop())}!c&&p&&(r.setStart(p,p.length),r.setEnd(p,p.length)),void 0!==t.emptyBlocksIndex&&(r=this.importSelectionMoveCursorPastBlocks(n,e,t.emptyBlocksIndex,r)),i&&(r=this.importSelectionMoveCursorPastAnchor(t,r)),this.selectRange(n,r)}},importSelectionMoveCursorPastAnchor:function(t,e){if(t.start===t.end&&3===e.startContainer.nodeType&&e.startOffset===e.startContainer.nodeValue.length&&v.util.traverseUp(e.startContainer,function(t){return"a"===t.nodeName.toLowerCase()})){for(var n=e.startContainer,i=e.startContainer.parentNode;null!==i&&"a"!==i.nodeName.toLowerCase();)i=i.childNodes[i.childNodes.length-1]!==n?null:(n=i).parentNode;if(null!==i&&"a"===i.nodeName.toLowerCase()){for(var r=null,o=0;null===r&&o<i.parentNode.childNodes.length;o++)i.parentNode.childNodes[o]===i&&(r=o);e.setStart(i.parentNode,r+1),e.collapse(!0)}}return e},importSelectionMoveCursorPastBlocks:function(t,e,n,i){var r,o,s=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1),a=i.startContainer,l=0;for(n=n||1,r=3===a.nodeType&&v.util.isBlockContainer(a.previousSibling)?a.previousSibling:v.util.getClosestBlockContainer(a);s.nextNode();)if(o){if(o=s.currentNode,++l===n)break;if(0<o.textContent.length)break}else r===s.currentNode&&(o=s.currentNode);return o||(o=r),i.setStart(v.util.getFirstSelectableLeafNode(o),0),i},getIndexRelativeToAdjacentEmptyBlocks:function(t,e,n,i){if(0<n.textContent.length&&0<i)return-1;var r=n;if(3!==r.nodeType&&(r=n.childNodes[i]),r){if(!v.util.isElementAtBeginningOfBlock(r))return-1;var o=v.util.findPreviousSibling(r);if(!o)return-1;if(o.nodeValue)return-1}for(var s=v.util.getClosestBlockContainer(n),a=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1),l=0;a.nextNode();){var c=""===a.currentNode.textContent;if((c||0<l)&&(l+=1),a.currentNode===s)return l;c||(l=0)}return l},doesRangeStartWithImages:function(t,e){if(0!==t.startOffset||1!==t.startContainer.nodeType)return!1;if("img"===t.startContainer.nodeName.toLowerCase())return!0;var n=t.startContainer.querySelector("img");if(!n)return!1;for(var i=e.createTreeWalker(t.startContainer,NodeFilter.SHOW_ALL,null,!1);i.nextNode();){var r=i.currentNode;if(r===n)break;if(r.nodeValue)return!1}return!0},getTrailingImageCount:function(t,e,n,i){if(0===i||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var r=n.childNodes[i-1];r.hasChildNodes();)r=r.lastChild;for(var o,s=t,a=[],l=0,c=!1,u=!1,h=!1,d=0;!h&&s;)if(3<s.nodeType)s=a.pop();else{if(3!==s.nodeType||u){if("img"===s.nodeName.toLowerCase()&&d++,s===r)h=!0;else if(1===s.nodeType)for(var f=s.childNodes.length-1;0<=f;)a.push(s.childNodes[f]),f-=1}else d=0,o=l+s.length,!c&&e.start>=l&&e.start<=o&&(c=!0),c&&e.end>=l&&e.end<=o&&(u=!0),l=o;h||(s=a.pop())}return d},selectionContainsContent:function(t){var e=t.getSelection();if(!e||e.isCollapsed||!e.rangeCount)return!1;if(""!==e.toString().trim())return!0;var n=this.getSelectedParentElement(e.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(t){var n,e=this.findMatchingSelectionParent(function(t){var e=t&&t.getAttribute("contenteditable");return"true"===e&&(n=!0),"#text"!==t.nodeName&&"false"===e},t);return!n&&e},getSelectionHtml:function(t){var e,n,i,r="",o=t.getSelection();if(o.rangeCount){for(i=t.createElement("div"),e=0,n=o.rangeCount;e<n;e+=1)i.appendChild(o.getRangeAt(e).cloneContents());r=i.innerHTML}return r},getCaretOffsets:function(t,e){var n,i;return e||(e=window.getSelection().getRangeAt(0)),n=e.cloneRange(),i=e.cloneRange(),n.selectNodeContents(t),n.setEnd(e.endContainer,e.endOffset),i.selectNodeContents(t),i.setStart(e.endContainer,e.endOffset),{left:n.toString().length,right:i.toString().length}},rangeSelectsSingleNode:function(t){var e=t.startContainer;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===t.startOffset+1},getSelectedParentElement:function(t){return t?this.rangeSelectsSingleNode(t)&&3!==t.startContainer.childNodes[t.startOffset].nodeType?t.startContainer.childNodes[t.startOffset]:3===t.startContainer.nodeType?t.startContainer.parentNode:t.startContainer:null},getSelectedElements:function(t){var e,n,i,r=t.getSelection();if(!r.rangeCount||r.isCollapsed||!r.getRangeAt(0).commonAncestorContainer)return[];if(3===(e=r.getRangeAt(0)).commonAncestorContainer.nodeType){for(n=[],i=e.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)n.push(i.parentNode),i=i.parentNode;return n}return[].filter.call(e.commonAncestorContainer.getElementsByTagName("*"),function(t){return"function"!=typeof r.containsNode||r.containsNode(t,!0)})},selectNode:function(t,e){var n=e.createRange();n.selectNodeContents(t),this.selectRange(e,n)},select:function(t,e,n,i,r){var o=t.createRange();return o.setStart(e,n),i?o.setEnd(i,r):o.collapse(!0),this.selectRange(t,o),o},clearSelection:function(t,e){e?t.getSelection().collapseToStart():t.getSelection().collapseToEnd()},moveCursor:function(t,e,n){this.select(t,e,n)},getSelectionRange:function(t){var e=t.getSelection();return 0===e.rangeCount?null:e.getRangeAt(0)},selectRange:function(t,e){var n=t.getSelection();n.removeAllRanges(),n.addRange(e)},getSelectionStart:function(t){var e=t.getSelection().anchorNode;return e&&3===e.nodeType?e.parentNode:e}}}(),function(){function o(t,n){return t.some(function(t){if("function"!=typeof t.getInteractionElements)return!1;var e=t.getInteractionElements();return!!e&&(Array.isArray(e)||(e=[e]),e.some(function(t){return v.util.isDescendant(t,n,!0)}))})}var t=function(t){this.base=t,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};t.prototype={InputEventOnContenteditableSupported:!v.util.isIE&&!v.util.isEdge,attachDOMEvent:function(t,e,n,i){t=v.util.isElement(t)||-1<[window,document].indexOf(t)?[t]:t,Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n,i),this.events.push([t,e,n,i])}.bind(this))},detachDOMEvent:function(t,e,n,i){var r,o;t=v.util.isElement(t)||-1<[window,document].indexOf(t)?[t]:t,Array.prototype.forEach.call(t,function(t){-1!==(r=this.indexOfListener(t,e,n,i))&&(o=this.events.splice(r,1)[0])[0].removeEventListener(o[1],o[2],o[3])}.bind(this))},indexOfListener:function(t,e,n,i){var r,o,s;for(r=0,o=this.events.length;r<o;r+=1)if((s=this.events[r])[0]===t&&s[1]===e&&s[2]===n&&s[3]===i)return r;return-1},detachAllDOMEvents:function(){for(var t=this.events.pop();t;)t[0].removeEventListener(t[1],t[2],t[3]),t=this.events.pop()},detachAllEventsFromElement:function(e){for(var t=this.events.filter(function(t){return t&&t[0].getAttribute&&t[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")}),n=0,i=t.length;n<i;n++){var r=t[n];this.detachDOMEvent(r[0],r[1],r[2],r[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(t){this.attachDOMEvent(e,t.name,t.handler.bind(this))},this)},enableCustomEvent:function(t){void 0!==this.disabledEvents[t]&&delete this.disabledEvents[t]},disableCustomEvent:function(t){this.disabledEvents[t]=!0},attachCustomEvent:function(t,e){this.setupListener(t),this.customEvents[t]||(this.customEvents[t]=[]),this.customEvents[t].push(e)},detachCustomEvent:function(t,e){var n=this.indexOfCustomListener(t,e);-1!==n&&this.customEvents[t].splice(n,1)},indexOfCustomListener:function(t,e){return this.customEvents[t]&&this.customEvents[t].length?this.customEvents[t].indexOf(e):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(t,e,n){this.customEvents[t]&&!this.disabledEvents[t]&&this.customEvents[t].forEach(function(t){t(e,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(t){t.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(t){this.handleDocumentExecCommand(t)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var t=this.options.ownerDocument;if(this.execCommandListener&&t.execCommand.listeners){var e=t.execCommand.listeners.indexOf(this.execCommandListener);-1!==e&&t.execCommand.listeners.splice(e,1),t.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var i=this.options.ownerDocument;if(!i.execCommand.listeners){var n=function(e,n){i.execCommand.listeners&&i.execCommand.listeners.forEach(function(t){t({command:e[0],value:e[2],args:e,result:n})})},t=function(){var t=i.execCommand.orig.apply(this,arguments);if(!i.execCommand.listeners)return t;var e=Array.prototype.slice.call(arguments);return n(e,t),t};t.orig=i.execCommand,t.listeners=[],t.callListeners=n,i.execCommand=t}},unwrapExecCommand:function(){var t=this.options.ownerDocument;t.execCommand.orig&&(t.execCommand=t.execCommand.orig)},setupListener:function(t){if(!this.listeners[t]){switch(t){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(t){this.contentCache[t.getAttribute("medium-editor-index")]=t.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[t]=!0}},attachToEachElement:function(e,n){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(t){this.attachDOMEvent(t,e,n.bind(this))},this),this.eventsCache.push({name:e,handler:n})},cleanupElement:function(t){var e=t.getAttribute("medium-editor-index");e&&(this.detachAllEventsFromElement(t),this.contentCache&&delete this.contentCache[e])},focusElement:function(t){t.focus(),this.updateFocus(t,{target:t,type:"focus"})},updateFocus:function(e,t){var n,i=this.base.getFocusedElement();i&&"click"===t.type&&this.lastMousedownTarget&&(v.util.isDescendant(i,this.lastMousedownTarget,!0)||o(this.base.extensions,this.lastMousedownTarget))&&(n=i),n||this.base.elements.some(function(t){return!n&&v.util.isDescendant(t,e,!0)&&(n=t),!!n},this);var r=!v.util.isDescendant(i,e,!0)&&!o(this.base.extensions,e);n!==i&&(i&&r&&(i.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",t,i)),n&&(n.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",t,n))),r&&this.triggerCustomEvent("externalInteraction",t)},updateInput:function(t,e){if(this.contentCache){var n=t.getAttribute("medium-editor-index"),i=t.innerHTML;i!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",e,t),this.contentCache[n]=i}},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var e,n=t.currentTarget.activeElement;this.base.elements.some(function(t){return!!v.util.isDescendant(t,n,!0)&&(e=t,!0)},this),e&&this.updateInput(e,{target:n,currentTarget:e})}},handleDocumentExecCommand:function(){var t=this.base.getFocusedElement();t&&this.updateInput(t,{target:t,currentTarget:t})},handleBodyClick:function(t){this.updateFocus(t.target,t)},handleBodyFocus:function(t){this.updateFocus(t.target,t)},handleBodyMousedown:function(t){this.lastMousedownTarget=t.target},handleInput:function(t){this.updateInput(t.currentTarget,t)},handleClick:function(t){this.triggerCustomEvent("editableClick",t,t.currentTarget)},handleBlur:function(t){this.triggerCustomEvent("editableBlur",t,t.currentTarget)},handleKeypress:function(t){if(this.triggerCustomEvent("editableKeypress",t,t.currentTarget),this.keypressUpdateInput){var e={target:t.target,currentTarget:t.currentTarget};setTimeout(function(){this.updateInput(e.currentTarget,e)}.bind(this),0)}},handleKeyup:function(t){this.triggerCustomEvent("editableKeyup",t,t.currentTarget)},handleMouseover:function(t){this.triggerCustomEvent("editableMouseover",t,t.currentTarget)},handleDragging:function(t){this.triggerCustomEvent("editableDrag",t,t.currentTarget)},handleDrop:function(t){this.triggerCustomEvent("editableDrop",t,t.currentTarget)},handlePaste:function(t){this.triggerCustomEvent("editablePaste",{currentTarget:t.currentTarget,target:t.target},t.currentTarget)},handleKeydown:function(t){return this.triggerCustomEvent("editableKeydown",t,t.currentTarget),v.util.isKey(t,v.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",t,t.currentTarget):v.util.isKey(t,v.util.keyCode.ENTER)||t.ctrlKey&&v.util.isKey(t,v.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",t,t.currentTarget):v.util.isKey(t,v.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",t,t.currentTarget):v.util.isKey(t,[v.util.keyCode.DELETE,v.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",t,t.currentTarget):void 0}},v.Events=t}(),(n=v.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(t){n.isBuiltInButton(t)?v.Extension.call(this,this.defaults[t]):v.Extension.call(this,t)},init:function(){v.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),i=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(t){e.classList.add(t)}),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this),"fontawesome"===i&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.getAction();e&&this.execAction(e)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var t=null;return this.useQueryState&&(t=this.base.queryCommandState(this.getAction())),t},isAlreadyApplied:function(t){var e,n,i=!1,r=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(r&&0<r.length&&(i=-1!==r.indexOf(t.nodeName.toLowerCase())),!i&&this.style&&(e=this.style.value.split("|"),n=this.window.getComputedStyle(t,null).getPropertyValue(this.style.prop),e.forEach(function(t){this.knownState||((i=-1!==n.indexOf(t))||"text-decoration"!==this.style.prop)&&(this.knownState=i)},this)),i)}})).isBuiltInButton=function(t){return"string"==typeof t&&v.extensions.button.prototype.defaults.hasOwnProperty(t)},v.extensions.button=n,v.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}},t=v.extensions.button.extend({init:function(){v.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.hideToolbarDefaultActions()},setToolbarPosition:function(){var t=this.base.getExtensionByName("toolbar");t&&t.setToolbarPosition()}}),v.extensions.form=t,i=v.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){v.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault(),t.stopPropagation();var e=v.selection.getSelectionRange(this.document);return"a"===e.startContainer.nodeName.toLowerCase()||"a"===e.endContainer.nodeName.toLowerCase()||v.util.getClosestTag(v.selection.getSelectedParentElement(e),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(t){v.util.isKey(t,v.util.keyCode.K)&&v.util.isMetaCtrlKey(t)&&!t.shiftKey&&this.handleClick(t)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var t=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return t.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),t.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),t.join("")},isDisplayed:function(){return v.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){v.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(t){var e=this.getInput(),n=this.getAnchorTargetCheckbox(),i=this.getAnchorButtonCheckbox();if("string"==typeof(t=t||{value:""})&&(t={value:t}),this.base.saveSelection(),this.hideToolbarDefaultActions(),v.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),e.value=t.value,e.focus(),n&&(n.checked="_blank"===t.target),i){var r=t.buttonClass?t.buttonClass.split(" "):[];i.checked=-1!==r.indexOf(this.customClassOption)}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var t=this.getAnchorTargetCheckbox(),e=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",t&&t.checked&&(n.target="_blank"),e&&e.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var t=this.getFormOpts();this.completeFormSave(t)},completeFormSave:function(t){this.base.restoreSelection(),this.execAction(this.action,t),this.base.checkSelection()},checkLinkFormat:function(t){return/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/.test(t)?"tel:"+t:(/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i.test(t)?"":"http://")+encodeURI(t)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(t){var e=t.querySelector(".medium-editor-toolbar-close"),n=t.querySelector(".medium-editor-toolbar-save"),i=t.querySelector(".medium-editor-toolbar-input");this.on(t,"click",this.handleFormClick.bind(this)),this.on(i,"keyup",this.handleTextboxKeyup.bind(this)),this.on(e,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var t=this.document.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(t){if(t.keyCode===v.util.keyCode.ENTER)return t.preventDefault(),void this.doFormSave();t.keyCode===v.util.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel())},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),v.extensions.anchor=i,r=v.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var t=this.document.createElement("div");return t.id="medium-editor-anchor-preview-"+this.getEditorId(),t.className="medium-editor-anchor-preview",t.innerHTML=this.getTemplate(),this.on(t,"click",this.handleClick.bind(this)),t},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(t){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!t.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=t.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=t.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=t,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(t){t=t||this.activeAnchor;var e,n,i=this.anchorPreview.offsetHeight,r=t.getBoundingClientRect(),o=(r.left+r.right)/2,s=this.diffLeft,a=this.diffTop;e=this.anchorPreview.offsetWidth/2;var l=this.base.getExtensionByName("toolbar");l&&(s=l.diffLeft,a=l.diffTop),n=s-e,this.anchorPreview.style.top=Math.round(i+r.bottom-a+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",this.anchorPreview.style.right="initial",o<e?(this.anchorPreview.style.left=n+e+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-o<e?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+o+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(t){var e=this.base.getExtensionByName("anchor"),n=this.activeAnchor;e&&n&&(t.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var t={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};e.showForm(t),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var e=v.util.getClosestTag(t.target,"a");if(!1!==e){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(e.outerHTML)||/href=["']#\S+["']/.test(e.outerHTML)))return!0;var n=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&n&&n.isDisplayed&&n.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==e&&this.detachPreviewHandlers(),this.anchorToPreview=e,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(t){t.relatedTarget&&/anchor-preview/.test(t.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),v.extensions.anchorPreview=r,function(){var s,t,a;s=[" ","\t","\n","\r","","","","","","\u2028","\u2029"],t="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",a=new RegExp("^("+t+")$","i");var e=v.Extension.extend({init:function(){v.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var t=0,e=0;e<this.window._mediumEditors.length;e++){var n=this.window._mediumEditors[e];null!==n&&void 0!==n.getExtensionByName("autoLink")&&t++}return 1===t},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(t,e){this.performLinking(e)},onKeypress:function(e){this.disableEventHandling||v.util.isKey(e,[v.util.keyCode.SPACE,v.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var t=this.base.exportSelection();this.performLinking(e.target)&&this.base.importSelection(t,!0)}catch(t){window.console&&window.console.error("Failed to perform linking",t),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(t){var e=v.util.splitByBlockElements(t),n=!1;0===e.length&&(e=[t]);for(var i=0;i<e.length;i++)n=this.removeObsoleteAutoLinkSpans(e[i])||n,n=this.performLinkingWithinElement(e[i])||n;return this.base.events.updateInput(t,{target:t,currentTarget:t}),n},removeObsoleteAutoLinkSpans:function(t){if(!t||3===t.nodeType)return!1;for(var e,n=t.querySelectorAll('span[data-auto-link="true"]'),i=!1,r=0;r<n.length;r++){var o=n[r].textContent;if(-1===o.indexOf("://")&&(o=v.util.ensureUrlHasProtocol(o)),n[r].getAttribute("data-href")!==o&&(e=n[r],!v.util.getClosestTag(e,"a"))){i=!0;var s=o.replace(/\s+$/,"");if(n[r].getAttribute("data-href")===s){var a=o.length-s.length,l=v.util.splitOffDOMTree(n[r],this.splitTextBeforeEnd(n[r],a));n[r].parentNode.insertBefore(l,n[r].nextSibling)}else v.util.unwrap(n[r],this.document)}}return i},splitTextBeforeEnd:function(t,e){for(var n,i,r,o=this.document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),s=!0;s;)s=null!==o.lastChild();for(;0<e&&null!==r;)(i=(n=o.currentNode).nodeValue).length>e?(r=n.splitText(i.length-e),e=0):(r=o.previousNode(),e-=i.length);return r},performLinkingWithinElement:function(t){for(var e=this.findLinkableText(t),n=0;n<e.length;n++){var i=v.util.findOrCreateMatchingTextNodes(this.document,t,e[n]);this.shouldNotLink(i)||this.createAutoLink(i,e[n].href)}return!1},shouldNotLink:function(t){for(var e=!1,n=0;n<t.length&&!1===e;n++)e=!!v.util.traverseUp(t[n],function(t){return"a"===t.nodeName.toLowerCase()||t.getAttribute&&"true"===t.getAttribute("data-auto-link")});return e},findLinkableText:function(t){for(var e=new RegExp("(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.](com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.(com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw))","gi"),n=t.textContent,i=null,r=[];null!==(i=e.exec(n));){var o=i.index+i[0].length;!(0!==i.index&&-1===s.indexOf(n[i.index-1])||o!==n.length&&-1===s.indexOf(n[o]))&&(-1!==i[0].indexOf("/")||a.test(i[0].split(".").pop().split("?").shift()))&&r.push({href:i[0],start:i.index,end:o})}return r},createAutoLink:function(t,e){e=v.util.ensureUrlHasProtocol(e);var n=v.util.createLink(this.document,t,e,this.getEditorOption("targetBlank")?"_blank":null),i=this.document.createElement("span");for(i.setAttribute("data-auto-link","true"),i.setAttribute("data-href",e),n.insertBefore(i,n.firstChild);1<n.childNodes.length;)i.appendChild(n.childNodes[1])}});v.extensions.autoLink=e}(),function(){var n="medium-editor-dragover";function i(t){var e=v.util.getContainerEditorElement(t);Array.prototype.slice.call(e.parentElement.querySelectorAll("."+n)).forEach(function(t){t.classList.remove(n)})}var t=v.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){v.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var e=t.target.classList?t.target:t.target.parentElement;i(e),"dragover"===t.type&&e.classList.add(n)},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),this.base.selectElement(t.target);var e=this.base.exportSelection();e.start=e.end,this.base.importSelection(e),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files).forEach(function(t){this.isAllowedFile(t)&&t.type.match("image")&&this.insertImageFile(t)},this),i(t.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(t){if("function"==typeof FileReader){var e=new FileReader;e.readAsDataURL(t),e.addEventListener("load",function(t){var e=this.document.createElement("img");e.src=t.target.result,v.util.insertHTMLCommand(this.document,e.outerHTML)}.bind(this))}}});v.extensions.fileDragging=t}(),o=v.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){v.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(t){var e=t.key.charCodeAt(0);this.keys[e]||(this.keys[e]=[]),this.keys[e].push(t)},this)},handleKeydown:function(e){var t=v.util.getKeyCode(e);if(this.keys[t]){var n=v.util.isMetaCtrlKey(e),i=!!e.shiftKey,r=!!e.altKey;this.keys[t].forEach(function(t){t.meta!==n||t.shift!==i||t.alt!==r&&void 0!==t.alt||(e.preventDefault(),e.stopPropagation(),"function"==typeof t.command?t.command.apply(this):!1!==t.command&&this.execAction(t.command))},this)}}}),v.extensions.keyboardCommands=o,s=v.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){v.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontName")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(t){var e=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var t,e=this.document,n=e.createElement("div"),i=e.createElement("select"),r=e.createElement("a"),o=e.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var s=0;s<this.fonts.length;s++)(t=e.createElement("option")).innerHTML=this.fonts[s],t.value=this.fonts[s],i.appendChild(t);return i.className="medium-editor-toolbar-select",n.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){v.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("face")&&t.removeAttribute("face")})},handleFontChange:function(){var t=this.getSelect().value;""===t?this.clearFontName():this.execAction("fontName",{value:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),v.extensions.fontName=s,a=v.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){v.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontSize")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(t){var e=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var t=this.document,e=t.createElement("div"),n=t.createElement("input"),i=t.createElement("a"),r=t.createElement("a");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",e.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),r.setAttribute("href","#"),r.className="medium-editor-toobar-save",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(r),this.on(r,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",e.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){v.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("size")&&t.removeAttribute("size")})},handleSliderChange:function(){var t=this.getInput().value;"4"===t?this.clearFontSize():this.execAction("fontSize",{value:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),v.extensions.fontSize=a,function(){var o="%ME_PASTEBIN%",s=null,a=null,l=function(t){t.stopPropagation()};function c(t,e,n){var i=t.clipboardData||e.clipboardData||n.dataTransfer,r={};if(!i)return r;if(i.getData){var o=i.getData("Text");o&&0<o.length&&(r["text/plain"]=o)}if(i.types)for(var s=0;s<i.types.length;s++){var a=i.types[s];r[a]=i.getData(a)}return r}var t=v.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){v.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editablePaste",this.handlePaste.bind(this)),this.subscribe("editableKeydown",this.handleKeydown.bind(this)))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(t,e){if(!t.defaultPrevented){var n=c(t,this.window,this.document),i=n["text/html"],r=n["text/plain"];this.window.clipboardData&&void 0===t.clipboardData&&!i&&(i=r),(i||r)&&(t.preventDefault(),this.doPaste(i,r,e))}},doPaste:function(t,e,n){var i,r,o="";if(this.cleanPastedHTML&&t)return this.cleanPaste(t);if(this.getEditorOption("disableReturn")||n&&n.getAttribute("data-disable-return"))o=v.util.htmlEntities(e);else if(1<(i=e.split(/[\r\n]+/g)).length)for(r=0;r<i.length;r+=1)""!==i[r]&&(o+="<p>"+v.util.htmlEntities(i[r])+"</p>");else o=v.util.htmlEntities(i[0]);v.util.insertHTMLCommand(this.document,o)},handlePasteBinPaste:function(t){if(t.defaultPrevented)this.removePasteBin();else{var e=c(t,this.window,this.document),n=e["text/html"],i=e["text/plain"],r=a;if(!this.cleanPastedHTML||n)return t.preventDefault(),this.removePasteBin(),this.doPaste(n,i,r),void this.trigger("editablePaste",{currentTarget:r,target:r},r);setTimeout(function(){this.cleanPastedHTML&&(n=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(n,i,r),this.trigger("editablePaste",{currentTarget:r,target:r},r)}.bind(this),0)}},handleKeydown:function(t,e){v.util.isKey(t,v.util.keyCode.V)&&v.util.isMetaCtrlKey(t)&&(t.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(e))},createPasteBin:function(t){var e,n=v.selection.getSelectionRange(this.document),i=this.window.pageYOffset;a=t,n&&((e=n.getClientRects()).length?i+=e[0].top:i+=n.startContainer.getBoundingClientRect().top),s=n;var r=this.document.createElement("div");r.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),r.setAttribute("style","border: 1px red solid; position: absolute; top: "+i+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),r.setAttribute("contentEditable",!0),r.innerHTML=o,this.document.body.appendChild(r),this.on(r,"focus",l),this.on(r,"focusin",l),this.on(r,"focusout",l),r.focus(),v.selection.selectNode(r,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(r,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==s&&(v.selection.selectRange(this.document,s),s=null),null!==a&&(a=null);var t=this.getPasteBin();t&&t&&(this.off(t,"focus",l),this.off(t,"focusin",l),this.off(t,"focusout",l),this.off(t,"paste",this.boundHandlePaste),t.parentElement.removeChild(t))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var t=this.getPasteBin();if(!t)return!1;if(t.firstChild&&"mcepastebin"===t.firstChild.id)return!1;var e=t.innerHTML;return!(!e||e===o)&&e},cleanPaste:function(t){var e,n,i,r,o=/<p|<br|<div/.test(t),s=[].concat(this.preCleanReplacements||[],[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"||)(((?!&quot;|&rdquo;|&ldquo;|"||).)*)(?:&quot;|&rdquo;|&ldquo;|"||)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]],this.cleanReplacements||[]);for(e=0;e<s.length;e+=1)t=t.replace(s[e][0],s[e][1]);if(!o)return this.pasteHTML(t);for((i=this.document.createElement("div")).innerHTML="<p>"+t.split("<br><br>").join("</p><p>")+"</p>",n=i.querySelectorAll("a,p,div,br"),e=0;e<n.length;e+=1)switch((r=n[e]).innerHTML=r.innerHTML.replace(/\n/gi," "),r.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(r);break;case"br":this.filterLineBreak(r)}this.pasteHTML(i.innerHTML)},pasteHTML:function(t,e){e=v.util.defaults({},e,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var n,i,r,o,s=this.document.createDocumentFragment();for(s.appendChild(this.document.createElement("body")),(o=s.querySelector("body")).innerHTML=t,this.cleanupSpans(o),n=o.querySelectorAll("*"),r=0;r<n.length;r+=1)"a"===(i=n[r]).nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&v.util.setTargetBlank(i),v.util.cleanupAttrs(i,e.cleanAttrs),v.util.cleanupTags(i,e.cleanTags);v.util.insertHTMLCommand(this.document,o.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(t){return t&&("p"===t.nodeName.toLowerCase()||"div"===t.nodeName.toLowerCase())},filterCommonBlocks:function(t){/^\s*$/.test(t.textContent)&&t.parentNode&&t.parentNode.removeChild(t)},filterLineBreak:function(t){this.isCommonBlock(t.previousElementSibling)?this.removeWithParent(t):!this.isCommonBlock(t.parentNode)||t.parentNode.firstChild!==t&&t.parentNode.lastChild!==t?t.parentNode&&1===t.parentNode.childElementCount&&""===t.parentNode.textContent&&this.removeWithParent(t):this.removeWithParent(t)},removeWithParent:function(t){t&&t.parentNode&&(t.parentNode.parentNode&&1===t.parentNode.childElementCount?t.parentNode.parentNode.removeChild(t.parentNode):t.parentNode.removeChild(t))},cleanupSpans:function(t){var e,n,i,r=t.querySelectorAll(".replace-with"),o=function(t){return t&&"#text"!==t.nodeName&&"false"===t.getAttribute("contenteditable")};for(e=0;e<r.length;e+=1)n=r[e],i=this.document.createElement(n.classList.contains("bold")?"b":"i"),n.classList.contains("bold")&&n.classList.contains("italic")?i.innerHTML="<i>"+n.innerHTML+"</i>":i.innerHTML=n.innerHTML,n.parentNode.replaceChild(i,n);for(r=t.querySelectorAll("span"),e=0;e<r.length;e+=1){if(n=r[e],v.util.traverseUp(n,o))return!1;v.util.unwrap(n,this.document)}}});v.extensions.paste=t}(),l=v.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){v.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")||t.setAttribute("data-placeholder",this.text),this.updatePlaceholder(t)},this)},destroy:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")===this.text&&t.removeAttribute("data-placeholder")},this)},showPlaceholder:function(t){t&&(v.util.isFF&&0===t.childNodes.length?(t.classList.add("medium-editor-placeholder-relative"),t.classList.remove("medium-editor-placeholder")):(t.classList.add("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(t){t&&(t.classList.remove("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(t,e){if(t.querySelector("img, blockquote, ul, ol")||""!==t.textContent.replace(/^\s+|\s+$/g,""))return this.hidePlaceholder(t);e||this.showPlaceholder(t)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(t,e){var n=this.hideOnClick&&e===this.base.getFocusedElement();this.updatePlaceholder(e,n)},handleFocus:function(t,e){this.hidePlaceholder(e)},handleBlur:function(t,e){this.updatePlaceholder(e)}}),v.extensions.placeholder=l,c=v.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){v.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,n){return this.base.extensions.forEach(function(t){if(t!==this)return e.apply(n||this,arguments)},this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this.static?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension(function(t){t.hasForm&&e.appendChild(t.getForm())}),this.attachEventHandlers(),e},createToolbarButtons:function(){var e,n,t,i,r,o,s=this.document.createElement("ul");return s.id="medium-editor-toolbar-actions"+this.getEditorId(),s.className="medium-editor-toolbar-actions",s.style.display="block",this.buttons.forEach(function(t){"string"==typeof t?(r=t,o=null):(r=t.name,o=t),(i=this.base.addBuiltInExtension(r,o))&&"function"==typeof i.getButton&&(n=i.getButton(this.base),e=this.document.createElement("li"),v.util.isElement(n)?e.appendChild(n):e.innerHTML=n,s.appendChild(e))},this),0<(t=s.querySelectorAll("button")).length&&(t[0].classList.add(this.firstButtonClass),t[t.length-1].classList.add(this.lastButtonClass)),s},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=v.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){if(t&&t.target&&v.util.isDescendant(this.getToolbarElement(),t.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(t){t.hasForm&&t.isDisplayed()&&t.hideForm()})},multipleBlockElementsSelected:function(){var t=new RegExp("<("+v.util.blockContainerElementNames.join("|")+")[^>]*>","g"),e=v.selection.getSelectionHtml(this.document).replace(/<[^\/>][^>]*><\/[^>]+>/gim,"").match(t);return!!e&&1<e.length},modifySelection:function(){var t=this.window.getSelection().getRangeAt(0);if(this.standardizeSelectionStart&&t.startContainer.nodeValue&&t.startOffset===t.startContainer.nodeValue.length){var e=v.util.findAdjacentTextNodeWithContent(v.selection.getSelectionElement(this.window),t.startContainer,this.document);if(e){for(var n=0;0===e.nodeValue.substr(n,1).trim().length;)n+=1;t=v.selection.select(this.document,e,n,t.endContainer,t.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||v.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var t=v.selection.getSelectionElement(this.window);return!t||-1===this.getEditorElements().indexOf(t)||t.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!v.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(t){"function"==typeof t.isActive&&"function"==typeof t.setInactive&&t.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var e,n=[],i=null,t=v.selection.getSelectionRange(this.document),r=function(t){"function"==typeof t.checkState?t.checkState(e):"function"==typeof t.isActive&&"function"==typeof t.isAlreadyApplied&&"function"==typeof t.setActive&&!t.isActive()&&t.isAlreadyApplied(e)&&t.setActive()};if(t&&(this.forEachExtension(function(t){"function"!=typeof t.queryCommandState||null===(i=t.queryCommandState())?n.push(t):i&&"function"==typeof t.setActive&&t.setActive()}),e=v.selection.getSelectedParentElement(t),this.getEditorElements().some(function(t){return v.util.isDescendant(t,e,!0)})))for(;e&&(n.forEach(r),!v.util.isMediumEditorElement(e));)e=e.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var t=this.base.getFocusedElement(),e=this.window.getSelection();if(!t)return this;!this.static&&e.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(t):this.positionToolbar(e)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(t){this.getToolbarElement().style.left="0";var e,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,r=this.getToolbarElement(),o=t.getBoundingClientRect(),s=o.top+n,a=o.left+o.width/2,l=r.offsetHeight,c=r.offsetWidth,u=c/2;switch(this.sticky?n>s+t.offsetHeight-l-this.stickyTopOffset?(r.style.top=s+t.offsetHeight-l+"px",r.classList.remove("medium-editor-sticky-toolbar")):n>s-l-this.stickyTopOffset?(r.classList.add("medium-editor-sticky-toolbar"),r.style.top=this.stickyTopOffset+"px"):(r.classList.remove("medium-editor-sticky-toolbar"),r.style.top=s-l+"px"):r.style.top=s-l+"px",this.align){case"left":e=o.left;break;case"right":e=o.right-c;break;case"center":e=a-u}e<0?e=0:i<e+c&&(e=i-Math.ceil(c)-1),r.style.left=e+"px"},positionToolbar:function(t){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var e=t.getRangeAt(0),n=e.getBoundingClientRect();(!n||0===n.height&&0===n.width&&e.startContainer===e.endContainer)&&(n=1===e.startContainer.nodeType&&e.startContainer.querySelector("img")?e.startContainer.querySelector("img").getBoundingClientRect():e.startContainer.getBoundingClientRect());var i=this.window.innerWidth,r=(n.left+n.right)/2,o=this.getToolbarElement(),s=o.offsetHeight,a=o.offsetWidth/2,l=this.diffLeft-a;n.top<50?(o.classList.add("medium-toolbar-arrow-over"),o.classList.remove("medium-toolbar-arrow-under"),o.style.top=50+n.bottom-this.diffTop+this.window.pageYOffset-s+"px"):(o.classList.add("medium-toolbar-arrow-under"),o.classList.remove("medium-toolbar-arrow-over"),o.style.top=n.top+this.diffTop+this.window.pageYOffset-s+"px"),r<a?(o.style.left=l+a+"px",o.style.right="initial"):i-r<a?(o.style.left="auto",o.style.right=0):(o.style.left=l+r+"px",o.style.right="initial")}}),v.extensions.toolbar=c,u=v.Extension.extend({init:function(){v.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){var e="medium-editor-dragover";t.preventDefault(),t.dataTransfer.dropEffect="copy","dragover"===t.type?t.target.classList.add(e):"dragleave"===t.type&&t.target.classList.remove(e)},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files,0).some(function(t){var e,n;t.type.match("image")&&((e=new FileReader).readAsDataURL(t),n="medium-img-"+ +new Date,v.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+n+'" />'),e.onload=function(){var t=this.document.getElementById(n);t&&(t.removeAttribute("id"),t.removeAttribute("class"),t.src=e.result)}.bind(this))}.bind(this)),t.target.classList.remove("medium-editor-dragover")}}),v.extensions.imageDragging=u,function(){function i(t,e){if(this.options.disableReturn||e.getAttribute("data-disable-return"))t.preventDefault();else if(this.options.disableDoubleReturn||e.getAttribute("data-disable-double-return")){var n=v.selection.getSelectionStart(this.options.ownerDocument);(n&&""===n.textContent.trim()&&"li"!==n.nodeName.toLowerCase()||n.previousElementSibling&&"br"!==n.previousElementSibling.nodeName.toLowerCase()&&""===n.previousElementSibling.textContent.trim())&&t.preventDefault()}}function t(t){var e,n=v.selection.getSelectionStart(this.options.ownerDocument),i=n.nodeName.toLowerCase(),r=/^(\s+|<br\/?>)?$/i,o=/h\d/i;v.util.isKey(t,[v.util.keyCode.BACKSPACE,v.util.keyCode.ENTER])&&n.previousElementSibling&&o.test(i)&&0===v.selection.getCaretOffsets(n).left?v.util.isKey(t,v.util.keyCode.BACKSPACE)&&r.test(n.previousElementSibling.innerHTML)?(n.previousElementSibling.parentNode.removeChild(n.previousElementSibling),t.preventDefault()):!this.options.disableDoubleReturn&&v.util.isKey(t,v.util.keyCode.ENTER)&&((e=this.options.ownerDocument.createElement("p")).innerHTML="<br>",n.previousElementSibling.parentNode.insertBefore(e,n),t.preventDefault()):v.util.isKey(t,v.util.keyCode.DELETE)&&n.nextElementSibling&&n.previousElementSibling&&!o.test(i)&&r.test(n.innerHTML)&&o.test(n.nextElementSibling.nodeName.toLowerCase())?(v.selection.moveCursor(this.options.ownerDocument,n.nextElementSibling),n.previousElementSibling.parentNode.removeChild(n),t.preventDefault()):v.util.isKey(t,v.util.keyCode.BACKSPACE)&&"li"===i&&r.test(n.innerHTML)&&!n.previousElementSibling&&!n.parentElement.previousElementSibling&&n.nextElementSibling&&"li"===n.nextElementSibling.nodeName.toLowerCase()?((e=this.options.ownerDocument.createElement("p")).innerHTML="<br>",n.parentElement.parentElement.insertBefore(e,n.parentElement),v.selection.moveCursor(this.options.ownerDocument,e),n.parentElement.removeChild(n),t.preventDefault()):v.util.isKey(t,v.util.keyCode.BACKSPACE)&&!1!==v.util.getClosestTag(n,"blockquote")&&0===v.selection.getCaretOffsets(n).left&&(t.preventDefault(),v.util.execFormatBlock(this.options.ownerDocument,"p"))}function n(t,e,n){var i=[];if(t||(t=[]),"string"==typeof t&&(t=e.querySelectorAll(t)),v.util.isElement(t)&&(t=[t]),n)for(var r=0;r<t.length;r++){var o=t[r];!v.util.isElement(o)||o.getAttribute("data-medium-editor-element")||o.getAttribute("medium-editor-textarea-id")||i.push(o)}else i=Array.prototype.slice.apply(t);return i}function r(t){var e=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');e&&(e.classList.remove("medium-editor-hidden"),e.removeAttribute("medium-editor-textarea-id")),t.parentNode&&t.parentNode.removeChild(t)}function o(t,e,n){var i,r,o={window:n.options.contentWindow,document:n.options.ownerDocument,base:n};return i=t,r=o,Object.keys(r).forEach(function(t){void 0===i[t]&&(i[t]=r[t])}),"function"==typeof(t=i).init&&t.init(),t.name||(t.name=e),t}function s(){return!this.elements.every(function(t){return!!t.getAttribute("data-disable-toolbar")})&&!1!==this.options.toolbar}function a(t,e){if(!t.getAttribute("data-medium-editor-element")){"textarea"===t.nodeName.toLowerCase()&&(t=function(t){for(var e=this.options.ownerDocument.createElement("div"),n=Date.now(),i="medium-editor-"+n,r=t.attributes;this.options.ownerDocument.getElementById(i);)i="medium-editor-"+ ++n;e.className=t.className,e.id=i,e.innerHTML=t.value,t.setAttribute("medium-editor-textarea-id",i);for(var o=0,s=r.length;o<s;o++)e.hasAttribute(r[o].nodeName)||e.setAttribute(r[o].nodeName,r[o].nodeValue);return t.form&&this.on(t.form,"reset",function(t){t.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(i))}.bind(this)),t.classList.add("medium-editor-hidden"),t.parentNode.insertBefore(e,t),e}.call(this,t),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=function(t,e){var n=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=e.innerHTML.trim())}.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(t.getAttribute("data-disable-return")||t.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=i.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||t.getAttribute("data-disable-return")||this.on(t,"keyup",function(t){var e=v.selection.getSelectionStart(this.options.ownerDocument);e&&(v.util.isMediumEditorElement(e)&&0===e.children.length&&!v.util.isBlockContainer(e)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!v.util.isKey(t,v.util.keyCode.ENTER)||v.util.isListItem(e)||v.util.isBlockContainer(e)||("a"===e.nodeName.toLowerCase()?this.options.ownerDocument.execCommand("unlink",!1,null):t.shiftKey||t.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}.bind(this));var n=v.util.guid();t.setAttribute("data-medium-editor-element",!0),t.classList.add("medium-editor-element"),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("data-medium-editor-editor-index",e),t.setAttribute("medium-editor-index",n),u[n]=t.innerHTML,this.events.attachAllEventsToElement(t)}return t}function e(){this.subscribe("editableKeydownTab",function(t){var e=v.selection.getSelectionStart(this.options.ownerDocument);"pre"===(e&&e.nodeName.toLowerCase())&&(t.preventDefault(),v.util.insertHTMLCommand(this.options.ownerDocument,"    ")),v.util.isListItem(e)&&(t.preventDefault(),t.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}.bind(this)),this.subscribe("editableKeydownDelete",t.bind(this)),this.subscribe("editableKeydownEnter",t.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",function(t){var e=v.selection.getSelectionStart(this.options.ownerDocument),n=e.textContent,i=v.selection.getCaretOffsets(e);(void 0===n[i.left-1]||""===n[i.left-1].trim()||void 0!==n[i.left]&&""===n[i.left].trim())&&t.preventDefault()}.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=i.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function l(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(t){"toolbar"!==t&&this.options.extensions[t]&&this.extensions.push(o(this.options.extensions[t],t,this))},this),function(){return!this.options.extensions.imageDragging}.call(this)){var t=this.options.fileDragging;t||(t={},function(){return!1!==this.options.imageDragging}.call(this)||(t.allowedTypes=[])),this.addBuiltInExtension("fileDragging",t)}var e={paste:!0,"anchor-preview":function(){return!!s.call(this)&&!1!==this.options.anchorPreview}.call(this),autoLink:function(){return!1!==this.options.autoLink}.call(this),keyboardCommands:function(){return!1!==this.options.keyboardCommands}.call(this),placeholder:function(){return!1!==this.options.placeholder}.call(this)};Object.keys(e).forEach(function(t){e[t]&&this.addBuiltInExtension(t)},this);var n=this.options.extensions.toolbar;if(!n&&s.call(this)){var i=v.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});n=new v.extensions.toolbar(i)}n&&this.extensions.push(o(n,"toolbar",this))}function c(t,e){var n,i;if(n=/^append-(.+)$/gi.exec(t))return v.util.execFormatBlock(this.options.ownerDocument,n[1]);if("fontSize"===t)return e.size&&v.util.deprecated(".size option for fontSize command",".value","6.0.0"),i=e.value||e.size,this.options.ownerDocument.execCommand("fontSize",!1,i);if("fontName"===t)return e.name&&v.util.deprecated(".name option for fontName command",".value","6.0.0"),i=e.value||e.name,this.options.ownerDocument.execCommand("fontName",!1,i);if("createLink"===t)return this.createLink(e);if("image"===t){var r=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,r)}if(/justify([A-Za-z]*)$/g.exec(t)){var o=this.options.ownerDocument.execCommand(t,!1,null),s=v.selection.getSelectedParentElement(v.selection.getSelectionRange(this.options.ownerDocument));return s&&function(t){if(!t)return;var i,e=Array.prototype.slice.call(t.childNodes).filter(function(t){var e="div"===t.nodeName.toLowerCase();return e&&!i&&(i=t.style.textAlign),e});e.length&&(this.saveSelection(),e.forEach(function(t){if(t.style.textAlign===i){var e=t.lastChild;if(e){v.util.unwrap(t,this.options.ownerDocument);var n=this.options.ownerDocument.createElement("BR");e.parentNode.insertBefore(n,e.nextSibling)}}},this),t.style.textAlign=i,this.restoreSelection())}.call(this,v.util.getTopBlockContainer(s)),o}return i=e&&e.value,this.options.ownerDocument.execCommand(t,!1,i)}var u={};v.prototype={init:function(t,e){return this.options=function(t,e){return e&&[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]].forEach(function(t){e.hasOwnProperty(t[0])&&void 0!==e[t[0]]&&v.util.deprecated(t[0],t[1],"v6.0.0")}),v.util.defaults({},e,t)}.call(this,this.defaults,e),this.origElements=t,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(function(t){t._mediumEditors||(t._mediumEditors=[null]),this.id||(this.id=t._mediumEditors.length),t._mediumEditors[this.id]=this}.call(this,this.options.contentWindow),this.events=new v.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,l.call(this),e.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(t){"function"==typeof t.destroy&&t.destroy()},this),this.events.destroy(),this.elements.forEach(function(t){this.options.spellcheck&&(t.innerHTML=t.innerHTML),t.removeAttribute("contentEditable"),t.removeAttribute("spellcheck"),t.removeAttribute("data-medium-editor-element"),t.classList.remove("medium-editor-element"),t.removeAttribute("role"),t.removeAttribute("aria-multiline"),t.removeAttribute("medium-editor-index"),t.removeAttribute("data-medium-editor-editor-index"),t.getAttribute("medium-editor-textarea-id")&&r(t)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,function(t){t._mediumEditors&&t._mediumEditors[this.id]&&(t._mediumEditors[this.id]=null)}.call(this,this.options.contentWindow))},on:function(t,e,n,i){return this.events.attachDOMEvent(t,e,n,i),this},off:function(t,e,n,i){return this.events.detachDOMEvent(t,e,n,i),this},subscribe:function(t,e){return this.events.attachCustomEvent(t,e),this},unsubscribe:function(t,e){return this.events.detachCustomEvent(t,e),this},trigger:function(t,e,n){return this.events.triggerCustomEvent(t,e,n),this},delay:function(t){var e=this;return setTimeout(function(){e.isActive&&t()},this.options.delay)},serialize:function(){var t,e={},n=this.elements.length;for(t=0;t<n;t+=1)e[""!==this.elements[t].id?this.elements[t].id:"element-"+t]={value:this.elements[t].innerHTML.trim()};return e},getExtensionByName:function(e){var n;return this.extensions&&this.extensions.length&&this.extensions.some(function(t){return t.name===e&&(n=t,!0)}),n},addBuiltInExtension:function(t,e){var n,i=this.getExtensionByName(t);if(i)return i;switch(t){case"anchor":n=v.util.extend({},this.options.anchor,e),i=new v.extensions.anchor(n);break;case"anchor-preview":i=new v.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":i=new v.extensions.autoLink;break;case"fileDragging":i=new v.extensions.fileDragging(e);break;case"fontname":i=new v.extensions.fontName(this.options.fontName);break;case"fontsize":i=new v.extensions.fontSize(e);break;case"keyboardCommands":i=new v.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":i=new v.extensions.paste(this.options.paste);break;case"placeholder":i=new v.extensions.placeholder(this.options.placeholder);break;default:v.extensions.button.isBuiltInButton(t)&&(e?(n=v.util.defaults({},e,v.extensions.button.prototype.defaults[t]),i=new v.extensions.button(n)):i=new v.extensions.button(t))}return i&&this.extensions.push(o(i,t,this)),i},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var t=this.getExtensionByName("toolbar");return t&&t.checkState(),this},queryCommandState:function(t){var e,n=null;(e=/^full-(.+)$/gi.exec(t))&&(t=e[1]);try{n=this.options.ownerDocument.queryCommandState(t)}catch(t){n=null}return n},execAction:function(t,e){var n,i;return(n=/^full-(.+)$/gi.exec(t))?(this.saveSelection(),this.selectAllContents(),i=c.call(this,n[1],e),this.restoreSelection()):i=c.call(this,t,e),"insertunorderedlist"!==t&&"insertorderedlist"!==t||v.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),i},getSelectedParentElement:function(t){return void 0===t&&(t=this.options.contentWindow.getSelection().getRangeAt(0)),v.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=v.selection.getSelectionElement(this.options.contentWindow);if(t){for(;1===t.children.length;)t=t.children[0];this.selectElement(t)}},selectElement:function(t){v.selection.selectNode(t,this.options.ownerDocument);var e=v.selection.getSelectionElement(this.options.contentWindow);e&&this.events.focusElement(e)},getFocusedElement:function(){var e;return this.elements.some(function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e},this),e},exportSelection:function(){var t=v.selection.getSelectionElement(this.options.contentWindow),e=this.elements.indexOf(t),n=null;return 0<=e&&(n=v.selection.exportSelection(t,this.options.ownerDocument)),null!==n&&0!==e&&(n.editableElementIndex=e),n},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,e){if(t){var n=this.elements[t.editableElementIndex||0];v.selection.importSelection(t,n,this.options.ownerDocument,e)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var e,n=v.selection.getSelectionElement(this.options.contentWindow),i={};if(-1!==this.elements.indexOf(n)){try{if(this.events.disableCustomEvent("editableInput"),t.url&&v.util.deprecated(".url option for createLink",".value","6.0.0"),(e=t.url||t.value)&&0<e.trim().length){var r=this.options.contentWindow.getSelection();if(r){var o,s,a,l,c=r.getRangeAt(0),u=c.commonAncestorContainer;if(3===c.endContainer.nodeType&&3!==c.startContainer.nodeType&&0===c.startOffset&&c.startContainer.firstChild===c.endContainer&&(u=c.endContainer),s=v.util.getClosestBlockContainer(c.startContainer),a=v.util.getClosestBlockContainer(c.endContainer),3!==u.nodeType&&0!==u.textContent.length&&s===a){var h=s||n,d=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),o=this.exportSelection(),d.appendChild(h.cloneNode(!0)),n===h?v.selection.select(this.options.ownerDocument,h.firstChild,0,h.lastChild,3===h.lastChild.nodeType?h.lastChild.nodeValue.length:h.lastChild.childNodes.length):v.selection.select(this.options.ownerDocument,h,0,h,h.childNodes.length);var f=this.exportSelection();0===(l=v.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,d,{start:o.start-f.start,end:o.end-f.start,editableElementIndex:o.editableElementIndex})).length&&((d=this.options.ownerDocument.createDocumentFragment()).appendChild(u.cloneNode(!0)),l=[d.firstChild.firstChild,d.firstChild.lastChild]),v.util.createLink(this.options.ownerDocument,l,e.trim());var p=(d.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;v.util.insertHTMLCommand(this.options.ownerDocument,d.firstChild.innerHTML.replace(/^\s+/,"")),o.start-=p,o.end-=p,this.importSelection(o)}else this.options.ownerDocument.execCommand("createLink",!1,e);this.options.targetBlank||"_blank"===t.target?v.util.setTargetBlank(v.selection.getSelectionStart(this.options.ownerDocument),e):v.util.removeTargetBlank(v.selection.getSelectionStart(this.options.ownerDocument),e),t.buttonClass&&v.util.addClassToAnchors(v.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}if(this.options.targetBlank||"_blank"===t.target||t.buttonClass){(i=this.options.ownerDocument.createEvent("HTMLEvents")).initEvent("input",!0,!0,this.options.contentWindow);for(var g=0,m=this.elements.length;g<m;g+=1)this.elements[g].dispatchEvent(i)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",i,n)}},cleanPaste:function(t){this.getExtensionByName("paste").cleanPaste(t)},pasteHTML:function(t,e){this.getExtensionByName("paste").pasteHTML(t,e)},setContent:function(t,e){if(e=e||0,this.elements[e]){var n=this.elements[e];n.innerHTML=t,this.checkContentChanged(n)}},getContent:function(t){return t=t||0,this.elements[t]?this.elements[t].innerHTML.trim():null},checkContentChanged:function(t){t=t||v.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(t,{target:t,currentTarget:t})},resetContent:function(t){if(t){var e=this.elements.indexOf(t);-1!==e&&this.setContent(u[t.getAttribute("medium-editor-index")],e)}else this.elements.forEach(function(t,e){this.setContent(u[t.getAttribute("medium-editor-index")],e)},this)},addElements:function(t){var e=n(t,this.options.ownerDocument,!0);if(0===e.length)return!1;e.forEach(function(t){t=a.call(this,t,this.id),this.elements.push(t)},this)},removeElements:function(t){var e=n(t,this.options.ownerDocument).map(function(t){return t.getAttribute("medium-editor-textarea-id")&&t.parentNode?t.parentNode.querySelector('div[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]'):t});this.elements=this.elements.filter(function(t){return-1===e.indexOf(t)||(this.events.cleanupElement(t),t.getAttribute("medium-editor-textarea-id")&&r(t),!1)},this)}},v.getEditorFromElement=function(t){var e=t.getAttribute("data-medium-editor-editor-index"),n=t&&t.ownerDocument&&(t.ownerDocument.defaultView||t.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[e]?n._mediumEditors[e]:null}}(),v.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0},v.version=(v.parseVersionString=function(t){var e=t.split("-"),n=e[0].split("."),i=1<e.length?e[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:i,toString:function(){return[n[0],n[1],n[2]].join(".")+(i?"-"+i:"")}}}).call(this,"5.20.2"),v}()),angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{require:"ngModel",restrict:"AE",scope:{bindOptions:"&"},link:function(n,i,t,r){angular.element(i).addClass("angular-medium-editor"),r.editor=new MediumEditor(i,n.bindOptions()),r.$render=function(){var t=i;"textarea"===i[0].tagName.toLowerCase()&&(t=i.parent().find(".medium-editor-element")),t.html(r.$viewValue||"");var e=r.editor.getExtensionByName("placeholder");e&&e.updatePlaceholder(t[0])},r.$isEmpty=function(t){return/[<>]/.test(t)?0===(e=t,n=document.createElement("div"),n.innerHTML=e,(n.textContent||"").trim()).length&&!/[<>]img/.test(t):!t||0===t.length;var e,n},r.editor.subscribe("editableInput",function(t,e){n.$apply(function(){var t=$(e);""===t.text().trim()&&0==t.find("img").length&&t.html(""),t.find("p").addClass("medium-editor-p"),r.$setViewValue(t.html().trim())})}),n.$on("$destroy",function(){r.editor.destroy()})}}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(Lt,Ht){"use strict";var Rt={beforeShow:t,move:t,change:t,show:t,hide:t,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},Ft=[],zt=!!/msie/i.exec(window.navigator.userAgent),jt=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),Bt=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Wt=function(){var t="";if(zt)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function Vt(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s){var a=tinycolor(s),l=a.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,s)?" sp-thumb-active":"";var c=a.toString(i.preferredFormat||"rgb"),u=jt?"background-color:"+a.toRgbString():"filter:"+a.toFilter();r.push('<span title="'+c+'" data-color="'+a.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+u+';" /></span>')}else{r.push(Lt("<div />").append(Lt('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"}function e(t,e){var n,i,r,o,s,a,l,u=(s=e,a=t,(l=Lt.extend({},Rt,s)).callbacks={move:Yt(l.move,a),change:Yt(l.change,a),show:Yt(l.show,a),hide:Yt(l.hide,a),beforeShow:Yt(l.beforeShow,a)},l),h=u.flat,c=u.showSelectionPalette,d=u.localStorageKey,f=u.theme,p=u.callbacks,g=(n=Ot,i=10,function(){var t=this,e=arguments;r&&clearTimeout(o),!r&&o||(o=setTimeout(function(){o=null,n.apply(t,e)},i))}),m=!1,v=!1,y=0,b=0,w=0,x=0,k=0,C=0,_=0,S=0,$=0,E=0,T=1,D=[],M=[],A={},P=u.selectionPalette.slice(0),O=u.maxSelectionSize,N="sp-dragging",I=null,L=t.ownerDocument,H=(L.body,Lt(t)),R=!1,F=Lt(Wt,L).addClass(f),z=F.find(".sp-picker-container"),j=F.find(".sp-color"),B=F.find(".sp-dragger"),W=F.find(".sp-hue"),V=F.find(".sp-slider"),q=F.find(".sp-alpha-inner"),Y=F.find(".sp-alpha"),U=F.find(".sp-alpha-handle"),G=F.find(".sp-input"),X=F.find(".sp-palette"),K=F.find(".sp-initial"),Z=F.find(".sp-cancel"),Q=F.find(".sp-clear"),J=F.find(".sp-choose"),tt=F.find(".sp-palette-toggle"),et=H.is("input"),nt=et&&"color"===H.attr("type")&&Gt(),it=et&&!h,rt=it?Lt(Bt).addClass(f).addClass(u.className).addClass(u.replacerClassName):Lt([]),ot=it?rt:H,st=rt.find(".sp-preview-inner"),at=u.color||et&&H.val(),lt=!1,ct=u.preferredFormat,ut=!u.showButtons||u.clickoutFiresChange,ht=!at,dt=u.allowEmpty&&!nt;function ft(){if(u.showPaletteOnly&&(u.showPalette=!0),tt.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText),u.palette){D=u.palette.slice(0),M=Lt.isArray(D[0])?D:[D],A={};for(var t=0;t<M.length;t++)for(var e=0;e<M[t].length;e++){var n=tinycolor(M[t][e]).toRgbString();A[n]=!0}}F.toggleClass("sp-flat",h),F.toggleClass("sp-input-disabled",!u.showInput),F.toggleClass("sp-alpha-enabled",u.showAlpha),F.toggleClass("sp-clear-enabled",dt),F.toggleClass("sp-buttons-disabled",!u.showButtons),F.toggleClass("sp-palette-buttons-disabled",!u.togglePaletteOnly),F.toggleClass("sp-palette-disabled",!u.showPalette),F.toggleClass("sp-palette-only",u.showPaletteOnly),F.toggleClass("sp-initial-disabled",!u.showInitial),F.addClass(u.className).addClass(u.containerClassName),Ot()}function pt(){if(d&&window.localStorage){try{var t=window.localStorage[d].split(",#");1<t.length&&(delete window.localStorage[d],Lt.each(t,function(t,e){gt(e)}))}catch(t){}try{P=window.localStorage[d].split(";")}catch(t){}}}function gt(t){if(c){var e=tinycolor(t).toRgbString();if(!A[e]&&-1===Lt.inArray(e,P))for(P.push(e);P.length>O;)P.shift();if(d&&window.localStorage)try{window.localStorage[d]=P.join(";")}catch(t){}}}function mt(){var n=Tt(),t=Lt.map(M,function(t,e){return Vt(t,n,"sp-palette-row sp-palette-row-"+e,u)});pt(),P&&t.push(Vt(function(){var t=[];if(u.showPalette)for(var e=0;e<P.length;e++){var n=tinycolor(P[e]).toRgbString();A[n]||t.push(P[e])}return t.reverse().slice(0,u.maxSelectionSize)}(),n,"sp-palette-row sp-palette-row-selection",u)),X.html(t.join(""))}function vt(){if(u.showInitial){var t=lt,e=Tt();K.html(Vt([t,e],e,"sp-palette-row-initial",u))}}function yt(){(b<=0||y<=0||x<=0)&&Ot(),v=!0,F.addClass(N),I=null,H.trigger("dragstart.spectrum",[Tt()])}function bt(){v=!1,F.removeClass(N),H.trigger("dragstop.spectrum",[Tt()])}function wt(){var t=G.val();if(null!==t&&""!==t||!dt){var e=tinycolor(t);e.isValid()?(Et(e),Pt(!0)):G.addClass("sp-validation-error")}else Et(null),Pt(!0)}function xt(){m?St():kt()}function kt(){var t=Lt.Event("beforeShow.spectrum");m?Ot():(H.trigger(t,[Tt()]),!1===p.beforeShow(Tt())||t.isDefaultPrevented()||(!function(){for(var t=0;t<Ft.length;t++)Ft[t]&&Ft[t].hide()}(),m=!0,Lt(L).bind("keydown.spectrum",Ct),Lt(L).bind("click.spectrum",_t),Lt(window).bind("resize.spectrum",g),rt.addClass("sp-active"),F.removeClass("sp-hidden"),Ot(),Mt(),lt=Tt(),vt(),p.show(lt),H.trigger("show.spectrum",[lt])))}function Ct(t){27===t.keyCode&&St()}function _t(t){2!=t.button&&(v||(ut?Pt(!0):$t(),St()))}function St(){m&&!h&&(m=!1,Lt(L).unbind("keydown.spectrum",Ct),Lt(L).unbind("click.spectrum",_t),Lt(window).unbind("resize.spectrum",g),rt.removeClass("sp-active"),F.addClass("sp-hidden"),p.hide(Tt()),H.trigger("hide.spectrum",[Tt()]))}function $t(){Et(lt,!0)}function Et(t,e){var n,i;tinycolor.equals(t,Tt())?Mt():(!t&&dt?ht=!0:(ht=!1,i=(n=tinycolor(t)).toHsv(),S=i.h%360/360,$=i.s,E=i.v,T=i.a),Mt(),n&&n.isValid()&&!e&&(ct=u.preferredFormat||n.getFormat()))}function Tt(t){return t=t||{},dt&&ht?null:tinycolor.fromRatio({h:S,s:$,v:E,a:Math.round(100*T)/100},{format:t.format||ct})}function Dt(){Mt(),p.move(Tt()),H.trigger("move.spectrum",[Tt()])}function Mt(){G.removeClass("sp-validation-error"),At();var t=tinycolor.fromRatio({h:S,s:1,v:1});j.css("background-color",t.toHexString());var e=ct;T<1&&(0!==T||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Tt({format:e}),i="";if(st.removeClass("sp-clear-display"),st.css("background-color","transparent"),!n&&dt)st.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(jt||1===n.alpha?st.css("background-color",o):(st.css("background-color","transparent"),st.css("filter",n.toFilter())),u.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),l="linear-gradient(left, "+a+", "+r+")";zt?q.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(q.css("background","-webkit-"+l),q.css("background","-moz-"+l),q.css("background","-ms-"+l),q.css("background","linear-gradient(to right, "+a+", "+r+")"))}i=n.toString(e)}u.showInput&&G.val(i),u.showPalette&&mt(),vt()}function At(){var t=$,e=E;if(dt&&ht)U.hide(),V.hide(),B.hide();else{U.show(),V.show(),B.show();var n=t*y,i=b-e*b;n=Math.max(-w,Math.min(y-w,n-w)),i=Math.max(-w,Math.min(b-w,i-w)),B.css({top:i+"px",left:n+"px"});var r=T*k;U.css({left:r-C/2+"px"});var o=S*x;V.css({top:o-_+"px"})}}function Pt(t){var e=Tt(),n="",i=!tinycolor.equals(e,lt);e&&(n=e.toString(ct),gt(e)),et&&H.val(n),t&&i&&(p.change(e),H.trigger("change",[e]))}function Ot(){var t,e,n,i,r,o,s,a,l,c;m&&(y=j.width(),b=j.height(),w=B.height(),W.width(),x=W.height(),_=V.height(),k=Y.width(),C=U.width(),h||(F.css("position","absolute"),u.offset?F.offset(u.offset):F.offset((e=ot,n=(t=F).outerWidth(),i=t.outerHeight(),r=e.outerHeight(),o=t[0].ownerDocument,s=o.documentElement,a=s.clientWidth+Lt(o).scrollLeft(),l=s.clientHeight+Lt(o).scrollTop(),(c=e.offset()).top+=r,c.left-=Math.min(c.left,c.left+n>a&&n<a?Math.abs(c.left+n-a):0),c.top-=Math.min(c.top,c.top+i>l&&i<l?Math.abs(i+r-0):0),c))),At(),u.showPalette&&mt(),H.trigger("reflow.spectrum"))}function Nt(){St(),R=!0,H.attr("disabled",!0),ot.addClass("sp-disabled")}!function(){if(zt&&F.find("*:not(input)").attr("unselectable","on"),ft(),it&&H.after(rt).hide(),dt||Q.hide(),h)H.after(F).hide();else{var t="parent"===u.appendTo?H.parent():Lt(u.appendTo);1!==t.length&&(t=Lt("body")),t.append(F)}function e(t){return t.data&&t.data.ignore?(Et(Lt(t.target).closest(".sp-thumb-el").data("color")),Dt()):(Et(Lt(t.target).closest(".sp-thumb-el").data("color")),Dt(),Pt(!0),u.hideAfterPaletteSelect&&St()),!1}pt(),ot.bind("click.spectrum touchstart.spectrum",function(t){R||xt(),t.stopPropagation(),Lt(t.target).is("input")||t.preventDefault()}),(H.is(":disabled")||!0===u.disabled)&&Nt(),F.click(qt),G.change(wt),G.bind("paste",function(){setTimeout(wt,1)}),G.keydown(function(t){13==t.keyCode&&wt()}),Z.text(u.cancelText),Z.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),$t(),St()}),Q.attr("title",u.clearText),Q.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),ht=!0,Dt(),h&&Pt(!0)}),J.text(u.chooseText),J.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),zt&&G.is(":focus")&&G.trigger("change"),G.hasClass("sp-validation-error")||(Pt(!0),St())}),tt.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText),tt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),u.showPaletteOnly=!u.showPaletteOnly,u.showPaletteOnly||h||F.css("left","-="+(z.outerWidth(!0)+5)),ft()}),Ut(Y,function(t,e,n){T=t/k,ht=!1,n.shiftKey&&(T=Math.round(10*T)/10),Dt()},yt,bt),Ut(W,function(t,e){S=parseFloat(e/x),ht=!1,u.showAlpha||(T=1),Dt()},yt,bt),Ut(j,function(t,e,n){if(n.shiftKey){if(!I){var i=$*y,r=b-E*b,o=Math.abs(t-i)>Math.abs(e-r);I=o?"x":"y"}}else I=null;var s=!I||"y"===I;(!I||"x"===I)&&($=parseFloat(t/y)),s&&(E=parseFloat((b-e)/b)),ht=!1,u.showAlpha||(T=1),Dt()},yt,bt),at?(Et(at),Mt(),ct=u.preferredFormat||tinycolor(at).format,gt(at)):Mt(),h&&kt();var n=zt?"mousedown.spectrum":"click.spectrum touchstart.spectrum";X.delegate(".sp-thumb-el",n,e),K.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},e)}();var It={show:kt,hide:St,toggle:xt,reflow:Ot,option:function(t,e){return t===Ht?Lt.extend({},u):e===Ht?u[t]:(u[t]=e,"preferredFormat"===t&&(ct=u.preferredFormat),void ft())},enable:function(){R=!1,H.attr("disabled",!1),ot.removeClass("sp-disabled")},disable:Nt,offset:function(t){u.offset=t,Ot()},set:function(t){Et(t),Pt()},get:Tt,destroy:function(){H.show(),ot.unbind("click.spectrum touchstart.spectrum"),F.remove(),rt.remove(),Ft[It.id]=null},container:F};return It.id=Ft.push(It)-1,It}function t(){}function qt(t){t.stopPropagation()}function Yt(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function Ut(s,a,e,t){a=a||function(){},e=e||function(){},t=t||function(){};var l=document,c=!1,u={},h=0,d=0,f="ontouchstart"in window,n={};function p(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function i(t){if(c){if(zt&&l.documentMode<9&&!t.button)return g();var e=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],n=e&&e.pageX||t.pageX,i=e&&e.pageY||t.pageY,r=Math.max(0,Math.min(n-u.left,d)),o=Math.max(0,Math.min(i-u.top,h));f&&p(t),a.apply(s,[r,o,t])}}function g(){c&&(Lt(l).unbind(n),Lt(l.body).removeClass("sp-dragging"),setTimeout(function(){t.apply(s,arguments)},0)),c=!1}n.selectstart=p,n.dragstart=p,n["touchmove mousemove"]=i,n["touchend mouseup"]=g,Lt(s).bind("touchstart mousedown",function(t){(t.which?3==t.which:2==t.button)||c||!1!==e.apply(s,arguments)&&(c=!0,h=Lt(s).height(),d=Lt(s).width(),u=Lt(s).offset(),Lt(l).bind(n),Lt(l.body).addClass("sp-dragging"),i(t),p(t))})}function Gt(){return Lt.fn.spectrum.inputTypeColorSupport()}var o="spectrum.id";Lt.fn.spectrum=function(n,t){if("string"==typeof n){var i=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=Ft[Lt(this).data(o)];if(t){var e=t[n];if(!e)throw new Error("Spectrum: no such method: '"+n+"'");"get"==n?i=t.get():"container"==n?i=t.container:"option"==n?i=t.option.apply(t,r):"destroy"==n?(t.destroy(),Lt(this).removeData(o)):e.apply(t,r)}}),i}return this.spectrum("destroy").each(function(){var t=e(this,Lt.extend({},n,Lt(this).data()));Lt(this).data(o,t.id)})},Lt.fn.spectrum.load=!0,Lt.fn.spectrum.loadOpts={},Lt.fn.spectrum.draggable=Ut,Lt.fn.spectrum.defaults=Rt,Lt.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var e=Lt("<input type='color'/>")[0];t._cachedResult="color"===e.type&&""!==e.value}return t._cachedResult},Lt.spectrum={},Lt.spectrum.localization={},Lt.spectrum.palettes={},Lt.fn.spectrum.processNativeColorInputs=function(){var t=Lt("input[type=color]");t.length&&!Gt()&&t.spectrum({preferredFormat:"hex6"})},function(){var l=/^[\s,#]+/,c=/\s+$/,i=0,u=Math,o=u.round,h=u.min,d=u.max,t=u.random,f=function(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,i=!1,r=!1;"string"==typeof t&&(t=function(t){t=t.replace(l,"").replace(c,"").toLowerCase();var e,n=!1;if($[t])t=$[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=H.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=H.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=H.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=H.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=H.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=H.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=H.hex8.exec(t))return{a:(i=e[1],A(i)/255),r:A(e[2]),g:A(e[3]),b:A(e[4]),format:n?"name":"hex8"};var i;if(e=H.hex6.exec(t))return{r:A(e[1]),g:A(e[2]),b:A(e[3]),format:n?"name":"hex"};if(e=H.hex3.exec(t))return{r:A(e[1]+""+e[1]),g:A(e[2]+""+e[2]),b:A(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(o=t.r,s=t.g,a=t.b,e={r:255*D(o,255),g:255*D(s,255),b:255*D(a,255)},i=!0,r="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=O(t.s),t.v=O(t.v),e=function(t,e,n){t=6*D(t,360),e=D(e,100),n=D(n,100);var i=u.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(t.h,t.s,t.v),i=!0,r="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=O(t.s),t.l=O(t.l),e=function(t,e,n){var i,r,o;function s(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=D(t,360),e=D(e,100),n=D(n,100),0===e)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s(l,a,t+1/3),r=s(l,a,t),o=s(l,a,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,t.s,t.l),i=!0,r="hsl"),t.hasOwnProperty("a")&&(n=t.a));var o,s,a;return n=T(n),{ok:i,format:t.format||r,r:h(255,d(e.r,0)),g:h(255,d(e.g,0)),b:h(255,d(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=i++};function r(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,o=d(t,e,n),s=h(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=.5<a?l/(2-o-s):l/(o+s),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:a}}function s(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,o=d(t,e,n),s=h(t,e,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:a}}function e(t,e,n,i){var r=[P(o(t).toString(16)),P(o(e).toString(16)),P(o(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,n,i){var r;return[P((r=i,Math.round(255*parseFloat(r)).toString(16))),P(o(t).toString(16)),P(o(e).toString(16)),P(o(n).toString(16))].join("")}function n(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s-=e/100,n.s=M(n.s),f(n)}function p(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s+=e/100,n.s=M(n.s),f(n)}function g(t){return f(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l+=e/100,n.l=M(n.l),f(n)}function v(t,e){e=0===e?0:e||10;var n=f(t).toRgb();return n.r=d(0,h(255,n.r-o(-e/100*255))),n.g=d(0,h(255,n.g-o(-e/100*255))),n.b=d(0,h(255,n.b-o(-e/100*255))),f(n)}function y(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l-=e/100,n.l=M(n.l),f(n)}function b(t,e){var n=f(t).toHsl(),i=(o(n.h)+e)%360;return n.h=i<0?360+i:i,f(n)}function w(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function x(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+120)%360,s:e.s,l:e.l}),f({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+90)%360,s:e.s,l:e.l}),f({h:(n+180)%360,s:e.s,l:e.l}),f({h:(n+270)%360,s:e.s,l:e.l})]}function C(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+72)%360,s:e.s,l:e.l}),f({h:(n+216)%360,s:e.s,l:e.l})]}function _(t,e,n){e=e||6,n=n||30;var i=f(t).toHsl(),r=360/n,o=[f(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(f(i));return o}function S(t,e){e=e||6;for(var n=f(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(f({h:i,s:r,v:o})),o=(o+a)%1;return s}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=T(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),i=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=r(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),i=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*D(this._r,255))+"%",g:o(100*D(this._g,255))+"%",b:o(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*D(this._r,255))+"%, "+o(100*D(this._g,255))+"%, "+o(100*D(this._b,255))+"%)":"rgba("+o(100*D(this._r,255))+"%, "+o(100*D(this._g,255))+"%, "+o(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=f(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&0<=this._a;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:O(t[i]));t=n}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:t(),g:t(),b:t()})},f.mix=function(t,e,n){n=0===n?0:n||50;var i,r=f(t).toRgb(),o=f(e).toRgb(),s=n/100,a=2*s-1,l=o.a-r.a,c=1-(i=((i=a*l==-1?a:(a+l)/(1+a*l))+1)/2),u={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*s+r.a*(1-s)};return f(u)},f.readability=function(t,e){var n=f(t),i=f(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:l}},f.isReadable=function(t,e){var n=f.readability(t,e);return 125<n.brightness&&500<n.color},f.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=f.readability(t,e[o]),a=125<s.brightness&&500<s.color,l=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&i<l||!a&&!r&&i<l)&&(r=a,i=l,n=f(e[o]))}return n};var $=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=f.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}($);function T(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function D(t,e){var n;"string"==typeof(n=t)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(t="100%");var i,r="string"==typeof(i=t)&&-1!=i.indexOf("%");return t=h(e,d(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),u.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return h(1,d(0,t))}function A(t){return parseInt(t,16)}function P(t){return 1==t.length?"0"+t:""+t}function O(t){return t<=1&&(t=100*t+"%"),t}var N,I,L,H=(I="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",L="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+L),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=f}(),Lt(function(){Lt.fn.spectrum.load&&Lt.fn.spectrum.processNativeColorInputs()})}),function(b,w){"use strict";b.module("smart-table",[]).run(["$templateCache",function(t){t.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="javascript: void(0);" ng-click="selectPage(page)">{{page}}</a></li></ul></nav>')}]),b.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),b.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(r,a,e,t){function o(t){return t?[].concat(t):[]}function n(){p=o(i(r)),!0===m&&v.pipe()}var i,s,l,c=t.stTable,u=a(c),h=u.assign,d=e("orderBy"),f=e("filter"),p=o(u(r)),g={sort:{},search:{},pagination:{start:0,totalItemCount:0}},m=!0,v=this;t.stSafeSrc&&(i=a(t.stSafeSrc),r.$watch(function(){var t=i(r);return t&&t.length?t[0]:w},function(t,e){t!==e&&n()}),r.$watch(function(){var t=i(r);return t?t.length:0},function(t){t!==p.length&&n()}),r.$watch(function(){return i(r)},function(t,e){t!==e&&(g.pagination.start=0,n())})),this.sortBy=function(t,e){return g.sort.predicate=t,g.sort.reverse=!0===e,b.isFunction(t)?g.sort.functionName=t.name:delete g.sort.functionName,g.pagination.start=0,this.pipe()},this.search=function(t,e){var n=g.search.predicateObject||{},i=e||"$";return t=b.isString(t)?t.trim():t,a(i).assign(n,t),t||function t(e,n){if(-1!=n.indexOf(".")){var i=n.split("."),r=i.pop(),o=i.join("."),s=a(o)(e);delete s[r],0==Object.keys(s).length&&t(e,o)}else delete e[n]}(n,i),g.search.predicateObject=n,g.pagination.start=0,this.pipe()},this.pipe=function(){var t,e=g.pagination;s=g.search.predicateObject?f(p,g.search.predicateObject):p,g.sort.predicate&&(s=d(s,g.sort.predicate,g.sort.reverse)),e.totalItemCount=s.length,e.number!==w&&(e.numberOfPages=0<s.length?Math.ceil(s.length/e.number):1,e.start=e.start>=s.length?(e.numberOfPages-1)*e.number:e.start,t=s.slice(e.start,e.start+parseInt(e.number))),h(r,t||s)},this.select=function(t,e){var n=o(u(r)),i=n.indexOf(t);-1!==i&&("single"===e?(t.isSelected=!0!==t.isSelected,l&&(l.isSelected=!1),l=!0===t.isSelected?t:w):n[i].isSelected=!n[i].isSelected)},this.slice=function(t,e){return g.pagination.start=t,g.pagination.number=e,this.pipe()},this.tableState=function(){return g},this.getFilteredCollection=function(){return s||p},this.setFilterFunction=function(t){f=e(t)},this.setSortFunction=function(t){d=e(t)},this.preventPipeOnWatch=function(){m=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(t,e,n,i){n.stSetFilter&&i.setFilterFunction(n.stSetFilter),n.stSetSort&&i.setSortFunction(n.stSetSort)}}}),b.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(l,c,u){return{require:"^stTable",link:function(t,i,n,r){var o=r,e=null,s=n.stDelay||l.search.delay,a=n.stInputEvent||l.search.inputEvent;n.$observe("stSearch",function(t,e){var n=i[0].value;t!==e&&n&&(r.tableState().search={},o.search(n,t))}),t.$watch(function(){return r.tableState().search},function(t){var e=n.stSearch||"$";t.predicateObject&&u(e)(t.predicateObject)!==i[0].value&&(i[0].value=u(e)(t.predicateObject)||"")},!0),i.bind(a,function(t){t=t.originalEvent||t,null!==e&&c.cancel(e),e=c(function(){o.search(t.target.value,n.stSearch||""),e=null},s)})}}}]),b.module("smart-table").directive("stSelectRow",["stConfig",function(o){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(t,e,n,i){var r=n.stSelectMode||o.select.mode;e.bind("click",function(){t.$apply(function(){i.select(t.row,r)})}),t.$watch("row.isSelected",function(t){!0===t?e.addClass(o.select.selectedClass):e.removeClass(o.select.selectedClass)})}}}]),b.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(m,v,y){return{restrict:"A",require:"^stTable",link:function(e,n,i,r){function t(){var t;f?l=0===l?2:l-1:l++,s=b.isFunction(a(e))||b.isArray(a(e))?a(e):i.stSort,l%3==0&&1!=!!d?(l=0,r.tableState().sort={},r.tableState().pagination.start=0,t=r.pipe.bind(r)):t=r.sortBy.bind(r,s,l%2==0),null!==p&&y.cancel(p),g<0?t():p=y(t,g)}var o,s=i.stSort,a=v(s),l=0,c=i.stClassAscent||m.sort.ascentClass,u=i.stClassDescent||m.sort.descentClass,h=[c,u],d=i.stSkipNatural!==w?i.stSkipNatural:m.sort.skipNatural,f=i.stDescendingFirst!==w?i.stDescendingFirst:m.sort.descendingFirst,p=null,g=i.stDelay||m.sort.delay;i.stSortDefault&&(o=e.$eval(i.stSortDefault)!==w?e.$eval(i.stSortDefault):i.stSortDefault),n.bind("click",function(){s&&e.$apply(t)}),o&&(l="reverse"===o?1:0,t()),e.$watch(function(){return r.tableState().sort},function(t){t.predicate!==s?(l=0,n.removeClass(c).removeClass(u)):(l=!0===t.reverse?2:1,n.removeClass(h[l%2]).addClass(h[l-1]))},!0)}}}]),b.module("smart-table").directive("stPagination",["stConfig",function(i){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(t,e){return e.stTemplate?e.stTemplate:i.pagination.template},link:function(o,t,e,s){function n(){var t,e,n=s.tableState().pagination,i=1,r=o.currentPage;for(o.totalItemCount=n.totalItemCount,o.currentPage=Math.floor(n.start/n.number)+1,(t=(i=Math.max(i,o.currentPage-Math.abs(Math.floor(o.stDisplayedPages/2))))+o.stDisplayedPages)>n.numberOfPages&&(t=n.numberOfPages+1,i=Math.max(1,t-o.stDisplayedPages)),o.pages=[],o.numPages=n.numberOfPages,e=i;e<t;e++)o.pages.push(e);r!==o.currentPage&&o.stPageChange({newPage:o.currentPage})}o.stItemsByPage=o.stItemsByPage?+o.stItemsByPage:i.pagination.itemsByPage,o.stDisplayedPages=o.stDisplayedPages?+o.stDisplayedPages:i.pagination.displayedPages,o.currentPage=1,o.pages=[],o.$watch(function(){return s.tableState().pagination},n,!0),o.$watch("stItemsByPage",function(t,e){t!==e&&o.selectPage(1)}),o.$watch("stDisplayedPages",n),o.selectPage=function(t){0<t&&t<=o.numPages&&s.slice((t-1)*o.stItemsByPage,o.stItemsByPage)},s.tableState().pagination.number||s.slice(0,o.stItemsByPage)}}}]),b.module("smart-table").directive("stPipe",["stConfig","$timeout",function(o,s){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(t,e,n,i){var r=null;b.isFunction(t.stPipe)&&(i.preventPipeOnWatch(),i.pipe=function(){return null!==r&&s.cancel(r),r=s(function(){t.stPipe(i.tableState(),i)},o.pipe.delay)})},post:function(t,e,n,i){i.pipe()}}}}])}(angular);