!function(){"use strict";function t(e,i){var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=0,a=o.length;s<a;s++)this[o[s]]=l(this[o[s]],this);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}function l(t,e){return function(){return t.apply(e,arguments)}}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if((o=window.getSelection()).rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(u=t.changedTouches[0],(c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=c.tagName.toLowerCase())){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-s>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),i&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!i||r||!(l=c.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,r;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){var n=[],i=t.document,r=n.slice,o=n.concat,s=n.push,a=n.indexOf,l={},u=l.toString,c=l.hasOwnProperty,h={},d="2.2.4",f=function(t,e){return new f.fn.init(t,e)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g=/^-ms-/,m=/-([\da-z])/gi,v=function(t,e){return e.toUpperCase()};function y(t){var e=!!t&&"length"in t&&t.length,n=f.type(t);return"function"!==n&&!f.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}f.fn=f.prototype={jquery:d,constructor:f,selector:"",length:0,toArray:function(){return r.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:r.call(this)},pushStack:function(t){var e=f.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return f.each(this,t)},map:function(t){return this.pushStack(f.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||f.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(f.isPlainObject(i)||(r=f.isArray(i)))?(r?(r=!1,o=n&&f.isArray(n)?n:[]):o=n&&f.isPlainObject(n)?n:{},s[e]=f.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},f.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===f.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!f.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==f.type(t)||t.nodeType||f.isWindow(t))return!1;if(t.constructor&&!c.call(t,"constructor")&&!c.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||c.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[u.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=f.trim(t))&&(1===t.indexOf("use strict")?((e=i.createElement("script")).text=t,i.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(g,"ms-").replace(m,v)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(y(t))for(n=t.length;n>i&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(p,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(y(Object(t))?f.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;o>r;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,s=0,a=[];if(y(t))for(i=t.length;i>s;s++)null!=(r=e(t[s],s,n))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,n))&&a.push(r);return o.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),f.isFunction(t)?(i=r.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(r.call(arguments)))}).guid=t.guid=t.guid||f.guid++,o):void 0},now:Date.now,support:h}),"function"==typeof Symbol&&(f.fn[Symbol.iterator]=n[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){l["[object "+e+"]"]=e.toLowerCase()});var b=function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,b,w="sizzle"+1*new Date,x=t.document,C=0,k=0,_=ot(),S=ot(),$=ot(),E=function(t,e){return t===e&&(h=!0),0},T=1<<31,D={}.hasOwnProperty,M=[],A=M.pop,P=M.push,O=M.push,N=M.slice,I=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+R+"*("+H+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+R+"*\\]",z=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(R+"+","g"),j=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),W=new RegExp("^"+R+"*,"+R+"*"),V=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),U=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),q=new RegExp(z),Y=new RegExp("^"+H+"$"),G={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=function(){d()};try{O.apply(M=N.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(t){O={apply:M.length?function(t,e){P.apply(t,N.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function rt(t,e,i,r){var o,a,u,c,h,p,v,y,C=e&&e.ownerDocument,k=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==k&&9!==k&&11!==k)return i;if(!r&&((e?e.ownerDocument||e:x)!==f&&d(e),e=e||f,g)){if(11!==k&&(p=Q.exec(t)))if(o=p[1]){if(9===k){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(C&&(u=C.getElementById(o))&&b(e,u)&&u.id===o)return i.push(u),i}else{if(p[2])return O.apply(i,e.getElementsByTagName(t)),i;if((o=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!$[t+" "]&&(!m||!m.test(t))){if(1!==k)C=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(tt,"\\$&"):e.setAttribute("id",c=w),a=(v=s(t)).length,h=Y.test(c)?"#"+c:"[id='"+c+"']";a--;)v[a]=h+" "+gt(v[a]);y=v.join(","),C=J.test(t)&&ft(e.parentNode)||e}if(y)try{return O.apply(i,C.querySelectorAll(y)),i}catch(t){}finally{c===w&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,i,r)}function ot(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[w]=!0,t}function at(t){var e=f.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||T)-(~t.sourceIndex||T);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=rt.support={},o=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=rt.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=at(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=at(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(f.getElementsByClassName),n.getById=at(function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}},i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete i.find.ID,i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&g?e.getElementsByClassName(t):void 0},v=[],m=[],(n.qsa=Z.test(f.querySelectorAll))&&(at(function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),at(function(t){var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&at(function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",z)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(p.compareDocumentPosition),b=e||Z.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===x&&b(x,t)?-1:e===f||e.ownerDocument===x&&b(x,e)?1:c?I(c,t)-I(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:c?I(c,t)-I(c,e):0;if(r===o)return ut(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ut(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},f):f},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),e=e.replace(U,"='$1']"),n.matchesSelector&&g&&!$[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return rt(e,f,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),b(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(E),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=rt.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=rt.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&_(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=rt.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(f=(u=(c=(h=(d=m)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&u[1])&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[C,f,b];break}}else if(y&&(b=f=(u=(c=(h=(d=e)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&u[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[C,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=I(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=a(t.replace(j,"$1"));return i[w]?st(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return rt(t,e).length>0}}),contains:st(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return Y.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[0>n?n+e:n]}),even:dt(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ht(e);function pt(){}function gt(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=k++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u,c=[C,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=(u=e[w]||(e[w]={}))[e.uniqueID]||(u[e.uniqueID]={}))[i])&&a[0]===C&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function vt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function yt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function bt(t,e,n,i,r,o){return i&&!i[w]&&(i=bt(i)),r&&!r[w]&&(r=bt(r,o)),st(function(o,s,a,l){var u,c,h,d=[],f=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;r>i;i++)rt(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:yt(g,d,t,a,l),v=n?r||(o?t:p||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(u=yt(v,f),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[f[c]]=!(m[f[c]]=h));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(m[c]=h);r(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=r?I(o,h):d[c])>-1&&(o[u]=!(s[u]=h))}}else v=yt(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):O.apply(s,v)})}function wt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,c=mt(function(t){return t===e},a,!0),h=mt(function(t){return I(e,t)>-1},a,!0),d=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];o>l;l++)if(n=i.relative[t[l].type])d=[mt(vt(d),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[w]){for(r=++l;o>r&&!i.relative[t[r].type];r++);return bt(l>1&&vt(d),l>1&&gt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),n,r>l&&wt(t.slice(l,r)),o>r&&wt(t=t.slice(r)),o>r&&gt(t))}d.push(n)}return vt(d)}function xt(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,c){var h,p,m,v=0,y="0",b=o&&[],w=[],x=u,k=o||r&&i.find.TAG("*",c),_=C+=null==x?1:Math.random()||.1,S=k.length;for(c&&(u=s===f||s||c);y!==S&&null!=(h=k[y]);y++){if(r&&h){for(p=0,s||h.ownerDocument===f||(d(h),a=!g);m=t[p++];)if(m(h,s||f,a)){l.push(h);break}c&&(C=_)}n&&((h=!m&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,w,s,a);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=A.call(l));w=yt(w)}O.apply(l,w),c&&!o&&w.length>0&&v+e.length>1&&rt.uniqueSort(l)}return c&&(C=_,u=x),b};return n?st(o):o}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,s=rt.tokenize=function(t,e){var n,r,o,s,a,l,u,c=S[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=V.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),i.filter)!(r=G[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?rt.error(t):S(t,l).slice(0)},a=rt.compile=function(t,e){var n,i=[],r=[],o=$[t+" "];if(!o){for(e||(e=s(t)),n=e.length;n--;)(o=wt(e[n]))[w]?i.push(o):r.push(o);(o=$(t,xt(r,i))).selector=t}return o},l=rt.select=function(t,e,r,o){var l,u,c,h,d,f="function"==typeof t&&t,p=!o&&s(t=f.selector||t);if(r=r||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&n.getById&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return r;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(l=G.needsContext.test(t)?0:u.length;l--&&(c=u[l],!i.relative[h=c.type]);)if((d=i.find[h])&&(o=d(c.matches[0].replace(et,nt),J.test(u[0].type)&&ft(e.parentNode)||e))){if(u.splice(l,1),!(t=o.length&&gt(u)))return O.apply(r,o),r;break}}return(f||a(t,p))(o,e,!g,r,!e||J.test(t)&&ft(e.parentNode)||e),r},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=at(function(t){return 1&t.compareDocumentPosition(f.createElement("div"))}),at(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&at(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),at(function(t){return null==t.getAttribute("disabled")})||lt(L,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),rt}(t);f.find=b,f.expr=b.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=b.uniqueSort,f.text=b.getText,f.isXMLDoc=b.isXML,f.contains=b.contains;var w=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&f(t).is(n))break;i.push(t)}return i},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},C=f.expr.match.needsContext,k=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_=/^.[^:#\[\.,]*$/;function S(t,e,n){if(f.isFunction(e))return f.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return f.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(_.test(e))return f.filter(e,t,n);e=f.filter(e,t)}return f.grep(t,function(t){return a.call(e,t)>-1!==n})}f.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?f.find.matchesSelector(i,t)?[i]:[]:f.find.matches(t,f.grep(e,function(t){return 1===t.nodeType}))},f.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(f(t).filter(function(){for(e=0;n>e;e++)if(f.contains(r[e],this))return!0}));for(e=0;n>e;e++)f.find(t,r[e],i);return(i=this.pushStack(n>1?f.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&C.test(t)?f(t):t||[],!1).length}});var $,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(f.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||$,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:E.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof f?e[0]:e,f.merge(this,f.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:i,!0)),k.test(r[1])&&f.isPlainObject(e))for(r in e)f.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=i.getElementById(r[2]))&&o.parentNode&&(this.length=1,this[0]=o),this.context=i,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):f.isFunction(t)?void 0!==n.ready?n.ready(t):t(f):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),f.makeArray(t,this))}).prototype=f.fn,$=f(i);var T=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}f.fn.extend({has:function(t){var e=f(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(f.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=C.test(t)||"string"!=typeof t?f(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&f.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?f.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?a.call(f(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),f.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return w(t,"parentNode")},parentsUntil:function(t,e,n){return w(t,"parentNode",n)},next:function(t){return M(t,"nextSibling")},prev:function(t){return M(t,"previousSibling")},nextAll:function(t){return w(t,"nextSibling")},prevAll:function(t){return w(t,"previousSibling")},nextUntil:function(t,e,n){return w(t,"nextSibling",n)},prevUntil:function(t,e,n){return w(t,"previousSibling",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return t.contentDocument||f.merge([],t.childNodes)}},function(t,e){f.fn[t]=function(n,i){var r=f.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=f.filter(i,r)),this.length>1&&(D[t]||f.uniqueSort(r),T.test(t)&&r.reverse()),this.pushStack(r)}});var A,P=/\S+/g;function O(){i.removeEventListener("DOMContentLoaded",O),t.removeEventListener("load",O),f.ready()}f.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return f.each(t.match(P)||[],function(t,n){e[n]=!0}),e}(t):f.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){f.each(n,function(n,i){f.isFunction(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==f.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return f.each(arguments,function(t,e){for(var n;(n=f.inArray(e,o,n))>-1;)o.splice(n,1),a>=n&&a--}),this},has:function(t){return t?f.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},f.extend({Deferred:function(t){var e=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return f.Deferred(function(n){f.each(e,function(e,o){var s=f.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&f.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?f.extend(t,i):i}},r={};return i.pipe=i.then,f.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,o=0,s=r.call(arguments),a=s.length,l=1!==a||t&&f.isFunction(t.promise)?a:0,u=1===l?t:f.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?r.call(arguments):o,i===e?u.notifyWith(n,i):--l||u.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)s[o]&&f.isFunction(s[o].promise)?s[o].promise().progress(c(o,n,e)).done(c(o,i,s)).fail(u.reject):--l;return l||u.resolveWith(i,s),u.promise()}}),f.fn.ready=function(t){return f.ready.promise().done(t),this},f.extend({isReady:!1,readyWait:1,holdReady:function(t){t?f.readyWait++:f.ready(!0)},ready:function(t){(!0===t?--f.readyWait:f.isReady)||(f.isReady=!0,!0!==t&&--f.readyWait>0||(A.resolveWith(i,[f]),f.fn.triggerHandler&&(f(i).triggerHandler("ready"),f(i).off("ready"))))}}),f.ready.promise=function(e){return A||(A=f.Deferred(),"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(f.ready):(i.addEventListener("DOMContentLoaded",O),t.addEventListener("load",O))),A.promise(e)},f.ready.promise();var N=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===f.type(n))for(a in r=!0,n)N(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,f.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(f(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},I=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function L(){this.expando=f.expando+L.uid++}L.uid=1,L.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!I(t))return{};var e=t[this.expando];return e||(e={},I(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,f.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{f.isArray(e)?i=e.concat(e.map(f.camelCase)):(r=f.camelCase(e),e in o?i=[e,r]:i=(i=r)in o?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||f.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!f.isEmptyObject(e)}};var R=new L,H=new L,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,z=/[A-Z]/g;function B(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(z,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?f.parseJSON(n):n)}catch(t){}H.set(t,e,n)}else n=void 0;return n}f.extend({hasData:function(t){return H.hasData(t)||R.hasData(t)},data:function(t,e,n){return H.access(t,e,n)},removeData:function(t,e){H.remove(t,e)},_data:function(t,e,n){return R.access(t,e,n)},_removeData:function(t,e){R.remove(t,e)}}),f.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=H.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(0===(i=s[n].name).indexOf("data-")&&(i=f.camelCase(i.slice(5)),B(o,i,r[i])));R.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){H.set(this,t)}):N(this,function(e){var n,i;if(o&&void 0===e){if(void 0!==(n=H.get(o,t)||H.get(o,t.replace(z,"-$&").toLowerCase())))return n;if(i=f.camelCase(t),void 0!==(n=H.get(o,i)))return n;if(void 0!==(n=B(o,i,void 0)))return n}else i=f.camelCase(t),this.each(function(){var n=H.get(this,i);H.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&H.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){H.remove(this,t)})}}),f.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=R.get(t,e),n&&(!i||f.isArray(n)?i=R.access(t,e,f.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=f.queue(t,e),i=n.length,r=n.shift(),o=f._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){f.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return R.get(t,n)||R.access(t,n,{empty:f.Callbacks("once memory").add(function(){R.remove(t,[e+"queue",n])})})}}),f.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?f.queue(this[0],t):void 0===e?this:this.each(function(){var n=f.queue(this,t,e);f._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&f.dequeue(this,t)})},dequeue:function(t){return this.each(function(){f.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=f.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=R.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var j=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=new RegExp("^(?:([+-])=|)("+j+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],U=function(t,e){return t=e||t,"none"===f.css(t,"display")||!f.contains(t.ownerDocument,t)};function q(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return f.css(t,e,"")},l=a(),u=n&&n[3]||(f.cssNumber[e]?"":"px"),c=(f.cssNumber[e]||"px"!==u&&+l)&&W.exec(f.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{c/=o=o||".5",f.style(t,e,c+u)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,G=/<([\w:-]+)/,X=/^$|\/(?:java|ecma)script/i,K={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&f.nodeName(t,e)?f.merge([t],n):n}function Q(t,e){for(var n=0,i=t.length;i>n;n++)R.set(t[n],"globalEval",!e||R.get(e[n],"globalEval"))}K.optgroup=K.option,K.tbody=K.tfoot=K.colgroup=K.caption=K.thead,K.th=K.td;var J=/<|&#?\w+;/;function tt(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),d=[],p=0,g=t.length;g>p;p++)if((o=t[p])||0===o)if("object"===f.type(o))f.merge(d,o.nodeType?[o]:o);else if(J.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(G.exec(o)||["",""])[1].toLowerCase(),l=K[a]||K._default,s.innerHTML=l[1]+f.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;f.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&f.inArray(o,i)>-1)r&&r.push(o);else if(u=f.contains(o.ownerDocument,o),s=Z(h.appendChild(o),"script"),u&&Q(s),n)for(c=0;o=s[c++];)X.test(o.type||"")&&n.push(o);return h}!function(){var t=i.createDocumentFragment().appendChild(i.createElement("div")),e=i.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),h.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var et=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;function rt(){return!0}function ot(){return!1}function st(){try{return i.activeElement}catch(t){}}function at(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)at(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ot;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return f().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=f.guid++)),t.each(function(){f.event.add(this,e,r,i,n)})}f.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,g,m,v=R.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=f.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==f&&f.event.triggered!==e.type?f.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(P)||[""]).length;u--;)p=m=(a=it.exec(e[u])||[])[1],g=(a[2]||"").split(".").sort(),p&&(h=f.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=f.event.special[p]||{},c=f.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&f.expr.match.needsContext.test(r),namespace:g.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,g,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),f.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,g,m,v=R.hasData(t)&&R.get(t);if(v&&(l=v.events)){for(u=(e=(e||"").match(P)||[""]).length;u--;)if(p=m=(a=it.exec(e[u])||[])[1],g=(a[2]||"").split(".").sort(),p){for(h=f.event.special[p]||{},d=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,g,v.handle)||f.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)f.event.remove(t,p+e[u],n,i,!0);f.isEmptyObject(l)&&R.remove(t,"handle events")}},dispatch:function(t){t=f.event.fix(t);var e,n,i,o,s,a=[],l=r.call(arguments),u=(R.get(this,"events")||{})[t.type]||[],c=f.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=f.event.handlers.call(this,t,u),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(s.namespace)||(t.handleObj=s,t.data=s.data,void 0!==(i=((f.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;a>n;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?f(r,this).index(l)>-1:f.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||i).documentElement,o=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[f.expando])return t;var e,n,r,o=t.type,s=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=nt.test(o)?this.mouseHooks:et.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new f.Event(s),e=r.length;e--;)t[n=r[e]]=s[n];return t.target||(t.target=i),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==st()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===st()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&f.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return f.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},f.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},f.Event=function(t,e){return this instanceof f.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?rt:ot):this.type=t,e&&f.extend(this,e),this.timeStamp=t&&t.timeStamp||f.now(),void(this[f.expando]=!0)):new f.Event(t,e)},f.Event.prototype={constructor:f.Event,isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=rt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=rt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=rt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){f.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||f.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),f.fn.extend({on:function(t,e,n,i){return at(this,t,e,n,i)},one:function(t,e,n,i){return at(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,f(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=ot),this.each(function(){f.event.remove(this,t,n,e)})}});var lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ut=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,ht=/^true\/(.*)/,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ft(t,e){return f.nodeName(t,"table")&&f.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function pt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function gt(t){var e=ht.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function mt(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(R.hasData(t)&&(o=R.access(t),s=R.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;i>n;n++)f.event.add(e,r,u[r][n]);H.hasData(t)&&(a=H.access(t),l=f.extend({},a),H.set(e,l))}}function vt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Y.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function yt(t,e,n,i){e=o.apply([],e);var r,s,a,l,u,c,d=0,p=t.length,g=p-1,m=e[0],v=f.isFunction(m);if(v||p>1&&"string"==typeof m&&!h.checkClone&&ct.test(m))return t.each(function(r){var o=t.eq(r);v&&(e[0]=m.call(this,r,o.html())),yt(o,e,n,i)});if(p&&(s=(r=tt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(l=(a=f.map(Z(r,"script"),pt)).length;p>d;d++)u=r,d!==g&&(u=f.clone(u,!0,!0),l&&f.merge(a,Z(u,"script"))),n.call(t[d],u,d);if(l)for(c=a[a.length-1].ownerDocument,f.map(a,gt),d=0;l>d;d++)u=a[d],X.test(u.type||"")&&!R.access(u,"globalEval")&&f.contains(c,u)&&(u.src?f._evalUrl&&f._evalUrl(u.src):f.globalEval(u.textContent.replace(dt,"")))}return t}function bt(t,e,n){for(var i,r=e?f.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||f.cleanData(Z(i)),i.parentNode&&(n&&f.contains(i.ownerDocument,i)&&Q(Z(i,"script")),i.parentNode.removeChild(i));return t}f.extend({htmlPrefilter:function(t){return t.replace(lt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=f.contains(t.ownerDocument,t);if(!(h.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||f.isXMLDoc(t)))for(s=Z(a),i=0,r=(o=Z(t)).length;r>i;i++)vt(o[i],s[i]);if(e)if(n)for(o=o||Z(t),s=s||Z(a),i=0,r=o.length;r>i;i++)mt(o[i],s[i]);else mt(t,a);return(s=Z(a,"script")).length>0&&Q(s,!l&&Z(t,"script")),a},cleanData:function(t){for(var e,n,i,r=f.event.special,o=0;void 0!==(n=t[o]);o++)if(I(n)){if(e=n[R.expando]){if(e.events)for(i in e.events)r[i]?f.event.remove(n,i):f.removeEvent(n,i,e.handle);n[R.expando]=void 0}n[H.expando]&&(n[H.expando]=void 0)}}}),f.fn.extend({domManip:yt,detach:function(t){return bt(this,t,!0)},remove:function(t){return bt(this,t)},text:function(t){return N(this,function(t){return void 0===t?f.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return yt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ft(this,t).appendChild(t)})},prepend:function(){return yt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ft(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(f.cleanData(Z(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return f.clone(this,t,e)})},html:function(t){return N(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ut.test(t)&&!K[(G.exec(t)||["",""])[1].toLowerCase()]){t=f.htmlPrefilter(t);try{for(;i>n;n++)1===(e=this[n]||{}).nodeType&&(f.cleanData(Z(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return yt(this,arguments,function(e){var n=this.parentNode;f.inArray(this,t)<0&&(f.cleanData(Z(this)),n&&n.replaceChild(e,this))},t)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){f.fn[t]=function(t){for(var n,i=[],r=f(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),f(r[a])[e](n),s.apply(i,n.get());return this.pushStack(i)}});var wt,xt={HTML:"block",BODY:"block"};function Ct(t,e){var n=f(e.createElement(t)).appendTo(e.body),i=f.css(n[0],"display");return n.detach(),i}function kt(t){var e=i,n=xt[t];return n||("none"!==(n=Ct(t,e))&&n||((e=(wt=(wt||f("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=Ct(t,e),wt.detach()),xt[t]=n),n}var _t=/^margin/,St=new RegExp("^("+j+")(?!px)[a-z%]+$","i"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Et=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},Tt=i.documentElement;function Dt(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||$t(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||f.contains(t.ownerDocument,t)||(s=f.style(t,e)),n&&!h.pixelMarginRight()&&St.test(s)&&_t.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function Mt(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){var e,n,r,o,s=i.createElement("div"),a=i.createElement("div");if(a.style){function l(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Tt.appendChild(s);var i=t.getComputedStyle(a);e="1%"!==i.top,o="2px"===i.marginLeft,n="4px"===i.width,a.style.marginRight="50%",r="4px"===i.marginRight,Tt.removeChild(s)}a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),f.extend(h,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==n&&l(),n},pixelMarginRight:function(){return null==n&&l(),r},reliableMarginLeft:function(){return null==n&&l(),o},reliableMarginRight:function(){var e,n=a.appendChild(i.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Tt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Tt.removeChild(s),a.removeChild(n),e}})}}();var At=/^(none|table(?!-c[ea]).+)/,Pt={position:"absolute",visibility:"hidden",display:"block"},Ot={letterSpacing:"0",fontWeight:"400"},Nt=["Webkit","O","Moz","ms"],It=i.createElement("div").style;function Lt(t){if(t in It)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Nt.length;n--;)if((t=Nt[n]+e)in It)return t}function Rt(t,e,n){var i=W.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Ht(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=f.css(t,n+V[o],!0,r)),i?("content"===n&&(s-=f.css(t,"padding"+V[o],!0,r)),"margin"!==n&&(s-=f.css(t,"border"+V[o]+"Width",!0,r))):(s+=f.css(t,"padding"+V[o],!0,r),"padding"!==n&&(s+=f.css(t,"border"+V[o]+"Width",!0,r)));return s}function Ft(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=$t(t),s="border-box"===f.css(t,"boxSizing",!1,o);if(0>=r||null==r){if((0>(r=Dt(t,e,o))||null==r)&&(r=t.style[e]),St.test(r))return r;i=s&&(h.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Ht(t,e,n||(s?"border":"content"),i,o)+"px"}function zt(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)(i=t[s]).style&&(o[s]=R.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&U(i)&&(o[s]=R.access(i,"olddisplay",kt(i.nodeName)))):(r=U(i),"none"===n&&r||R.set(i,"olddisplay",r?n:f.css(i,"display"))));for(s=0;a>s;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function Bt(t,e,n,i,r){return new Bt.prototype.init(t,e,n,i,r)}f.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Dt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=f.camelCase(e),l=t.style;return e=f.cssProps[a]||(f.cssProps[a]=Lt(a)||a),s=f.cssHooks[e]||f.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:("string"===(o=typeof n)&&(r=W.exec(n))&&r[1]&&(n=q(t,e,r),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(f.cssNumber[a]?"":"px")),h.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=f.camelCase(e);return e=f.cssProps[a]||(f.cssProps[a]=Lt(a)||a),(s=f.cssHooks[e]||f.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Dt(t,e,i)),"normal"===r&&e in Ot&&(r=Ot[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),f.each(["height","width"],function(t,e){f.cssHooks[e]={get:function(t,n,i){return n?At.test(f.css(t,"display"))&&0===t.offsetWidth?Et(t,Pt,function(){return Ft(t,e,i)}):Ft(t,e,i):void 0},set:function(t,n,i){var r,o=i&&$t(t),s=i&&Ht(t,e,i,"border-box"===f.css(t,"boxSizing",!1,o),o);return s&&(r=W.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=f.css(t,e)),Rt(0,n,s)}}}),f.cssHooks.marginLeft=Mt(h.reliableMarginLeft,function(t,e){return e?(parseFloat(Dt(t,"marginLeft"))||t.getBoundingClientRect().left-Et(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),f.cssHooks.marginRight=Mt(h.reliableMarginRight,function(t,e){return e?Et(t,{display:"inline-block"},Dt,[t,"marginRight"]):void 0}),f.each({margin:"",padding:"",border:"Width"},function(t,e){f.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+V[i]+e]=o[i]||o[i-2]||o[0];return r}},_t.test(t)||(f.cssHooks[t+e].set=Rt)}),f.fn.extend({css:function(t,e){return N(this,function(t,e,n){var i,r,o={},s=0;if(f.isArray(e)){for(i=$t(t),r=e.length;r>s;s++)o[e[s]]=f.css(t,e[s],!1,i);return o}return void 0!==n?f.style(t,e,n):f.css(t,e)},t,e,arguments.length>1)},show:function(){return zt(this,!0)},hide:function(){return zt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){U(this)?f(this).show():f(this).hide()})}}),f.Tween=Bt,Bt.prototype={constructor:Bt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||f.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(f.cssNumber[n]?"":"px")},cur:function(){var t=Bt.propHooks[this.prop];return t&&t.get?t.get(this):Bt.propHooks._default.get(this)},run:function(t){var e,n=Bt.propHooks[this.prop];return this.options.duration?this.pos=e=f.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Bt.propHooks._default.set(this),this}},Bt.prototype.init.prototype=Bt.prototype,Bt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=f.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){f.fx.step[t.prop]?f.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[f.cssProps[t.prop]]&&!f.cssHooks[t.prop]?t.elem[t.prop]=t.now:f.style(t.elem,t.prop,t.now+t.unit)}}},Bt.propHooks.scrollTop=Bt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},f.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},f.fx=Bt.prototype.init,f.fx.step={};var jt,Wt,Vt=/^(?:toggle|show|hide)$/,Ut=/queueHooks$/;function qt(){return t.setTimeout(function(){jt=void 0}),jt=f.now()}function Yt(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)r["margin"+(n=V[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Gt(t,e,n){for(var i,r=(Xt.tweeners[e]||[]).concat(Xt.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function Xt(t,e,n){var i,r,o=0,s=Xt.prefilters.length,a=f.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=jt||qt(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;s>o;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),1>i&&s?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:f.extend({},e),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},n),originalProperties:e,originalOptions:n,startTime:jt||qt(),duration:n.duration,tweens:[],createTween:function(e,n){var i=f.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=f.camelCase(n)],o=t[n],f.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=f.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);s>o;o++)if(i=Xt.prefilters[o].call(u,t,c,u.opts))return f.isFunction(i.stop)&&(f._queueHooks(u.elem,u.opts.queue).stop=f.proxy(i.stop,i)),i;return f.map(c,Gt,u),f.isFunction(u.opts.start)&&u.opts.start.call(t,u),f.fx.timer(f.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}f.Animation=f.extend(Xt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return q(n.elem,t,W.exec(e),n),n}]},tweener:function(t,e){f.isFunction(t)?(e=t,t=["*"]):t=t.match(P);for(var n,i=0,r=t.length;r>i;i++)n=t[i],Xt.tweeners[n]=Xt.tweeners[n]||[],Xt.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c=this,h={},d=t.style,p=t.nodeType&&U(t),g=R.get(t,"fxshow");for(i in n.queue||(null==(a=f._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,f.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(u=f.css(t,"display"))?R.get(t,"olddisplay")||kt(t.nodeName):u)&&"none"===f.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),e)if(r=e[i],Vt.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||f.style(t,i)}else u=void 0;if(f.isEmptyObject(h))"inline"===("none"===u?kt(t.nodeName):u)&&(d.display=u);else for(i in g?"hidden"in g&&(p=g.hidden):g=R.access(t,"fxshow",{}),o&&(g.hidden=!p),p?f(t).show():c.done(function(){f(t).hide()}),c.done(function(){var e;for(e in R.remove(t,"fxshow"),h)f.style(t,e,h[e])}),h)s=Gt(p?g[i]:0,i,c),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Xt.prefilters.unshift(t):Xt.prefilters.push(t)}}),f.speed=function(t,e,n){var i=t&&"object"==typeof t?f.extend({},t):{complete:n||!n&&e||f.isFunction(t)&&t,duration:t,easing:n&&e||e&&!f.isFunction(e)&&e};return i.duration=f.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in f.fx.speeds?f.fx.speeds[i.duration]:f.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f.isFunction(i.old)&&i.old.call(this),i.queue&&f.dequeue(this,i.queue)},i},f.fn.extend({fadeTo:function(t,e,n,i){return this.filter(U).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=f.isEmptyObject(t),o=f.speed(e,n,i),s=function(){var e=Xt(this,f.extend({},t),o);(r||R.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=f.timers,s=R.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Ut.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||f.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=R.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=f.timers,s=i?i.length:0;for(n.finish=!0,f.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),f.each(["toggle","show","hide"],function(t,e){var n=f.fn[e];f.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Yt(e,!0),t,i,r)}}),f.each({slideDown:Yt("show"),slideUp:Yt("hide"),slideToggle:Yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){f.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),f.timers=[],f.fx.tick=function(){var t,e=0,n=f.timers;for(jt=f.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||f.fx.stop(),jt=void 0},f.fx.timer=function(t){f.timers.push(t),t()?f.fx.start():f.timers.pop()},f.fx.interval=13,f.fx.start=function(){Wt||(Wt=t.setInterval(f.fx.tick,f.fx.interval))},f.fx.stop=function(){t.clearInterval(Wt),Wt=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(e,n){return e=f.fx&&f.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=i.createElement("input"),e=i.createElement("select"),n=e.appendChild(i.createElement("option"));t.type="checkbox",h.checkOn=""!==t.value,h.optSelected=n.selected,e.disabled=!0,h.optDisabled=!n.disabled,(t=i.createElement("input")).value="t",t.type="radio",h.radioValue="t"===t.value}();var Kt,Zt=f.expr.attrHandle;f.fn.extend({attr:function(t,e){return N(this,f.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){f.removeAttr(this,t)})}}),f.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?f.prop(t,e,n):(1===o&&f.isXMLDoc(t)||(e=e.toLowerCase(),r=f.attrHooks[e]||(f.expr.match.bool.test(e)?Kt:void 0)),void 0!==n?null===n?void f.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=f.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!h.radioValue&&"radio"===e&&f.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(P);if(o&&1===t.nodeType)for(;n=o[r++];)i=f.propFix[n]||n,f.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Kt={set:function(t,e,n){return!1===e?f.removeAttr(t,n):t.setAttribute(n,n),n}},f.each(f.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Zt[e]||f.find.attr;Zt[e]=function(t,e,i){var r,o;return i||(o=Zt[e],Zt[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Zt[e]=o),r}});var Qt=/^(?:input|select|textarea|button)$/i,Jt=/^(?:a|area)$/i;f.fn.extend({prop:function(t,e){return N(this,f.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[f.propFix[t]||t]})}}),f.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&f.isXMLDoc(t)||(e=f.propFix[e]||e,r=f.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=f.find.attr(t,"tabindex");return e?parseInt(e,10):Qt.test(t.nodeName)||Jt.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(f.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});var te=/[\t\r\n\f]/g;function ee(t){return t.getAttribute&&t.getAttribute("class")||""}f.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(f.isFunction(t))return this.each(function(e){f(this).addClass(t.call(this,e,ee(this)))});if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=ee(n),i=1===n.nodeType&&(" "+r+" ").replace(te," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=f.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(f.isFunction(t))return this.each(function(e){f(this).removeClass(t.call(this,e,ee(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=ee(n),i=1===n.nodeType&&(" "+r+" ").replace(te," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=f.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):f.isFunction(t)?this.each(function(n){f(this).toggleClass(t.call(this,n,ee(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=f(this),o=t.match(P)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=ee(this))&&R.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":R.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ee(n)+" ").replace(te," ").indexOf(e)>-1)return!0;return!1}});var ne=/\r/g,ie=/[\x20\t\r\n\f]+/g;f.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=f.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,f(this).val()):t)?r="":"number"==typeof r?r+="":f.isArray(r)&&(r=f.map(r,function(t){return null==t?"":t+""})),(e=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=f.valHooks[r.type]||f.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ne,""):null==n?"":n:void 0}}),f.extend({valHooks:{option:{get:function(t){var e=f.find.attr(t,"value");return null!=e?e:f.trim(f.text(t)).replace(ie," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(((n=i[l]).selected||l===r)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!f.nodeName(n.parentNode,"optgroup"))){if(e=f(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=f.makeArray(e),s=r.length;s--;)((i=r[s]).selected=f.inArray(f.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(t,e){return f.isArray(e)?t.checked=f.inArray(f(t).val(),e)>-1:void 0}},h.checkOn||(f.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var re=/^(?:focusinfocus|focusoutblur)$/;f.extend(f.event,{trigger:function(e,n,r,o){var s,a,l,u,h,d,p,g=[r||i],m=c.call(e,"type")?e.type:e,v=c.call(e,"namespace")?e.namespace.split("."):[];if(a=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!re.test(m+f.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),h=m.indexOf(":")<0&&"on"+m,(e=e[f.expando]?e:new f.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:f.makeArray(n,[e]),p=f.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(r,n))){if(!o&&!p.noBubble&&!f.isWindow(r)){for(u=p.delegateType||m,re.test(u+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(r.ownerDocument||i)&&g.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=g[s++])&&!e.isPropagationStopped();)e.type=s>1?u:p.bindType||m,(d=(R.get(a,"events")||{})[e.type]&&R.get(a,"handle"))&&d.apply(a,n),(d=h&&a[h])&&d.apply&&I(a)&&(e.result=d.apply(a,n),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),n)||!I(r)||h&&f.isFunction(r[m])&&!f.isWindow(r)&&((l=r[h])&&(r[h]=null),f.event.triggered=m,r[m](),f.event.triggered=void 0,l&&(r[h]=l)),e.result}},simulate:function(t,e,n){var i=f.extend(new f.Event,n,{type:t,isSimulated:!0});f.event.trigger(i,null,e)}}),f.fn.extend({trigger:function(t,e){return this.each(function(){f.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?f.event.trigger(t,e,n,!0):void 0}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){f.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),f.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),h.focusin="onfocusin"in t,h.focusin||f.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){f.event.simulate(e,t.target,f.event.fix(t))};f.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=R.access(i,e);r||i.addEventListener(t,n,!0),R.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=R.access(i,e)-1;r?R.access(i,e,r):(i.removeEventListener(t,n,!0),R.remove(i,e))}}});var oe=t.location,se=f.now(),ae=/\?/;f.parseJSON=function(t){return JSON.parse(t+"")},f.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+e),n};var le=/#.*$/,ue=/([?&])_=[^&]*/,ce=/^(.*?):[ \t]*([^\r\n]*)$/gm,he=/^(?:GET|HEAD)$/,de=/^\/\//,fe={},pe={},ge="*/".concat("*"),me=i.createElement("a");function ve(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(P)||[];if(f.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function ye(t,e,n,i){var r={},o=t===pe;function s(a){var l;return r[a]=!0,f.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function be(t,e){var n,i,r=f.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&f.extend(!0,t,i),t}me.href=oe.href,f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(oe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?be(be(t,f.ajaxSettings),e):be(f.ajaxSettings,t)},ajaxPrefilter:ve(fe),ajaxTransport:ve(pe),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,u,c,h,d=f.ajaxSetup({},n),p=d.context||d,g=d.context&&(p.nodeType||p.jquery)?f(p):f.event,m=f.Deferred(),v=f.Callbacks("once memory"),y=d.statusCode||{},b={},w={},x=0,C="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=ce.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=w[n]=w[n]||t,b[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)y[e]=[y[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||C;return r&&r.abort(e),_(0,e),this}};if(m.promise(k).complete=v.add,k.success=k.done,k.error=k.fail,d.url=((e||d.url||oe.href)+"").replace(le,"").replace(de,oe.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=f.trim(d.dataType||"*").toLowerCase().match(P)||[""],null==d.crossDomain){u=i.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=me.protocol+"//"+me.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=f.param(d.data,d.traditional)),ye(fe,d,n,k),2===x)return k;for(h in(c=f.event&&d.global)&&0==f.active++&&f.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!he.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(ae.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=ue.test(o)?o.replace(ue,"$1_="+se++):o+(ae.test(o)?"&":"?")+"_="+se++)),d.ifModified&&(f.lastModified[o]&&k.setRequestHeader("If-Modified-Since",f.lastModified[o]),f.etag[o]&&k.setRequestHeader("If-None-Match",f.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ge+"; q=0.01":""):d.accepts["*"]),d.headers)k.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(p,k,d)||2===x))return k.abort();for(h in C="abort",{success:1,error:1,complete:1})k[h](d[h]);if(r=ye(pe,d,n,k)){if(k.readyState=1,c&&g.trigger("ajaxSend",[k,d]),2===x)return k;d.async&&d.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},d.timeout));try{x=1,r.send(b,_)}catch(t){if(!(2>x))throw t;_(-1,t)}}else _(-1,"No Transport");function _(e,n,i,a){var u,h,b,w,C,_=n;2!==x&&(x=2,l&&t.clearTimeout(l),r=void 0,s=a||"",k.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(w=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(d,k,i)),w=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(d,w,k,u),u?(d.ifModified&&((C=k.getResponseHeader("Last-Modified"))&&(f.lastModified[o]=C),(C=k.getResponseHeader("etag"))&&(f.etag[o]=C)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=w.state,h=w.data,u=!(b=w.error))):(b=_,!e&&_||(_="error",0>e&&(e=0))),k.status=e,k.statusText=(n||_)+"",u?m.resolveWith(p,[h,_,k]):m.rejectWith(p,[k,_,b]),k.statusCode(y),y=void 0,c&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,d,u?h:b]),v.fireWith(p,[k,_]),c&&(g.trigger("ajaxComplete",[k,d]),--f.active||f.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return f.get(t,e,n,"json")},getScript:function(t,e){return f.get(t,void 0,e,"script")}}),f.each(["get","post"],function(t,e){f[e]=function(t,n,i,r){return f.isFunction(n)&&(r=r||i,i=n,n=void 0),f.ajax(f.extend({url:t,type:e,dataType:r,data:n,success:i},f.isPlainObject(t)&&t))}}),f._evalUrl=function(t){return f.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},f.fn.extend({wrapAll:function(t){var e;return f.isFunction(t)?this.each(function(e){f(this).wrapAll(t.call(this,e))}):(this[0]&&(e=f(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return f.isFunction(t)?this.each(function(e){f(this).wrapInner(t.call(this,e))}):this.each(function(){var e=f(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=f.isFunction(t);return this.each(function(n){f(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()}}),f.expr.filters.hidden=function(t){return!f.expr.filters.visible(t)},f.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var we=/%20/g,xe=/\[\]$/,Ce=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;function Se(t,e,n,i){var r;if(f.isArray(e))f.each(e,function(e,r){n||xe.test(t)?i(t,r):Se(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==f.type(e))i(t,e);else for(r in e)Se(t+"["+r+"]",e[r],n,i)}f.param=function(t,e){var n,i=[],r=function(t,e){e=f.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(t)||t.jquery&&!f.isPlainObject(t))f.each(t,function(){r(this.name,this.value)});else for(n in t)Se(n,t[n],e,r);return i.join("&").replace(we,"+")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=f.prop(this,"elements");return t?f.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!f(this).is(":disabled")&&_e.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Y.test(t))}).map(function(t,e){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),f.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},Ee=f.ajaxSettings.xhr();h.cors=!!Ee&&"withCredentials"in Ee,h.ajax=Ee=!!Ee,f.ajaxTransport(function(e){var n,i;return h.cors||Ee&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o($e[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}:void 0}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return f.globalEval(t),t}}}),f.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),f.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,o){e=f("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}});var Te=[],De=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Te.pop()||f.expando+"_"+se++;return this[t]=!0,t}}),f.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(De.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&De.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=f.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(De,"$1"+r):!1!==e.jsonp&&(e.url+=(ae.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||f.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?f(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Te.push(r)),s&&f.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),f.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||i;var r=k.exec(t),o=!n&&[];return r?[e.createElement(r[1])]:(r=tt([t],e,o),o&&o.length&&f(o).remove(),f.merge([],r.childNodes))};var Me=f.fn.load;function Ae(t){return f.isWindow(t)?t:9===t.nodeType&&t.defaultView}f.fn.load=function(t,e,n){if("string"!=typeof t&&Me)return Me.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=f.trim(t.slice(a)),t=t.slice(0,a)),f.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&f.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?f("<div>").append(f.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){f.fn[e]=function(t){return this.on(e,t)}}),f.expr.filters.animated=function(t){return f.grep(f.timers,function(e){return t===e.elem}).length},f.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=f.css(t,"position"),c=f(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=f.css(t,"top"),l=f.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),f.isFunction(e)&&(e=e.call(t,n,f.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},f.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){f.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,f.contains(e,i)?(r=i.getBoundingClientRect(),n=Ae(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===f.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),f.nodeName(t[0],"html")||(i=t.offset()),i.top+=f.css(t[0],"borderTopWidth",!0),i.left+=f.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-f.css(n,"marginTop",!0),left:e.left-i.left-f.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===f.css(t,"position");)t=t.offsetParent;return t||Tt})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;f.fn[t]=function(i){return N(this,function(t,i,r){var o=Ae(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),f.each(["top","left"],function(t,e){f.cssHooks[e]=Mt(h.pixelPosition,function(t,n){return n?(n=Dt(t,e),St.test(n)?f(t).position()[e]+"px":n):void 0})}),f.each({Height:"height",Width:"width"},function(t,e){f.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){f.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return N(this,function(e,n,i){var r;return f.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?f.css(e,n,s):f.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),f.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),f.fn.andSelf=f.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return f});var Pe=t.jQuery,Oe=t.$;return f.noConflict=function(e){return t.$===f&&(t.$=Oe),e&&t.jQuery===f&&(t.jQuery=Pe),f},e||(t.jQuery=t.$=f),f}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){t.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}function o(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var s=0,a=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(a[e]=i)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,r=a.call(arguments,1),o=0,s=r.length;s>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=a.call(arguments,1),l=this;return o?this.length||"instance"!==r?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(l=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):l=void 0:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var s,a;for(a=0;n.length>a;a++)s=r.classesElementLookup[n[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget,function(){function e(t,e,n){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}var i,r=Math.max,o=Math.abs,s=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),e=o.offsetWidth,r.css("overflow","scroll"),e===(n=o.offsetWidth)&&(n=r[0].clientWidth),r.remove(),i=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:!i&&!r?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return h.apply(this,arguments);i=t.extend({},i);var c,d,f,p,g,m,v=t(i.of),y=t.position.getWithinInfo(i.within),b=t.position.getScrollInfo(y),w=(i.collision||"flip").split(" "),x={};return m=function(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}(v),v[0].preventDefault&&(i.at="left top"),d=m.width,f=m.height,p=m.offset,g=t.extend({},p),t.each(["my","at"],function(){var t,e,n=(i[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],i[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===i.at[0]?g.left+=d:"center"===i.at[0]&&(g.left+=d/2),"bottom"===i.at[1]?g.top+=f:"center"===i.at[1]&&(g.top+=f/2),c=e(x.at,d,f),g.left+=c[0],g.top+=c[1],this.each(function(){var s,a,l=t(this),u=l.outerWidth(),h=l.outerHeight(),m=n(this,"marginLeft"),C=n(this,"marginTop"),k=u+m+n(this,"marginRight")+b.width,_=h+C+n(this,"marginBottom")+b.height,S=t.extend({},g),$=e(x.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?S.left-=u:"center"===i.my[0]&&(S.left-=u/2),"bottom"===i.my[1]?S.top-=h:"center"===i.my[1]&&(S.top-=h/2),S.left+=$[0],S.top+=$[1],s={marginLeft:m,marginTop:C},t.each(["left","top"],function(e,n){t.ui.position[w[e]]&&t.ui.position[w[e]][n](S,{targetWidth:d,targetHeight:f,elemWidth:u,elemHeight:h,collisionPosition:s,collisionWidth:k,collisionHeight:_,offset:[c[0]+$[0],c[1]+$[1]],my:i.my,at:i.at,within:y,elem:l})}),i.using&&(a=function(t){var e=p.left-S.left,n=e+d-u,s=p.top-S.top,a=s+f-h,c={target:{element:v,left:p.left,top:p.top,width:d,height:f},element:{element:l,left:S.left,top:S.top,width:u,height:h},horizontal:0>n?"left":e>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};u>d&&d>o(e+n)&&(c.horizontal="center"),h>f&&f>o(s+a)&&(c.vertical="middle"),c.important=r(o(e),o(n))>r(o(s),o(a))?"horizontal":"vertical",i.using.call(this,t,c)}),l.offset(t.extend(S,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,u=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&0>=u?(n=t.left+l+e.collisionWidth-s-o,t.left+=l-n):t.left=u>0&&0>=l?o:l>u?o+s-e.collisionWidth:o:l>0?t.left+=l:u>0?t.left-=u:t.left=r(t.left-a,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,u=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&0>=u?(n=t.top+l+e.collisionHeight-s-o,t.top+=l-n):t.top=u>0&&0>=l?o:l>u?o+s-e.collisionHeight:o:l>0?t.top+=l:u>0?t.top-=u:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>c?(0>(n=t.left+d+f+p+e.collisionWidth-a-s)||o(c)>n)&&(t.left+=d+f+p):h>0&&(((i=t.left-e.collisionPosition.marginLeft+d+f+p-l)>0||h>o(i))&&(t.left+=d+f+p))},top:function(t,e){var n,i,r=e.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-a-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];0>c?(0>(i=t.top+d+f+p+e.collisionHeight-a-s)||o(c)>i)&&(t.top+=d+f+p):h>0&&(((n=t.top-e.collisionPosition.marginTop+d+f+p-l)>0||h>o(n))&&(t.top+=d+f+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var l="ui-effects-",u="ui-effects-style",c="ui-effects-animated",h=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=c[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=l(),r=i._rgba=[];return n=n.toLowerCase(),f(a,function(t,o){var s,a=o.re.exec(n),l=a&&o.parse(a),c=o.space||"rgba";return l?(s=i[c](l),i[u[c].cache]=s[u[c].cache],r=i._rgba=s._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),i):o[n]}function r(t,e,n){return 1>6*(n=(n+1)%1)?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},d=t("<p>")[0],f=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(r,s,a,c){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,d=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,c],d="array"),"string"===d?this.parse(i(r)||o._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===d?(f(u,r instanceof l?function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}:function(e,i){var o=i.cache;f(i.props,function(t,e){if(!h[o]&&i.to){if("alpha"===t||null==r[t])return;h[o]=i.to(h._rgba)}h[o][e.idx]=n(r[t],e,!0)}),h[o]&&0>t.inArray(null,h[o].slice(0,3))&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):e},is:function(t){var n=l(t),i=!0,r=this;return f(u,function(t,o){var s,a=n[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],f(o.props,function(t,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return f(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=l(t),r=i._space(),o=u[r],s=0===this.alpha()?l("transparent"):this,a=s[o.cache]||o.to(s._rgba),h=a.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],l=i[o],u=c[r.type]||{};null!==l&&(null===s?h[o]=l:(u.mod&&(l-s>u.mod/2?s+=u.mod:s-l>u.mod/2&&(s-=u.mod)),h[o]=n((l-s)*e+s,r)))}),this[r](h)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(e)._rgba;return l(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),u=a-l,c=a+l,h=.5*c;return e=l===a?0:i===a?60*(r-o)/u+360:r===a?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=h?u/c:u/(2-c),[Math.round(e)%360,n,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(u,function(i,r){var o=r.props,a=r.cache,u=r.to,c=r.from;l.fn[i]=function(i){if(u&&!this[a]&&(this[a]=u(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),h="array"===s||"object"===s?i:arguments,d=this[a].slice();return f(o,function(t,e){var i=h["object"===s?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=n(i,e)}),c?((r=l(c(d)))[a]=d,r):l(d)},f(o,function(e,n){l.fn[e]||(l.fn[e]=function(r){var o,a=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&((o=s.exec(r))&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),l.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=l(o||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(h),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,s={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(s[i]=o));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(h.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){return{el:t(this),start:e(this)}}),(o=function(){t.each(i,function(t,e){r[e]&&s[e+"Class"](r[e])})})(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(c)||e(n)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;i>n;n++)null!==e[n]&&t.data(l+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;r>i;i++)null!==e[i]&&(n=t.data(l+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(l+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=l+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(l)&&l.call(s[0]),t.isFunction(e)&&e()}var s=t(this);i.mode=h.shift(),!1===t.uiBackCompat||o?"none"===i.mode?(s[u](),n()):r.call(s[0],i,function(){s.removeData(c),t.effects.cleanUp(s),"hide"===i.mode&&s.hide(),n()}):(s.is(":hidden")?"hide"===u:"show"===u)?(s[u](),n()):r.call(s[0],i,n)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,s=i.queue,a=s||"fx",l=i.complete,u=i.mode,h=[],d=function(e){var n=t(this),i=t.effects.mode(n,u)||o;n.data(c,!0),h.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?u?this[u](i.duration,l):this.each(function(){l&&l.call(this)}):!1===s?this.each(d).each(n):this.queue(a,d).queue(a,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}();t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,u="show"===a,c=e.direction||"up",h=e.distance,d=e.times||5,f=2*d+(u||l?1:0),p=e.duration/f,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,b=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(m),h||(h=s["top"===m?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[m]=o,s.css("opacity",0).css(m,v?2*-h:2*h).animate(r,p,g)),l&&(h/=Math.pow(2,d-1)),(r={})[m]=o;d>y;y++)(i={})[m]=(v?"-=":"+=")+h,s.animate(i,p,g).animate(r,p,g),h=l?2*h:h/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+h,s.animate(i,p,g)),s.queue(n),t.effects.unshift(s,b,f+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,u=a||"vertical"===s;i=o.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o="show"===e.mode,s=e.direction||"left",a="up"===s||"down"===s?"top":"left",l="up"===s||"left"===s?"-=":"+=",u="+="===l?"-=":"+=",c={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===a?"outerHeight":"outerWidth"](!0)/2,c[a]=l+i,o&&(r.css(c),c[a]=u+i,c.opacity=1),r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){v.push(this),v.length===c*h&&(d.css({visibility:"visible"}),t(v).remove(),n())}var r,o,s,a,l,u,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=c,d=t(this),f="show"===e.mode,p=d.show().css("visibility","hidden").offset(),g=Math.ceil(d.outerWidth()/h),m=Math.ceil(d.outerHeight()/c),v=[];for(r=0;c>r;r++)for(a=p.top+r*m,u=r-(c-1)/2,o=0;h>o;o++)s=p.left+o*g,l=o-(h-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:s+(f?l*g:0),top:a+(f?u*m:0),opacity:f?0:1}).animate({left:s+(f?0:l*g),top:a+(f?0:u*m),opacity:f?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),u=!!e.horizFirst?["right","bottom"]:["bottom","right"],c=e.duration/2,h=t.effects.createPlaceholder(i),d=i.cssClip(),f={clip:t.extend({},d)},p={clip:t.extend({},d)},g=[d[u[0]],d[u[1]]],m=i.queue().length;l&&(a=parseInt(l[1],10)/100*g[s?0:1]),f.clip[u[0]]=a,p.clip[u[0]]=a,p.clip[u[1]]=0,o&&(i.cssClip(p.clip),h&&h.css(t.effects.clipToBox(p)),p.clip=d),i.queue(function(n){h&&h.animate(t.effects.clipToBox(f),c,e.easing).animate(t.effects.clipToBox(p),c,e.easing),n()}).animate(f,c,e.easing).animate(p,c,e.easing).queue(n),t.effects.unshift(i,m,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,h="effect"!==c,d=e.scale||"both",f=e.origin||["middle","center"],p=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,y=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===c&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},("box"===d||"both"===d)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,l,r.from.y,v),y=t.effects.setTransition(s,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,u,r.from.x,v),y=t.effects.setTransition(s,u,r.to.x,y))),("content"===d||"both"===d)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),y=t.effects.setTransition(s,a,r.to.y,y)),f&&(i=t.effects.getBaseline(f,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),s.css(v),("content"===d||"both"===d)&&(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),s=t.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,u,r.from.x,o),s=t.effects.setTransition(n,u,r.to.x,s)),h&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===y.opacity&&s.css("opacity",v.opacity),h||(s.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(s)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s=o||"hide"===r,a=2*(e.times||5)+(s?1:0),l=e.duration/a,u=0,c=1,h=i.queue().length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),u=1);a>c;c++)i.animate({opacity:u},l,e.easing),u=1-u;i.animate({opacity:u},l,e.easing),i.queue(n),t.effects.unshift(i,h,a+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,u=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,d={},f={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[c]=(h?"-=":"+=")+s,f[c]=(h?"+=":"-=")+2*s,p[c]=(h?"-=":"+=")+2*s,r.animate(d,u,e.easing);a>i;i++)r.animate(f,u,e.easing).animate(p,u,e.easing);r.animate(f,u,e.easing).animate(d,u/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[u],d[u]=(c?-1:1)*h+r,d.clip=o.cssClip(),d.clip[s[l][1]]=d.clip[s[l][0]],"show"===a&&(o.cssClip(d.clip),o.css(u,d[u]),d.clip=i,d[u]=r),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}),t.ui.focusable=function(e,n){var i,r,o,s,a,l=e.nodeName.toLowerCase();return"area"===l?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&((o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(s=!e.disabled)&&((a=t(e).closest("fieldset")[0])&&(s=!a.disabled)):s="a"===l&&e.href||n,s&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,u=l?t():s.next(),c={oldHeader:o,oldPanel:o.next(),newHeader:l?t():s,newPanel:u};e.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",e,c)||(r.active=!l&&this.headers.index(s),this.active=a?t():s,this._toggle(c),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=u&&c.down||c,d=function(){s._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,o=o||h.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o=this,s=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),r=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(n=t(this)).offset().top-i-r}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),void((i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d,f=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,s={};return r?"controlgroupLabel"===i?((o=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(l[0])}}))):void 0}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(f,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;r="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;t.length>r;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,s){var a,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),d===r&&(d=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,s,a,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(o=n||{},"string"==typeof n&&((o={})[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,o,s,a,l,u;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(r(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return!(s|="fixed"===t(this).css("position"))}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),a=t.datepicker._checkOffset(n,a,s),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(l=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),u):n.dpDiv[l||"show"](l?u:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,d=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,r=this._getNumberOfMonths(e),o=r[1],s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&i.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?""+n:n+""))return null;var r,o,s,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},x=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=n.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},C=function(e,i,r){var o=-1,s=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;e.length>r;r++)if(b)"'"!==e.charAt(r)||w("'")?k():b=!1;else switch(e.charAt(r)){case"d":v=x("d");break;case"D":C("D",h,d);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=C("M",f,p);break;case"y":g=x("y");break;case"@":g=(a=new Date(x("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?k():b=!0;break;default:k()}if(n.length>l&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),y>-1)for(m=1,v=y;!((o=this._getDaysInMonth(g,m-1))>=v);)m++,v-=o;if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;n>i.length;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;t.length>i;i++)if(d)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,o);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=t.length>e+1&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;t.length>e;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"==""+r?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,b,w,x,C,k,_,S,$,E,T,D,M,A,P,O,N,I,L,R,H,F,z=new Date,B=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),j=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-Y,tt=t.drawYear;if(0>J&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)0>--J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:B,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",C=0;q[0]>C;C++){for(k="",this.maxRows=4,_=0;q[1]>_;_++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),$=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",q[1]>1)switch(_){case 0:E+=" ui-datepicker-group-first",$=" ui-corner-"+(j?"right":"left");break;case q[1]-1:E+=" ui-datepicker-group-last",$=" ui-corner-"+(j?"left":"right");break;default:E+=" ui-datepicker-group-middle",$=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+$+"'>"+(/all|left/.test($)&&0===C?j?o:i:"")+(/all|right/.test($)&&0===C?j?i:o:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,C>0||_>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)D=(x+c)%7,T+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D]+"'>"+f[D]+"</span></th>";for(E+=T+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(tt,J)-c+7)%7,P=Math.ceil((A+M)/7),O=X&&this.maxRows>P?this.maxRows:P,this.maxRows=O,N=this._daylightSavingAdjust(new Date(tt,J,1-A)),I=0;O>I;I++){for(E+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",x=0;7>x;x++)R=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],F=(H=N.getMonth()!==J)&&!y||!R[0]||Z&&Z>N||Q&&N>Q,L+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+R[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===B.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);E+=L+"</tr>"}++J>11&&(J=0,tt++),k+=E+="</tbody></table>"+(X?"</div>"+(q[0]>0&&_===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=k}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,u,c,h,d,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||r.getMonth()>=c)&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),g=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+"</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new e,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var p=!1;t(document).on("mouseup",function(){p=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!p){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),p=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,p=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((i=(n=t(r.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,u,c,h,d,f,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)u=(l=i.snapElements[d].left-i.margins.left)+i.snapElements[d].width,h=(c=i.snapElements[d].top-i.margins.top)+i.snapElements[d].height,l-g>v||m>u+g||c-g>b||y>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(c-b),o=g>=Math.abs(h-y),s=g>=Math.abs(l-v),a=g>=Math.abs(u-m),r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),f=r||o||s||a,"outer"!==p.snapMode&&(r=g>=Math.abs(c-y),o=g>=Math.abs(h-b),s=g>=Math.abs(l-m),a=g>=Math.abs(u-v),r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||o||s||a||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||s||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;i.length>n;n++)r="ui-resizable-"+(e=t.trim(i[n])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options,c=this;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-r},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,d=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,u=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,h=Math.round((r.width-o.width)/u)*u,d=Math.round((r.height-o.height)/c)*c,f=o.width+h,p=o.height+d,g=i.maxWidth&&f>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>f,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=u),y&&(p+=c),g&&(f-=u),m&&(p-=c),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-h):((0>=p-c||0>=f-u)&&(e=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=s.top-d):(p=c-e.height,n.size.height=p,n.position.top=s.top+o.height-p),f-u>0?(n.size.width=f,n.position.left=s.left-h):(f=u-e.width,n.size.width=f,n.position.left=s.left+o.width-f))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&g(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var g=t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,d=c+n.proportions().height;switch(i){case"fit":return o>=u&&h>=a&&s>=c&&d>=l;case"intersect":return o+e.helperProportions.width/2>u&&h>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(s>=c&&d>=s||l>=c&&d>=l||c>s&&l>d)&&(o>=u&&h>=o||a>=u&&h>=a||u>o&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&g(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=g(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>a||o>c.right||c.top>l||s>c.bottom):"fit"===r.tolerance&&(u=c.left>o&&a>c.right&&c.top>s&&l>c.bottom),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;n>e;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&(!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>a&&l>i+u,d="y"===this.options.axis||e+c>o&&s>e+c,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!!(i&&r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(r=(o=t(u[i],this.document[0])).length-1;r>=0;r--)(s=t.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],i=0,u=(a=h[n][0]).length;u>i;i++)(l=t(a[i])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,s=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",h=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[h]-l>this.items[i][a]/2&&(u=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&i.min>t?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:o(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:o(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:o(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:o(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void o(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){return t(r).attr("aria-controls")===i?(e=n,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&(-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0)),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),0>e&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(s=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(s=l.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:l,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,u))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),i._trigger("load",n,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):void((n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}))&&this._open(e,t,n))},_open:function(e,n,i){function r(t){u.of=t,s.is(":hidden")||s.position(u)}var o,s,a,l,u=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(l=t("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(u.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip}),function(t,e,n){"use strict";function i(t){return function(){var e,n=arguments[0];for(e="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.4.14/"+(t?t+"/":"")+n,n=1;n<arguments.length;n++){var i;e=e+(1==n?"?":"&")+"p"+(n-1)+"=",e+=encodeURIComponent(i="function"==typeof(i=arguments[n])?i.toString().replace(/ \{[\s\S]*$/,""):void 0===i?"undefined":"string"!=typeof i?JSON.stringify(i):i)}return Error(e)}}function r(t){if(null==t||$(t))return!1;if(Wn(t)||x(t)||En&&t instanceof En)return!0;var e="length"in Object(t)&&t.length;return C(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var i,s;if(t)if(_(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Wn(t)||r(t)){var a="object"!=typeof t;for(i=0,s=t.length;i<s;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(w(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Pn.call(t,i)&&e.call(n,t[i],i,t);return t}function s(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function a(t){return function(e,n){t(n,e)}}function l(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var s=e[r];if(b(s)||_(s))for(var a=Object.keys(s),u=0,c=a.length;u<c;u++){var h=a[u],d=s[h];n&&b(d)?k(d)?t[h]=new Date(d.valueOf()):S(d)?t[h]=new RegExp(d):d.nodeName?t[h]=d.cloneNode(!0):M(d)?t[h]=d.clone():(b(t[h])||(t[h]=Wn(d)?[]:{}),l(t[h],[d],!0)):t[h]=d}}return i?t.$$hashKey=i:delete t.$$hashKey,t}function u(t){return l(t,Nn.call(arguments,1),!1)}function c(t){return l(t,Nn.call(arguments,1),!0)}function h(t){return parseInt(t,10)}function d(t,e){return u(Object.create(t),e)}function f(){}function p(t){return t}function g(t){return function(){return t}}function m(t){return _(t.toString)&&t.toString!==Rn}function v(t){return void 0===t}function y(t){return void 0!==t}function b(t){return null!==t&&"object"==typeof t}function w(t){return null!==t&&"object"==typeof t&&!Hn(t)}function x(t){return"string"==typeof t}function C(t){return"number"==typeof t}function k(t){return"[object Date]"===Rn.call(t)}function _(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Rn.call(t)}function $(t){return t&&t.window===t}function E(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"boolean"==typeof t}function D(t){return t&&C(t.length)&&Vn.test(Rn.call(t))}function M(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function A(t){return An(t.nodeName||t[0]&&t[0].nodeName)}function P(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function O(t,e){function n(t,e){var n,r=e.$$hashKey;if(Wn(t)){n=0;for(var o=t.length;n<o;n++)e.push(i(t[n]))}else if(w(t))for(n in t)e[n]=i(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));else for(n in t)Pn.call(t,n)&&(e[n]=i(t[n]));return r?e.$$hashKey=r:delete e.$$hashKey,e}function i(t){if(!b(t))return t;if(-1!==(i=r.indexOf(t)))return s[i];if($(t)||E(t))throw Fn("cpws");var e,i=!1;return Wn(t)?(e=[],i=!0):D(t)?e=new t.constructor(t):k(t)?e=new Date(t.getTime()):S(t)?(e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0])).lastIndex=t.lastIndex:"[object Blob]"===Rn.call(t)?e=new t.constructor([t],{type:t.type}):_(t.cloneNode)?e=t.cloneNode(!0):(e=Object.create(Hn(t)),i=!0),r.push(t),s.push(e),i?n(t,e):e}var r=[],s=[];if(e){if(D(e))throw Fn("cpta");if(t===e)throw Fn("cpi");return Wn(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),r.push(t),s.push(e),n(t,e)}return i(t)}function N(t,e){if(Wn(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(b(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function I(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i=typeof t;if(i==typeof e&&"object"==i){if(!Wn(t)){if(k(t))return!!k(e)&&I(t.getTime(),e.getTime());if(S(t))return!!S(e)&&t.toString()==e.toString();if(E(t)||E(e)||$(t)||$(e)||Wn(e)||k(e)||S(e))return!1;for(n in i=ot(),t)if("$"!==n.charAt(0)&&!_(t[n])){if(!I(t[n],e[n]))return!1;i[n]=!0}for(n in e)if(!(n in i)&&"$"!==n.charAt(0)&&y(e[n])&&!_(e[n]))return!1;return!0}if(!Wn(e))return!1;if((i=t.length)==e.length){for(n=0;n<i;n++)if(!I(t[n],e[n]))return!1;return!0}}return!1}function L(t,e,n){return t.concat(Nn.call(e,n))}function R(t,e){var n=2<arguments.length?Nn.call(arguments,2):[];return!_(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,L(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:$(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":E(i)&&(r="$SCOPE"),r}function F(t,e){return v(t)?n:(C(e)||(e=e?2:null),JSON.stringify(t,H,e))}function z(t){return x(t)?JSON.parse(t):t}function B(t,e){t=t.replace(Xn,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function j(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return n*=(e=B(e,i))-i,(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}function W(t){t=En(t).clone();try{t.empty()}catch(t){}var e=En("<div>").append(t).html();try{return t[0].nodeType===Jn?An(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+An(e)})}catch(t){return An(e)}}function V(t){try{return decodeURIComponent(t)}catch(t){}}function U(t){var e={};return o((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(i=t.substring(0,n),r=t.substring(n+1)),y(i=V(i))&&(r=!y(r)||V(r),Pn.call(e,i)?Wn(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function q(t){var e=[];return o(t,function(t,n){Wn(t)?o(t,function(t){e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}):e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}),e.length?e.join("&"):""}function Y(t){return G(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function X(t,e){var n,i,r={};o(Kn,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,i=t.getAttribute(e))}),o(Kn,function(e){var r;e+="app",!n&&(r=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(e))}),n&&(r.strictDi=null!==function(t,e){var n,i,r=Kn.length;for(i=0;i<r;++i)if(n=Kn[i]+e,x(n=t.getAttribute(n)))return n;return null}(n,"strict-di"),e(n,i?[i]:[],r))}function K(n,i,r){b(r)||(r={}),r=u({strictDi:!1},r);var s=function(){if((n=En(n)).injector()){var t=n[0]===e?"document":W(n);throw Fn("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng"),(t=At(i,r.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},a=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!l.test(t.name))return s();t.name=t.name.replace(l,""),zn.resumeBootstrap=function(t){return o(t,function(t){i.push(t)}),s()},_(zn.resumeDeferredBootstrap)&&zn.resumeDeferredBootstrap()}function Z(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function Q(t){if(!(t=zn.element(t).injector()))throw Fn("test");return t.get("$$testability")}function J(t,e){return e=e||"_",t.replace(Zn,function(t,n){return(n?e:"")+t.toLowerCase()})}function tt(t,e,n){if(!t)throw Fn("areq",e||"?",n||"required");return t}function et(t,e,n){return n&&Wn(t)&&(t=t[t.length-1]),tt(_(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function nt(t,e){if("hasOwnProperty"===t)throw Fn("badname",e)}function it(t,e,n){if(!e)return t;for(var i,r=t,o=(e=e.split(".")).length,s=0;s<o;s++)i=e[s],t&&(t=(r=t)[i]);return!n&&_(t)?R(r,t):t}function rt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=En(Nn.call(t,0,r))),e.push(n));return e||t}function ot(){return Object.create(null)}function st(t){return t.replace(ii,function(t,e,n,i){return i?n.toUpperCase():n}).replace(ri,"Moz$1")}function at(t){return 1===(t=t.nodeType)||!t||9===t}function lt(t,e){var n,i,r=e.createDocumentFragment(),s=[];if(li.test(t)){for(n=n||r.appendChild(e.createElement("div")),i=(ui.exec(t)||["",""])[1].toLowerCase(),i=hi[i]||hi._default,n.innerHTML=i[1]+t.replace(ci,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=L(s,n.childNodes),(n=r.firstChild).textContent=""}else s.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",o(s,function(t){r.appendChild(t)}),r}function ut(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function ct(t){if(t instanceof ct)return t;var n,i;if(x(t)&&(t=Un(t),n=!0),!(this instanceof ct)){if(n&&"<"!=t.charAt(0))throw si("nosel");return new ct(t)}n&&(n=e,t=(i=ai.exec(t))?[n.createElement(i[1])]:(i=lt(t,n))?i.childNodes:[]);wt(this,t)}function ht(t){return t.cloneNode(!0)}function dt(t,e){if(e||pt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)pt(n[i])}function ft(t,e,n,i){if(y(i))throw si("offargs");var r=(i=gt(t))&&i.events,s=i&&i.handle;if(s)if(e){var a=function(e){var i=r[e];y(n)&&P(i||[],n),y(n)&&i&&0<i.length||(t.removeEventListener(e,s,!1),delete r[e])};o(e.split(" "),function(t){a(t),oi[t]&&a(oi[t])})}else for(e in r)"$destroy"!==e&&t.removeEventListener(e,s,!1),delete r[e]}function pt(t,e){var i=t.ng339,r=i&&ei[i];r&&(e?delete r.data[e]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ft(t)),delete ei[i],t.ng339=n))}function gt(t,e){var i=(i=t.ng339)&&ei[i];return e&&!i&&(t.ng339=i=++ni,i=ei[i]={events:{},data:{},handle:n}),i}function mt(t,e,n){if(at(t)){var i=y(n),r=!i&&e&&!b(e),o=!e;if(t=(t=gt(t,!r))&&t.data,i)t[e]=n;else{if(o)return t;if(r)return t&&t[e];u(t,e)}}}function vt(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function yt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Un((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Un(e)+" "," ")))})}function bt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Un(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Un(n))}}function wt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function xt(t,e){return Ct(t,"$"+(e||"ngController")+"Controller")}function Ct(t,e,n){for(9==t.nodeType&&(t=t.documentElement),e=Wn(e)?e:[e];t;){for(var i=0,r=e.length;i<r;i++)if(y(n=En.data(t,e[i])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function kt(t){for(dt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function _t(t,e){e||dt(t);var n=t.parentNode;n&&n.removeChild(t)}function St(t,e){var n=pi[e.toLowerCase()];return n&&gi[A(t)]&&n}function $t(t,e,n){n.call(t,e)}function Et(t,e,n){var i=e.relatedTarget;i&&(i===t||di.call(t,i))||n.call(t,e)}function Tt(){this.$get=function(){return u(ct,{hasClass:function(t,e){return t.attr&&(t=t[0]),vt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),bt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),yt(t,e)}})}}function Dt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):"function"==(n=typeof t)||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||function(){return++Bn})():n+":"+t}function Mt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function At(t,e){function i(t){return function(e,n){if(!b(e))return t(e,n);o(e,a(t))}}function r(t,e){if(nt(t,"service"),(_(e)||Wn(e))&&(e=f.instantiate(e)),!e.$get)throw Ci("pget",t);return d[t+"Provider"]=e}function s(t,e,n){return r(t,{$get:!1!==n?function(t,e){return function(){var n=m.invoke(e,this);if(v(n))throw Ci("undef",t);return n}}(t,e):e})}function l(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===u)throw Ci("cdep",e+" <- "+c.join(" <- "));return t[e]}try{return c.unshift(e),t[e]=u,t[e]=n(e,i)}catch(n){throw t[e]===u&&delete t[e],n}finally{c.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,l,u=[],c=At.$$annotate(t,e,o);for(a=0,s=c.length;a<s;a++){if("string"!=typeof(l=c[a]))throw Ci("itkn",l);u.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return Wn(t)&&(t=t[s]),t.apply(n,u)}return{invoke:r,instantiate:function(t,e,n){var i=Object.create((Wn(t)?t[t.length-1]:t).prototype||null);return b(t=r(t,i,e,n))||_(t)?t:i},get:i,annotate:At.$$annotate,has:function(e){return d.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var u={},c=[],h=new Mt([],!0),d={$provide:{provider:i(r),factory:i(s),service:i(function(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}),value:i(function(t,e){return s(t,g(e),!1)}),constant:i(function(t,e){nt(t,"constant"),d[t]=e,p[t]=e}),decorator:function(t,e){var n=f.get(t+"Provider"),i=n.$get;n.$get=function(){var t=m.invoke(i,n);return m.invoke(e,null,{$delegate:t})}}}},f=d.$injector=l(d,function(t,e){throw zn.isString(e)&&c.push(e),Ci("unpr",c.join(" <- "))}),p={},m=p.$injector=l(p,function(t,e){var i=f.get(t+"Provider",e);return m.invoke(i.$get,i,n,t)});return o(function t(e){tt(v(e)||Wn(e),"modulesToLoad","not an array");var n,i=[];return o(e,function(e){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=f.get(i[0]);r[i[1]].apply(r,i[2])}}if(!h.get(e)){h.put(e,!0);try{x(e)?(n=Dn(e),i=i.concat(t(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):_(e)?i.push(f.invoke(e)):Wn(e)?i.push(f.invoke(e)):et(e,"module")}catch(t){throw Wn(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Ci("modulerr",e,t.stack||t.message||t)}}}),i}(t),function(t){t&&m.invoke(t)}),m}function Pt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){function o(t){var e;t?(t.scrollIntoView(),_(e=s.yOffset)?e=e():M(e)?(e=e[0],e="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom):C(e)||(e=0),e&&(t=t.getBoundingClientRect().top,n.scrollBy(0,t-e))):n.scrollTo(0,0)}function s(t){var e;(t=x(t)?t:i.hash())?(e=a.getElementById(t))?o(e):(e=function(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===A(t))return e=t,!0}),e}(a.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var a=n.document;return e&&r.$watch(function(){return i.hash()},function(e,n){e===n&&""===e||function(e,n){"complete"===(n=n||t).document.readyState?n.setTimeout(e):En(n).on("load",e)}(function(){r.$evalAsync(s)})}),s}]}function Ot(t,e){return t||e?t?e?(Wn(t)&&(t=t.join(" ")),Wn(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Nt(t){return b(t)?t:{}}function It(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new function(t,e,n,i){function r(t){try{t.apply(null,Nn.call(arguments,1))}finally{if(0==--m)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function s(){k=null,a(),l()}function a(){t:{try{b=h.state;break t}catch(t){}b=void 0}I(b=v(b)?null:b,$)&&(b=$),$=b}function l(){x===u.url()&&w===b||(x=u.url(),w=b,o(_,function(t){t(u.url(),b)}))}var u=this,c=t.location,h=t.history,d=t.setTimeout,p=t.clearTimeout,g={};u.isMock=!1;var m=0,y=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){m++},u.notifyWhenNoOutstandingRequests=function(t){0===m?t():y.push(t)};var b,w,x=c.href,C=e.find("base"),k=null;a(),w=b,u.url=function(e,n,r){if(v(r)&&(r=null),c!==t.location&&(c=t.location),h!==t.history&&(h=t.history),e){var o=w===r;if(x===e&&(!i.history||o))return u;var s=x&&ae(x)===ae(e);return x=e,w=r,!i.history||s&&o?(s&&!k||(k=e),n?c.replace(e):s?(n=c,r=-1===(r=e.indexOf("#"))?"":e.substr(r),n.hash=r):c.href=e,c.href!==e&&(k=e)):(h[n?"replaceState":"pushState"](r,"",e),a(),w=b),u}return k||c.href.replace(/%27/g,"'")},u.state=function(){return b};var _=[],S=!1,$=null;u.onUrlChange=function(e){return S||(i.history&&En(t).on("popstate",s),En(t).on("hashchange",s),S=!0),_.push(e),e},u.$$applicationDestroyed=function(){En(t).off("hashchange popstate",s)},u.$$checkUrlChange=l,u.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(t,e){var n;return m++,n=d(function(){delete g[n],r(t)},e||0),g[n]=!0,n},u.defer.cancel=function(t){return!!g[t]&&(delete g[t],p(t),r(f),!0)}}(t,i,e,n)}]}function Lt(){this.$get=function(){function t(t,n){function r(t){t!=d&&(f?f==t&&(f=t.n):f=t,o(t.n,t.p),o(t,d),(d=t).n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid",t);var s=0,a=u({},n,{id:t}),l=ot(),c=n&&n.capacity||Number.MAX_VALUE,h=ot(),d=null,f=null;return e[t]={put:function(t,e){if(!v(e)){if(c<Number.MAX_VALUE)r(h[t]||(h[t]={key:t}));return t in l||s++,l[t]=e,s>c&&this.remove(f.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;e==d&&(d=e.p),e==f&&(f=e.n),o(e.n,e.p),delete h[t]}t in l&&(delete l[t],s--)},removeAll:function(){l=ot(),s=0,h=ot(),d=f=null},destroy:function(){h=a=l=null,delete e[t]},info:function(){return u({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Rt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ht(t,i){function r(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r=ot();return o(t,function(t,o){if(t in C)r[o]=C[t];else{var s=t.match(i);if(!s)throw Mi("iscp",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(C[t]=r[o])}}),r}var s={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=function(t){var e,n={};for(t=t.split(","),e=0;e<t.length;e++)n[t[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,C=ot();this.directive=function e(n,i){return nt(n,"directive"),x(n)?(function(t){var e=t.charAt(0);if(!e||e!==An(e))throw Mi("baddir",t);if(t!==t.trim())throw Mi("baddir",t)}(n),tt(i,"directiveFactory"),s.hasOwnProperty(n)||(s[n]=[],t.factory(n+"Directive",["$injector","$exceptionHandler",function(t,e){var i=[];return o(s[n],function(r,o){try{var s=t.invoke(r);_(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",s.$$moduleName=r.$$moduleName,i.push(s)}catch(t){e(t)}}),i}])),s[n].push(i)):o(n,a(e)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(t){return y(t)?(k=t,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,i,a,g,C,S,$,D,M,O){function N(t,e){try{t.addClass(e)}catch(t){}}function L(t,n,i,r,o){t instanceof En||(t=En(t));for(var s=/\S+/,a=0,l=t.length;a<l;a++){var u=t[a];u.nodeType===Jn&&u.nodeValue.match(s)&&ut(u,t[a]=e.createElement("span"))}var c=R(t,n,t,i,r,o);L.$$addScopeClass(t);var h=null;return function(e,n,i){tt(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new());var r=(i=i||{}).parentBoundTranscludeFn,s=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),h||(h=(i=i&&i[0])&&"foreignobject"!==A(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==h?En(Q(h,En("<div>").append(t).html())):n?fi.clone.call(t):t,s)for(var a in s)i.data("$"+a+"Controller",s[a].instance);return L.$$addScopeInfo(i,e),n&&n(i,e),c&&c(e,i,i,r),i}}function R(t,e,i,r,o,s){for(var a,l,u,c,h,d=[],f=0;f<t.length;f++)a=new at,(s=(l=F(t[f],[],a,0===f?r:n,o)).length?j(l,t[f],a,e,i,null,[],[],s):null)&&s.scope&&L.$$addScopeClass(a.$$element),a=s&&s.terminal||!(u=t[f].childNodes)||!u.length?null:R(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:e),(s||a)&&(d.push(f,s,a),c=!0,h=h||s),s=null;return c?function(t,i,r,o){var s,a,l,u,c,f;if(h)for(f=Array(i.length),u=0;u<d.length;u+=3)f[s=d[u]]=i[s];else f=i;for(u=0,c=d.length;u<c;)a=f[d[u++]],i=d[u++],s=d[u++],i?(i.scope?(l=t.$new(),L.$$addScopeInfo(En(a),l)):l=t,i(s,l,a,r,i.transcludeOnThisElement?H(t,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&e?H(t,e):null)):s&&s(t,a.childNodes,n,o)}:null}function H(t,e,n){return function(i,r,o,s,a){return i||((i=t.$new(!1,a)).$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function F(t,e,n,i,r){var o,s=n.$attr;switch(t.nodeType){case 1:U(e,Ft(o=A(t)),"E",i,r);for(var a,u,h,d,f=t.attributes,p=0,g=f&&f.length;p<g;p++){var m=!1,v=!1;u=(a=f[p]).name,h=Un(a.value),a=Ft(u),(d=ft.test(a))&&(u=u.replace(Ai,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})),(a=a.match(pt))&&q(a[1])&&(m=u,v=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),s[a=Ft(u.toLowerCase())]=u,!d&&n.hasOwnProperty(a)||(n[a]=h,St(t,a)&&(n[a]=!0)),et(t,e,h,a,d),U(e,a,"A",i,r,m,v)}if("input"===o&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),b(t=t.className)&&(t=t.animVal),x(t)&&""!==t)for(;o=c.exec(t);)U(e,a=Ft(o[2]),"C",i,r)&&(n[a]=Un(o[3])),t=t.substr(o.index+o[0].length);break;case Jn:if(11===$n)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Jn;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);Z(e,t.nodeValue);break;case 8:try{(o=l.exec(t.nodeValue))&&(U(e,a=Ft(o[1]),"M",i,r)&&(n[a]=Un(o[2])))}catch(t){}}return e.sort(X),e}function z(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Mi("uterdir",e,n);1==t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r);else i.push(t);return En(i)}function B(t,e,n){return function(i,r,o,s,a){return r=z(r[0],e,n),t(i,r,o,s,a)}}function j(t,i,r,o,s,l,u,c,h){function d(t,e,n,i){t&&(n&&(t=B(t,n,i)),t.require=v.require,t.directiveName=y,(D===v||v.$$isolateScope)&&(t=it(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=B(e,n,i)),e.require=v.require,e.directiveName=y,(D===v||v.$$isolateScope)&&(e=it(e,{isolateScope:!0})),c.push(e))}function f(t,e,n,i){var r;if(x(e)){var o=e.match(m);e=e.substring(o[0].length);var s=o[1]||o[3];o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[e])&&r.instance,r||(i="$"+e+"Controller",r=s?n.inheritedData(i):n.data(i)),!r&&!o)throw Mi("ctreq",e,t)}else if(Wn(e))for(r=[],s=0,o=e.length;s<o;s++)r[s]=f(t,e[s],n,i);return r||null}function p(t,e,n,i,r,o){var s,a=ot();for(s in i){var l=i[s],u={$scope:l===D||l.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},c=l.controller;"@"==c&&(c=e[l.name]),u=S(c,u,!0,l.controllerAs),a[l.name]=u,t.data("$"+l.name+"Controller",u.instance)}return a}function g(t,e,o,s,a){var l,h,d,g,m,v,y;for(var b in i===o?(s=r,v=r.$$element):(v=En(o),s=new at(v,r)),d=e,D?h=e.$new(!0):$&&(d=e.$parent),a&&((m=function(t,e,i){var r;return E(t)||(i=e,e=t,t=n),N&&(r=g),i||(i=N?v.parent():v),a(t,e,r,i,k)}).$$boundTransclude=a),T&&(g=p(v,s,m,T,h,e)),D&&(L.$$addScopeInfo(v,h,!0,!(M&&(M===D||M===D.$$originalDirective))),L.$$addScopeClass(v,!0),h.$$isolateBindings=D.$$isolateBindings,(y=st(e,s,h,h.$$isolateBindings,D))&&h.$on("$destroy",y)),g){y=T[b];var w=g[b],x=y.$$bindings.bindToController;w.identifier&&x&&(l=st(d,s,w.instance,x,y));var C=w();C!==w.instance&&(w.instance=C,v.data("$"+y.name+"Controller",C),l&&l(),l=st(d,s,w.instance,x,y))}for(H=0,j=u.length;H<j;H++)rt(l=u[H],l.isolateScope?h:e,v,s,l.require&&f(l.directiveName,l.require,v,g),m);var k=e;for(D&&(D.template||null===D.templateUrl)&&(k=h),t&&t(k,o.childNodes,n,a),H=c.length-1;0<=H;H--)rt(l=c[H],l.isolateScope?h:e,v,s,l.require&&f(l.directiveName,l.require,v,g),m)}h=h||{};for(var v,y,w,C,k=-Number.MAX_VALUE,$=h.newScopeDirective,T=h.controllerDirectives,D=h.newIsolateScopeDirective,M=h.templateDirective,A=h.nonTlbTranscludeDirective,P=!1,O=!1,N=h.hasElementTranscludeDirective,I=r.$$element=En(i),R=o,H=0,j=t.length;H<j;H++){var U=(v=t[H]).$$start,q=v.$$end;if(U&&(I=z(i,U,q)),w=n,k>v.priority)break;if((w=v.scope)&&(v.templateUrl||(b(w)?(K("new/isolated scope",D||$,v,I),D=v):K("new/isolated scope",D,v,I)),$=$||v),y=v.name,!v.templateUrl&&v.controller&&(w=v.controller,T=T||ot(),K("'"+y+"' controller",T[y],v,I),T[y]=v),(w=v.transclude)&&(P=!0,v.$$tlb||(K("transclusion",A,v,I),A=v),"element"==w?(N=!0,k=v.priority,w=I,I=r.$$element=En(e.createComment(" "+y+": "+r[y]+" ")),i=I[0],nt(s,Nn.call(w,0),i),R=L(w,o,k,l&&l.name,{nonTlbTranscludeDirective:A})):(w=En(ht(i)).contents(),I.empty(),R=L(w,o,n,n,{needsNewScope:v.$$isolateScope||v.$$newScope}))),v.template)if(O=!0,K("template",M,v,I),M=v,w=_(v.template)?v.template(I,r):v.template,w=dt(w),v.replace){if(l=v,w=li.test(w)?Bt(Q(v.templateNamespace,Un(w))):[],i=w[0],1!=w.length||1!==i.nodeType)throw Mi("tplrt",y,"");nt(s,I,i);var X=F(i,[],w={$attr:{}}),Z=t.splice(H+1,t.length-(H+1));(D||$)&&V(X,D,$),t=t.concat(X).concat(Z),Y(r,w),j=t.length}else I.html(w);if(v.templateUrl)O=!0,K("template",M,v,I),M=v,v.replace&&(l=v),g=G(t.splice(H,t.length-H),I,r,s,P&&R,u,c,{controllerDirectives:T,newScopeDirective:$!==v&&$,newIsolateScopeDirective:D,templateDirective:M,nonTlbTranscludeDirective:A}),j=t.length;else if(v.compile)try{_(C=v.compile(I,r,R))?d(null,C,U,q):C&&d(C.pre,C.post,U,q)}catch(t){a(t,W(I))}v.terminal&&(g.terminal=!0,k=Math.max(k,v.priority))}return g.scope=$&&!0===$.scope,g.transcludeOnThisElement=P,g.templateOnThisElement=O,g.transclude=R,h.hasElementTranscludeDirective=N,g}function V(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=d(t[i],{$$isolateScope:e,$$newScope:n})}function U(e,n,i,o,l,u,c){if(n===l)return null;if(l=null,s.hasOwnProperty(n))for(var h,f=0,p=(n=t.get(n+"Directive")).length;f<p;f++)try{if(h=n[f],(v(o)||o>h.priority)&&-1!=h.restrict.indexOf(i)){if(u&&(h=d(h,{$$start:u,$$end:c})),!h.$$bindings){var g=h,m=h,y=h.name,w={isolateScope:null,bindToController:null};if(b(m.scope)&&(!0===m.bindToController?(w.bindToController=r(m.scope,y,!0),w.isolateScope={}):w.isolateScope=r(m.scope,y,!1)),b(m.bindToController)&&(w.bindToController=r(m.bindToController,y,!0)),b(w.bindToController)){var C,k=m.controller,_=m.controllerAs;if(!k)throw Mi("noctrl",y);t:{m=k;var S=_;if(S&&x(S))C=S;else{if(x(m)){var $=Oi.exec(m);if($){C=$[3];break t}}C=void 0}}if(!C)throw Mi("noident",y)}var E=g.$$bindings=w;b(E.isolateScope)&&(h.$$isolateBindings=E.isolateScope)}e.push(h),l=h}}catch(t){a(t)}return l}function q(e){if(s.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;i<r;i++)if((e=n[i]).multiElement)return!0;return!1}function Y(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(N(r,e),t.class=(t.class?t.class+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function G(t,e,n,i,r,s,a,l){var u,c,h=[],f=e[0],p=t.shift(),m=d(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),v=_(p.templateUrl)?p.templateUrl(e,n):p.templateUrl,y=p.templateNamespace;return e.empty(),g(v).then(function(d){var g,w;if(d=dt(d),p.replace){if(d=li.test(d)?Bt(Q(y,Un(d))):[],g=d[0],1!=d.length||1!==g.nodeType)throw Mi("tplrt",p.name,v);d={$attr:{}},nt(i,e,g);var x=F(g,[],d);b(p.scope)&&V(x,!0),t=x.concat(t),Y(n,d)}else g=f,e.html(d);for(t.unshift(m),u=j(t,g,n,r,e,p,s,a,l),o(i,function(t,n){t==g&&(i[n]=e[0])}),c=R(e[0].childNodes,r);h.length;){d=h.shift(),w=h.shift();var C=h.shift(),k=h.shift();x=e[0];if(!d.$$destroyed){if(w!==f){var _=w.className;l.hasElementTranscludeDirective&&p.replace||(x=ht(g)),nt(C,En(w),x),N(En(x),_)}w=u.transcludeOnThisElement?H(d,u.transclude,k):k,u(c,d,x,i,w)}}h=null}),function(t,e,n,i,r){t=r,e.$$destroyed||(h?h.push(e,n,i,t):(u.transcludeOnThisElement&&(t=H(e,u.transclude,r)),u(c,e,n,i,t)))}}function X(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function K(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Mi("multidir",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,W(i))}function Z(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=!!(t=t.parent()).length;return e&&L.$$addBindingClass(t),function(t,i){var r=i.parent();e||L.$$addBindingClass(r),L.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){i[0].nodeValue=t})}}})}function Q(t,n){switch(t=An(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function et(t,e,n,r,o){var s=function(t,e){if("srcdoc"==e)return D.HTML;var n=A(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?D.RESOURCE_URL:void 0}(t,r);o=h[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===A(t))throw Mi("selmulti",W(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){if(e=l.$$observers||(l.$$observers=ot()),w.test(r))throw Mi("nodomevents");var u=l[r];u!==n&&(a=u&&i(u,!0,s,o),n=u),a&&(l[r]=a(t),(e[r]||(e[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function nt(t,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]==s){t[r++]=i,o=r+a-1;for(var u=t.length;r<u;r++,o++)o<u?t[r]=t[o]:delete t[r];t.length-=a-1,t.context===s&&(t.context=i);break}for(l&&l.replaceChild(i,s),(t=e.createDocumentFragment()).appendChild(s),En.hasData(s)&&(En.data(i,En.data(s)),Tn?(jn=!0,Tn.cleanData([s])):delete En.cache[s[En.expando]]),s=1,a=n.length;s<a;s++)l=n[s],En(l).remove(),t.appendChild(l),delete n[s];n[0]=i,n.length=1}function it(t,e){return u(function(){return t.apply(null,arguments)},t,e)}function rt(t,e,n,i,r,o){try{t(e,n,i,r,o)}catch(t){a(t,W(n))}}function st(t,e,n,r,s){var a=[];return o(r,function(r,o){var l,u,c,h,d=r.attrName,p=r.optional;switch(r.mode){case"@":p||Pn.call(e,d)||(n[o]=e[d]=void 0),e.$observe(d,function(t){x(t)&&(n[o]=t)}),e.$$observers[d].$$scope=t,x(l=e[d])?n[o]=i(l)(t):T(l)&&(n[o]=l);break;case"=":if(!Pn.call(e,d)){if(p)break;e[d]=void 0}if(p&&!e[d])break;u=C(e[d]),h=u.literal?I:function(t,e){return t===e||t!=t&&e!=e},c=u.assign||function(){throw l=n[o]=u(t),Mi("nonassign",e[d],d,s.name)},l=n[o]=u(t),(p=function(e){return h(e,n[o])||(h(e,l)?c(t,e=n[o]):n[o]=e),l=e}).$stateful=!0,p=r.collection?t.$watchCollection(e[d],p):t.$watch(C(e[d],p),null,u.literal),a.push(p);break;case"&":if((u=e.hasOwnProperty(d)?C(e[d]):f)===f&&p)break;n[o]=function(e){return u(t,e)}}}),a.length&&function(){for(var t=0,e=a.length;t<e;++t)a[t]()}}var at=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=e[r]}else this.$attr={};this.$$element=t};at.prototype={$normalize:Ft,$addClass:function(t){t&&0<t.length&&M.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&M.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=zt(t,e);n&&n.length&&M.addClass(this.$$element,n),(n=zt(e,t))&&n.length&&M.removeClass(this.$$element,n)},$set:function(t,e,n,i){var r=St(this.$$element[0],t),s=mi[t],l=t;if(r?(this.$$element.prop(t,e),i=r):s&&(this[s]=e,l=s),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=J(t,"-")),"a"===(r=A(this.$$element))&&"href"===t||"img"===r&&"src"===t)this[t]=e=O(e,"src"===t);else if("img"===r&&"srcset"===t&&y(e)){r="",s=Un(e);for(var u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=(u=/\s/.test(s)?u:/(,)/,s=s.split(u),u=Math.floor(s.length/2),0);c<u;c++){var h=2*c;r=(r=r+O(Un(s[h]),!0))+" "+Un(s[h+1])}s=Un(s[2*c]).split(/\s/),r+=O(Un(s[0]),!0),2===s.length&&(r+=" "+Un(s[1])),this[t]=e=r}!1!==n&&(null===e||v(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e)),(t=this.$$observers)&&o(t[l],function(t){try{t(e)}catch(t){a(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=ot()),r=i[t]||(i[t]=[]);return r.push(e),$.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){P(r,e)}}};var lt=i.startSymbol(),ct=i.endSymbol(),dt="{{"==lt&&"}}"==ct?p:function(t){return t.replace(/\{\{/g,lt).replace(/}}/g,ct)},ft=/^ngAttr[A-Z]/,pt=/^(.+)Start$/;return L.$$addBindingInfo=k?function(t,e){var n=t.data("$binding")||[];Wn(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,L.$$addBindingClass=k?function(t){N(t,"ng-binding")}:f,L.$$addScopeInfo=k?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:f,L.$$addScopeClass=k?function(t,e){N(t,e?"ng-isolate-scope":"ng-scope")}:f,L}]}function Ft(t){return st(t.replace(Ai,""))}function zt(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),o=0;t:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(0<n.length?" ":"")+s}return n}function Bt(t){var e=(t=En(t)).length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&In.call(t,e,1);return t}function jt(){var t={},e=!1;this.register=function(e,n){nt(e,"controller"),b(e)?u(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,o){function s(t,e,n,r){if(!t||!b(t.$scope))throw i("$controller")("noscp",r,e);t.$scope[e]=n}return function(i,a,l,c){var h,d,f;if(l=!0===l,c&&x(c)&&(f=c),x(i)){if(!(c=i.match(Oi)))throw Pi("ctrlfmt",i);d=c[1],f=f||c[3],et(i=t.hasOwnProperty(d)?t[d]:it(a.$scope,d,!0)||(e?it(o,d,!0):n),d,!0)}return l?(l=(Wn(i)?i[i.length-1]:i).prototype,h=Object.create(l||null),f&&s(a,f,h,d||i.name),u(function(){var t=r.invoke(i,h,a,d);return t!==h&&(b(t)||_(t))&&(h=t,f&&s(a,f,h,d||i.name)),h},{instance:h,identifier:f})):(h=r.instantiate(i,a,d),f&&s(a,f,h,d||i.name),h)}}]}function Wt(){this.$get=["$window",function(t){return En(t.document)}]}function Vt(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Ut(t){return b(t)?k(t)?t.toISOString():F(t):t}function qt(){this.$get=function(){return function(t){if(!t)return"";var e=[];return s(t,function(t,n){null===t||v(t)||(Wn(t)?o(t,function(t,i){e.push(G(n)+"="+G(Ut(t)))}):e.push(G(n)+"="+G(Ut(t))))}),e.join("&")}}}function Yt(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(n,i,r){null===n||v(n)||(Wn(n)?o(n,function(e,n){t(e,i+"["+(b(e)?n:"")+"]")}):b(n)&&!k(n)?s(n,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):e.push(G(i)+"="+G(Ut(n))))}(t,"",!0),e.join("&")}}}function Gt(t,e){if(x(t)){var n=t.replace(Fi,"").trim();if(n){var i=e("Content-Type");(i=i&&0===i.indexOf(Ii))||(i=(i=n.match(Ri))&&Hi[i[0]].test(n)),i&&(t=z(n))}}return t}function Xt(t){var e,n=ot();return x(t)?o(t.split("\n"),function(t){e=t.indexOf(":");var i=An(Un(t.substr(0,e)));t=Un(t.substr(e+1)),i&&(n[i]=n[i]?n[i]+", "+t:t)}):b(t)&&o(t,function(t,e){var i=An(e),r=Un(t);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function Kt(t){var e;return function(n){return e||(e=Xt(t)),n?(void 0===(n=e[An(n)])&&(n=null),n):e}}function Zt(t,e,n,i){return _(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Qt(){var t=this.defaults={transformResponse:[Gt],transformRequest:[function(t){return b(t)&&"[object File]"!==Rn.call(t)&&"[object Blob]"!==Rn.call(t)&&"[object FormData]"!==Rn.call(t)?F(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(Li),put:N(Li),patch:N(Li)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return y(t)?(e=!!t,this):e};var r=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(r=!!t,this):r};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,l,c,h,d,f){function p(e){function s(t){var e=u({},t);return e.data=Zt(t.data,t.headers,t.status,a.transformResponse),200<=(t=t.status)&&300>t?e:d.reject(e)}if(!zn.isObject(e))throw i("$http")("badreq",e);if(!x(e.url))throw i("$http")("badreq",e.url);var a=u({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);a.headers=function(e){var n,i,r,s=t.headers,a=u({},e.headers);s=u({},s.common,s[An(e.method)]);t:for(n in s){for(r in i=An(n),a)if(An(r)===i)continue t;a[n]=s[n]}return function(t,e){var n,i={};return o(t,function(t,r){_(t)?null!=(n=t(e))&&(i[r]=n):i[r]=t}),i}(a,N(e))}(e),a.method=On(a.method),a.paramSerializer=x(a.paramSerializer)?f.get(a.paramSerializer):a.paramSerializer;var l=[function(e){var i=e.headers,r=Zt(e.data,Kt(i),n,e.transformRequest);return v(r)&&o(i,function(t,e){"content-type"===An(e)&&delete i[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),g(e,r).then(s,s)},n],c=d.when(a);for(o(w,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){e=l.shift();var h=l.shift();c=c.then(e,h)}return r?(c.success=function(t){return et(t,"fn"),c.then(function(e){t(e.data,e.status,e.headers,a)}),c},c.error=function(t){return et(t,"fn"),c.then(null,function(e){t(e.data,e.status,e.headers,a)}),c}):(c.success=Bi("success"),c.error=Bi("error")),c}function g(i,r){function o(t,e,n,r){(200<=(e=-1<=e?e:0)&&300>e?g.resolve:g.reject)({data:t,status:e,headers:Kt(n),config:i,statusText:r})}function s(t){o(t.data,t.status,N(t.headers()),t.statusText)}function u(){var t=p.pendingRequests.indexOf(i);-1!==t&&p.pendingRequests.splice(t,1)}var c,f,g=d.defer(),w=g.promise,x=i.headers,C=function(t,e){return 0<e.length&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}(i.url,i.paramSerializer(i.params));return p.pendingRequests.push(i),w.then(u,u),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(c=b(i.cache)?i.cache:b(t.cache)?t.cache:m),c&&(y(f=c.get(C))?f&&_(f.then)?f.then(s,s):Wn(f)?o(f[1],f[0],N(f[2]),f[3]):o(f,200,{},"OK"):c.put(C,w)),v(f)&&((f=Ye(i.url)?l()[i.xsrfCookieName||t.xsrfCookieName]:n)&&(x[i.xsrfHeaderName||t.xsrfHeaderName]=f),a(i.method,C,r,function(t,n,i,r){function s(){o(n,t,i,r)}c&&(200<=t&&300>t?c.put(C,[t,n,Xt(i),r]):c.remove(C)),e?h.$applyAsync(s):(s(),h.$$phase||h.$apply())},x,i.timeout,i.withCredentials,i.responseType)),w}var m=c("$http");t.paramSerializer=x(t.paramSerializer)?f.get(t.paramSerializer):t.paramSerializer;var w=[];return o(s,function(t){w.unshift(x(t)?f.get(t):f.invoke(t))}),p.pendingRequests=[],function(t){o(arguments,function(t){p[t]=function(e,n){return p(u({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){p[t]=function(e,n,i){return p(u({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function Jt(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function te(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return function(t,e,n,i,r){function s(t,e,n){var o=r.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",s,!1),r.body.removeChild(o),o=null;var a=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),n&&n(a,l)},o.addEventListener("load",s,!1),o.addEventListener("error",s,!1),r.body.appendChild(o),s}return function(r,a,l,u,c,h,d,p){function g(){w&&w(),x&&x.abort()}function m(e,i,r,o,s){y(C)&&n.cancel(C),w=x=null,e(i,r,o,s),t.$$completeOutstandingRequest(f)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==An(r)){var b="_"+(i.counter++).toString(36);i[b]=function(t){i[b].data=t,i[b].called=!0};var w=s(a.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(t,e){m(u,t,i[b].data,"",e),i[b]=f})}else{var x=e(r,a);if(x.open(r,a,!0),o(c,function(t,e){y(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==qe(a).protocol?404:0),m(u,n,e,x.getAllResponseHeaders(),t)},r=function(){m(u,-1,null,null,"")},x.onerror=r,x.onabort=r,d&&(x.withCredentials=!0),p)try{x.responseType=p}catch(t){if("json"!==p)throw t}x.send(v(l)?null:l)}if(0<h)var C=n(g,h);else h&&_(h.then)&&h.then(g)}}(t,i,t.defer,e.angular.callbacks,n[0])}]}function ee(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(n){return n.replace(h,t).replace(d,e)}function a(o,a,h,d){function f(t){try{var e,n=t;if(t=h?r.getTrusted(h,n):r.valueOf(n),d&&!y(t))e=t;else if(null==t)e="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=F(t)}e=t}return e}catch(t){i(ji.interr(o,t))}}d=!!d;for(var p,g,m=0,b=[],w=[],x=o.length,C=[],k=[];m<x;){if(-1==(p=o.indexOf(t,m))||-1==(g=o.indexOf(e,p+l))){m!==x&&C.push(s(o.substring(m)));break}m!==p&&C.push(s(o.substring(m,p))),m=o.substring(p+l,g),b.push(m),w.push(n(m,f)),m=g+c,k.push(C.length),C.push("")}if(h&&1<C.length&&ji.throwNoconcat(o),!a||b.length){var S=function(t){for(var e=0,n=b.length;e<n;e++){if(d&&v(t[e]))return;C[k[e]]=t[e]}return C.join("")};return u(function(t){var e=0,n=b.length,r=Array(n);try{for(;e<n;e++)r[e]=w[e](t);return S(r)}catch(t){i(ji.interr(o,t))}},{exp:o,expressions:b,$$watchDelegate:function(t,e){var n;return t.$watchGroup(w,function(i,r){var o=S(i);_(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var l=t.length,c=e.length,h=new RegExp(t.replace(/./g,o),"g"),d=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function ne(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,s,a,l){var u=4<arguments.length,c=u?Nn.call(arguments,4):[],h=e.setInterval,d=e.clearInterval,f=0,p=y(l)&&!l,g=(p?i:n).defer(),m=g.promise;return a=y(a)?a:0,m.then(null,null,u?function(){r.apply(null,c)}:r),m.$$intervalId=h(function(){g.notify(f++),0<a&&f>=a&&(g.resolve(f),d(m.$$intervalId),delete o[m.$$intervalId]),p||t.$apply()},s),o[m.$$intervalId]=g,m}var o={};return r.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},r}]}function ie(t){for(var e=(t=t.split("/")).length;e--;)t[e]=Y(t[e]);return t.join("/")}function re(t,e){var n=qe(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||Vi[n.protocol]||null}function oe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=qe(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=U(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function se(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function ae(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function le(t){return t.replace(/(#.+)|#$/,"$1")}function ue(t,e,n){this.$$html5=!0,n=n||"",re(t,this),this.$$parse=function(t){var n=se(e,t);if(!x(n))throw Ui("ipthprfx",t,e);oe(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=q(this.$$search),n=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=ie(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(y(o=se(t,i))?(s=o,s=y(o=se(n,o))?e+(se("/",o)||o):t+s):y(o=se(e,i))?s=e+o:e==i+"/"&&(s=e),s&&this.$$parse(s),!!s);var o,s}}function ce(t,e,n){re(t,this),this.$$parse=function(i){var r;v(o=se(t,i)||se(e,i))||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",v(o)&&(t=i,this.replace())):v(r=se(n,o))&&(r=o),oe(r,this),i=this.$$path;var o=t,s=/^\/[A-Z]:(\/.*)/;0===r.indexOf(o)&&(r=r.replace(o,"")),s.exec(r)||(i=(r=s.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var e=q(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=ie(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return ae(t)==ae(e)&&(this.$$parse(e),!0)}}function he(t,e,n){this.$$html5=!0,ce.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(t==ae(i)?o=i:(s=se(e,i))?o=t+n+s:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o);var o,s},this.$$compose=function(){var e=q(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=ie(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function de(t){return function(){return this[t]}}function fe(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function pe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return T(t)?(e.enabled=t,this):b(t)?(T(t.enabled)&&(e.enabled=t.enabled),T(t.requireBase)&&(e.requireBase=t.requireBase),T(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(t){throw u.url(r),u.$$state=o,t}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c;c=i.baseHref();var h,d=i.url();if(e.enabled){if(!c&&e.requireBase)throw Ui("nobase");h=d.substring(0,d.indexOf("/",d.indexOf("//")+2))+(c||"/"),c=r.history?ue:he}else h=ae(d),c=ce;var f=h.substr(0,ae(h).lastIndexOf("/")+1);(u=new c(h,f,"#"+t)).$$parseLinkUrl(d,d),u.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=En(t.target);"a"!==A(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=qe(a.animVal).href),p.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||!u.$$parseLinkUrl(a,l)||(t.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),le(u.absUrl())!=le(d)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){v(se(f,t))?s.location.href=t:(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;t=le(t),u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,a(r,!1,o)):(g=!1,l(r,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var t=le(i.url()),e=le(u.absUrl()),o=i.state(),s=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&a(e,s,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function ge(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){var e=n.console||{},i=e[t]||e.log||f;t=!1;try{t=!!i.apply}catch(t){}return t?function(){var t=[];return o(arguments,function(e){t.push(function(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function me(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Yi("isecfld",e);return t}function ve(t,e){if(!x(t+=""))throw Yi("iseccst",e);return t}function ye(t,e){if(t){if(t.constructor===t)throw Yi("isecfn",e);if(t.window===t)throw Yi("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Yi("isecdom",e);if(t===Object)throw Yi("isecobj",e)}return t}function be(t,e){if(t){if(t.constructor===t)throw Yi("isecfn",e);if(t===Gi||t===Xi||t===Ki)throw Yi("isecff",e)}}function we(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw Yi("isecaf",e)}function xe(t,e){return void 0!==t?t:e}function Ce(t,e){return void 0===t?e:void 0===e?t:t+e}function ke(t,e){var n,i;switch(t.type){case tr.Program:n=!0,o(t.body,function(t){ke(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case tr.Literal:t.constant=!0,t.toWatch=[];break;case tr.UnaryExpression:ke(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case tr.BinaryExpression:ke(t.left,e),ke(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case tr.LogicalExpression:ke(t.left,e),ke(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case tr.ConditionalExpression:ke(t.test,e),ke(t.alternate,e),ke(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case tr.Identifier:t.constant=!1,t.toWatch=[t];break;case tr.MemberExpression:ke(t.object,e),t.computed&&ke(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case tr.CallExpression:n=!!t.filter&&!e(t.callee.name).$stateful,i=[],o(t.arguments,function(t){ke(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&!e(t.callee.name).$stateful?i:[t];break;case tr.AssignmentExpression:ke(t.left,e),ke(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case tr.ArrayExpression:n=!0,i=[],o(t.elements,function(t){ke(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case tr.ObjectExpression:n=!0,i=[],o(t.properties,function(t){ke(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case tr.ThisExpression:t.constant=!1,t.toWatch=[]}}function _e(t){if(1==t.length){var e=(t=t[0].expression).toWatch;return 1!==e.length?e:e[0]!==t?e:n}}function Se(t){return t.type===tr.Identifier||t.type===tr.MemberExpression}function $e(t){if(1===t.body.length&&Se(t.body[0].expression))return{type:tr.AssignmentExpression,left:t.body[0].expression,right:{type:tr.NGValueParameter},operator:"="}}function Ee(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===tr.Literal||t.body[0].expression.type===tr.ArrayExpression||t.body[0].expression.type===tr.ObjectExpression)}function Te(t,e){this.astBuilder=t,this.$filter=e}function De(t,e){this.astBuilder=t,this.$filter=e}function Me(t){return"constructor"==t}function Ae(t){return _(t.valueOf)?t.valueOf():nr.call(t)}function Pe(){var t=ot(),e=ot();this.$get=["$filter",function(i){function r(n,r,o){var s,d,v;switch(o=o||m,typeof n){case"string":v=n=n.trim();var y=o?e:t;if(!(s=y[v])){":"===n.charAt(0)&&":"===n.charAt(1)&&(d=!0,n=n.substring(2));var b=new Ji(s=o?g:p);(s=new er(b,i,s).parse(n)).constant?s.$$watchDelegate=c:d?s.$$watchDelegate=s.literal?u:l:s.inputs&&(s.$$watchDelegate=a),o&&(s=function t(e){function n(t,n,i,r){var o=m;m=!0;try{return e(t,n,i,r)}finally{m=o}}if(!e)return e;n.$$watchDelegate=e.$$watchDelegate;n.assign=t(e.assign);n.constant=e.constant;n.literal=e.literal;for(var i=0;e.inputs&&i<e.inputs.length;++i)e.inputs[i]=t(e.inputs[i]);n.inputs=e.inputs;return n}(s)),y[v]=s}return h(s,r);case"function":return h(n,r);default:return h(f,r)}}function s(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=Ae(t)))&&(t===e||t!=t&&e!=e)}function a(t,e,i,r,o){var a;if(1===(u=r.inputs).length){var l=s,u=u[0];return t.$watch(function(t){var e=u(t);return s(e,l)||(a=r(t,n,n,[e]),l=e&&Ae(e)),a},e,i,o)}for(var c=[],h=[],d=0,f=u.length;d<f;d++)c[d]=s,h[d]=null;return t.$watch(function(t){for(var e=!1,i=0,o=u.length;i<o;i++){var l=u[i](t);(e||(e=!s(l,c[i])))&&(h[i]=l,c[i]=l&&Ae(l))}return e&&(a=r(t,n,n,h)),a},e,i,o)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,_(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function u(t,e,n,i){function r(t){var e=!0;return o(t,function(t){y(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return i(t)},function(t,n,i){a=t,_(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(a)&&s()})},n)}function c(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(t,n,i){_(e)&&e.apply(this,arguments),r()},n)}function h(t,e){if(!e)return t;var n=!1,i=(i=t.$$watchDelegate)!==u&&i!==l?function(i,r,o,s){return o=n&&s?s[0]:t(i,r,o,s),e(o,i,r)}:function(n,i,r,o){return r=t(n,i,r,o),n=e(r,n,i),y(r)?n:r};return t.$$watchDelegate&&t.$$watchDelegate!==a?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=a,n=!t.inputs,i.inputs=t.inputs?t.inputs:[t]),i}var d=Yn().noUnsafeEval,p={csp:d,expensiveChecks:!1},g={csp:d,expensiveChecks:!0},m=!1;return r.$$runningExpensiveChecks=function(){return m},r}]}function Oe(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ie(function(e){t.$evalAsync(e)},e)}]}function Ne(){this.$get=["$browser","$exceptionHandler",function(t,e){return Ie(function(e){t.defer(e)},e)}]}function Ie(t,e){function r(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function a(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,t(function(){var t,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var s=0,a=o.length;s<a;++s){r=o[s][0],t=o[s][i.status];try{_(t)?r.resolve(t(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(t){r.reject(t),e(t)}}}))}function l(){this.promise=new r,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var c=i("$q",TypeError);u(r.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&a(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return d(e,!0,t)},function(e){return d(e,!1,t)},e)}}),u(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(c("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=function(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}(this,this.$$resolve,this.$$reject);try{(b(t)||_(t))&&(n=t&&t.then),_(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,a(this.promise.$$state))}catch(t){i[1](t),e(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;o<s;o++){r=i[o][0],t=i[o][3];try{r.notify(_(t)?t(n):n)}catch(t){e(t)}}})}});var h=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},d=function(t,e,n){var i=null;try{_(n)&&(i=n())}catch(t){return h(t,!1)}return i&&_(i.then)?i.then(function(){return h(t,e)},function(t){return h(t,!1)}):h(t,e)},f=function(t,e,n,i){var r=new l;return r.resolve(t),r.promise.then(e,n,i)},p=function t(e){if(!_(e))throw c("norslvr",e);if(!(this instanceof t))return new t(e);var n=new l;return e(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise};return p.defer=function(){return new l},p.reject=function(t){var e=new l;return e.reject(t),e.promise},p.when=f,p.resolve=f,p.all=function(t){var e=new l,n=0,i=Wn(t)?[]:{};return o(t,function(t,r){n++,f(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise},p}function Le(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function Re(){var t=10,e=i("$rootScope"),n=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,a,l,u){function c(t){t.currentScope.$$destroyed=!0}function h(){this.$id=++Bn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(w.$$phase)throw e("inprog",w.$$phase);w.$$phase=t}function p(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function g(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function m(){}function y(){for(;k.length;)try{k.shift()()}catch(t){a(t)}s=null}h.prototype={constructor:h,$new:function(t,e){var n;return e=e||this,t?(n=new h).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Bn,this.$$ChildScope=null}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!=this)&&n.$on("$destroy",c),n},$watch:function(t,e,i,r){var o=l(t);if(o.$$watchDelegate)return o.$$watchDelegate(this,e,i,o,t);var s=this,a=s.$$watchers,u={fn:e,last:m,get:o,exp:r||t,eq:!!i};return n=null,_(e)||(u.fn=f),a||(a=s.$$watchers=[]),a.unshift(u),p(this,1),function(){0<=P(a,u)&&p(s,-1),n=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(r,r,a)):e(r,i,a)}var i=Array(t.length),r=Array(t.length),s=[],a=this,l=!1,u=!0;if(!t.length){var c=!0;return a.$evalAsync(function(){c&&e(r,r,a)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){r[e]=t,i[e]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){var e,n,s;if(!v(i=t)){if(b(i))if(r(i))for(o!==d&&(g=(o=d).length=0,c++),t=i.length,g!==t&&(c++,o.length=g=t),e=0;e<t;e++)s=o[e],n=i[e],s!=s&&n!=n||s===n||(c++,o[e]=n);else{for(e in o!==f&&(o=f={},g=0,c++),t=0,i)Pn.call(i,e)&&(t++,n=i[e],s=o[e],e in o?s!=s&&n!=n||s===n||(c++,o[e]=n):(g++,o[e]=n,c++));if(g>t)for(e in c++,o)Pn.call(i,e)||(g--,delete o[e])}else o!==i&&(o=i,c++);return c}}n.$stateful=!0;var i,o,s,a=this,u=1<e.length,c=0,h=l(t,n),d=[],f={},p=!0,g=0;return this.$watch(h,function(){if(p?(p=!1,e(i,i,a)):e(i,s,a),u)if(b(i))if(r(i)){s=Array(i.length);for(var t=0;t<i.length;t++)s[t]=i[t]}else for(t in s={},i)Pn.call(i,t)&&(s[t]=i[t]);else s=i})},$digest:function(){var i,r,o,l,c,h,f,p,g,v=t,b=[];d("$digest"),u.$$checkUrlChange(),this===w&&null!==s&&(u.defer.cancel(s),y()),n=null;do{for(h=!1,f=this;x.length;){try{(g=x.shift()).scope.$eval(g.expression,g.locals)}catch(t){a(t)}n=null}t:do{if(l=f.$$watchers)for(c=l.length;c--;)try{if(i=l[c])if((r=(0,i.get)(f))===(o=i.last)||(i.eq?I(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){h=!1;break t}}else h=!0,n=i,i.last=i.eq?O(r,null):r,(0,i.fn)(r,o===m?r:o,f),5>v&&(b[p=4-v]||(b[p]=[]),b[p].push({msg:_(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:r,oldVal:o}))}catch(t){a(t)}if(!(l=f.$$watchersCount&&f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(l=f.$$nextSibling);)f=f.$parent}while(f=l);if((h||x.length)&&!v--)throw w.$$phase=null,e("infdig",t,b)}while(h||x.length);for(w.$$phase=null;C.length;)try{C.shift()()}catch(t){a(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===w&&u.$$applicationDestroyed(),p(this,-this.$$watchersCount),this.$$listenerCount)g(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,function t(e){9===$n&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){w.$$phase||x.length||u.defer(function(){x.length&&w.$digest()}),x.push({scope:this,expression:l(t),locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{w.$$phase=null}}catch(t){a(t)}finally{try{w.$digest()}catch(t){throw a(t),t}}},$applyAsync:function(t){var e=this;t&&k.push(function(){e.$eval(t)}),t=l(t),null===s&&(s=u.defer(function(){w.$apply(y)}))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,g(r,1,t))}},$emit:function(t,e){var n,i,r,o=[],s=this,l=!1,u={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=L([u],arguments,1);do{for(n=s.$$listeners[t]||o,u.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(t){a(t)}else n.splice(i,1),i--,r--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var o,s,l=L([r],arguments,1);n=i;){for(r.currentScope=n,o=0,s=(i=n.$$listeners[t]||[]).length;o<s;o++)if(i[o])try{i[o].apply(null,l)}catch(t){a(t)}else i.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var w=new h,x=w.$$asyncQueue=[],C=w.$$postDigestQueue=[],k=w.$$applyAsyncQueue=[];return w}]}function He(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return""===(r=qe(n).href)||r.match(o)?n:"unsafe:"+r}}}function Fe(t){var e=[];return y(t)&&o(t,function(t){e.push(function(t){if("self"===t)return t;if(x(t)){if(-1<t.indexOf("***"))throw ir("iwcard",t);return t=qn(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw ir("imatcher")}(t))}),e}function ze(){this.SCE_CONTEXTS=rr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Fe(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Fe(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Ye(e):!!t.exec(e.href)}function r(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var o=function(t){throw ir("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var s=r(),a={};return a[rr.HTML]=r(s),a[rr.CSS]=r(s),a[rr.URL]=r(s),a[rr.JS]=r(s),a[rr.RESOURCE_URL]=r(a[rr.URL]),{trustAs:function(t,e){var n=a.hasOwnProperty(t)?a[t]:null;if(!n)throw ir("icontext",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw ir("itype",t);return new n(e)},getTrusted:function(n,r){if(null===r||v(r)||""===r)return r;if((u=a.hasOwnProperty(n)?a[n]:null)&&r instanceof u)return r.$$unwrapTrustedValue();if(n===rr.RESOURCE_URL){var s,l,u=qe(r.toString()),c=!1;for(s=0,l=t.length;s<l;s++)if(i(t[s],u)){c=!0;break}if(c)for(s=0,l=e.length;s<l;s++)if(i(e[s],u)){c=!1;break}if(c)return r;throw ir("insecurl",r.toString())}if(n===rr.HTML)return o(r);throw ir("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function Be(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>$n)throw ir("iequirks");var i=N(rr);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=p),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(rr,function(t,e){var n=An(e);i[st("parse_as_"+n)]=function(e){return r(t,e)},i[st("get_trusted_"+n)]=function(e){return s(t,e)},i[st("trust_as_"+n)]=function(e){return a(t,e)}}),i}]}function je(){this.$get=["$window","$document",function(t,e){var n,i={},r=h((/android (\d+)/.exec(An((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,u=!1,c=!1;if(l){for(var d in l)if(u=a.exec(d)){n=(n=u[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),c=!!("animation"in l||n+"Animation"in l),!r||u&&c||(u=x(l.webkitTransition),c=x(l.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>r||o),hasEvent:function(t){if("input"===t&&11>=$n)return!1;if(v(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:Yn(),vendorPrefix:n,transitions:u,animations:c,android:r}}]}function We(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function r(o,s){r.totalPendingRequests++,x(o)&&!v(t.get(o))||(o=i.getTrustedResourceUrl(o));var a=e.defaults&&e.defaults.transformResponse;return Wn(a)?a=a.filter(function(t){return t!==Gt}):a===Gt&&(a=null),e.get(o,{cache:t,transformResponse:a}).finally(function(){r.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},function(t){if(!s)throw Mi("tpload",o,t.status,t.statusText);return n.reject(t)})}return r.totalPendingRequests=0,r}]}function Ve(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){var i=[];return o(t=t.getElementsByClassName("ng-binding"),function(t){var r=zn.element(t).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+qn(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!=r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function Ue(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,l){_(o)||(l=a,a=o,o=f);var u,c=Nn.call(arguments,3),h=y(l)&&!l,d=(h?i:n).defer(),p=d.promise;return u=e.defer(function(){try{d.resolve(o.apply(null,c))}catch(t){d.reject(t),r(t)}finally{delete s[p.$$timeoutId]}h||t.$apply()},a),p.$$timeoutId=u,s[u]=d,p}var s={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function qe(t){return $n&&(or.setAttribute("href",t),t=or.href),or.setAttribute("href",t),{href:or.href,protocol:or.protocol?or.protocol.replace(/:$/,""):"",host:or.host,search:or.search?or.search.replace(/^\?/,""):"",hash:or.hash?or.hash.replace(/^#/,""):"",hostname:or.hostname,port:or.port,pathname:"/"===or.pathname.charAt(0)?or.pathname:"/"+or.pathname}}function Ye(t){return(t=x(t)?qe(t):t).protocol===sr.protocol&&t.host===sr.host}function Ge(){this.$get=g(t)}function Xe(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,s,a,l;if((t=n.cookie||"")!==r)for(t=(r=t).split("; "),i={},s=0;s<t.length;s++)0<(a=(o=t[s]).indexOf("="))&&(l=e(o.substring(0,a)),v(i[l])&&(i[l]=e(o.substring(a+1))));return i}}function Ke(){this.$get=Xe}function Ze(t){function e(n,i){if(b(n)){var r={};return o(n,function(t,n){r[n]=e(n,t)}),r}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",en),e("date",hn),e("filter",Qe),e("json",dn),e("limitTo",fn),e("lowercase",fr),e("number",nn),e("orderBy",pn),e("uppercase",pr)}function Qe(){return function(t,e,n){if(!r(t)){if(null==t)return t;throw i("filter")("notarray",t)}var o;switch(tn(e)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":e=function(t,e,n){var i=b(t)&&"$"in t;return!0===e?e=I:_(e)||(e=function(t,e){return!(v(t)||(null===t||null===e?t!==e:b(e)||b(t)&&!m(t)||(t=An(""+t),e=An(""+e),-1===t.indexOf(e))))}),function(r){return i&&!b(r)?Je(r,t.$,e,!1):Je(r,t,e,n)}}(e,n,o);break;default:return t}return Array.prototype.filter.call(t,e)}}function Je(t,e,n,i,r){var o=tn(t),s=tn(e);if("string"===s&&"!"===e.charAt(0))return!Je(t,e.substring(1),n,i);if(Wn(t))return t.some(function(t){return Je(t,e,n,i)});switch(o){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&Je(t[a],e,n,!0))return!0;return!r&&Je(t,e,n,!1)}if("object"===s){for(a in e)if(!_(r=e[a])&&!v(r)&&!Je((o="$"===a)?t:t[a],r,n,o,o))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function tn(t){return null===t?"null":typeof t}function en(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:rn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function nn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:rn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function rn(t,e,n,i,r){if(!x(t)&&!C(t)||isNaN(t))return"";var o=!isFinite(t),s=!1,a=Math.abs(t)+"",l="";if(o)l="∞";else{for(function(t,e,n,i){var r=t.d,o=r.length-t.i;if(i=r[n=(e=v(e)?Math.min(Math.max(n,o),i):+e)+t.i],0<n)r.splice(n);else{t.i=1,r.length=n=e+1;for(var s=0;s<n;s++)r[s]=0}for(5<=i&&r[n-1]++;o<e;o++)r.push(0);(e=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0))&&(r.unshift(e),t.i++)}(s=function(t){var e,n,i,r,o,s=0;for(-1<(n=t.indexOf(lr))&&(t=t.replace(lr,"")),0<(i=t.search(/e/i))?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)==ur;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==ur;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>ar&&(e=e.splice(0,ar-1),s=n-1,n=1),{d:e,e:s,i:n}}(a),r,e.minFrac,e.maxFrac),l=s.d,a=s.i,r=s.e,o=[],s=l.reduce(function(t,e){return t&&!e},!0);0>a;)l.unshift(0),a++;for(0<a?o=l.splice(a,l.length):(o=l,l=[0]),a=[],l.length>=e.lgSize&&a.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)a.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&a.unshift(l.join("")),l=a.join(n),o.length&&(l+=i+o.join("")),r&&(l+="e+"+r)}return 0>t&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function on(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t=ur+t;return n&&(t=t.substr(t.length-e)),i+t}function sn(t,e,n,i){return n=n||0,function(r){return r=r["get"+t](),(0<n||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),on(r,e,i)}}function an(t,e){return function(n,i){var r=n["get"+t]();return i[On(e?"SHORT"+t:t)][r]}}function ln(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function un(t){return function(e){var n=ln(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,on(e=1+Math.round(e/6048e5),t)}}function cn(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function hn(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var i=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=h(e[9]+e[10]),r=h(e[9]+e[11])),o.call(t,h(e[1]),h(e[2])-1,h(e[3])),i=h(e[4]||0)-i,r=h(e[5]||0)-r,o=h(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),s.call(t,i,r,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,x(n)&&(n=dr.test(n)?h(n):e(n)),C(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;i;)(a=hr.exec(i))?i=(u=L(u,a,1)).pop():(u.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=B(r,c),n=j(n,r,!0)),o(u,function(e){s=cr[e],l+=s?s(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function dn(){return function(t,e){return v(e)&&(e=2),F(t,e)}}function fn(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):h(e),isNaN(e)?t:(C(t)&&(t=t.toString()),Wn(t)||x(t)?(n=0>(n=!n||isNaN(n)?0:h(n))?Math.max(0,t.length+n):n,0<=e?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function pn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var i=1,r=p;if(_(e))r=e;else if(x(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e)).constant)){var o=r();r=function(t){return t[o]}}return{get:r,descending:i*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}return function(t,i,o){if(!r(t))return t;Wn(i)||(i=[i]),0===i.length&&(i=["+"]);var s=e(i,o);return s.push({get:function(){return{}},descending:o?-1:1}),(t=Array.prototype.map.call(t,function(t,e){return{value:t,predicateValues:s.map(function(i){var r=i.get(t);return i=typeof r,null===r?(i="string",r="null"):"string"===i?r=r.toLowerCase():"object"===i&&("function"==typeof r.valueOf&&n(r=r.valueOf())||m(r)&&n(r=r.toString())||(r=e)),{value:r,type:i}})}})).sort(function(t,e){for(var n=0,i=0,r=s.length;i<r;++i){n=t.predicateValues[i];var o=e.predicateValues[i],a=0;if(n.type===o.type?n.value!==o.value&&(a=n.value<o.value?-1:1):a=n.type<o.type?-1:1,n=a*s[i].descending)break}return n}),t.map(function(t){return t.value})}}function gn(t){return _(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function mn(t,e,i,r,s){var a=this,l=[];a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=vr,a.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},a.$addControl=function(t){nt(t.$name,"input"),l.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),o(a.$$success,function(e,n){a.$setValidity(n,null,t)}),P(l,t),t.$$parentForm=vr},_n({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(P(i,n),0===i.length&&delete t[e])},$animate:r}),a.$setDirty=function(){r.removeClass(t,Jr),r.addClass(t,to),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(t,Jr,to+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(l,function(t){t.$setPristine()})},a.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,"ng-submitted"),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function vn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function yn(t,e,n,i,r,o){var s=An(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,u()})}var l,u=function(t){if(l&&(o.defer.cancel(l),l=null),!a){var r=e.val();t=t&&t.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=Un(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,t)}};if(r.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&19>e||37<=e&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),Mr[s]&&i.$$hasNativeValidators&&s===n.type&&e.on("keydown wheel mousedown",function(t){if(!l){var e=this.validity,n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||u(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function bn(t,e){return function(n,i){var r,s;if(k(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),xr.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function wn(t,e,i,r){return function(o,s,a,l,u,c,h){function d(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function f(t){return y(t)&&!k(t)?i(t)||n:t}xn(o,s,a,l),yn(0,s,a,l,u,c);var p,g,m,b=l&&l.$options&&l.$options.timezone;(l.$$parserName=t,l.$parsers.push(function(t){return l.$isEmpty(t)?null:e.test(t)?(t=i(t,p),b&&(t=j(t,b)),t):n}),l.$formatters.push(function(t){if(t&&!k(t))throw no("datefmt",t);return d(t)?((p=t)&&b&&(p=j(p,b,!0)),h("date")(t,r,b)):(p=null,"")}),y(a.min)||a.ngMin)&&(l.$validators.min=function(t){return!d(t)||v(g)||i(t)>=g},a.$observe("min",function(t){g=f(t),l.$validate()}));(y(a.max)||a.ngMax)&&(l.$validators.max=function(t){return!d(t)||v(m)||i(t)<=m},a.$observe("max",function(t){m=f(t),l.$validate()}))}}function xn(t,e,i,r){(r.$$hasNativeValidators=b(e[0].validity))&&r.$parsers.push(function(t){var i=e.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:t})}function Cn(t,e,n,i,r){if(y(i)){if(!(t=t(i)).constant)throw no("constexpr",n,i);return t(e)}return r}function kn(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){var e=[];return Wn(t)?(o(t,function(t){e=e.concat(r(t))}),e):x(t)?t.split(" "):b(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,l){function u(t){t=c(t,1),l.$addClass(t)}function c(t,e){var n=a.data("$classCounts")||ot(),i=[];return o(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),a.data("$classCounts",n),i.join(" ")}function h(t,e){var r=i(e,t),o=i(t,e);r=c(r,1),o=c(o,-1);r&&r.length&&n.addClass(a,r),o&&o.length&&n.removeClass(a,o)}function d(t){if(!0===e||s.$index%2===e){var n=r(t||[]);if(f){if(!I(t,f)){h(r(f),n)}}else u(n)}f=Wn(t)?t.map(function(t){return N(t)}):N(t)}var f;s.$watch(l[t],d,!0),l.$observe("class",function(e){d(s.$eval(l[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(l[t]));o===e?u(a):(o=c(a,-1),l.$removeClass(o))}})}}}]}function _n(t){function e(t,e){e&&!s[t]?(u.addClass(o,t),s[t]=!0):!e&&s[t]&&(u.removeClass(o,t),s[t]=!1)}function i(t,n){t=t?"-"+J(t,"-"):"",e(Zr+t,!0===n),e(Qr+t,!1===n)}var r=t.ctrl,o=t.$element,s={},a=t.set,l=t.unset,u=t.$animate;s[Qr]=!(s[Zr]=o.hasClass(Zr)),r.$setValidity=function(t,o,s){v(o)?(r.$pending||(r.$pending={}),a(r.$pending,t,s)):(r.$pending&&l(r.$pending,t,s),Sn(r.$pending)&&(r.$pending=n)),T(o)?o?(l(r.$error,t,s),a(r.$$success,t,s)):(a(r.$error,t,s),l(r.$$success,t,s)):(l(r.$error,t,s),l(r.$$success,t,s)),r.$pending?(e(eo,!0),r.$valid=r.$invalid=n,i("",null)):(e(eo,!1),r.$valid=Sn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),i(t,o=r.$pending&&r.$pending[t]?n:!r.$error[t]&&(!!r.$$success[t]||null)),r.$$parentForm.$setValidity(t,o,r)}}function Sn(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var $n,En,Tn,Dn,Mn=/^\/(.+)\/([a-z]*)$/,An=function(t){return x(t)?t.toLowerCase():t},Pn=Object.prototype.hasOwnProperty,On=function(t){return x(t)?t.toUpperCase():t},Nn=[].slice,In=[].splice,Ln=[].push,Rn=Object.prototype.toString,Hn=Object.getPrototypeOf,Fn=i("ng"),zn=t.angular||(t.angular={}),Bn=0;$n=e.documentMode,f.$inject=[],p.$inject=[];var jn,Wn=Array.isArray,Vn=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Un=function(t){return x(t)?t.trim():t},qn=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Yn=function(){if(!y(Yn.rules)){var t=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Yn.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=Yn;try{new Function(""),n=!1}catch(t){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return Yn.rules},Gn=function(){if(y(Gn.name_))return Gn.name_;var t,n,i,r,o=Kn.length;for(n=0;n<o;++n)if(i=Kn[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Gn.name_=r},Xn=/:/g,Kn=["ng-","data-ng-","ng:","x-ng-"],Zn=/[A-Z]/g,Qn=!1,Jn=3,ti={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};ct.expando="ng339";var ei=ct.cache={},ni=1;ct._data=function(t){return this.cache[t[this.expando]]||{}};var ii=/([\:\-\_]+(.))/g,ri=/^moz([A-Z])/,oi={mouseleave:"mouseout",mouseenter:"mouseover"},si=i("jqLite"),ai=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,li=/<|&#?\w+;/,ui=/<([\w:-]+)/,ci=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,hi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hi.optgroup=hi.option,hi.tbody=hi.tfoot=hi.colgroup=hi.caption=hi.thead,hi.th=hi.td;var di=Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},fi=ct.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ct(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return En(0<=t?this[t]:this[this.length+t])},length:0,push:Ln,sort:[].sort,splice:[].splice},pi={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){pi[An(t)]=t});var gi={};o("input select option textarea button form details".split(" "),function(t){gi[t]=!0});var mi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:mt,removeData:pt,hasData:function(t){for(var e in ei[t.ng339])return!0;return!1}},function(t,e){ct[e]=t}),o({data:mt,inheritedData:Ct,scope:function(t){return En.data(t,"$scope")||Ct(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return En.data(t,"$isolateScope")||En.data(t,"$isolateScopeNoTemplate")},controller:xt,injector:function(t){return Ct(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:vt,css:function(t,e,n){if(e=st(e),!y(n))return t.style[e];t.style[e]=n},attr:function(t,e,i){var r=t.nodeType;if(r!==Jn&&2!==r&&8!==r)if(r=An(e),pi[r]){if(!y(i))return t[e]||(t.attributes.getNamedItem(e)||f).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(y(i))t.setAttribute(e,i);else if(t.getAttribute)return null===(t=t.getAttribute(e,2))?n:t},prop:function(t,e,n){if(!y(n))return t[e];t[e]=n},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return 1===n||n===Jn?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===A(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(v(e))return t.innerHTML;dt(t,!0),t.innerHTML=e},empty:kt},function(t,e){ct.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==kt&&v(2==t.length&&t!==vt&&t!==xt?e:n)){if(b(e)){for(i=0;i<o;i++)if(t===mt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(o=v(i=t.$dv)?Math.min(o,1):o,r=0;r<o;r++){var s=t(this[r],e,n);i=i?i+s:s}return i}for(i=0;i<o;i++)t(this[i],e,n);return this}}),o({removeData:pt,on:function(t,e,i,r){if(y(r))throw si("onargs");if(at(t)){var o=(r=gt(t,!0)).events,s=r.handle;s||(s=r.handle=function(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=r.specialHandlerWrapper||$t;1<o&&(r=N(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||a(t,n,r[l])}};return n.elem=t,n}(t,o));for(var a=(r=0<=e.indexOf(" ")?e.split(" "):[e]).length,l=function(e,n,r){var a=o[e];a||((a=o[e]=[]).specialHandlerWrapper=n,"$destroy"===e||r||t.addEventListener(e,s,!1)),a.push(i)};a--;)e=r[a],oi[e]?(l(oi[e],Et),l(e,n,!0)):l(e)}},off:ft,one:function(t,e,n){(t=En(t)).on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;dt(t),o(new ct(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){if(1===(n=t.nodeType)||11===n)for(var n=0,i=(e=new ct(e)).length;n<i;n++)t.appendChild(e[n])},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;o(new ct(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){ut(t,En(e).eq(0).clone()[0])},remove:_t,detach:function(t){_t(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,r=0,o=(e=new ct(e)).length;r<o;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:bt,removeClass:yt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;v(i)&&(i=!vt(t,e)),(i?bt:yt)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ht,triggerHandler:function(t,e,n){var i,r,s=e.type||e,a=gt(t);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:s,target:t},e.type&&(i=u(i,e)),e=N(a),r=n?[i].concat(n):[i],o(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){ct.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;o<s;o++)v(r)?y(r=t(this[o],e,n,i))&&(r=En(r)):wt(r,t(this[o],e,n,i));return y(r)?r:this},ct.prototype.bind=ct.prototype.on,ct.prototype.unbind=ct.prototype.off}),Mt.prototype={put:function(t,e){this[Dt(t,this.nextUid)]=e},get:function(t){return this[Dt(t,this.nextUid)]},remove:function(t){var e=this[t=Dt(t,this.nextUid)];return delete this[t],e}};var vi=[function(){this.$get=[function(){return Mt}]}],yi=/^[^\(]*\(\s*([^\)]*)\)/m,bi=/,/,wi=/^\s*(_?)(\S+?)\1\s*$/,xi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ci=i("$injector");At.$$annotate=function(t,e,n){var i;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw x(n)&&n||(n=t.name||function(t){return(t=t.toString().replace(xi,"").match(yi))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),Ci("strictdi",n);o((e=(e=t.toString().replace(xi,"")).match(yi))[1].split(bi),function(t){t.replace(wi,function(t,e,n){i.push(n)})})}t.$inject=i}}else Wn(t)?(et(t[e=t.length-1],"fn"),i=t.slice(0,e)):et(t,"fn",!0);return i};var ki=i("$animate"),_i=function(){this.$get=function(){}},Si=function(){var t=new Mt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&o(e=x(e)?e.split(" "):Wn(e)?e:[],function(e){e&&(i=!0,t[e]=n)}),i}function s(){o(e,function(e){var n=t.get(e);if(n){var i=function(t){x(t)&&(t=t.split(" "));var e=ot();return o(t,function(t){t.length&&(e[t]=!0)}),e}(e.attr("class")),r="",s="";o(n,function(t,e){t!==!!i[e]&&(t?r+=(r.length?" ":"")+e:s+=(s.length?" ":"")+e)}),o(e,function(t){r&&bt(t,r),s&&yt(t,s)}),t.remove(e)}}),e.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(o,a,l,u){return u&&u(),(l=l||{}).from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&(a=l.addClass,u=l.removeClass,a=r(l=t.get(o)||{},a,!0),u=r(l,u,!1),(a||u)&&(t.put(o,l),e.push(o),1===e.length&&i.$$postDigest(s))),(o=new n).complete(),o}}}]},$i=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw ki("notcsel",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw ki("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i;t:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break t}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&En(i),r=r&&En(r),e(n,i=i||r.parent(),r),t.push(n,"enter",Nt(o))},move:function(n,i,r,o){return i=i&&En(i),r=r&&En(r),e(n,i=i||r.parent(),r),t.push(n,"move",Nt(o))},leave:function(e,n){return t.push(e,"leave",Nt(n),function(){e.remove()})},addClass:function(e,n,i){return(i=Nt(i)).addClass=Ot(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return(i=Nt(i)).removeClass=Ot(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return(r=Nt(r)).addClass=Ot(r.addClass,n),r.removeClass=Ot(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return(o=Nt(o)).from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,i):i,o.tempClasses=Ot(o.tempClasses,r||"ng-inline-animate"),t.push(e,"animate",o)}}}]}],Ei=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),1<n.length||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Ti=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,i,r){function s(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){var n=i[0];n&&n.hidden?r(t,0,!1):e(t)},this._state=0}return s.chain=function(t,e){var n=0;!function i(){n===t.length?e(!0):t[n](function(t){!1===t?e(!1):(n++,i())})}()},s.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;o(t,function(t){t.done(n)})},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},s}]},Di=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o.addClass&&(e.addClass(o.addClass),o.addClass=null),o.removeClass&&(e.removeClass(o.removeClass),o.removeClass=null),o.to&&(e.css(o.to),o.to=null),s||a.complete(),s=!0}),a}var o=i||{};o.$$prepared||(o=O(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(e.css(o.from),o.from=null);var s,a=new n;return{start:r,end:r}}}]},Mi=i("$compile");Ht.$inject=["$provide","$$sanitizeUriProvider"];var Ai=/^((?:x|data)[\:\-_])/i,Pi=i("$controller"),Oi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ni=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof En&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Ii="application/json",Li={"Content-Type":Ii+";charset=utf-8"},Ri=/^\[|^\{(?!\{)/,Hi={"[":/]$/,"{":/}$/},Fi=/^\)\]\}',?\n/,zi=i("$http"),Bi=function(t){return function(){throw zi("legacy",t)}},ji=zn.$interpolateMinErr=i("$interpolate");ji.throwNoconcat=function(t){throw ji("noconcat",t)},ji.interr=function(t,e){return ji("interr",t,e.toString())};var Wi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Vi={http:80,https:443,ftp:21},Ui=i("$location"),qi={$$html5:!1,$$replace:!1,absUrl:de("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=Wi.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:de("$$protocol"),host:de("$$host"),port:de("$$port"),path:fe("$$path",function(t){return"/"==(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||C(t))t=t.toString(),this.$$search=U(t);else{if(!b(t))throw Ui("isrcharg");o(t=O(t,{}),function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:fe("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([he,ce,ue],function(t){t.prototype=Object.create(qi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==ue||!this.$$html5)throw Ui("nostate");return this.$$state=v(e)?null:e,this}});var Yi=i("$parse"),Gi=Function.prototype.call,Xi=Function.prototype.apply,Ki=Function.prototype.bind,Zi=ot();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Zi[t]=!0});var Qi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ji=function(t){this.options=t};Ji.prototype={constructor:Ji,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(t=this.text.charAt(this.index))||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=Zi[e],r=Zi[n];Zi[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdent:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Yi("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=An(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);i=i+o;if(r)"u"===o?((r=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Qi[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var tr=function(t,e){this.lexer=t,this.options=e};tr.Program="Program",tr.ExpressionStatement="ExpressionStatement",tr.AssignmentExpression="AssignmentExpression",tr.ConditionalExpression="ConditionalExpression",tr.LogicalExpression="LogicalExpression",tr.BinaryExpression="BinaryExpression",tr.UnaryExpression="UnaryExpression",tr.CallExpression="CallExpression",tr.MemberExpression="MemberExpression",tr.Identifier="Identifier",tr.Literal="Literal",tr.ArrayExpression="ArrayExpression",tr.Property="Property",tr.ObjectExpression="ObjectExpression",tr.ThisExpression="ThisExpression",tr.NGValueParameter="NGValueParameter",tr.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:tr.Program,body:t}},expressionStatement:function(){return{type:tr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:tr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:tr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:tr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:tr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:tr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=O(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:tr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:tr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:tr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:tr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.expression())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:tr.Identifier,name:t.text}},constant:function(){return{type:tr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:tr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:tr.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:tr.ObjectExpression,properties:e}},throwError:function(t,e){throw Yi("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Yi("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Yi("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=(t=this.tokens[t]).text;if(o===e||o===n||o===i||o===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return!!(t=this.peek(t,e,n,i))&&(this.tokens.shift(),t)},constants:{true:{type:tr.Literal,value:!0},false:{type:tr.Literal,value:!1},null:{type:tr.Literal,value:null},undefined:{type:tr.Literal,value:n},this:{type:tr.ThisExpression}}},Te.prototype={compile:function(t,e){var i=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},ke(r,i.$filter);var s,a="";return this.stage="assign",(s=$e(r))&&(this.state.computing="assign",a=this.nextId(),this.recurse(s,a),this.return_(a),a="fn.assign="+this.generateFunction("assign","s,v,l")),s=_e(r.body),i.stage="inputs",o(s,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",a)(this.$filter,me,ye,be,ve,we,xe,Ce,t),this.state=this.stage=n,a.literal=Ee(r),a.constant=r.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,s,a){var l,u,c,h,d=this;if(r=r||f,!a&&y(t.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,s,!0));else switch(t.type){case tr.Program:o(t.body,function(e,i){d.recurse(e.expression,n,n,function(t){u=t}),i!==t.body.length-1?d.current().body.push(u,";"):d.return_(u)});break;case tr.Literal:h=this.escape(t.value),this.assign(e,h),r(h);break;case tr.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),h=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,h),r(h);break;case tr.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){u=t}),h="+"===t.operator?this.plus(l,u):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(u,0):"("+l+")"+t.operator+"("+u+")",this.assign(e,h),r(h);break;case tr.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),r(e);break;case tr.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),r(e);break;case tr.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),me(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),function(){d.if_("inputs"===d.stage||"s",function(){s&&1!==s&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||Me(t.name))&&d.addEnsureSafeObject(e),r(e);break;case tr.MemberExpression:l=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,l,n,function(){d.if_(d.notNull(l),function(){s&&1!==s&&d.addEnsureSafeAssignContext(l),t.computed?(u=d.nextId(),d.recurse(t.property,u),d.getStringValue(u),d.addEnsureSafeMemberName(u),s&&1!==s&&d.if_(d.not(d.computedMember(l,u)),d.lazyAssign(d.computedMember(l,u),"{}")),h=d.ensureSafeObject(d.computedMember(l,u)),d.assign(e,h),i&&(i.computed=!0,i.name=u)):(me(t.property.name),s&&1!==s&&d.if_(d.not(d.nonComputedMember(l,t.property.name)),d.lazyAssign(d.nonComputedMember(l,t.property.name),"{}")),h=d.nonComputedMember(l,t.property.name),(d.state.expensiveChecks||Me(t.property.name))&&(h=d.ensureSafeObject(h)),d.assign(e,h),i&&(i.computed=!1,i.name=t.property.name))},function(){d.assign(e,"undefined")}),r(e)},!!s);break;case tr.CallExpression:e=e||this.nextId(),t.filter?(u=d.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=d.nextId();d.recurse(t,e),c.push(e)}),h=u+"("+c.join(",")+")",d.assign(e,h),r(e)):(u=d.nextId(),l={},c=[],d.recurse(t.callee,u,l,function(){d.if_(d.notNull(u),function(){d.addEnsureSafeFunction(u),o(t.arguments,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(d.ensureSafeObject(t))})}),l.name?(d.state.expensiveChecks||d.addEnsureSafeObject(l.context),h=d.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):h=u+"("+c.join(",")+")",h=d.ensureSafeObject(h),d.assign(e,h)},function(){d.assign(e,"undefined")}),r(e)}));break;case tr.AssignmentExpression:if(u=this.nextId(),l={},!Se(t.left))throw Yi("lval");this.recurse(t.left,n,l,function(){d.if_(d.notNull(l.context),function(){d.recurse(t.right,u),d.addEnsureSafeObject(d.member(l.context,l.name,l.computed)),d.addEnsureSafeAssignContext(l.context),h=d.member(l.context,l.name,l.computed)+t.operator+u,d.assign(e,h),r(e||h)})},1);break;case tr.ArrayExpression:c=[],o(t.elements,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(t)})}),h="["+c.join(",")+"]",this.assign(e,h),r(h);break;case tr.ObjectExpression:c=[],o(t.properties,function(t){d.recurse(t.value,d.nextId(),n,function(e){c.push(d.escape(t.key.type===tr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+c.join(",")+"}",this.assign(e,h),r(h);break;case tr.ThisExpression:this.assign(e,"s"),r("s");break;case tr.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw Yi("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},De.prototype={compile:function(t,e){var n,i,r,s=this,a=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,ke(a,s.$filter),(n=$e(a))&&(i=this.recurse(n)),(n=_e(a.body))&&(r=[],o(n,function(t,e){var n=s.recurse(t);t.input=n,r.push(n),t.watchId=e}));var l=[];return o(a.body,function(t){l.push(s.recurse(t.expression))}),n=0===a.body.length?function(){}:1===a.body.length?l[0]:function(t,e){var n;return o(l,function(i){n=i(t,e)}),n},i&&(n.assign=function(t,e,n){return i(t,n,e)}),r&&(n.inputs=r),n.literal=Ee(a),n.constant=a.constant,n},recurse:function(t,e,i){var r,s,a,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case tr.Literal:return this.value(t.value,e);case tr.UnaryExpression:return s=this.recurse(t.argument),this["unary"+t.operator](s,e);case tr.BinaryExpression:case tr.LogicalExpression:return r=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](r,s,e);case tr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case tr.Identifier:return me(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||Me(t.name),e,i,l.expression);case tr.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(me(t.property.name,l.expression),s=t.property.name),t.computed&&(s=this.recurse(t.property)),t.computed?this.computedMember(r,s,e,i,l.expression):this.nonComputedMember(r,s,l.expensiveChecks,e,i,l.expression);case tr.CallExpression:return a=[],o(t.arguments,function(t){a.push(l.recurse(t))}),t.filter&&(s=this.$filter(t.callee.name)),t.filter||(s=this.recurse(t.callee,!0)),t.filter?function(t,i,r,o){for(var l=[],u=0;u<a.length;++u)l.push(a[u](t,i,r,o));return t=s.apply(n,l,o),e?{context:n,name:n,value:t}:t}:function(t,n,i,r){var o,u=s(t,n,i,r);if(null!=u.value){ye(u.context,l.expression),be(u.value,l.expression),o=[];for(var c=0;c<a.length;++c)o.push(ye(a[c](t,n,i,r),l.expression));o=ye(u.value.apply(u.context,o),l.expression)}return e?{value:o}:o};case tr.AssignmentExpression:return r=this.recurse(t.left,!0,1),s=this.recurse(t.right),function(t,n,i,o){var a=r(t,n,i,o);return t=s(t,n,i,o),ye(a.value,l.expression),we(a.context),a.context[a.name]=t,e?{value:t}:t};case tr.ArrayExpression:return a=[],o(t.elements,function(t){a.push(l.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case tr.ObjectExpression:return a=[],o(t.properties,function(t){a.push({key:t.key.type===tr.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case tr.ThisExpression:return function(t){return e?{value:t}:t};case tr.NGValueParameter:return function(t,n,i,r){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){return n=y(n=t(n,i,r,o))?+n:0,e?{value:n}:n}},"unary-":function(t,e){return function(n,i,r,o){return n=y(n=t(n,i,r,o))?-n:0,e?{value:n}:n}},"unary!":function(t,e){return function(n,i,r,o){return n=!t(n,i,r,o),e?{value:n}:n}},"binary+":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s);return a=Ce(a,i=e(i,r,o,s)),n?{value:a}:a}},"binary-":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s);return i=e(i,r,o,s),a=(y(a)?a:0)-(y(i)?i:0),n?{value:a}:a}},"binary*":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)*e(i,r,o,s),n?{value:i}:i}},"binary/":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)/e(i,r,o,s),n?{value:i}:i}},"binary%":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)%e(i,r,o,s),n?{value:i}:i}},"binary===":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)===e(i,r,o,s),n?{value:i}:i}},"binary!==":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)!==e(i,r,o,s),n?{value:i}:i}},"binary==":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)==e(i,r,o,s),n?{value:i}:i}},"binary!=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)!=e(i,r,o,s),n?{value:i}:i}},"binary<":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)<e(i,r,o,s),n?{value:i}:i}},"binary>":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)>e(i,r,o,s),n?{value:i}:i}},"binary<=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)<=e(i,r,o,s),n?{value:i}:i}},"binary>=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)>=e(i,r,o,s),n?{value:i}:i}},"binary&&":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)&&e(i,r,o,s),n?{value:i}:i}},"binary||":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)||e(i,r,o,s),n?{value:i}:i}},"ternary?:":function(t,e,n,i){return function(r,o,s,a){return r=t(r,o,s,a)?e(r,o,s,a):n(r,o,s,a),i?{value:r}:r}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,r,o){return function(s,a,l,u){return s=a&&t in a?a:s,r&&1!==r&&s&&!s[t]&&(s[t]={}),a=s?s[t]:n,e&&ye(a,o),i?{context:s,name:t,value:a}:a}},computedMember:function(t,e,n,i,r){return function(o,s,a,l){var u,c,h=t(o,s,a,l);return null!=h&&(me(u=ve(u=e(o,s,a,l)),r),i&&1!==i&&(we(h),h&&!h[u]&&(h[u]={})),ye(c=h[u],r)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(t,e,i,r,o,s){return function(a,l,u,c){return a=t(a,l,u,c),o&&1!==o&&(we(a),a&&!a[e]&&(a[e]={})),l=null!=a?a[e]:n,(i||Me(e))&&ye(l,s),r?{context:a,name:e,value:l}:l}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var er=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new tr(this.lexer),this.astCompiler=n.csp?new De(this.ast,e):new Te(this.ast,e)};er.prototype={constructor:er,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var nr=Object.prototype.valueOf,ir=i("$sce"),rr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},or=(Mi=i("$compile"),e.createElement("a")),sr=qe(t.location.href);Xe.$inject=["$document"],Ze.$inject=["$provide"];var ar=22,lr=".",ur="0";en.$inject=["$locale"],nn.$inject=["$locale"];var cr={yyyy:sn("FullYear",4),yy:sn("FullYear",2,0,!0),y:sn("FullYear",1),MMMM:an("Month"),MMM:an("Month",!0),MM:sn("Month",2,1),M:sn("Month",1,1),dd:sn("Date",2),d:sn("Date",1),HH:sn("Hours",2),H:sn("Hours",1),hh:sn("Hours",2,-12),h:sn("Hours",1,-12),mm:sn("Minutes",2),m:sn("Minutes",1),ss:sn("Seconds",2),s:sn("Seconds",1),sss:sn("Milliseconds",3),EEEE:an("Day"),EEE:an("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return(0<=(t=-1*n)?"+":"")+(on(Math[0<t?"floor":"ceil"](t/60),2)+on(Math.abs(t%60),2))},ww:un(2),w:un(1),G:cn,GG:cn,GGG:cn,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},hr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,dr=/^\-?\d+$/;hn.$inject=["$locale"];var fr=g(An),pr=g(On);pn.$inject=["$parse"];var gr=g({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Rn.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),mr={};o(pi,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=Ft("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,0,r)}),mr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(mi,function(t,e){mr[e]=function(){return{priority:100,link:function(t,n,i){"ngPattern"===e&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Mn))?i.$set("ngPattern",new RegExp(n[1],n[2])):t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Ft("ng-"+t);mr[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Rn.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){e?(r.$set(s,e),$n&&o&&i.prop(o,r[s])):"href"===t&&r.$set(s,null)})}}}});var vr={$addControl:f,$$renameControl:function(t,e){t.$name=e},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};mn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yr=function(t){return["$timeout","$parse",function(e,i){function r(t){return""===t?i('this[""]').assign:i(t).assign||f}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:mn,compile:function(i,o){i.addClass(Jr).addClass(Zr);var s=o.name?"name":!(!t||!o.ngForm)&&"ngForm";return{pre:function(t,i,o,a){var l=a[0];if(!("action"in o)){var c=function(e){t.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),e.preventDefault()};i[0].addEventListener("submit",c,!1),i.on("$destroy",function(){e(function(){i[0].removeEventListener("submit",c,!1)},0,!1)})}(a[1]||l.$$parentForm).$addControl(l);var h=s?r(l.$name):f;s&&(h(t,l),o.$observe(s,function(e){l.$name!==e&&(h(t,n),l.$$parentForm.$$renameControl(l,e),(h=r(l.$name))(t,l))})),i.on("$destroy",function(){l.$$parentForm.$removeControl(l),h(t,n),u(l,vr)})}}}}}]},br=yr(),wr=yr(!0),xr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Cr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,kr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,_r=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Sr=/^(\d{4})-(\d{2})-(\d{2})$/,$r=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Er=/^(\d{4})-W(\d\d)$/,Tr=/^(\d{4})-(\d\d)$/,Dr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mr=ot();o(["date","datetime-local","month","time","week"],function(t){Mr[t]=!0});var Ar={text:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i)},date:wn("date",Sr,bn(Sr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":wn("datetimelocal",$r,bn($r,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:wn("time",Dr,bn(Dr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:wn("week",Er,function(t,e){if(k(t))return t;if(x(t)){Er.lastIndex=0;var n=Er.exec(t);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,l=ln(i);r=7*(r-1);return e&&(n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),a=e.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,s,a)}}return NaN},"yyyy-Www"),month:wn("month",Tr,bn(Tr,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,r,o,s){var a,l;(xn(0,e,0,r),yn(0,e,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:_r.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!C(t))throw no("numfmt",t);t=t.toString()}return t}),y(i.min)||i.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||v(a)||t>=a},i.$observe("min",function(t){y(t)&&!C(t)&&(t=parseFloat(t,10)),a=C(t)&&!isNaN(t)?t:n,r.$validate()}));(y(i.max)||i.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||v(l)||t<=l},i.$observe("max",function(t){y(t)&&!C(t)&&(t=parseFloat(t,10)),l=C(t)&&!isNaN(t)?t:n,r.$validate()}))},url:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Cr.test(n)}},email:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||kr.test(n)}},radio:function(t,e,n,i){v(n.name)&&e.attr("name",++Bn),e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,r,o,s,a){var l=Cn(a,t,"ngTrueValue",n.ngTrueValue,!0),u=Cn(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return I(t,l)}),i.$parsers.push(function(t){return t?l:u})},hidden:f,button:f,submit:f,reset:f,file:f},Pr=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Ar[An(s.type)]||Ar.text)(r,o,s,a[0],e,t,n,i)}}}}],Or=/^(true|false|\d+)$/,Nr=function(){return{restrict:"A",priority:100,compile:function(t,e){return Or.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ir=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=v(t)?"":t})}}}}],Lr=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){n=t(i.attr(r.$attr.ngBindTemplate)),e.$$addBindingInfo(i,n.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],Rr=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],Hr=g({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Fr=kn("",!0),zr=kn("Odd",0),Br=kn("Even",1),jr=gn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Wr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Vr={},Ur={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Ft("ng-"+t);Vr[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};Ur[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var qr=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,u;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=rt(a.clone),t.leave(u).then(function(){u=null}),a=null))})}}}],Yr=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:zn.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,l,u,c){var h,d,f,p=0,g=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};i.$watch(o,function(o){var l=function(){!y(a)||a&&!i.$eval(a)||e()},d=++p;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&d===p){var e=i.$new();u.template=t,t=c(e,function(t){g(),n.enter(t,null,r).then(l)}),f=t,(h=e).$emit("$includeContentLoaded",o),i.$eval(s)}},function(){i.$$destroyed||d!==p||(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Gr=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),t(lt(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),t(i.contents())(n))}}}],Xr=gn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Kr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var s=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?Un(s):s;r.$parsers.push(function(t){if(!v(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(a?Un(t):t)}),e}}),r.$formatters.push(function(t){return Wn(t)?t.join(s):n}),r.$isEmpty=function(t){return!t||!t.length}}}},Zr="ng-valid",Qr="ng-invalid",Jr="ng-pristine",to="ng-dirty",eo="ng-pending",no=i("ngModel"),io=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,s,a,l,u,c,h){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t),this.$$parentForm=vr;var d,p=s(i.ngModel),g=p.assign,m=p,b=g,w=null,x=this;this.$$setOptions=function(t){if((x.$options=t)&&t.getterSetter){var e=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");m=function(t){var n=p(t);return _(n)&&(n=e(t)),n},b=function(t,e){_(p(t))?n(t,{$$$p:x.$modelValue}):g(t,x.$modelValue)}}else if(!p.assign)throw no("nonassign",i.ngModel,W(r))},this.$render=f,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!=t};var k=0;_n({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,a.removeClass(r,to),a.addClass(r,Jr)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,a.removeClass(r,Jr),a.addClass(r,to),x.$$parentForm.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,a.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,a.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(w),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!C(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$rawModelValue,e=x.$valid,i=x.$modelValue,r=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,x.$$lastCommittedViewValue,function(o){r||e===o||(x.$modelValue=o?t:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(t,e){a===k&&x.$setValidity(t,e)}function s(t){a===k&&i(t)}var a=++k;!function(){var t=x.$$parserName||"parse";return v(d)?(r(t,null),!0):(d||(o(x.$validators,function(t,e){r(e,null)}),o(x.$asyncValidators,function(t,e){r(e,null)})),r(t,d),d)}()?s(!1):function(){var n=!0;return o(x.$validators,function(i,o){var s=i(t,e);n=n&&s,r(o,s)}),!!n||(o(x.$asyncValidators,function(t,e){r(e,null)}),!1)}()?function(){var i=[],a=!0;o(x.$asyncValidators,function(o,s){var l=o(t,e);if(!l||!_(l.then))throw no("nopromise",l);r(s,n),i.push(l.then(function(){r(s,!0)},function(t){a=!1,r(s,!1)}))}),i.length?c.all(i).then(function(){s(a)},f):s(!0)}():s(!1)},this.$commitViewValue=function(){var t=x.$viewValue;l.cancel(w),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=x.$$lastCommittedViewValue;if(d=!v(e)||n)for(var i=0;i<x.$parsers.length;i++)if(v(e=x.$parsers[i](e))){d=!1;break}C(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=e,o&&(x.$modelValue=e,x.$modelValue!==r&&x.$$writeModelToScope()),x.$$runValidators(e,x.$$lastCommittedViewValue,function(t){o||(x.$modelValue=t?e:n,x.$modelValue!==r&&x.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){x.$viewValue=t,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n=0,i=x.$options;i&&y(i.debounce)&&(C(i=i.debounce)?n=i:C(i[e])?n=i[e]:C(i.default)&&(n=i.default)),l.cancel(w),n?w=l(function(){x.$commitViewValue()},n):u.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue==x.$modelValue||e==e)){x.$modelValue=x.$$rawModelValue=e,d=n;for(var i=x.$formatters,r=i.length,o=e;r--;)o=i[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,f))}return e})}],ro=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:io,priority:1,compile:function(e){return e.addClass(Jr).addClass("ng-untouched").addClass(Zr),{pre:function(t,e,n,i){var r=i[0];e=i[1]||r.$$parentForm,r.$$setOptions(i[2]&&i[2].$options),e.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],oo=/(\s+|^)default(\s+|$)/,so=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=O(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Un(this.$options.updateOn.replace(oo,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ao=gn({terminal:!0,priority:1e3}),lo=i("ngOptions"),uo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,co=["$compile","$parse",function(t,n){function i(t,e,i){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function s(t){var e;if(!u&&r(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}var a=t.match(uo);if(!a)throw lo("iexp",t,W(e));var l=a[5]||a[7],u=a[6];t=/ as /.test(a[0])&&a[1];var c=a[9];e=n(a[2]?a[1]:l);var h=t&&n(t)||e,d=c&&n(c),f=c?function(t,e){return d(i,e)}:function(t){return Dt(t)},p=function(t,e){return f(t,w(t,e))},g=n(a[2]||a[1]),m=n(a[3]||""),v=n(a[4]||""),y=n(a[8]),b={},w=u?function(t,e){return b[u]=e,b[l]=t,b}:function(t){return b[l]=t,b};return{trackBy:c,getTrackByValue:p,getWatchables:n(y,function(t){for(var e=[],n=s(t=t||[]),r=n.length,o=0;o<r;o++){var l=t===n?o:n[o],u=w(t[l],l);l=f(t[l],u);e.push(l),(a[2]||a[1])&&(l=g(i,u),e.push(l)),a[4]&&(u=v(i,u),e.push(u))}return e}),getOptions:function(){for(var t=[],e={},n=y(i)||[],r=s(n),a=r.length,l=0;l<a;l++){var u=n===r?l:r[l],d=w(n[u],u),b=h(i,d);b=new o(u=f(b,d),b,g(i,d),m(i,d),d=v(i,d));t.push(b),e[u]=b}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[p(t)]},getViewValueFromOption:function(t){return c?zn.copy(t.viewValue):t.viewValue}}}}}var s=e.createElement("option"),a=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:function(e,n,r,l){function u(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function c(t,e,n,i){return e&&An(e.nodeName)===n?n=e:(n=i.cloneNode(!1),e?t.insertBefore(n,e):t.appendChild(n)),n}function h(t){for(var e;t;)e=t.nextSibling,_t(t),t=e}function d(){var t=x&&g.readValue();x=C.getOptions();var e={},i=n[0].firstChild;if(b&&n.prepend(p),i=function(t){var e=p&&p[0],n=w&&w[0];if(e||n)for(;t&&(t===e||t===n||8===t.nodeType||"option"===A(t)&&""===t.value);)t=t.nextSibling;return t}(i),x.items.forEach(function(t){var r,o;t.group?((r=e[t.group])||(r=c(n[0],i,"optgroup",a),i=r.nextSibling,r.label=t.group,r=e[t.group]={groupElement:r,currentOptionElement:r.firstChild}),u(t,o=c(r.groupElement,r.currentOptionElement,"option",s)),r.currentOptionElement=o.nextSibling):(u(t,o=c(n[0],i,"option",s)),i=o.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(i),f.$render(),!f.$isEmpty(t)){var r=g.readValue();(C.trackBy||m?I(t,r):t===r)||(f.$setViewValue(r),f.$render())}}var f=l[1];if(f){var p,g=l[0],m=r.multiple;l=0;for(var v=n.children(),y=v.length;l<y;l++)if(""===v[l].value){p=v.eq(l);break}var b=!!p,w=En(s.cloneNode(!1));w.val("?");var x,C=i(r.ngOptions,n,e);m?(f.$isEmpty=function(t){return!t||0===t.length},g.writeValue=function(t){x.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){(t=x.getOptionFromViewValue(t))&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var t=[];return o(n.val()||[],function(e){(e=x.selectValueMap[e])&&!e.disabled&&t.push(x.getViewValueFromOption(e))}),t},C.trackBy&&e.$watchCollection(function(){if(Wn(f.$viewValue))return f.$viewValue.map(function(t){return C.getTrackByValue(t)})},function(){f.$render()})):(g.writeValue=function(t){var e=x.getOptionFromViewValue(t);e&&!e.disabled?(n[0].value!==e.selectValue&&(w.remove(),b||p.remove(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||b?(w.remove(),b||n.prepend(p),n.val(""),p.prop("selected",!0),p.attr("selected",!0)):(b||p.remove(),n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0))},g.readValue=function(){var t=x.selectValueMap[n.val()];return t&&!t.disabled?(b||p.remove(),w.remove(),x.getViewValueFromOption(t)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(f.$viewValue)},function(){f.$render()})),b?(p.remove(),t(p)(e),p.removeClass("ng-scope")):p=En(s.cloneNode(!1)),d(),e.$watchCollection(C.getWatchables,d)}}}}}],ho=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function u(t){a.text(t||"")}var c,h=l.count,d=l.$attr.when&&a.attr(l.$attr.when),p=l.offset||0,g=s.$eval(d)||{},m={},y=e.startSymbol(),b=e.endSymbol(),w=y+h+"-"+p+b,x=zn.noop;o(l,function(t,e){var n=r.exec(e);n&&(n=(n[1]?"-":"")+An(n[2]),g[n]=a.attr(l.$attr[e]))}),o(g,function(t,n){m[n]=e(t.replace(i,w))}),s.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);r||i in g||(i=t.pluralCat(i-p)),i===c||r&&C(c)&&isNaN(c)||(x(),v(r=m[i])?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),x=f,u()):x=s.$watch(r,u),c=i)})}}}],fo=["$parse","$animate",function(t,s){var a=i("ngRepeat"),l=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,u){var c=u.ngRepeat,h=e.createComment(" end ngRepeat: "+c+" ");if(!(d=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw a("iexp",c);var d,f=d[1],p=d[2],g=d[3],m=d[4];if(!(d=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw a("iidexp",f);var v=d[3]||d[1],y=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw a("badident",g);var b,w,x,C,k={$id:Dt};return m?b=t(m):(x=function(t,e){return Dt(e)},C=function(t){return t}),function(t,e,i,u,d){b&&(w=function(e,n,i){return y&&(k[y]=e),k[v]=n,k.$index=i,b(t,k)});var f=ot();t.$watchCollection(p,function(i){var u,p,m,b,k,_,S,$,E,T,D=e[0],M=ot();if(g&&(t[g]=i),r(i))$=i,p=w||x;else for(T in p=w||C,$=[],i)Pn.call(i,T)&&"$"!==T.charAt(0)&&$.push(T);for(b=$.length,T=Array(b),u=0;u<b;u++)if(k=i===$?u:$[u],_=i[k],S=p(k,_,u),f[S])E=f[S],delete f[S],M[S]=E,T[u]=E;else{if(M[S])throw o(T,function(t){t&&t.scope&&(f[t.id]=t)}),a("dupes",c,S,_);T[u]={id:S,scope:n,clone:n},M[S]=!0}for(m in f){if(S=rt((E=f[m]).clone),s.leave(S),S[0].parentNode)for(u=0,p=S.length;u<p;u++)S[u].$$NG_REMOVED=!0;E.scope.$destroy()}for(u=0;u<b;u++)if(k=i===$?u:$[u],_=i[k],(E=T[u]).scope){m=D;do{m=m.nextSibling}while(m&&m.$$NG_REMOVED);E.clone[0]!=m&&s.move(rt(E.clone),null,D),D=E.clone[E.clone.length-1],l(E.scope,u,v,_,y,k,b)}else d(function(t,e){E.scope=e;var n=h.cloneNode(!1);t[t.length++]=n,s.enter(t,null,D),D=n,E.clone=t,M[E.id]=E,l(E.scope,u,v,_,y,k,b)});f=M})}}}}],po=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],go=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],mo=gn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),vo=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=[],l=[],u=[],c=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=u.length;i<r;++i)t.cancel(u[i]);for(i=u.length=0,r=c.length;i<r;++i){var d=rt(l[i].clone);c[i].$destroy(),(u[i]=t.leave(d)).then(h(u,i))}l.length=0,c.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(i,r){c.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: "),l.push({clone:i}),t.enter(i,o.parent(),o)})})})}}}],yo=gn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),bo=gn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),wo=gn({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan",W(e));o(function(t){e.empty(),e.append(t)})}}),xo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Co={$setViewValue:f,$render:f},ko=["$element","$scope","$attrs",function(t,i,r){var o=this,s=new Mt;o.ngModelCtrl=Co,o.unknownOption=En(e.createElement("option")),o.renderUnknownOption=function(e){e="? "+Dt(e)+" ?",o.unknownOption.val(e),t.prepend(o.unknownOption),t.val(e)},i.$on("$destroy",function(){o.renderUnknownOption=f}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){if(8!==e[0].nodeType){nt(t,'"option value"'),""===t&&(o.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1),o.ngModelCtrl.$render(),e[0].hasAttribute("selected")&&(e[0].selected=!0)}},o.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(o.emptyOption=n)):s.put(t,e-1))},o.hasOption=function(t){return!!s.get(t)},o.registerOption=function(t,e,n,i,r){var s;i?n.$observe("value",function(t){y(s)&&o.removeOption(s),s=t,o.addOption(t,e)}):r?t.$watch(r,function(t,i){n.$set("value",t),i!==t&&o.removeOption(i),o.addOption(t,e)}):o.addOption(n.value,e);e.on("$destroy",function(){o.removeOption(n.value),o.ngModelCtrl.$render()})}}],_o=function(){return{restrict:"E",require:["select","?ngModel"],controller:ko,priority:1,link:{pre:function(t,e,n,i){var r=i[1];if(r){var s=i[0];if(s.ngModelCtrl=r,e.on("change",function(){t.$apply(function(){r.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Mt(t);o(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var a,l=NaN;t.$watch(function(){l!==r.$viewValue||I(a,r.$viewValue)||(a=N(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}},post:function(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},So=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(y(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var o=e.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(t,e,n,i,r)}}}}],$o=g({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},To=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(x(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp",a,t,W(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||v(s)||s.test(e)}}}}},Do=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=h(t),r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},Mo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var e;if(!Qn){var i=Gn();(Tn=v(i)?t.jQuery:i?t[i]:n)&&Tn.fn.on?(En=Tn,u(Tn.fn,{scope:fi.scope,isolateScope:fi.isolateScope,controller:fi.controller,injector:fi.injector,inheritedData:fi.inheritedData}),e=Tn.cleanData,Tn.cleanData=function(t){var n;if(jn)jn=!1;else for(var i,r=0;null!=(i=t[r]);r++)(n=Tn._data(i,"events"))&&n.$destroy&&Tn(i).triggerHandler("$destroy");e(t)}):En=ct,zn.element=En,Qn=!0}}(),u(zn,{bootstrap:K,copy:O,extend:u,merge:c,equals:I,element:En,forEach:o,injector:At,noop:f,bind:R,toJson:F,fromJson:z,identity:p,isUndefined:v,isDefined:y,isString:x,isFunction:_,isObject:b,isNumber:C,isElement:M,isArray:Wn,version:ti,isDate:k,lowercase:An,uppercase:On,callbacks:{counter:0},getTestability:Q,$$minErr:i,$$csp:Yn,reloadWithDebugInfo:Z}),(Dn=function(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng");return(t=e(t,"angular",Object)).$$minErr=t.$$minErr||i,e(t,"module",function(){var t={};return function(i,o,s){if("hasOwnProperty"===i)throw r("badname","module");return o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,o){return o&&_(o)&&(o.$$moduleName=i),r.push([t,e,arguments]),c}}if(!o)throw n("nomod",i);var r=[],a=[],l=[],u=t("$injector","invoke","push",a),c={_invokeQueue:r,_configBlocks:a,_runBlocks:l,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(t){return l.push(t),this}};return s&&u(s),c})}})}(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:He}),t.provider("$compile",Ht).directive({a:gr,input:Pr,textarea:Pr,form:br,script:xo,select:_o,style:$o,option:So,ngBind:Ir,ngBindHtml:Rr,ngBindTemplate:Lr,ngClass:Fr,ngClassEven:Br,ngClassOdd:zr,ngCloak:jr,ngController:Wr,ngForm:wr,ngHide:go,ngIf:qr,ngInclude:Yr,ngInit:Xr,ngNonBindable:ao,ngPluralize:ho,ngRepeat:fo,ngShow:po,ngStyle:mo,ngSwitch:vo,ngSwitchWhen:yo,ngSwitchDefault:bo,ngOptions:co,ngTransclude:wo,ngModel:ro,ngList:Kr,ngChange:Hr,pattern:To,ngPattern:To,required:Eo,ngRequired:Eo,minlength:Mo,ngMinlength:Mo,maxlength:Do,ngMaxlength:Do,ngValue:Nr,ngModelOptions:so}).directive({ngInclude:Gr}).directive(mr).directive(Vr),t.provider({$anchorScroll:Pt,$animate:$i,$animateCss:Di,$$animateJs:_i,$$animateQueue:Si,$$AnimateRunner:Ti,$$animateAsyncRun:Ei,$browser:It,$cacheFactory:Lt,$controller:jt,$document:Wt,$exceptionHandler:Vt,$filter:Ze,$$forceReflow:Ni,$interpolate:ee,$interval:ne,$http:Qt,$httpParamSerializer:qt,$httpParamSerializerJQLike:Yt,$httpBackend:te,$xhrFactory:Jt,$location:pe,$log:ge,$parse:Pe,$rootScope:Re,$q:Oe,$$q:Ne,$sce:Be,$sceDelegate:ze,$sniffer:je,$templateCache:Rt,$templateRequest:We,$$testability:Ve,$timeout:Ue,$window:Ge,$$rAF:Le,$$jqLite:Tt,$$HashMap:vi,$$cookieReader:Ke})}]),zn.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,r=e;return n===r&&(r=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3)),Math.pow(10,r),1==i&&0==r?"one":"other"}})}]),En(e).ready(function(){X(e,K)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e,n){"use strict";function i(t,n){for(var i in n=n||{},e.forEach(n,function(t,e){delete n[e]}),t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var r=e.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,s=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q",function(a,l,u){function c(t,e){this.template=t,this.defaults=f({},s.defaults,e),this.urlParams={}}var h=e.noop,d=e.forEach,f=e.extend,p=e.copy,g=e.isFunction;return c.prototype={setUrlParams:function(n,i,o){var s,a,l=this,u=o||l.template,c="",h=l.urlParams={};d(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw r("badname");!/^\d+$/.test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(h[t]=!0)}),u=(u=u.replace(/\\:/g,":")).replace(t,function(t){return c=t,""}),i=i||{},d(l.urlParams,function(t,n){s=i.hasOwnProperty(n)?i[n]:l.defaults[n],e.isDefined(s)&&null!==s?(a=encodeURIComponent(s).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),u=u.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return a+e})):u=u.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),l.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),n.url=c+u.replace(/\/\\\./,"/."),d(i,function(t,e){l.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},function t(m,v,y,b){function w(t,i){var s={};return i=f({},v,i),d(i,function(i,a){var l;if(g(i)&&(i=i()),i&&i.charAt&&"@"==i.charAt(0)){if(l=t,null==(u=i.substr(1))||""===u||"hasOwnProperty"===u||!o.test("."+u))throw r("badmember",u);for(var u,c=0,h=(u=u.split(".")).length;c<h&&e.isDefined(l);c++){var d=u[c];l=null!==l?l[d]:n}}else l=i;s[a]=l}),s}function x(t){return t.resource}function C(t){i(t||{},this)}var k=new c(m,b);return y=f({},s.defaults.actions,y),C.prototype.toJSON=function(){var t=f({},this);return delete t.$promise,delete t.$resolved,t},d(y,function(t,o){var s=/^(POST|PUT|PATCH)$/i.test(t.method);C[o]=function(c,m,v,y){var b,_,S,$={};switch(arguments.length){case 4:S=y,_=v;case 3:case 2:if(!g(m)){$=c,b=m,_=v;break}if(g(c)){_=c,S=m;break}_=m,S=v;case 1:g(c)?_=c:s?b=c:$=c;break;case 0:break;default:throw r("badargs",arguments.length)}var E=this instanceof C,T=E?b:t.isArray?[]:new C(b),D={},M=t.interceptor&&t.interceptor.response||x,A=t.interceptor&&t.interceptor.responseError||n;return d(t,function(t,n){switch(n){default:D[n]=p(t);break;case"params":case"isArray":case"interceptor":break;case"timeout":t&&!e.isNumber(t)&&l.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),s&&(D.data=b),k.setUrlParams(D,f({},w(b,t.params||{}),$),t.url),$=($=a(D).then(function(n){var s=n.data,a=T.$promise;if(s){if(e.isArray(s)!==!!t.isArray)throw r("badcfg",o,t.isArray?"array":"object",e.isArray(s)?"array":"object",D.method,D.url);t.isArray?(T.length=0,d(s,function(t){"object"==typeof t?T.push(new C(t)):T.push(t)})):(i(s,T),T.$promise=a)}return T.$resolved=!0,n.resource=T,n},function(t){return T.$resolved=!0,(S||h)(t),u.reject(t)})).then(function(t){var e=M(t);return(_||h)(e,t.headers),e},A),E?$:(T.$promise=$,T.$resolved=!1,T)},C.prototype["$"+o]=function(t,e,n){return g(t)&&(n=e,e=t,t={}),(t=C[o].call(this,t,this,e,n)).$promise||t}}),C.bind=function(e){return t(m,f({},v,e),y)},C}}]})}(window,window.angular),function(t,e,n){"use strict";function i(t,n,i){var r=i.baseHref(),o=t[0];return function(t,i,s){var a,l;l=(s=s||{}).expires,a=e.isDefined(s.path)?s.path:r,e.isUndefined(i)&&(l="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(l)&&(l=new Date(l)),i=(i=encodeURIComponent(t)+"="+encodeURIComponent(i))+(a?";path="+a:"")+(s.domain?";domain="+s.domain:""),i+=l?";expires="+l.toUTCString():"",4096<(s=(i+=s.secure?";secure":"").length+1)&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+s+" > 4096 bytes)!"),o.cookie=i}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){var t=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(t){return n()[t]},getObject:function(t){return(t=this.get(t))?e.fromJson(t):t},getAll:function(){return n()},put:function(n,r,o){i(n,r,o?e.extend({},t,o):t)},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(n,r){i(n,void 0,r?e.extend({},t,r):t)}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),i.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular),function(t,e,n){"use strict";var i=e.$$minErr("$sanitize"),r=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,o=/^<\s*\/\s*([\w:-]+)[^>]*>/,s=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,a=/^</,l=/^<\s*\//,u=/<!--(.*?)-->/g,c=/<!DOCTYPE([^>]*?)>/i,h=/<!\[CDATA\[(.*?)]]>/g,d=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,f=/([^\#-~| |!])/g,p=_("area,br,col,hr,img,wbr"),g=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=_("rp,rt"),v=e.extend({},m,g),y=e.extend({},g,_("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=e.extend({},m,_("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=_("script,style"),x=e.extend({},p,y,b,v),C=_("background,cite,href,longdesc,src,usemap"),k=e.extend({},C,_("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width,style,size"));function _(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}var S=document.createElement("pre");function $(t){return S.innerHTML=t.replace(/</g,"&lt;"),S.innerText||S.textContent||""}function E(t){return t.replace(/&/g,"&amp;").replace(f,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T(t){var n=!1,i=e.bind(t,t.push);return{start:function(t,r,o){t=e.lowercase(t),!n&&w[t]&&(n=t),n||!0!==x[t]||(i("<"),i(t),e.forEach(r,function(t,n){var r=e.lowercase(n);!0!==k[r]||!0===C[r]&&!t.match(d)||(i(" "),i(n),i('="'),i(E(t)),i('"'))}),i(o?"/>":">"))},end:function(t){t=e.lowercase(t),n||!0!==x[t]||(i("</"),i(t),i(">")),t==n&&(n=!1)},chars:function(t){n||i(E(t))}}}e.module("ngSanitize",[]).value("$sanitize",function(t){var n=[];return function(t,n){var d,f,g,m=[],x=t;for(m.last=function(){return m[m.length-1]};t;){if(f=!0,m.last()&&w[m.last()])t=t.replace(new RegExp("(.*)<\\s*\\/\\s*"+m.last()+"[^>]*>","i"),function(t,e){return e=e.replace(u,"$1").replace(h,"$1"),n.chars&&n.chars($(e)),""}),_("",m.last());else if(0===t.indexOf("\x3c!--")?(d=t.indexOf("--",4))>=0&&t.lastIndexOf("--\x3e",d)===d&&(n.comment&&n.comment(t.substring(4,d)),t=t.substring(d+3),f=!1):c.test(t)?(g=t.match(c))&&(t=t.replace(g[0],""),f=!1):l.test(t)?(g=t.match(o))&&(t=t.substring(g[0].length),g[0].replace(o,_),f=!1):a.test(t)&&(g=t.match(r))&&(t=t.substring(g[0].length),g[0].replace(r,k),f=!1),f){var C=(d=t.indexOf("<"))<0?t:t.substring(0,d);t=d<0?"":t.substring(d),n.chars&&n.chars($(C))}if(t==x)throw i("badparse","The sanitizer was unable to parse the following block of html: {0}",t);x=t}function k(t,i,r,o){if(i=e.lowercase(i),y[i])for(;m.last()&&b[m.last()];)_("",m.last());v[i]&&m.last()==i&&_("",i),(o=p[i]||!!o)||m.push(i);var a={};r.replace(s,function(t,e,n,i,r){var o=n||i||r||"";a[e]=$(o)}),n.start&&n.start(i,a,o)}function _(t,i){var r,o=0;if(i=e.lowercase(i))for(o=m.length-1;o>=0&&m[o]!=i;o--);if(o>=0){for(r=m.length-1;r>=o;r--)n.end&&n.end(m[r]);m.length=o}}_()}(t,T(n)),n.join("")}),e.module("ngSanitize").filter("linky",function(){var t=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,n=/^mailto:/;return function(i,r){if(!i)return i;var o,s,a,l=i,u=[],c=T(u),h={};for(e.isDefined(r)&&(h.target=r);o=l.match(t);)s=o[0],o[2]==o[3]&&(s="mailto:"+s),a=o.index,c.chars(l.substr(0,a)),h.href=s,c.start("a",h),c.chars(o[0].replace(n,"")),c.end("a"),l=l.substring(a+o[0].length);return c.chars(l),u.join("")}})}(window,window.angular),function(t,e,n){"use strict";function i(t,n,i){r.directive(t,["$parse","$swipe",function(r,o){return function(s,a,l){function u(t){if(!c)return!1;var e=Math.abs(t.y-c.y);return t=(t.x-c.x)*n,h&&75>e&&0<t&&30<t&&.3>e/t}var c,h,d=r(l[t]),f=["touch"];e.isDefined(l.ngSwipeDisableMouse)||f.push("mouse"),o.bind(a,{start:function(t,e){c=t,h=!0},cancel:function(t){h=!1},end:function(t,e){u(t)&&s.$apply(function(){a.triggerHandler(i),d(s,{$event:e})})}},f)}}])}var r=e.module("ngTouch",[]);r.factory("$swipe",[function(){function t(t){var e=(t=t.originalEvent||t).touches&&t.touches.length?t.touches:[t];return{x:(t=t.changedTouches&&t.changedTouches[0]||e[0]).clientX,y:t.clientY}}function n(t,n){var r=[];return e.forEach(t,function(t){(t=i[t][n])&&r.push(t)}),r.join(" ")}var i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,i,r){var o,s,a,l,u=!1;r=r||["mouse","touch"],e.on(n(r,"start"),function(e){a=t(e),u=!0,s=o=0,l=a,i.start&&i.start(a,e)});var c=n(r,"cancel");c&&e.on(c,function(t){u=!1,i.cancel&&i.cancel(t)}),e.on(n(r,"move"),function(e){if(u&&a){var n=t(e);o+=Math.abs(n.x-l.x),s+=Math.abs(n.y-l.y),l=n,10>o&&10>s||(s>o?(u=!1,i.cancel&&i.cancel(e)):(e.preventDefault(),i.move&&i.move(n,e)))}}),e.on(n(r,"end"),function(e){u&&(u=!1,i.end&&i.end(t(e),e))})}}}]),r.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,i){function r(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i+1],o=n;if(25>Math.abs(t[i]-e)&&25>Math.abs(r-o))return t.splice(i,i+2),!0}return!1}function o(t){if(!(2500<Date.now()-a)){var n=(i=t.touches&&t.touches.length?t.touches:[t])[0].clientX,i=i[0].clientY;if(!(1>n&&1>i||u&&u[0]===n&&u[1]===i)){u&&(u=null);var o=t.target;"label"===e.lowercase(o.nodeName||o[0]&&o[0].nodeName)&&(u=[n,i]),r(l,n,i)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur())}}}function s(t){var e=(t=t.touches&&t.touches.length?t.touches:[t])[0].clientX,i=t[0].clientY;l.push(e,i),n(function(){for(var t=0;t<l.length;t+=2)if(l[t]==e&&l[t+1]==i){l.splice(t,t+2);break}},2500,!1)}var a,l,u;return function(n,u,c){var h,d,f,p,g=t(c.ngClick),m=!1;u.on("touchstart",function(t){m=!0,3==(h=t.target?t.target:t.srcElement).nodeType&&(h=h.parentNode),u.addClass("ng-click-active"),d=Date.now(),t=((t=t.originalEvent||t).touches&&t.touches.length?t.touches:[t])[0],f=t.clientX,p=t.clientY}),u.on("touchcancel",function(t){m=!1,u.removeClass("ng-click-active")}),u.on("touchend",function(t){var n=Date.now()-d,g=(v=((g=t.originalEvent||t).changedTouches&&g.changedTouches.length?g.changedTouches:g.touches&&g.touches.length?g.touches:[g])[0]).clientX,v=v.clientY,y=Math.sqrt(Math.pow(g-f,2)+Math.pow(v-p,2));m&&750>n&&12>y&&(l||(i[0].addEventListener("click",o,!0),i[0].addEventListener("touchstart",s,!0),l=[]),a=Date.now(),r(l,g,v),h&&h.blur(),e.isDefined(c.disabled)&&!1!==c.disabled||u.triggerHandler("click",[t])),m=!1,u.removeClass("ng-click-active")}),u.onclick=function(t){},u.on("click",function(t,e){n.$apply(function(){g(n,{$event:e||t})})}),u.on("mousedown",function(t){u.addClass("ng-click-active")}),u.on("mousemove mouseup",function(t){u.removeClass("ng-click-active")})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";var i,r=e.isDefined,o=e.isFunction,s=e.isString,a=e.isObject,l=e.isArray,u=e.forEach,c=e.extend,h=e.copy,d=e.toJson;function f(t,e){return c(new(c(function(){},{prototype:t})),e)}function p(t){return u(arguments,function(e){e!==t&&u(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function g(t){if(Object.keys)return Object.keys(t);var e=[];return u(t,function(t,n){e.push(n)}),e}function m(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=n);i<n;i++)if(i in t&&t[i]===e)return i;return-1}function v(t,e,n,i){var r,o=function(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}(n,i),s={},a=[];for(var l in o)if(o[l]&&o[l].params&&(r=g(o[l].params)).length)for(var u in r)m(a,r[u])>=0||(a.push(r[u]),s[r[u]]=t[r[u]]);return c({},s,e)}function y(t,e,n){if(!n)for(var i in n=[],t)n.push(i);for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function b(t,e){var n={};return u(t,function(t){n[t]=e[t]}),n}function w(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return u(n,function(n){n in t&&(e[n]=t[n])}),e}function x(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==m(n,i)&&(e[i]=t[i]);return e}function C(t,e){var n=l(t),i=n?[]:{};return u(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function k(t,e){var n=l(t)?[]:{};return u(t,function(t,i){n[i]=e(t,i)}),n}function _(t){return t.then(n,function(){})&&t}function S(t,e){var i=1,o=2,l={},h=[],d=l,f=c(t.when(l),{$$promises:l,$$values:l});this.study=function(l){if(!a(l))throw new Error("'invocables' must be an object");var v=g(l||{}),y=[],b=[],w={};function C(t){return a(t)&&t.then&&t.$$promises}return u(l,function t(n,r){if(w[r]!==o){if(b.push(r),w[r]===i)throw b.splice(0,m(b,r)),new Error("Cyclic dependency: "+b.join(" -> "));if(w[r]=i,s(n))y.push(r,[function(){return e.get(n)}],h);else{var a=e.annotate(n);u(a,function(e){e!==r&&l.hasOwnProperty(e)&&t(l[e],e)}),y.push(r,n,a)}b.pop(),w[r]=o}}),l=b=w=null,function(i,o,s){if(C(i)&&s===n&&(s=o,o=i,i=null),i){if(!a(i))throw new Error("'locals' must be an object")}else i=d;if(o){if(!C(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var l=t.defer(),h=l.promise,g=h.$$promises={},m=c({},i),b=1+y.length/3,w=!1;function k(){--b||(w||p(m,o.$$values),h.$$values=m,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,l.resolve(m))}function _(t){h.$$failure=t,l.reject(t)}if(r(o.$$failure))return _(o.$$failure),h;o.$$inheritedValues&&p(m,x(o.$$inheritedValues,v)),c(g,o.$$promises),o.$$values?(w=p(m,x(o.$$values,v)),h.$$inheritedValues=x(o.$$values,v),k()):(o.$$inheritedValues&&(h.$$inheritedValues=x(o.$$inheritedValues,v)),o.then(k,_));for(var S=0,$=y.length;S<$;S+=3)i.hasOwnProperty(y[S])?k():E(y[S],y[S+1],y[S+2]);function E(n,o,a){var l=t.defer(),c=0;function d(t){l.reject(t),_(t)}function f(){if(!r(h.$$failure))try{l.resolve(e.invoke(o,s,m)),l.promise.then(function(t){m[n]=t,k()},d)}catch(t){d(t)}}u(a,function(t){g.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(c++,g[t].then(function(e){m[t]=e,--c||f()},d))}),c||f(),g[n]=l.promise}return h}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function $(t,e,n){this.fromConfig=function(t,e,n){return r(t.template)?this.fromString(t.template,e):r(t.templateUrl)?this.fromUrl(t.templateUrl,e):r(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return o(t)?t(e):t},this.fromUrl=function(n,i){return o(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function E(t,e,r){e=c({params:{}},a(e)?e:{});var o,s,l,u,h=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p="^",g=0,m=this.segments=[],v=r?r.params:{},y=this.params=r?r.params.$$new():new i.ParamSet,b=[];function w(e,n,r,o){if(b.push(e),v[e])return v[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(y[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return y[e]=new i.Param(e,n,r,o),y[e]}function x(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function C(r,o){var s,a,l,u,c;return s=r[2]||r[3],c=e.params[s],l=t.substring(g,r.index),(a=o?r[4]:r[4]||("*"==r[1]?".*":null))&&(u=i.type(a)||f(i.type("string"),{pattern:new RegExp(a,e.caseInsensitive?"i":n)})),{id:s,regexp:a,segment:l,type:u,cfg:c}}for(this.source=t;(o=h.exec(t))&&!((s=C(o,!1)).segment.indexOf("?")>=0);)l=w(s.id,s.type,s.cfg,"path"),p+=x(s.segment,l.type.pattern.source,l.squash,l.isOptional),m.push(s.segment),g=h.lastIndex;var k=(u=t.substring(g)).indexOf("?");if(k>=0){var _=this.sourceSearch=u.substring(k);if(u=u.substring(0,k),this.sourcePath=t.substring(0,g+k),_.length>0)for(g=0;o=d.exec(_);)l=w((s=C(o,!0)).id,s.type,s.cfg,"search"),g=h.lastIndex}else this.sourcePath=t,this.sourceSearch="";p+=x(u)+(!1===e.strict?"/?":"")+"$",m.push(u),this.regexp=new RegExp(p,e.caseInsensitive?"i":n),this.prefix=m[0],this.$$paramNames=b}function T(t){c(this,t)}function D(t,i){var a,u=[],h=null,d=!1;function f(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!r(i)||i}function p(i,r,o,l,c){var f,p=l.baseHref(),g=i.url();function m(t){if(!t||!t.defaultPrevented){f&&i.url();f=n;var e,r=u.length;for(e=0;e<r;e++)if(a(u[e]))return;h&&a(h)}function a(t){var e=t(o,i);return!!e&&(s(e)&&i.replace().url(e),!0)}}function v(){return a=a||r.$on("$locationChangeSuccess",m)}return d||v(),{sync:function(){m()},listen:function(){return v()},update:function(t){t?g=i.url():i.url()!==g&&(i.url(g),i.replace())},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),f=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var s=t.html5Mode();e.isObject(s)&&(s=s.enabled),s=s&&c.history;var a=n.format(r);if(o=o||{},s||null===a||(a="#"+t.hashPrefix()+a),null!==a&&r&&r["#"]&&(a+="#"+r["#"]),a=function(t,e,n){return"/"===p?t:e?p.slice(0,-1)+t:n?p.slice(1)+t:t}(a,s,o.absolute),!o.absolute||!a)return a;var l=!s&&a?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,l,a].join("")}}}this.rule=function(t){if(!o(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(s(t)){var e=t;t=function(){return e}}else if(!o(t))throw new Error("'rule' must be a function");return h=t,this},this.when=function(t,e){var n,r=s(e);if(s(t)&&(t=i.compile(t)),!r&&!o(e)&&!l(e))throw new Error("invalid 'handler' in when()");var a={matcher:function(t,e){return r&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),c(function(n,i){return f(n,e,t.exec(i.path(),i.search()))},{prefix:s(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(n=e,e=["$match",function(t){return e=t,n.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]});var e}]),c(function(n,i){return f(n,e,t.exec(i.path()))},{prefix:(i=t,o=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(i.source),null!=o?o[1].replace(/\\(.)/g,"$1"):"")});var i,o}},u={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var h in u)if(u[h])return this.rule(a[h](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),d=t},this.$get=p,p.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function M(t,d){var p,x,C={},S={},$="abstract",E={parent:function(t){if(r(t.parent)&&t.parent)return T(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?T(e[1]):p},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=f(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(s(e))return"^"==e.charAt(0)?d.compile(e.substring(1),n):(t.parent.navigable||p).url.concat(e,n);if(!e||d.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new i.ParamSet;return u(t.params||{},function(t,n){e[n]||(e[n]=new i.Param(n,null,t,"config"))}),e},params:function(t){var e=w(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?c(t.parent.params.$$new(),e):new i.ParamSet},views:function(t){var e={};return u(r(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),n.resolveAs=n.resolveAs||t.resolveAs||"$resolve",e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?c({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};function T(t,e){if(!t)return n;var i,r=s(t),o=r?t:t.name;if(0===(i=o).indexOf(".")||0===i.indexOf("^")){if(!e)throw new Error("No reference point given for path '"+o+"'");e=T(e);for(var a=o.split("."),l=0,u=a.length,c=e;l<u;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!c.parent)throw new Error("Path '"+o+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;a=a.slice(l).join("."),o=c.name+(c.name&&a?".":"")+a}var h=C[o];return!h||!r&&(r||h!==t&&h.self!==t)?n:h}function D(e){var n=(e=f(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}})).name;if(!s(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):s(e.parent)?e.parent:a(e.parent)&&s(e.parent.name)?e.parent.name:"";if(i&&!C[i])return function(t,e){S[t]||(S[t]=[]),S[t].push(e)}(i,e.self);for(var r in E)o(E[r])&&(e[r]=E[r](e,E.$delegates[r]));return C[n]=e,!e[$]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){x.$current.navigable==e&&y(t,n)||x.transitionTo(e,t,{inherit:!0,location:!1})}]),function(t){for(var e=S[t]||[];e.length;)D(e.shift())}(n),e}function M(t,d,S,E,D,M,A,P,O){var N=new Error("transition superseded"),I=_(d.reject(N)),L=_(d.reject(new Error("transition prevented"))),R=_(d.reject(new Error("transition aborted"))),H=_(d.reject(new Error("transition failed")));function F(t,n,i,r,s,a){var c=i?n:b(t.params.$$keys(),n),h={$stateParams:c};s.resolve=D.resolve(t.resolve,h,s.resolve,t);var f=[s.resolve.then(function(t){s.globals=t})];return r&&f.push(r),d.all(f).then(function(){var n=[];return u(t.views,function(i,r){var u=i.resolve&&i.resolve!==t.resolve?i.resolve:{};u.$template=[function(){return S.load(r,{view:i,locals:s.globals,params:c,notify:a.notify})||""}],n.push(D.resolve(u,s.globals,s.resolve,t).then(function(n){if(o(i.controllerProvider)||l(i.controllerProvider)){var a=e.extend({},u,s.globals);n.$$controller=E.invoke(i.controllerProvider,null,a)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,s[r]=n}))}),d.all(n).then(function(){return s.globals})}).then(function(t){return s})}return p.locals={resolve:null,globals:{$stateParams:{}}},(x={params:{},current:p.self,$current:p,transition:null}).reload=function(t){return x.transitionTo(x.current,M,{reload:t||!0,inherit:!1,notify:!0})},x.go=function(t,e,n){return x.transitionTo(t,e,c({inherit:!0,relative:x.$current},n))},x.transitionTo=function(e,n,o){n=n||{},o=c({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var l=x.$current,u=x.params,g=l.path,m=T(e,o.relative),y=n["#"];if(!r(m)){var C={to:e,toParams:n,options:o},k=function(e,n,i,r){var o=t.$broadcast("$stateNotFound",e,n,i);if(o.defaultPrevented)return A.update(),R;if(!o.retry)return null;if(r.$retry)return A.update(),H;var s=x.transition=d.when(o.retry);return s.then(function(){return s!==x.transition?(t.$broadcast("$stateChangeCancel",e.to,e.toParams,n,i),I):(e.options.$retry=!0,x.transitionTo(e.to,e.toParams,e.options))},function(){return R}),A.update(),s}(C,l.self,u,o);if(k)return k;if(n=C.toParams,m=T(e=C.to,(o=C.options).relative),!r(m)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(m[$])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=v(M,n||{},x.$current,m)),!m.params.$$validates(n))return H;n=m.params.$$values(n);var _=(e=m).path,S=0,D=_[S],P=p.locals,O=[];if(o.reload){if(s(o.reload)||a(o.reload)){if(a(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var z=!0===o.reload?g[0]:T(o.reload);if(o.reload&&!z)throw new Error("No such reload state '"+(s(o.reload)?o.reload:o.reload.name)+"'");for(;D&&D===g[S]&&D!==z;)P=O[S]=D.locals,D=_[++S]}}else for(;D&&D===g[S]&&D.ownParams.$$equals(n,u);)P=O[S]=D.locals,D=_[++S];if(function(t,e,n,r,o,s){if(!s.reload&&t===n&&(o===n.locals||!1===t.self.reloadOnSearch&&function(t,e,n){var r=t.params.$$keys().filter(function(e){return"search"!=t.params[e].location}),o=w.apply({},[t.params].concat(r));return new i.ParamSet(o).$$equals(e,n)}(n,r,e)))return!0}(e,n,l,u,P,o))return y&&(n["#"]=y),x.params=n,h(x.params,M),h(b(e.params.$$keys(),M),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(A.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),A.update(!0)),x.transition=null,d.when(x.current);if(n=b(e.params.$$keys(),n||{}),y&&(n["#"]=y),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,l.self,u,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,u),null==x.transition&&A.update(),L;for(var B=d.when(P),j=S;j<_.length;D=_[++j])P=O[j]=f(P),B=F(D,n,D===e,B,P,o);var W=x.transition=B.then(function(){var i,r,s;if(x.transition!==W)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,u),I;for(i=g.length-1;i>=S;i--)(s=g[i]).self.onExit&&E.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(i=S;i<_.length;i++)(r=_[i]).locals=O[i],r.self.onEnter&&E.invoke(r.self.onEnter,r.self,r.locals.globals);return x.transition!==W?(t.$broadcast("$stateChangeCancel",e.self,n,l.self,u),I):(x.$current=e,x.current=e.self,x.params=n,h(x.params,M),x.transition=null,o.location&&e.navigable&&A.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,l.self,u),A.update(!0),x.current)}).then(null,function(i){return i===N?I:x.transition!==W?(t.$broadcast("$stateChangeCancel",e.self,n,l.self,u),I):(x.transition=null,t.$broadcast("$stateChangeError",e.self,n,l.self,u,i).defaultPrevented||A.update(),d.reject(i))});return W},x.is=function(t,e,i){var o=T(t,(i=c({relative:x.$current},i||{})).relative);return r(o)?x.$current===o&&(!e||y(o.params.$$values(e),M)):n},x.includes=function(t,e,i){if(i=c({relative:x.$current},i||{}),s(t)&&t.indexOf("*")>-1){if(!function(t){for(var e=t.split("."),n=x.$current.name.split("."),i=0,r=e.length;i<r;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(m(n,e[1]))).unshift("**"),"**"===e[e.length-1]&&(n.splice(m(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}(t))return!1;t=x.$current.name}var o=T(t,i.relative);if(!r(o))return n;if(!r(x.$current.includes[o.name]))return!1;if(!e)return!0;for(var a=g(e),l=0;l<a.length;l++){var u=a[l],h=o.params[u];if(h&&!h.type.equals(M[u],e[u]))return!1}return!0},x.href=function(t,e,i){var o=T(t,(i=c({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},i||{})).relative);if(!r(o))return null;i.inherit&&(e=v(M,e||{},x.$current,o));var s=o&&i.lossy?o.navigable:o;return s&&s.url!==n&&null!==s.url?A.href(s.url,b(o.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},x.get=function(t,e){if(0===arguments.length)return k(g(C),function(t){return C[t].self});var n=T(t,e||x.$current);return n&&n.self?n.self:null},x}(p=D({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(t,e){if(s(t)&&!r(e))return E[t];if(!o(e)||!s(t))return this;E[t]&&!E.$delegates[t]&&(E.$delegates[t]=E[t]);return E[t]=e,this},this.state=function(t,e){a(t)?e=t:e.name=t;return D(e),this},this.$get=M,M.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function A(){function t(t,e){return{load:function(t,n){var i;return(n=c({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n)).view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function P(t,n,i,r,o){var s=n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(t){return null}},a=s("$animator"),l=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,u){return function(n,s,c){var h,d,f,p,g=c.onload||"",m=c.autoscroll,v=function(t,n){if(l)return{enter:function(t,n,i){e.version.minor>2?l.enter(t,null,n).then(i):l.enter(t,null,n,i)},leave:function(t,n){e.version.minor>2?l.leave(t).then(n):l.leave(t,n)}};if(a){var i=a&&a(n,t);return{enter:function(t,e,n){i.enter(t,null,e),n()},leave:function(t,e){i.leave(t),e()}}}return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}}(c,n);s.inheritedData("$uiView");function y(a){var l,y=N(n,c,s,r),b=y&&t.$current&&t.$current.locals[y];if(a||b!==p){l=n.$new(),p=t.$current.locals[y],l.$emit("$viewContentLoading",y);var w=u(l,function(t){var r=o.defer(),a=o.defer(),l={$animEnter:r.promise,$animLeave:a.promise,$$animLeave:a};t.data("$uiViewAnim",l),v.enter(t,s,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||n.$eval(m))&&i(t)}),function(){if(h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d){var t=d.data("$uiViewAnim");v.leave(d,function(){t.$$animLeave.resolve(),h=null}),h=d,d=null}}()});d=w,(f=l).$emit("$viewContentLoaded",y),f.$eval(g)}}n.$on("$stateChangeSuccess",function(){y(!1)}),y(!0)}}}}function O(t,n,i,r){return{restrict:"ECA",priority:-400,compile:function(s){var a=s.html();return function(s,l,u){var c=i.$current,h=N(s,u,l,r),d=c&&c.locals[h];if(d){l.data("$uiView",{name:h,state:d.$$state}),l.html(d.$template?d.$template:a);var f=e.extend({},d);s[d.$$resolveAs]=f;var p=t(l.contents());if(d.$$controller){d.$scope=s,d.$element=l;var g=n(d.$$controller,d);d.$$controllerAs&&(s[d.$$controllerAs]=g,s[d.$$controllerAs][d.$$resolveAs]=f),o(g.$onInit)&&g.$onInit(),l.data("$ngControllerController",g),l.children().data("$ngControllerController",g)}p(s)}}}}}function N(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function I(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),!(n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function L(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function R(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function H(t,e,n,i,r){return function(o){var s=o.which||o.button,a=r();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=n(function(){e.go(a.state,a.params,a.options)});o.preventDefault();var u=i.isAnchor&&!a.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function F(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,s){var a,l=I(o.uiSref,t.current.name),u={state:l.state,href:null,params:null},h=R(r),d=s[1]||s[0],f=null;u.options=c(function(t,e){return{relative:L(t)||e.$current,inherit:!0}}(r,t),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var p=function(n){n&&(u.params=e.copy(n)),u.href=t.href(l.state,u.params,u.options),f&&f(),d&&(f=d.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(h.attr,u.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(t){t!==u.params&&p(t)},!0),u.params=e.copy(i.$eval(l.paramExpr))),p(),h.clickable&&(a=H(r,t,n,h,function(){return u}),r[r.on?"on":"bind"]("click",a),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",a)}))}}}function z(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){var s,a=R(i),l=o[1]||o[0],u="["+[r.uiState,r.uiStateParams||null,r.uiStateOpts||null].map(function(t){return t||"null"}).join(", ")+"]",c={state:null,params:null,options:null,href:null},h=null;function d(e){c.state=e[0],c.params=e[1],c.options=e[2],c.href=t.href(c.state,c.params,c.options),h&&h(),l&&(h=l.$$addStateInfo(c.state,c.params)),c.href&&r.$set(a.attr,c.href)}n.$watch(u,d,!0),d(n.$eval(u)),a.clickable&&(s=H(i,t,e,a,function(){return c}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function B(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,o){var l,c,h=[],f={};l=n(r.uiSrefActiveEq||"",!1)(e);try{c=e.$eval(r.uiSrefActive)}catch(t){}function p(n,r,o){var l=t.get(n,L(i)),u=function(t,n){if(!s(t))throw new Error("state should be a string");if(a(n))return t+d(n);if(n=e.$eval(n),a(n))return t+d(n);return t}(n,r),c={state:l||{name:n},params:r,hash:u};return h.push(c),f[u]=o,function(){var t=h.indexOf(c);-1!==t&&h.splice(t,1)}}function g(){for(var e=0;e<h.length;e++)n=h[e].state,r=h[e].params,t.includes(n.name,r)?m(i,f[h[e].hash]):v(i,f[h[e].hash]),y(h[e].state,h[e].params)?m(i,l):v(i,l);var n,r}function m(t,e){o(function(){t.addClass(e)})}function v(t,e){t.removeClass(e)}function y(e,n){return t.is(e.name,n)}c=c||n(r.uiSrefActive||"",!1)(e),a(c)&&u(c,function(n,i){if(s(n)){var r=I(n,t.current.name);p(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(a(c)&&h.length>0)){var n=p(t,e,c);return g(),n}},e.$on("$stateChangeSuccess",g),g()}]}}function j(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function W(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),S.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",S),$.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",$),E.prototype.concat=function(t,e){var n={caseInsensitive:i.caseInsensitive(),strict:i.strictMode(),squash:i.defaultSquashPolicy()};return new E(this.sourcePath+t+this.sourceSearch,c(n,e),this)},E.prototype.toString=function(){return this.source},E.prototype.exec=function(t,e){var n=this.regexp.exec(t);if(!n)return null;e=e||{};var i,o,s,a,l,u=this.parameters(),c=u.length,h=this.segments.length-1,d={};if(h!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function f(t){function e(t){return t.split("").reverse().join("")}return k(k(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}for(i=0;i<h;i++){for(s=u[i],a=this.params[s],l=n[i+1],o=0;o<a.replace.length;o++)a.replace[o].from===l&&(l=a.replace[o].to);l&&!0===a.array&&(l=f(l)),r(l)&&(l=a.type.decode(l)),d[s]=a.value(l)}for(;i<c;i++){for(d[s=u[i]]=this.params[s].value(e[s]),a=this.params[s],l=e[s],o=0;o<a.replace.length;o++)a.replace[o].from===l&&(l=a.replace[o].to);r(l)&&(l=a.type.decode(l)),d[s]=a.value(l)}return d},E.prototype.parameters=function(t){return r(t)?this.params[t]||null:this.$$paramNames},E.prototype.validates=function(t){return this.params.$$validates(t)},E.prototype.format=function(t){t=t||{};var e=this.segments,n=this.parameters(),i=this.params;if(!this.validates(t))return null;var r,o=!1,a=e.length-1,u=n.length,c=e[0];function h(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}for(r=0;r<u;r++){var d=r<a,f=n[r],p=i[f],g=p.value(t[f]),m=p.isOptional&&p.type.equals(p.value(),g),v=!!m&&p.squash,y=p.type.encode(g);if(d){var b=e[r+1],w=r+1===a;if(!1===v)null!=y&&(l(y)?c+=k(y,h).join("-"):c+=encodeURIComponent(y)),c+=b;else if(!0===v){var x=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match(x)[1]}else s(v)&&(c+=v+b);w&&!0===p.squash&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==y||m&&!1!==v)continue;if(l(y)||(y=[y]),0===y.length)continue;y=k(y,encodeURIComponent).join("&"+f+"="),c+=(o?"&":"?")+f+"="+y,o=!0}}return c},T.prototype.is=function(t,e){return!0},T.prototype.encode=function(t,e){return t},T.prototype.decode=function(t,e){return t},T.prototype.equals=function(t,e){return t==e},T.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},T.prototype.pattern=/.*/,T.prototype.toString=function(){return"{Type:"+this.name+"}"},T.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},T.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function o(t){return l(t)?t:r(t)?[t]:[]}function s(t){return!t}function a(t,i){return function(r){if(l(r)&&0===r.length)return r;var a=k(r=o(r),t);return!0===i?0===C(a,s).length:function(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}(a)}}var u;this.encode=a(i(t,"encode")),this.decode=a(i(t,"decode")),this.is=a(i(t,"is"),!0),this.equals=(u=i(t,"equals"),function(t,e){var n=o(t),i=o(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!u(n[r],i[r]))return!1;return!0}),this.pattern=t.pattern,this.$normalize=a(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",function t(){i=this;var h=!1,d=!0,p=!1;function v(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}var y,b={},w=!0,x=[],_={string:{encode:v,decode:function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t},is:function(t){return null==t||!r(t)||"string"==typeof t},pattern:/[^/]*/},int:{encode:v,decode:function(t){return parseInt(t,10)},is:function(t){return r(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return!0===t||!1===t},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};function S(t){return o(t)||l(t)&&o(t[t.length-1])}function $(){for(;x.length;){var t=x.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],y.invoke(t.def))}}function D(t){c(this,t||{})}t.$$getDefaultValue=function(t){if(!S(t.value))return t.value;if(!y)throw new Error("Injectable functions cannot be called at configuration time");return y.invoke(t.value)},this.caseInsensitive=function(t){return r(t)&&(h=t),h},this.strictMode=function(t){return r(t)&&(d=t),d},this.defaultSquashPolicy=function(t){if(!r(t))return p;if(!0!==t&&!1!==t&&!s(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return p=t,t},this.compile=function(t,e){return new E(t,c({strict:d,caseInsensitive:h},e))},this.isMatcher=function(t){if(!a(t))return!1;var e=!0;return u(E.prototype,function(n,i){o(n)&&(e=e&&r(t[i])&&o(t[i]))}),e},this.type=function(t,e,n){if(!r(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new T(c({name:t},e)),n&&(x.push({name:t,def:n}),w||$()),this},u(_,function(t,e){b[e]=new T(c({name:e},t))}),b=f(b,{}),this.$get=["$injector",function(t){return y=t,w=!1,$(),u(_,function(t,e){b[e]||(b[e]=new T(t))}),this}],this.Param=function(t,i,o,u){var h=this;o=function(t){var e=a(t)?g(t):[];return-1===m(e,"value")&&-1===m(e,"type")&&-1===m(e,"squash")&&-1===m(e,"array")&&(t={value:t}),t.$$fn=S(t.value)?t.value:function(){return t.value},t}(o),i=function(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i||(n.type?e.isString(n.type)?b[n.type]:n.type instanceof T?n.type:new T(n.type):"config"===r?b.any:b.string)}(o,i,u);var d,f,v=(d={array:"search"===u&&"auto"},f=t.match(/\[\]$/)?{array:!0}:{},c(d,f,o).array);"string"!==(i=v?i.$asArray(v,"search"===u):i).name||v||"path"!==u||o.value!==n||(o.value="");var w=o.value!==n,x=function(t,e){var n=t.squash;if(!e||!1===n)return!1;if(!r(n)||null==n)return p;if(!0===n||s(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(o,w),_=function(t,e,i,r){var o,a,u=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=l(t.replace)?t.replace:[],s(r)&&o.push({from:r,to:n}),a=k(o,function(t){return t.from}),C(u,function(t){return-1===m(a,t.from)}).concat(o)}(o,v,w,x);c(this,{id:t,type:i,location:u,array:v,squash:x,replace:_,isOptional:w,value:function(t){return t=function(t){var e,n=k(C(h.replace,(e=t,function(t){return t.from===e})),function(t){return t.to});return n.length?n[0]:t}(t),r(t)?h.type.$normalize(t):function(){if(!y)throw new Error("Injectable functions cannot be called at configuration time");var t=y.invoke(o.$$fn);if(null!==t&&t!==n&&!h.type.is(t))throw new Error("Default value ("+t+") for parameter '"+h.id+"' is not an instance of Type ("+h.type.name+")");return t}()},dynamic:n,config:o,toString:function(){return"{Param:"+t+" "+i+" squash: '"+x+"' optional: "+w+"}"}})},D.prototype={$$new:function(){return f(this,c(new D,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=g(D.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),u(e,function(e){u(g(e),function(e){-1===m(t,e)&&-1===m(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return u(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return u(i.$$keys(),function(r){var o=t&&t[r],s=e&&e[r];i[r].type.equals(o,s)||(n=!1)}),n},$$validates:function(t){var i,r,o,s,a,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],(o=t[l[i]])!==n&&null!==o||!r.isOptional);i++){if(s=r.type.$normalize(o),!r.type.is(s))return!1;if(a=r.type.encode(s),e.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=D}),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),D.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",D),M.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",M).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),A.$inject=[],e.module("ui.router.state").provider("$view",A),e.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}),P.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],O.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",P),e.module("ui.router.state").directive("uiView",O),F.$inject=["$state","$timeout"],z.$inject=["$state","$timeout"],B.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",F).directive("uiSrefActive",B).directive("uiSrefActiveEq",B).directive("uiState",z),j.$inject=["$state"],W.$inject=["$state"],e.module("ui.router.state").filter("isState",j).filter("includedByState",W)}(window,window.angular),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(t,e){var n=t.eventSources,i=t.calendarWatchEvent?t.calendarWatchEvent:angular.noop,r=1;this.eventFingerprint=function(t){return t._id||(t._id=r++),""+t._id+(t.id||"")+(t.title||"")+(t.url||"")+(+t.start||"")+(+t.end||"")+(t.allDay||"")+(t.className||"")+i({event:t})||""};var o=1,s=1;this.sourceFingerprint=function(t){var e=""+(t.__id||(t.__id=o++)),n=angular.isObject(t)&&t.events;return n&&(e=e+"-"+(n.__id||(n.__id=s++))),e},this.allEvents=function(){for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(angular.isArray(r))t.push(r);else if(angular.isObject(r)&&angular.isArray(r.events)){var o={};for(var s in r)"_id"!==s&&"events"!==s&&(o[s]=r[s]);for(var a=0;a<r.events.length;a++)angular.extend(r.events[a],o);t.push(r.events)}}return Array.prototype.concat.apply([],t)},this.changeWatcher=function(t,e){var n,i=function(){for(var n,i,r=angular.isFunction(t)?t():t,s=[],a=0,l=r.length;a<l;a++)i=r[a],n=e(i),o[n]=i,s.push(n);return s},r=function(t,e){var n,i,r=[],o={};for(n=0,i=e.length;n<i;n++)o[e[n]]=!0;for(n=0,i=t.length;n<i;n++)o[t[n]]||r.push(t[n]);return r},o={};return n={subscribe:function(t,s){t.$watch(i,function(t,i){!(s&&!1===s(t,i))&&function(t,i){var s,a,l,u,c={},h=r(i,t);for(s=0,a=h.length;s<a;s++){var d=h[s];l=o[d],delete o[d];var f=e(l);f===d?n.onRemoved(l):(c[f]=d,n.onChanged(l))}var p=r(t,i);for(s=0,a=p.length;s<a;s++)u=p[s],l=o[u],c[u]||n.onAdded(l)}(t,i)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(e,n){var i={};return angular.extend(i,n),angular.extend(i,e),angular.forEach(i,function(e,n){var r;"function"==typeof e&&(i[n]=(r=i[n],function(){if(t.$root.$$phase)return r.apply(this,arguments);var e=arguments,n=this;return t.$root.$apply(function(){return r.apply(n,e)})}))}),i},this.getLocaleConfig=function(t){if(!t.lang||t.useNgLocale){var n=function(t){var e,n;for(n in e=[],t)e[n]=t[n];return e},i=e.DATETIME_FORMATS;return{monthNames:n(i.MONTH),monthNamesShort:n(i.SHORTMONTH),dayNames:n(i.DAY),dayNamesShort:n(i.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(t){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(e,n,i,r){var o,s=e.eventSources,a=!1,l=r.changeWatcher(s,r.sourceFingerprint),u=r.changeWatcher(r.allEvents,r.eventFingerprint),c=null;e.destroy=function(){o&&o.fullCalendar&&o.fullCalendar("destroy"),o=i.calendar?t.calendars[i.calendar]=$(n).html(""):$(n).html("")},e.init=function(){o.fullCalendar(c),i.calendar&&(t.calendars[i.calendar]=o)},l.onAdded=function(t){o.fullCalendar("addEventSource",t),a=!0},l.onRemoved=function(t){o.fullCalendar("removeEventSource",t),a=!0},l.onChanged=function(t){o.fullCalendar("refetchEvents"),a=!0},u.onAdded=function(t){o.fullCalendar("renderEvent",t,!!t.stick)},u.onRemoved=function(t){o.fullCalendar("removeEvents",t._id)},u.onChanged=function(t){for(var e=o.fullCalendar("clientEvents",t._id),n=0;n<e.length;n++){var i=e[n];i=angular.extend(i,t),o.fullCalendar("updateEvent",i)}},l.subscribe(e),u.subscribe(e,function(){if(!0===a)return a=!1,!1}),e.$watch(function(){var n,o=i.uiCalendar?e.$parent.$eval(i.uiCalendar):{};n=r.getFullCalendarConfig(o,t);var a=r.getLocaleConfig(n);angular.extend(a,n),c={eventSources:s},angular.extend(c,a),c.calendars=null;var l={};for(var u in c)"eventSources"!==u&&(l[u]=c[u]);return JSON.stringify(l)},function(t,n){e.destroy(),e.init()})}}}]),function(t,e,n){"use strict";e.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,i,r){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(o,s,a,l){function u(t,e){var n="function"==typeof e;return"function"==typeof t&&n?function(){t.apply(this,arguments),e.apply(this,arguments)}:n?e:t}function c(t){var e=t.data("ui-sortable");return e&&"object"==typeof e&&"ui-sortable"===e.widgetFullName?e:null}function h(e,n){return C[e]?("stop"===e&&(n=u(n=u(n,function(){o.$apply()}),g)),n=u(C[e],n)):k[e]&&(n=k[e](n)),n||"items"!==e&&"ui-model-items"!==e||(n=t.items),n}function d(t,i,r){e.forEach(C,function(t,e){e in w||(w[e]=null)});var o,s=null;i&&e.forEach(i,function(i,r){if(!(t&&r in t)){if(r in x)return void(w[r]="ui-floating"===r?"auto":h(r,n));o||(o=e.element.ui.sortable().options);var a=o[r];a=h(r,a),s||(s={}),s[r]=a,w[r]=a}});return e.forEach(t,function(t,e){return e in x?("ui-floating"!==e||!1!==t&&!0!==t||!r||(r.floating=t),void(w[e]=h(e,t))):(t=h(e,t),s||(s={}),s[e]=t,void(w[e]=t))}),s}function f(t){var n=t.sortable("option","placeholder");if(n&&n.element&&"function"==typeof n.element){var i=n.element();return e.element(i)}return null}function p(t,e,n){var i=null;return function(t,e){var n=t.sortable("option","helper");return"clone"===n||"function"==typeof n&&e.item.sortable.isCustomHelperUsed()}(t,e)&&"parent"===t.sortable("option","appendTo")&&(i=n.last()),i}function g(t,e){e.item.sortable._destroy()}function m(t){return t.parent().find(w["ui-model-items"]).index(t)}function v(){o.$watchCollection("ngModel",function(){i(function(){c(s)&&s.sortable("refresh")},0,!1)}),C.start=function(t,i){if("auto"===w["ui-floating"]){var r=i.item.siblings();c(e.element(t.target)).floating=function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}(r)}var o=m(i.item);i.item.sortable={model:l.$modelValue[o],index:o,source:s,sourceList:i.item.parent(),sourceModel:l.$modelValue,cancel:function(){i.item.sortable._isCanceled=!0},isCanceled:function(){return i.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!i.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:i.item.sortable._isCustomHelperUsed,_destroy:function(){e.forEach(i.item.sortable,function(t,e){i.item.sortable[e]=n})},_connectedSortables:[],_getElementContext:function(t){return function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.element[0]===e[0])return i}}(this._connectedSortables,t)}}},C.activate=function(t,e){var n=e.item.sortable.source===s,i=n?e.item.sortable.sourceList:s,r={element:s,scope:o,isSourceContext:n,savedNodesOrigin:i};e.item.sortable._connectedSortables.push(r),b=i.contents();var a=f(s);if(a&&a.length){var l=function(t,e){var n=w["ui-model-items"].replace(/[^,]*>/g,"");return t.find('[class="'+e.attr("class")+'"]:not('+n+")")}(s,a);b=b.not(l)}},C.update=function(t,e){if(!e.item.sortable.received){e.item.sortable.dropindex=m(e.item);var n=e.item.closest("[ui-sortable]");e.item.sortable.droptarget=n,e.item.sortable.droptargetList=e.item.parent();var i=e.item.sortable._getElementContext(n);e.item.sortable.droptargetModel=i.scope.ngModel,s.sortable("cancel")}var r=!e.item.sortable.received&&p(s,e,b);r&&r.length&&(b=b.not(r));var a=e.item.sortable._getElementContext(s);b.appendTo(a.savedNodesOrigin),e.item.sortable.received&&(b=null),e.item.sortable.received&&!e.item.sortable.isCanceled()&&o.$apply(function(){l.$modelValue.splice(e.item.sortable.dropindex,0,e.item.sortable.moved)})},C.stop=function(t,n){var i="dropindex"in n.item.sortable&&!n.item.sortable.isCanceled();if(i&&!n.item.sortable.received)o.$apply(function(){l.$modelValue.splice(n.item.sortable.dropindex,0,l.$modelValue.splice(n.item.sortable.index,1)[0])});else if(!i&&!e.equals(s.contents().toArray(),b.toArray())){var r=p(s,n,b);r&&r.length&&(b=b.not(r));var a=n.item.sortable._getElementContext(s);b.appendTo(a.savedNodesOrigin)}b=null},C.receive=function(t,e){e.item.sortable.received=!0},C.remove=function(t,e){"dropindex"in e.item.sortable||(s.sortable("cancel"),e.item.sortable.cancel()),e.item.sortable.isCanceled()||o.$apply(function(){e.item.sortable.moved=l.$modelValue.splice(e.item.sortable.index,1)[0]})},k.helper=function(t){return t&&"function"==typeof t?function(i,r){var o=r.sortable,a=m(r);r.sortable={model:l.$modelValue[a],index:a,source:s,sourceList:r.parent(),sourceModel:l.$modelValue,_restore:function(){e.forEach(r.sortable,function(t,e){r.sortable[e]=n}),r.sortable=o}};var u=t.apply(this,arguments);return r.sortable._restore(),r.sortable._isCustomHelperUsed=r!==u,u}:t},o.$watchCollection("uiSortable",function(t,e){var n=c(s);if(n){var i=d(t,e,n);i&&s.sortable("option",i)}},!0),d(w)}function y(){return(!o.uiSortable||!o.uiSortable.disabled)&&(l?v():r.info("ui.sortable: ngModel not provided!",s),s.sortable(w),y.cancelWatcher(),y.cancelWatcher=e.noop,!0)}var b,w={},x={"ui-floating":n,"ui-model-items":t.items},C={receive:null,remove:null,start:null,stop:null,update:null},k={helper:null};return e.extend(w,x,t,o.uiSortable),e.element.fn&&e.element.fn.jquery?(y.cancelWatcher=e.noop,void(y()||(y.cancelWatcher=o.$watch("uiSortable.disabled",y)))):void r.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular),angular.module("xeditable",[]).value("editableOptions",{theme:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(t){return t({directiveName:"editableBsdate",inputTpl:'<input type="text">'})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(t){return t({directiveName:"editableBstime",inputTpl:"<timepicker></timepicker>",render:function(){this.parent.render.call(this);var t=angular.element('<div class="well well-small" style="display:inline-block;"></div>');t.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(t.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(t)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(t){return t({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.after(angular.element("<span></span>").text(this.attrs.eTitle)))},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+t.locals.valueFn+'"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)}})}]),function(){var t="text|email|tel|number|url|search|color|date|datetime|time|month|week".split("|");angular.forEach(t,function(t){var e="editable"+t.charAt(0).toUpperCase()+t.slice(1);angular.module("xeditable").directive(e,["editableDirectiveFactory",function(n){return n({directiveName:e,inputTpl:'<input type="'+t+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(t){return t({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="radio" ng-model="$parent.$data" value="{{'+t.locals.valueFn+'}}"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(t){return t({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var t=this;t.inputEl.bind("change",function(){t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(t){return t({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var t=this;t.parent.addListeners.call(t),t.single&&"no"!==t.buttons&&t.autosubmit()},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){(e.ctrlKey||e.metaKey)&&13===e.keyCode&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(t,e){function n(t,n,i,r,o,s,a,l,u){var c,h,d=this;d.scope=t,d.elem=i,d.attrs=n,d.inputEl=null,d.editorEl=null,d.single=!0,d.error="",d.theme=o[s.theme]||o.default,d.parent={},d.inputTpl="",d.directiveName="",d.useCopy=!1,d.single=null,d.buttons="right",d.init=function(e){if(d.single=e,d.name=n.eName||n[d.directiveName],!n[d.directiveName])throw"You should provide value for `"+d.directiveName+"` in editable element!";c=r(n[d.directiveName]),d.buttons=d.single?d.attrs.buttons||s.buttons:"no",n.eName&&d.scope.$watch("$data",function(t){d.scope.$form.$data[n.eName]=t}),n.onshow&&(d.onshow=function(){return d.catchError(r(n.onshow)(t))}),n.onhide&&(d.onhide=function(){return r(n.onhide)(t)}),n.oncancel&&(d.oncancel=function(){return r(n.oncancel)(t)}),n.onbeforesave&&(d.onbeforesave=function(){return d.catchError(r(n.onbeforesave)(t))}),n.onaftersave&&(d.onaftersave=function(){return d.catchError(r(n.onaftersave)(t))}),t.$parent.$watch(n[d.directiveName],function(){d.handleEmpty()})},d.render=function(){var t=d.theme;for(var i in d.inputEl=angular.element(d.inputTpl),d.controlsEl=angular.element(t.controlsTpl),d.controlsEl.append(d.inputEl),"no"!==d.buttons&&(d.buttonsEl=angular.element(t.buttonsTpl),d.submitEl=angular.element(t.submitTpl),d.cancelEl=angular.element(t.cancelTpl),d.buttonsEl.append(d.submitEl).append(d.cancelEl),d.controlsEl.append(d.buttonsEl),d.inputEl.addClass("editable-has-buttons")),d.errorEl=angular.element(t.errorTpl),d.controlsEl.append(d.errorEl),d.editorEl=angular.element(d.single?t.formTpl:t.noformTpl),d.editorEl.append(d.controlsEl),n.$attr)if(!(i.length<=1)){var r=!1,o=i.substring(1,2);if("e"===i.substring(0,1)&&o===o.toUpperCase()&&("Form"!==(r=i.substring(1))&&"NgSubmit"!==r)){r=r.substring(0,1).toLowerCase()+e.camelToDash(r.substring(1));var a=""===n[i]?r:n[i];d.inputEl.attr(r,a)}}d.inputEl.addClass("editable-input"),d.inputEl.attr("ng-model","$data"),d.editorEl.addClass(e.camelToDash(d.directiveName)),d.single&&(d.editorEl.attr("editable-form","$form"),d.editorEl.attr("blur",d.attrs.blur||("no"===d.buttons?"cancel":s.blurElem))),angular.isFunction(t.postrender)&&t.postrender.call(d)},d.setLocalValue=function(){d.scope.$data=d.useCopy?angular.copy(c(t.$parent)):c(t.$parent)},d.show=function(){return d.setLocalValue(),d.render(),i.after(d.editorEl),l(d.editorEl)(t),d.addListeners(),i.addClass("editable-hide"),d.onshow()},d.hide=function(){return d.editorEl.remove(),i.removeClass("editable-hide"),d.onhide()},d.cancel=function(){d.oncancel()},d.addListeners=function(){d.inputEl.bind("keyup",function(t){if(d.single)switch(t.keyCode){case 27:d.scope.$apply(function(){d.scope.$form.$cancel()})}}),d.single&&"no"===d.buttons&&d.autosubmit(),d.editorEl.bind("click",function(t){1===t.which&&d.scope.$form.$visible&&(d.scope.$form._clicked=!0)})},d.setWaiting=function(t){t?(h=!d.inputEl.attr("disabled")&&!d.inputEl.attr("ng-disabled")&&!d.inputEl.attr("ng-enabled"))&&(d.inputEl.attr("disabled","disabled"),d.buttonsEl&&d.buttonsEl.find("button").attr("disabled","disabled")):h&&(d.inputEl.removeAttr("disabled"),d.buttonsEl&&d.buttonsEl.find("button").removeAttr("disabled"))},d.activate=function(){setTimeout(function(){var t=d.inputEl[0];"focus"===s.activate&&t.focus&&t.focus(),"select"===s.activate&&t.select&&t.select()},0)},d.setError=function(e){angular.isObject(e)||(t.$error=e,d.error=e)},d.catchError=function(t,e){return angular.isObject(t)&&!0!==e?u.when(t).then(angular.bind(this,function(t){this.catchError(t,!0)}),angular.bind(this,function(t){this.catchError(t,!0)})):e&&angular.isObject(t)&&t.status&&200!==t.status&&t.data&&angular.isString(t.data)?(this.setError(t.data),t=t.data):angular.isString(t)&&this.setError(t),t},d.save=function(){c.assign(t.$parent,angular.copy(d.scope.$data))},d.handleEmpty=function(){var e=c(t.$parent),n=null===e||void 0===e||""===e||angular.isArray(e)&&0===e.length;i.toggleClass("editable-empty",n)},d.autosubmit=angular.noop,d.onshow=angular.noop,d.onhide=angular.noop,d.oncancel=angular.noop,d.onbeforesave=angular.noop,d.onaftersave=angular.noop}return n.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableOptions","$rootScope","$compile","$q"],n}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController",function(t,e,n,i,r,o,s){return function(e){return{restrict:"A",scope:!0,require:[e.directiveName,"?^form"],controller:o,link:function(n,o,a,l){var u,c=l[0],h=!1;if(l[1])u=l[1],h=!0;else if(a.eForm){var d=t(a.eForm)(n);if(d)u=d,h=!0;else for(var f=0;f<r[0].forms.length;f++)if(r[0].forms[f].name===a.eForm){u=null,h=!0;break}}if(angular.forEach(e,function(t,e){void 0!==c[e]&&(c.parent[e]=c[e])}),angular.extend(c,e),c.init(!h),n.$editable=c,o.addClass("editable"),h)if(u){if(n.$form=u,!n.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";n.$form.$addEditable(c)}else i.$$editableBuffer=i.$$editableBuffer||{},i.$$editableBuffer[a.eForm]=i.$$editableBuffer[a.eForm]||[],i.$$editableBuffer[a.eForm].push(c),n.$form=null;else n.$form=s(),n.$form.$addEditable(c),a.eForm&&(n.$parent[a.eForm]=n.$form),a.eForm||(o.addClass("editable-click"),o.bind("click",function(t){t.preventDefault(),t.editable=c,n.$apply(function(){n.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(t,e,n,i,r){var o=[];e.bind("click",function(t){if(1===t.which){for(var e=[],i=[],r=0;r<o.length;r++)o[r]._clicked?o[r]._clicked=!1:o[r].$waiting||("cancel"===o[r]._blur&&e.push(o[r]),"submit"===o[r]._blur&&i.push(o[r]));(e.length||i.length)&&n.$apply(function(){angular.forEach(e,function(t){t.$cancel()}),angular.forEach(i,function(t){t.$submit()})})}});var s={$addEditable:function(t){this.$editables.push(t),t.elem.bind("$destroy",angular.bind(this,this.$removeEditable,t)),t.scope.$form||(t.scope.$form=this),this.$visible&&t.catchError(t.show())},$removeEditable:function(t){for(var e=0;e<this.$editables.length;e++)if(this.$editables[e]===t)return void this.$editables.splice(e,1)},$show:function(){if(!this.$visible){this.$visible=!0;var t=i();t.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(e){t.when(e.show())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===r.indexOf(o,this)&&o.push(this)}),0)}},$activate:function(t){var e;if(this.$editables.length){if(angular.isString(t))for(e=0;e<this.$editables.length;e++)if(this.$editables[e].name===t)return void this.$editables[e].activate();for(e=0;e<this.$editables.length;e++)if(this.$editables[e].error)return void this.$editables[e].activate();this.$editables[0].activate()}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(t){t.hide()}),r.arrayRemove(o,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(t){t.cancel()}),this.$hide())},$setWaiting:function(t){this.$waiting=!!t,angular.forEach(this.$editables,function(e){e.setWaiting(!!t)})},$setError:function(t,e){angular.forEach(this.$editables,function(n){t&&n.name!==t||n.setError(e)})},$submit:function(){function t(t){var e=i();e.when(this.$onbeforesave()),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:t?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var e=i();angular.forEach(this.$editables,function(t){e.when(t.onbeforesave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,t,!0),onFalse:angular.bind(this,t,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(t){t.save()});var t=i();t.when(this.$onaftersave()),angular.forEach(this.$editables,function(e){t.when(e.onaftersave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},s)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(t,e,n,i){return{restrict:"A",require:["form"],compile:function(){return{pre:function(e,i,r,o){var s,a=o[0];r.editableForm?e[r.editableForm]&&e[r.editableForm].$show?(s=e[r.editableForm],angular.extend(a,s)):(s=n(),e[r.editableForm]=s,angular.extend(s,a)):(s=n(),angular.extend(a,s));var l=t.$$editableBuffer,u=a.$name;u&&l&&l[u]&&(angular.forEach(l[u],function(t){s.$addEditable(t)}),delete l[u])},post:function(t,n,r,o){var s;s=r.editableForm&&t[r.editableForm]&&t[r.editableForm].$show?t[r.editableForm]:o[0],r.onshow&&(s.$onshow=angular.bind(s,e(r.onshow),t)),r.onhide&&(s.$onhide=angular.bind(s,e(r.onhide),t)),r.oncancel&&(s.$oncancel=angular.bind(s,e(r.oncancel),t)),r.shown&&e(r.shown)(t)&&s.$show(),s._blur=r.blur||i.blurForm,r.ngSubmit||r.submit||(r.onbeforesave&&(s.$onbeforesave=function(){return e(r.onbeforesave)(t,{$data:s.$data})}),r.onaftersave&&(s.$onaftersave=function(){return e(r.onaftersave)(t,{$data:s.$data})}),n.bind("submit",function(e){e.preventDefault(),t.$apply(function(){s.$submit()})})),n.bind("click",function(t){1===t.which&&s.$visible&&(s._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(t){return function(){return{promises:[],hasFalse:!1,hasString:!1,when:function(e,n){if(!1===e)this.hasFalse=!0;else if(!n&&angular.isObject(e))this.promises.push(t.when(e));else{if(!angular.isString(e))return;this.hasString=!0}},then:function(e){function n(){a.hasString||a.hasFalse?!a.hasString&&a.hasFalse?r():o():i()}var i=(e=e||{}).onTrue||angular.noop,r=e.onFalse||angular.noop,o=e.onString||angular.noop,s=e.onWait||angular.noop,a=this;this.promises.length?(s(!0),t.all(this.promises).then(function(t){s(!1),angular.forEach(t,function(t){a.when(t,!0)}),n()},function(){s(!1),o()})):n()}}}}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},arrayRemove:function(t,e){var n=this.indexOf(t,e);return n>=0&&t.splice(n,1),e},camelToDash:function(t){return t.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()})},dashToCamel:function(t){return t.replace(/([\:\-\_]+(.))/g,function(t,e,n,i){return i?n.toUpperCase():n}).replace(/^moz([A-Z])/,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return function(e){var n;if(!(n=e.match(t)))throw"ng-options parse error";var i,r=n[2]||n[1],o=n[4]||n[6],s=n[5],a=(n[3],n[2]?n[1]:o),l=n[7],u=n[8],c=u?n[8]:null;return void 0===s?(i=o+" in "+l,void 0!==u&&(i+=" track by "+c)):i="("+s+", "+o+") in "+l,{ngRepeat:i,locals:{valueName:o,keyName:s,valueFn:a,displayFn:r}}}}]),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="icon-ok icon-white"></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span class="icon-remove"></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}}}),function(t,e,n,i){"use strict";var r=e.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(o,s,a){this.draggableScope=null,this.droppableScope=null,n("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(t,e,i,r){if(e){var o=function(e){var i=-1!==e.indexOf("(")?e.indexOf("("):e.length,r=-1!==e.lastIndexOf(")")?e.lastIndexOf(")"):e.length,o=e.substring(i+1,r),a=-1!==e.indexOf(".")?e.substr(0,e.indexOf(".")):null;return a=t[a]&&"function"==typeof t[a].constructor?a:null,{callback:e.substring(a&&a.length+1||0,i),args:n.map(o&&o.split(",")||[],function(e){return[s(e)(t)]}),constructor:a}}(e),a=o.callback,l=o.constructor,u=[i,r].concat(o.args);return(t[a]||t[l][a]).apply(t[a]?t:t[l],u)}},this.invokeDrop=function(t,s,l,u){var c,h,d,f,p,g,m={},v={},y={},b={},w=null,x=this.droppableScope,C=this.draggableScope,k=null,_=[];f=t.ngattr("ng-model"),p=s.ngattr("ng-model"),c=C.$eval(f),h=x.$eval(p),w=s.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),v=x.$eval(s.attr("jqyoui-droppable")||s.attr("data-jqyoui-droppable"))||[],(m=C.$eval(t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))||[]).index=this.fixIndex(C,m,c),v.index=this.fixIndex(x,v,h),g=e.isArray(c)?m.index:null,y=e.isArray(c)?c[g]:c,m.deepCopy&&(y=e.copy(y)),b=e.isArray(h)&&v&&v.index!==i?h[v.index]:e.isArray(h)?{}:h,v.deepCopy&&(b=e.copy(b)),m.beforeDrop&&_.push(this.callEventCallback(C,m.beforeDrop,l,u)),a.all(_).then(e.bind(this,function(){if(m.insertInline&&f===p){if(m.index>v.index){d=c[m.index];for(var i=m.index;i>v.index;i--)h[i]=e.copy(h[i-1]),h[i-1]={},h[i][m.direction]="left";h[v.index]=d}else{d=c[m.index];for(i=m.index;i<v.index;i++)h[i]=e.copy(h[i+1]),h[i+1]={},h[i][m.direction]="right";h[v.index]=d}this.callEventCallback(x,v.onDrop,l,u)}else!0===m.animate?((k=t.clone()).css({position:"absolute"}).css(t.offset()),n("body").append(k),t.addClass("angular-dragdrop-hide"),this.move(k,w.length>0?w:s,null,"fast",v,function(){k.remove()}),this.move(w.length>0&&!v.multiple?w:[],t.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",v,e.bind(this,function(){o(e.bind(this,function(){t.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),w.css({position:"relative",left:"",top:"",display:"none"===w.css("display")?"":w.css("display")}),this.mutateDraggable(C,v,m,f,p,b,t),this.mutateDroppable(x,v,m,p,y,g),this.callEventCallback(x,v.onDrop,l,u)}))}))):o(e.bind(this,function(){this.mutateDraggable(C,v,m,f,p,b,t),this.mutateDroppable(x,v,m,p,y,g),this.callEventCallback(x,v.onDrop,l,u)}))})).finally(e.bind(this,function(){this.restore(t)}))},this.move=function(e,n,r,o,s,a){if(0===e.length)return a&&t.setTimeout(function(){a()},300),!1;var l=e.css("z-index"),u=e[s.containment||"offset"](),c=n.css("display"),h=n.hasClass("ng-hide"),d=n.hasClass("angular-dragdrop-hide");null===r&&n.length>0&&((n.attr("jqyoui-draggable")||n.attr("data-jqyoui-draggable"))!==i&&n.ngattr("ng-model")!==i&&n.is(":visible")&&s&&s.multiple?(r=n[s.containment||"offset"](),!1===s.stack?r.left+=n.outerWidth(!0):r.top+=n.outerHeight(!0)):(h&&n.removeClass("ng-hide"),d&&n.removeClass("angular-dragdrop-hide"),r=n.css({visibility:"hidden",display:"block"})[s.containment||"offset"](),n.css({visibility:"",display:c}))),e.css({position:"absolute","z-index":9999}).css(u).animate(r,o,function(){h&&n.addClass("ng-hide"),d&&n.addClass("angular-dragdrop-hide"),e.css("z-index",l),a&&a()})},this.mutateDroppable=function(t,n,i,r,o,a){var l=t.$eval(r);t.dndDragItem=o,e.isArray(l)?(n&&n.index>=0?l[n.index]=o:l.push(o),i&&!0===i.placeholder&&(l[l.length-1].jqyoui_pos=a)):(s(r+" = dndDragItem")(t),i&&!0===i.placeholder&&(l.jqyoui_pos=a))},this.mutateDraggable=function(t,n,r,o,a,l,u){var c=e.equals(l,{})||!l,h=t.$eval(o);t.dndDropItem=l,r&&r.placeholder?"keep"!=r.placeholder&&(e.isArray(h)&&r.index!==i?h[r.index]=l:s(o+" = dndDropItem")(t)):e.isArray(h)?c?r&&!0!==r.placeholder&&"keep"!==r.placeholder&&h.splice(r.index,1):h[r.index]=l:(s(o+" = dndDropItem")(t),t.$parent&&s(o+" = dndDropItem")(t.$parent)),this.restore(u)},this.restore=function(t){t.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,n,r){if(n.applyFilter&&e.isArray(r)&&r.length>0){var o=t[n.applyFilter]()[n.index],s=i;return r.forEach(function(t,n){e.equals(t,o)&&(s=n)}),s}return n.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(t){return{require:"?jqyouiDroppable",restrict:"A",link:function(i,o,s){var a,l,u,c,h=n(o),d=function(o,d){o?(a=i.$eval(h.attr("jqyoui-draggable")||h.attr("data-jqyoui-draggable"))||{},l=i.$eval(s.jqyouiOptions)||{},h.draggable({disabled:!1}).draggable(l).draggable({start:function(e,o){t.draggableScope=i,u=n(l.helper?o.helper:this).css("z-index"),n(l.helper?o.helper:this).css("z-index",9999),r.startXY=n(this)[a.containment||"offset"](),t.callEventCallback(i,a.onStart,e,o)},stop:function(e,r){n(l.helper?r.helper:this).css("z-index",u),t.callEventCallback(i,a.onStop,e,r)},drag:function(e,n){t.callEventCallback(i,a.onDrag,e,n)}})):h.draggable({disabled:!0}),c&&e.isDefined(o)&&(e.equals(s.drag,"true")||e.equals(s.drag,"false"))&&(c(),c=null)};c=i.$watch(function(){return i.$eval(s.drag)},d),d(),h.on("$destroy",function(){h.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(t,i){return{restrict:"A",priority:1,link:function(r,o,s){var a,l,u,c=n(o),h=function(o,h){o?(a=r.$eval(n(c).attr("jqyoui-droppable")||n(c).attr("data-jqyoui-droppable"))||{},l=r.$eval(s.jqyouiOptions)||{},c.droppable({disabled:!1}).droppable(l).droppable({over:function(e,n){t.callEventCallback(r,a.onOver,e,n)},out:function(e,n){t.callEventCallback(r,a.onOut,e,n)},drop:function(o,u){(a.beforeDrop?t.callEventCallback(r,a.beforeDrop,o,u):function(){var t=i.defer();return t.resolve(),t.promise}()).then(e.bind(this,function(){n(u.draggable).ngattr("ng-model")&&s.ngModel?(t.droppableScope=r,t.invokeDrop(n(u.draggable),n(this),o,u)):t.callEventCallback(r,a.onDrop,o,u)}),function(){u.draggable.animate({left:"",top:""},l.revertDuration||0)})}})):c.droppable({disabled:!0}),u&&e.isDefined(o)&&(e.equals(s.drop,"true")||e.equals(s.drop,"false"))&&(u(),u=null)};u=r.$watch(function(){return r.$eval(s.drop)},h),h(),c.on("$destroy",function(){c.droppable({disabled:!0}).droppable("destroy")})}}}]);n.fn.ngattr=function(t,e){var n=this[0];return n.getAttribute(t)||n.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),i=function(){var i=t.preferredLanguage();angular.isString(i)?t.use(i):n.put(e,t.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e)).catch(i):i():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(t,e,n,i){"use strict";var r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,b,w={},x=[],C=t,k=[],_="translate-cloak",S=!1,$=!1,E=".",T=!1,D=!1,M=0,A=!0,P="default",O={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},N=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var t,n,r=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(t=0;t<r.languages.length;t++)if((n=r.languages[t])&&n.length)return n;for(t=0;t<o.length;t++)if((n=r[o[t]])&&n.length)return n;return null};N.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var t=N()||"";return O[P]&&(t=O[P](t)),t};I.displayName="angular-translate/service: getLocale";var L=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R=function(){return this.toString().replace(/^\s+|\s+$/g,"")},H=function(t){if(t){for(var e=[],n=angular.lowercase(t),i=0,r=x.length;i<r;i++)e.push(angular.lowercase(x[i]));if(L(e,n)>-1)return t;var s;if(o)for(var a in o)if(o.hasOwnProperty(a)){var l=!1,u=Object.prototype.hasOwnProperty.call(o,a)&&angular.lowercase(a)===angular.lowercase(t);if("*"===a.slice(-1)&&(l=a.slice(0,-1)===t.slice(0,a.length-1)),(u||l)&&(s=o[a],L(e,angular.lowercase(s))>-1))return s}var c=t.split("_");return c.length>1&&L(e,angular.lowercase(c[0]))>-1?c[0]:void 0}},F=function(t,e){if(!t&&!e)return w;if(t&&!e){if(angular.isString(t))return w[t]}else angular.isObject(w[t])||(w[t]={}),angular.extend(w[t],z(e));return this};this.translations=F,this.cloakClassName=function(t){return t?(_=t,this):_},this.nestedObjectDelimeter=function(t){return t?(E=t,this):E};var z=function(t,e,n,i){var r,o,s;for(r in e||(e=[]),n||(n={}),t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?z(s,e.concat(r),n,r):(o=e.length?""+e.join(E)+E+r:r,e.length&&r===i&&(n[""+e.join(E)]="@:"+o),n[o]=s));return n};z.displayName="flatObject",this.addInterpolation=function(t){return k.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return f=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(B(t),this):r};var B=function(t){return t&&(r=t),r};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return j(t),this};var j=function(t){return t?(angular.isString(t)?(a=!0,s=[t]):angular.isArray(t)&&(a=!1,s=t),angular.isString(r)&&L(s,r)<0&&s.push(r),this):a?s[0]:s};this.use=function(t){if(t){if(!w[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return I()};var W=function(t){return t?(C=t,this):h?h+C:C};this.storageKey=W,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(h=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return d=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.forceAsyncReload=function(t){return $=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},P=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():I();return r=x.length&&H(e)||e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(x=t,e&&(o=e),this):x},this.useLoaderCache=function(t){return!1===t?y=void 0:!0===t?y=!0:void 0===t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?M:(M=t,this)},this.statefulFilter=function(t){return void 0===t?A:(A=t,this)},this.postProcess=function(t){return b=t||void 0,this},this.keepContent=function(t){return D=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,i){var o,h,P,O=e.get(f||"$translateDefaultInterpolation"),N=!1,V={},U={},q=function(t,e,n,a,u){!l&&r&&(l=r);var d=u&&u!==l?H(u)||u:l;if(u&&st(u),angular.isArray(t)){return function(t){for(var r={},o=[],s=function(t){var o=i.defer(),s=function(e){r[t]=e,o.resolve([t,e])};return q(t,e,n,a,u).then(s,s),o.promise},l=0,c=t.length;l<c;l++)o.push(s(t[l]));return i.all(o).then(function(){return r})}(t)}var f=i.defer();t&&(t=R.apply(t));var p=function(){var t=r?U[r]:U[d];if(h=0,c&&!t){var e=o.get(C);if(t=U[e],s&&s.length){var n=L(s,e);h=0===n?1:0,L(s,r)<0&&s.push(r)}}return t}();if(p){var g=function(){u||(d=l),it(t,e,n,a,d).then(f.resolve,f.reject)};g.displayName="promiseResolved",p.finally(g)}else it(t,e,n,a,d).then(f.resolve,f.reject);return f.promise},Y=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},G=function(t){l=t,c&&o.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),O.setLocale(l);var e=function(t,e){V[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(V,e),n.$emit("$translateChangeEnd",{language:t})},X=function(t){if(!t)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:t}),N=!0;var o=y;"string"==typeof o&&(o=e.get(o));var s=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),a=function(e){var i={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(i,z(t))}):angular.extend(i,z(e)),N=!1,r.resolve({key:t,table:i}),n.$emit("$translateLoadingEnd",{language:t})};a.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),r.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(p)(s).then(a,l),r.promise};if(c&&(!(o=e.get(c)).get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(k.length){var K=function(t){var n=e.get(t);n.setLocale(r||l),V[n.getInterpolationIdentifier()]=n};K.displayName="interpolationFactoryAdder",angular.forEach(k,K)}var Z=function(t,e,n,r){var o=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,e)){r.setLocale(t);var s=i[e];if("@:"===s.substr(0,2))Z(t,s.substr(2),n,r).then(o.resolve,o.reject);else{var a=r.interpolate(i[e],n,"service");a=ot(e,i[e],a,n,t),o.resolve(a)}r.setLocale(l)}else o.reject()};return s.displayName="fallbackTranslationResolver",function(t){var e=i.defer();if(Object.prototype.hasOwnProperty.call(w,t))e.resolve(w[t]);else if(U[t]){var n=function(t){F(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",U[t].then(n,e.reject)}else e.reject();return e.promise}(t).then(s,o.reject),o.promise},Q=function(t,e,n,i,r){var o,s=w[t];if(s&&Object.prototype.hasOwnProperty.call(s,e)){if(i.setLocale(t),o=i.interpolate(s[e],n,"filter",r),o=ot(e,s[e],o,n,t,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var a=o.$$unwrapTrustedValue();if("@:"===a.substr(0,2))return Q(t,a.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return Q(t,o.substr(2),n,i,r);i.setLocale(l)}return o},J=function(t,n,i,r){return d?e.get(d)(t,l,n,i,r):t},tt=function(t,e,n,r,o){var a=i.defer();if(t<s.length){var l=s[t];Z(l,e,n,r).then(function(t){a.resolve(t)},function(){return tt(t+1,e,n,r,o).then(a.resolve,a.reject)})}else if(o)a.resolve(o);else{var u=J(e,n,o);d&&u?a.resolve(u):a.reject(Y(e))}return a.promise},et=function(t,e,n,i,r){var o;if(t<s.length){var a=s[t];(o=Q(a,e,n,i,r))||""===o||(o=et(t+1,e,n,i))}return o},nt=function(t,e,n,i){return tt(P>0?P:h,t,e,n,i)},it=function(t,e,n,r,o){var a=i.defer(),l=o?w[o]:w,u=n?V[n]:O;if(l&&Object.prototype.hasOwnProperty.call(l,t)){var c=l[t];if("@:"===c.substr(0,2))q(c.substr(2),e,n,r,o).then(a.resolve,a.reject);else{var h=u.interpolate(c,e,"service");h=ot(t,c,h,e,o),a.resolve(h)}}else{var f;d&&!N&&(f=J(t,e,r)),o&&s&&s.length?nt(t,e,u,r).then(function(t){a.resolve(t)},function(t){a.reject(Y(t))}):d&&!N&&f?r?a.resolve(r):a.resolve(f):r?a.resolve(r):a.reject(Y(t))}return a.promise},rt=function(t,e,n,i,r){var o,a=i?w[i]:w,l=O;if(V&&Object.prototype.hasOwnProperty.call(V,n)&&(l=V[n]),a&&Object.prototype.hasOwnProperty.call(a,t)){var u=a[t];"@:"===u.substr(0,2)?o=rt(u.substr(2),e,n,i,r):(o=l.interpolate(u,e,"filter",r),o=ot(t,u,o,e,i,r))}else{var c;d&&!N&&(c=J(t,e,r)),i&&s&&s.length?(h=0,o=function(t,e,n,i){return et(P>0?P:h,t,e,n,i)}(t,e,l,r)):o=d&&!N&&c?c:Y(t)}return o},ot=function(t,n,i,r,o,s){var a=b;return a&&("string"==typeof a&&(a=e.get(a)),a)?a(t,n,i,r,o,s):i},st=function(t){w[t]||!p||U[t]||(U[t]=X(t).then(function(t){return F(t.key,t.table),t}))};q.preferredLanguage=function(t){return t&&B(t),r},q.cloakClassName=function(){return _},q.nestedObjectDelimeter=function(){return E},q.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(j(t),p&&s&&s.length)for(var e=0,n=s.length;e<n;e++)U[s[e]]||(U[s[e]]=X(s[e]));q.use(q.use())}return a?s[0]:s},q.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=L(s,t);e>-1&&(P=e)}else P=0},q.proposedLanguage=function(){return u},q.storage=function(){return o},q.negotiateLocale=H,q.use=function(t){if(!t)return l;var e=i.defer();n.$emit("$translateChangeStart",{language:t});var r=H(t);return x.length>0&&!r?i.reject(t):(r&&(t=r),u=t,!$&&w[t]||!p||U[t]?U[t]?U[t].then(function(t){return u===t.key&&G(t.key),e.resolve(t.key),t},function(t){return!l&&s&&s.length>0&&s[0]!==t?q.use(s[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),G(t)):(U[t]=X(t).then(function(n){return F(n.key,n.table),e.resolve(n.key),u===t&&G(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),i.reject(t)}),U[t].finally(function(){!function(t){u===t&&(u=void 0),U[t]=void 0}(t)})),e.promise)},q.resolveClientLocale=function(){return I()},q.storageKey=function(){return W()},q.isPostCompilingEnabled=function(){return S},q.isForceAsyncReloadEnabled=function(){return $},q.isKeepContent=function(){return D},q.refresh=function(t){function e(){o.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function r(){o.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var o=i.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(w[t]){var a=function(n){return F(n.key,n.table),t===l&&G(l),e(),n};a.displayName="refreshPostProcessor",X(t).then(a,r)}else r();else{var u=[],c={};if(s&&s.length)for(var h=0,d=s.length;h<d;h++)u.push(X(s[h])),c[s[h]]=!0;l&&!c[l]&&u.push(X(l));var f=function(t){w={},angular.forEach(t,function(t){F(t.key,t.table)}),l&&G(l),e()};f.displayName="refreshPostProcessor",i.all(u).then(f,r)}return o.promise},q.instant=function(t,e,n,i,o){var a=i&&i!==l?H(i)||i:l;if(null===t||angular.isUndefined(t))return t;if(i&&st(i),angular.isArray(t)){for(var u={},c=0,h=t.length;c<h;c++)u[t[c]]=q.instant(t[c],e,n,i,o);return u}if(angular.isString(t)&&t.length<1)return t;t&&(t=R.apply(t));var f,p=[];r&&p.push(r),a&&p.push(a),s&&s.length&&(p=p.concat(s));for(var g=0,y=p.length;g<y;g++){var b=p[g];if(w[b]&&void 0!==w[b][t]&&(f=rt(t,e,n,a,o)),void 0!==f)break}if(!f&&""!==f)if(m||v)f=Y(t);else{var x;f=O.interpolate(t,e,"filter",o),d&&!N&&(x=J(t,e,o)),d&&!N&&x&&(f=x)}return f},q.versionInfo=function(){return"2.13.0"},q.loaderCache=function(){return y},q.directivePriority=function(){return M},q.statefulFilter=function(){return A},q.isReady=function(){return T};var at=i.defer();at.promise.then(function(){T=!0}),q.onReady=function(t){var e=i.defer();return angular.isFunction(t)&&e.promise.then(t),T?e.resolve():at.promise.then(e.resolve),e.promise},q.getAvailableLanguageKeys=function(){return x.length>0?x:null},q.getTranslationTable=function(t){return(t=t||q.use())&&w[t]?angular.copy(w[t]):null};var lt=n.$on("$translateReady",function(){at.resolve(),lt(),lt=null}),ut=n.$on("$translateChangeEnd",function(){at.resolve(),ut(),ut=null});if(p){if(angular.equals(w,{})&&q.use()&&q.use(q.use()),s&&s.length)for(var ct=function(t){return F(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ht=0,dt=s.length;ht<dt;ht++){var ft=s[ht];!$&&w[ft]||(U[ft]=X(ft).then(ct))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function n(t,e){"use strict";var n={};return n.setLocale=function(t){t},n.getInterpolationIdentifier=function(){return"default"},n.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},n.interpolate=function(n,i,r,o){var s;return i=i||{},i=e.sanitize(i,"params",o,r),angular.isNumber(n)?s=""+n:angular.isString(n)?(s=t(n)(i),s=e.sanitize(s,"text",o,r)):s="",s},n}function i(t,e,n,i,o){"use strict";return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(s,a){var l=a.translateValues?a.translateValues:void 0,u=a.translateInterpolation?a.translateInterpolation:void 0,c=s[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",d="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(s,f,p){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=r(s);var g={},m=function(t){if(angular.isFunction(m._unwatchOld)&&(m._unwatchOld(),m._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(f.text()),i=n.match(h);if(angular.isArray(i)){s.preText=i[1],s.postText=i[3],g.translate=e(i[2])(s.$parent);var r=n.match(d);angular.isArray(r)&&r[2]&&r[2].length&&(m._unwatchOld=s.$watch(r[2],function(t){g.translate=t,C()}))}else g.translate=n||void 0}else g.translate=t;C()},v=function(t){p.$observe(t,function(e){g[t]=e,C()})};!function(t,e,n){if(e.translateValues&&angular.extend(t,i(e.translateValues)(s.$parent)),c)for(var r in n)Object.prototype.hasOwnProperty.call(e,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r&&(t[angular.lowercase(r.substr(14,1))+r.substr(15)]=n[r])}(s.interpolateParams,p,a);var y=!0;for(var b in p.$observe("translate",function(t){void 0===t?m(""):""===t&&y||(g.translate=t,C()),y=!1}),p)p.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&b.length>13&&v(b);if(p.$observe("translateDefault",function(t){s.defaultText=t,C()}),l&&p.$observe("translateValues",function(t){t&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,i(t)(s.$parent))})}),c){var w=function(t){p.$observe(t,function(e){var n=angular.lowercase(t.substr(14,1))+t.substr(15);s.interpolateParams[n]=e})};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&w(x)}var C=function(){for(var t in g)g.hasOwnProperty(t)&&void 0!==g[t]&&k(t,g[t],s,s.interpolateParams,s.defaultText,s.translateNamespace)},k=function(e,n,i,r,o,s){n?(s&&"."===n.charAt(0)&&(n=s+n),t(n,r,u,o,i.translateLanguage).then(function(t){_(t,i,!0,e)},function(t){_(t,i,!1,e)})):_(n,i,!1,e)},_=function(e,i,r,o){if(r||void 0!==i.defaultText&&(e=i.defaultText),"translate"===o){(r||!r&&!t.isKeepContent()&&void 0===p.translateKeepContent)&&f.empty().append(i.preText+e+i.postText);var s=t.isPostCompilingEnabled(),l=void 0!==a.translateCompile,u=l&&"false"!==a.translateCompile;(s&&!l||u)&&n(f.contents())(i)}else{var c=p.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),f.attr(c,e)}};(l||c||p.translateDefault)&&s.$watch("interpolateParams",C,!0),s.$on("translateLanguageChanged",C);var S=o.$on("$translateChangeSuccess",C);f.text().length?m(p.translate?p.translate:""):p.translate&&m(p.translate),C(),s.$on("$destroy",S)}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function o(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,i,r){var o,a,l={},u=function(){angular.forEach(o,function(e,o){e&&(l[o]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,a,r.translateInterpolation,void 0,n.translateLanguage).then(function(t){i.attr(o,t)},function(t){i.attr(o,t)}))}),angular.forEach(l,function(t,e){o[e]||(i.removeAttr(e),delete l[e])})};s(n,r.translateAttr,function(t){o=t},u),s(n,r.translateValues,function(t){a=t},u),r.translateValues&&n.$watch(r.translateValues,u,!0),n.$on("translateLanguageChanged",u);var c=e.$on("$translateChangeSuccess",u);u(),n.$on("$destroy",c)}}}function s(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function a(t,e){"use strict";return{compile:function(n){var i=function(){n.addClass(t.cloakClassName())},r=function(){n.removeClass(t.cloakClassName())};return t.onReady(function(){r()}),i(),function(n,o,s){s.translateCloak&&s.translateCloak.length&&(s.$observe("translateCloak",function(e){t(e).then(r,i)}),e.$on("$translateChangeSuccess",function(){t(s.translateCloak).then(r,i)}))}}}}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=r(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function c(t,e){"use strict";var n=function(n,i,r,o){return angular.isObject(i)||(i=t(i)(this)),e.instant(n,i,r,o)};return e.statefulFilter()&&(n.$stateful=!0),n}function h(t){"use strict";return t("translations")}return t.$inject=["a"],e.$inject=["a","b","c","d"],n.$inject=["a","b"],i.$inject=["a","b","c","d","e"],o.$inject=["a","b"],a.$inject=["a","b"],c.$inject=["a","b"],h.$inject=["a"],t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],a.$inject=["$translate","$rootScope"],c.$inject=["$parse","$translate"],h.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var t,e,n,i=null,r=!1,o=!1;(n={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=s(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=u(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=u(t,s)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=u(t,s)),t},sceParameters:function(t,e){return"params"===e&&(t=u(t,l)),t}}).escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return r=!0,i=t,this},this.$get=["$injector","$log",function(s,a){var l={},u=function(t,e,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,e,i);else if(angular.isFunction(n[r]))t=n[r](t,e,i);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!l[n[r]])try{l[n[r]]=s.get(n[r])}catch(t){throw l[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=l[n[r]](t,e,i)}}),t},c=function(){r||o||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return s.has("$sanitize")&&(t=s.get("$sanitize")),s.has("$sce")&&(e=s.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,r){if(i||c(),n||null===n||(n=i),!n)return t;r||(r="service");var o=angular.isArray(n)?n:[n];return u(t,e,r,o)}}}];var s=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},u=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var i=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,r){angular.isFunction(t)||(i[r]=u(t,e,n))}),n.splice(-1,1),i}return angular.isNumber(t)?t:e(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",l),l.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",c),c.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(t){"use strict";return{get:function(e){return t.get(e)},set:function(e,n){t.put(e,n)},put:function(e,n){t.put(e,n)}}}return t.$inject=["a"],t.$inject=["$cookieStore"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.displayName="$translateCookieStorage","pascalprecht.translate"}),window.Mediasite||((Mediasite={}).PlayState={Undefined:"undefined",Stopped:"stopped",Paused:"paused",Playing:"playing",ScanForward:"scanforward",ScanReverse:"scanreverse",Buffering:"buffering",Waiting:"waiting",MediaEnded:"mediaended",Transitioning:"transitioning",Ready:"ready",Reconnecting:"reconnecting",Closed:"closed",Error:"error",Opening:"opening"},Mediasite.PlayerState={NotReady:"NotReady",InteractionRequired:"InteractionRequired",Waiting:"Waiting",Playing:"Playing",Paused:"Paused",Stopped:"Stopped",Ended:"Ended",Error:"Error"},Mediasite.StreamType={Video1:0,Document:1,Slide:2,Presentation:3,Video2:4,Video3:5},Mediasite.LiveStatus={NotAvailable:"NotAvailable",ScheduledForLive:"ScheduledForLive",OpenForLive:"OpenForLive",Live:"Live",LivePaused:"LivePaused",LiveEnded:"LiveEnded",OnDemand:"OnDemand"},Mediasite.ErrorDescription={410:"API method not found",411:"Error while calling API method",424:"Error while initializing iframe player",500:"Could not load presentation metadata",501:"General error",510:"Problem with presentation media",511:"Presentation media is not supported",520:"Player not ready",505:"iFrame API client is not compatible with Mediasite server's player API",231:"iFrame API client is older than Mediasite server and should be upgraded to the latest version",232:"iFrame API client is newer than Mediasite server and might use unavailable methods or data"},Mediasite.Player=function(t,e){if(!t)throw"MediasitePlayer requires value for elementId parameter";if(!e)throw"MediasitePlayer requires value for options parameter";if(!e.url)throw"MediasitePlayer requires value for options.url parameter";var n,i,r,o,s,a=this,l={version:"7.0.29",supports:["6.1.5","6.1.7","6.1.9","6.1.11","7.0","7.0.28","7.0.29"],application:"MediasitePlayer"};function u(t,e){return function(){for(var n=0,i=arguments.length;n<i;n++){var o=arguments[n];for(var s in o)if(o.hasOwnProperty(s)){var a=o[e]?"."+o[e]:"",l=(t.hasOwnProperty(s)?t[s]:s)+a;r.Set(l,o[s])}}}}function c(t){if((t=t||{}).version=t.version||"6.1.1",t.supports=t.supports||[t.version],t.version==l.version)return!0;for(var e=0;e<l.supports.length;e++){var n=l.supports[e];if(t.version==n)return o.callHandlers("error",f(232,Mediasite.ErrorDescription[232],{version:t.version})),!0}for(e=0;e<t.supports.length;e++){n=t.supports[e];if(l.version==n)return o.callHandlers("error",f(231,Mediasite.ErrorDescription[231],{version:t.version})),!0}void 0===s&&(s=t.version);var i=f(505,Mediasite.ErrorDescription[505],{version:t.version});return i.ignoreIncompatibility=function(){s=!1},o.callHandlers("error",i),!1}function h(t){if(void 0!==s&&!1!==s)throw f(505,Mediasite.ErrorDescription[505],{version:s})}function d(t){this.errorCode=t}function f(t,e,n){var i=new d(t);if(e&&(i.details=e),n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i}function p(t){t&&t.version&&(c(t)&&n.tryActivate());t&&t.errorCode&&o.callHandlers("error",t)}function g(t){var i=c(t&&t.version);r.Set("activated",!0),i&&e.layoutOptions&&n.sendCommand("setLayoutOptions",{options:e.layoutOptions})}function m(){r.Set("ready",!0)}function v(t){r.Set("ready",t.ready),r.Set("playState",t.playState),r.Set("playerState",t.playerState),r.Set("liveStatus",t.liveStatus),r.Set("volume",t.volume),r.Set("volume.muted",t.muted),r.Set("currentTime",t.currentTime),r.Set("duration",t.duration),r.Set("playbackRate",t.playbackRate),r.Set("chapters",t.chapters),r.Set("timedevents",t.timedevents),r.Set("captions",t.captions),r.Set("slides",t.slides),r.Set("links",t.links),r.Set("pollsUri",t.pollsUri),r.Set("allStreams",t.allStreams),r.Set("visibleStreamTypes",t.visibleStreamTypes),r.Set("pastSessionPlayedSegments",t.pastSessionPlayedSegments)}function y(t){var e=r.Get("slides")||[],n={time:t.slideTime,title:t.slideTitle,description:t.slideDescription,url:t.slideUrl};e.push(n),r.Set("slides",e)}function b(t){var e=r.Get(t);return e&&0!=e.length?e=e.slice(0):[]}d.prototype.toString=function(){return"MediasitePlayerError"+(void 0!=typeof this.errorCode?"-"+this.errorCode:"")},this.addHandler=function(t,e){return o.addHandler(t,e)},this.removeHandler=function(t,e){return o.removeHandler(t,e)},this.play=function(){h(),n.sendCommand("play")},this.pause=function(){h(),n.sendCommand("pause")},this.stop=function(){h(),n.sendCommand("stop")},this.seekTo=function(t){h(),n.sendCommand("seekTo",{seconds:t})},this.getCurrentTime=function(){return h(),r.Get("currentTime")},this.getCurrentChapter=function(){if(h(),r.Has("chapter.time"))return{title:r.Get("chapter.title"),time:r.Get("chapter.time")}},this.getCurrentSlide=function(t){if(h(),t="."+t!=void 0?t:Mediasite.StreamType.Slide,r.Has("slide.time"))return{title:r.Get("slide.title"+t),description:r.Get("slide.description"+t),time:r.Get("slide.time"+t),url:r.Get("slide.url"+t),streamType:r.Get("slide.streamtype"+t)}},this.getCurrentCaptions=function(){return h(),b("currentCaptions")},this.getChapters=function(){return h(),b("chapters")},this.getTimedEvents=function(t){var e,n;h();var i=b("timedevents");if(void 0===t)return i;for(n=[],e=0;e<i.length;e++)i[e].type===t&&n.push(i[e]);return n},this.getSlides=function(t){h(),t=void 0!=t?t:Mediasite.StreamType.Slide;for(var e=[],n=b("slides"),i=0;i<n.length;i++)(n[i].streamType==t||t==Mediasite.StreamType.Slide&&void 0==n[i].streamType)&&e.push(n[i]);return e},this.getCaptions=function(){return h(),b("captions")},this.getDuration=function(){return h(),r.Get("duration")},this.getPlayState=function(){return h(),r.Get("playState")},this.getPlayerState=function(){h();var t={state:r.Get("playerState.state"),isLive:r.Get("playerState.isLive")};return t.state||(t.state=Mediasite.PlayerState.NotReady),t},this.getLiveStatus=function(){return h(),r.Get("liveStatus")},this.getVolume=function(){return h(),Math.round(r.Get("volume"))},this.setVolume=function(t){h(),n.sendCommand("setVolume",{volume:t})},this.mute=function(){h(),n.sendCommand("mute")},this.unMute=function(){h(),n.sendCommand("unMute")},this.isMuted=function(){return h(),r.Get("volume.muted")},this.getPlaybackRate=function(){return h(),r.Get("playbackRate")},this.setLayoutOptions=function(t){h(),n.sendCommand("setLayoutOptions",{options:t})},this.isActivated=function(){return h(),r.Get("activated")},this.isReady=function(){return h(),r.Get("ready")},this.getLinks=function(){return h(),b("links")},this.getPollsUri=function(){return h(),r.Get("pollsUri")},this.getAllStreams=function(){return h(),b("allStreams")},this.getVisibleStreamTypes=function(){return h(),b("visibleStreamTypes")},this.setVisibleStreamTypes=function(t){h(),n.sendCommand("setVisibleStreamTypes",{streamTypes:t})},this.getPastSessionPlayedSegments=function(){return h(),function(t){var e,n,i,r=[];if(t&&t.length>0)for(e=0;e<t.length;e+=1){for(var o in i={},n=t[e])n.hasOwnProperty(o)&&(i[o]=n[o]);r.push(i)}return r}(r.Get("pastSessionPlayedSegments"))},function(){try{var s=e.url;r=new Mediasite.Player.StateModel,i=e.view||new Mediasite.Player.View(t,s),n=e.broker||new Mediasite.Player.IFrameAPIBroker({messagePrefix:"MediasitePlayer",iframeView:i,url:s,events:{message:p,activated:g},initializationData:l}),r.Set("activated",!1),r.Set("ready",!1),n.addHandler({_api_state:v,ready:m,playstatechanged:u({playState:"playState"}),playerstatechanged:u({state:"playerState.state",isLive:"playerState.live"}),livestatuschanged:u({liveStatus:"liveStatus"}),volumechanged:u({volume:"volume",isMuted:"volume.muted"}),currenttimechanged:u({currentTime:"currentTime"}),durationchanged:u({duration:"duration"}),playbackratechanged:u({playbackRate:"playbackRate"}),captionchanged:u({captions:"currentCaptions"}),chapterchanged:u({chapterTitle:"chapter.title",chapterTime:"chapter.time"}),timedeventreached:u({timedEventType:"timedevent.type",timedEventTime:"timedevent.time",timedEventPayload:"timedevent.payload"}),slidechanged:u({slideTitle:"slide.title",slideDescription:"slide.description",slideTime:"slide.time",slideUrl:"slide.url",slideStreamType:"slide.streamtype"},"slideStreamType"),slideadded:y,visiblestreamschanged:u({streamTypes:"visibleStreamTypes"})}),o||(o=new Mediasite.Player.StandaloneEventBundle(a),n.addHandler("*",function(t,e){void 0!==(e=e||[])[0]&&null!=e[0]||(e[0]={}),e[0].sender=a,o.callHandlers(t,e)})),e.events&&a.addHandler(e.events),n.tryActivate()}catch(t){if(e.events&&"function"==typeof e.events.error){var c=t.message||t.description||t;e.events.error(f(424,c))}}}()},Mediasite.Player.View=function(t,e){var n;!function(){var i=document.getElementById(t);if(!i)throw'could not find DOMElement with id="'+t+'"';if("IFRAME"!==i.tagName&&!e)throw"no presentation url specified";if("IFRAME"===i.tagName)null,(n=i).src=e;else{var r=document.createElement("iframe");r.id=t,r.src=e,r.setAttribute("frameBorder","0"),r.setAttribute("marginHeight","0"),r.setAttribute("marginWidth","0"),i,n=r,i.parentNode.replaceChild(r,i)}}(),this.getElement=function(){return n},this.getElementWindow=function(){return n.contentWindow},this.postMessage=function(t,e){this.getElementWindow().postMessage(t,e)},this.addEventListener=function(t,e){var n=this.getElement();n.addEventListener?n.addEventListener(t,e):n.attachEvent?n.attachEvent("on"+t,e):n["on"+t]=e}},Mediasite.Player.StateModel=function(){var t;t={},this.Get=function(e){return t[e]},this.Set=function(e,n){t[e]=n},this.Has=function(e){return t.hasOwnProperty(e)}},Mediasite.Player.StandaloneEventBundle=function(t){var e={},n=t||window;function i(t,e){for(name in t)if(t.hasOwnProperty(name)){var n=t[name];"function"==typeof n&&e(name,n)}}function r(t,n){e[t]||(e[t]=[]),e[t].push(n)}function o(t,n){if(e[t])for(var i=e[t],r=0,o=i.length;r<o;r++)i[r]==n&&(i.splice(r,1),r--,o--)}function s(t,arguments){if(t&&0!==t.length)for(var e=0,i=t.length;e<i;e++){t[e].apply(n,arguments)}}this.addHandler=function(t,e){"object"==typeof t?i(t,r):r(t,e)},this.removeHandler=function(t,e){"object"==typeof t?i(t,o):o(t,e)},this.callHandlers=function(t,n){!n||"string"!=typeof n&&void 0!==n.length||(n=[n]),e[t]&&s(e[t],n),s(e["*"],[t,n])}},Mediasite.Player.IFrameAPIBroker=function(t){var e,n,i,r,o,s=this;function a(t,n){if("_broker_activated"==t)return function(t){e.callHandlers("activated",t)}(n),!0}r=t.messagePrefix||"Mediasite",e=new Mediasite.Player.StandaloneEventBundle(s),t.events&&e.addHandler(t.events),n=t.iframeView,i=s.getTargetOrigin(t.url),o=t.initializationData||{},Mediasite.Player.BrokerMessageDispatcher.registerBroker(s,n,i,r),_initialized=!0,this.receiveAPIEvent=function(t,n){a(t,n)||e.callHandlers(t,n)},this.tryActivate=function(){s.sendCommand("_broker_activate",o)},this.sendCommand=function(t,e){var o={command:t,params:[]};arguments.length>=2&&(e=Array.prototype.slice.call(arguments,1),o.params=e);var s=r+":"+JSON.stringify(o);try{n.postMessage(s,i)}catch(t){return!1}return!0},this.addHandler=function(t,n){e.addHandler(t,n)},this.removeHandler=function(t,n){e.removeHandler(t,n)}},Mediasite.Player.IFrameAPIBroker.prototype.getTargetOrigin=function(t){var e,n;return e=(t=t.split("://"))[0],n=(t=t[1].split("/"))[0],"file"==e?"*":[e,"://",n].join("")},Mediasite.Player.BrokerMessageDispatcher=function(){var t=new function(){},e=[];t.registerBroker=function(n,i,r){if(t.listenForMessages(),!n||!i||!i.getElementWindow())return!1;var o={origin:r=r||[document.location.protocol,"//",document.location.hostname].join(""),window:i.getElementWindow(),broker:n};return e.push(o),!0},t.getBrokerForMessage=function(t,n){if(t&&n)for(var i in"null"!==n&&0!=n.indexOf("file://")||(n="*"),e){var r=e[i];if(r.origin==n&&r.window==t)return r.broker}};var n=!1;return t.listenForMessages=function(){n||(n=!0,window.addEventListener?window.addEventListener("message",t.handleIncomingMessageEvent):window.attachEvent&&window.attachEvent("onmessage",t.handleIncomingMessageEvent))},t.handleIncomingMessageEvent=function(e){var n=t.parseIncomingMessageEvent(e.data);if(n){var i=t.getBrokerForMessage(e.source,e.origin);i&&(n.event?i.receiveAPIEvent(n.event,n.data):i.receiveAPIEvent("message",n))}},t.parseIncomingMessageEvent=function(t){var e=(t=t||"").indexOf(":");if("{"!==t.substr(0,1)&&e>=0){t.substring(0,e);var n=t.substring(e+1)}else n=t;try{var i=JSON.parse(n)}catch(t){return!1}return i},t}());var Mediasite=Mediasite||{};Mediasite.PlaybackTracker=function(){var t=function(e,n){var i,r,o=this,s=-1,a=[];n||(n={});var l=t.TrackerDefaults;for(var u in l)n.hasOwnProperty(u)||(n[u]=l[u]);g(n.tolerance),o.addMoment=c,o.add=d,o.played={start:function(t){var e=h();if(!(void 0===t||t<0||t>=e.length)){var n=e[t];return n?n.start():void 0}},end:function(t){var e=h();if(!(void 0===t||t<0||t>=e.length)){var n=e[t];return n?n.end():void 0}},length:0},Object.defineProperty&&Object.defineProperty(o.played,"length",{get:function(){return h().length},set:function(){},configurable:!1});e&&f(e);function c(e){r&&r.merge(e,e,i)?r.duration()>=_minChunkDuration&&d(r):r=new t.TimeRange(e,e)}function h(){return a}function d(e,n){if(e.start&&(n=e.end(),e=e.start()),e>n){var r=e;e=n,n=r}for(var s=a,l=!1,u=0,c=s.length;u<c;u++){var h=s[u],d=h.merge(e,n,i);if(d){var f;for(l=!0;(f=s[u+1])&&h.merge(f.start(),f.end(),i);)s.splice(u+1,1);break}if(h.start()>e){s.splice(u,0,new t.TimeRange(e,n)),l=!0;break}}l||s.push(new t.TimeRange(e,n)),Object.defineProperty||(o.played.length=s.length)}function f(t){t.addHandler({ready:p,currenttimechanged:function(t){c(t.currentTime)},durationchanged:function(t){m(t.duration)}}),t.isReady()&&p()}function p(){m(e.getDuration()),n.includePastSessions&&function(){if(!e||"function"!=typeof e.getPastSessionPlayedSegments)return;var t,n=e.getPastSessionPlayedSegments();for(t=0;t<n.length;t+=1)d(n[t].start,n[t].end)}()}function g(t){"number"!=typeof(i=Math.abs(t))&&(i=0),_minChunkDuration=Math.min(1,i)}function m(t,e){void 0===t||t<=0||e&&t<s||(s=t)}o.attachToPlayer=f,o.setTolerance=g,o.getTolerance=function(){return i},o.setDuration=m,o.getPercentageWatched=function(){if(s<=0)return;for(var t=h(),e=0,n=0;n<t.length;n++)e+=t[n].duration();return e/s*100}};return t.TrackerDefaults={tolerance:1,includePastSessions:!1},t.TimeRange=function(t,e){var n,i,r=this;t<e?(n=t,i=e):(n=e,i=t),r.start=function(t){return void 0!==t&&(n=t),n},r.end=function(t){return void 0!==t&&(i=t),i},r.duration=function(){return i-n},r.intersects=function(t,e,r){return!(i<t-(r=r||1))&&!(e<n-r)},r.merge=function(t,e,o){return!!r.intersects(t,e,o)&&(n=Math.min(n,t),i=Math.max(i,e),!0)}},t}(),function(t,e){if(e.addEventListener){var n,i=Array.prototype,r=Object.prototype,o=i.forEach,s=i.slice,a=r.hasOwnProperty,l=r.toString,u=t.Popcorn,c=[],h=!1,d={events:{hash:{},apis:{}}},f=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){t.setTimeout(e,16)},p={put:function(t){Object.getOwnPropertyNames(t).forEach(function(e){this[e]=t[e]},this)}},g=function(t,e){return new g.p.init(t,e||null)};g.version="@VERSION",g.isSupported=!0,g.instances=[],g.p=g.prototype={init:function(t,n){var i,r,o=this;if("function"!=typeof t){if("string"==typeof t)try{i=e.querySelector(t)}catch(e){throw new Error("Popcorn.js Error: Invalid media element selector: "+t)}if(this.media=i||t,this[r=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video"]=this.media,this.options=g.extend({},n)||{},this.id=this.options.id||g.guid(r),g.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:g.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new C(this)},g.instances.push(this);var s=function(){var t,e,n,i,r,a;o.media.currentTime<0&&(o.media.currentTime=0),o.media.removeEventListener("loadedmetadata",s,!1),e=(t=o.media.duration)!=t?Number.MAX_VALUE:t+1,g.addTrackEvent(o,{start:e,end:e}),o.options.frameAnimation?(o.data.timeUpdate=function(){g.timeUpdate(o,{}),g.forEach(g.manifest,function(t,e){if(n=o.data.running[e]){r=n.length;for(var s=0;s<r;s++)i=n[s],(a=i._natives)&&a.frame&&a.frame.call(o,{},i,o.currentTime())}}),o.emit("timeupdate"),!o.isDestroyed&&f(o.data.timeUpdate)},!o.isDestroyed&&f(o.data.timeUpdate)):(o.data.timeUpdate=function(t){g.timeUpdate(o,t)},o.isDestroyed||o.media.addEventListener("timeupdate",o.data.timeUpdate,!1))};return Object.defineProperty(this,"error",{get:function(){return o.media.error}}),o.media.readyState>=1?s():o.media.addEventListener("loadedmetadata",s,!1),this}if("complete"!==e.readyState){if(c.push(t),!h){h=!0;var a=function(){!0,e.removeEventListener("DOMContentLoaded",a,!1);for(var t=0,n=c.length;t<n;t++)c[t].call(e,g);c=null};e.addEventListener("DOMContentLoaded",a,!1)}}else t(e,g)}},g.p.init.prototype=g.p,g.byId=function(t){for(var e=g.instances,n=e.length,i=0;i<n;i++)if(e[i].id===t)return e[i];return null},g.forEach=function(t,e,n){if(!t||!e)return{};var i,r;if(n=n||this,o&&t.forEach===o)return t.forEach(e,n);if("[object NodeList]"===l.call(t)){for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);return t}for(i in t)a.call(t,i)&&e.call(n,t[i],i,t);return t},g.extend=function(t){var e=t,n=s.call(arguments,1);return g.forEach(n,function(t){for(var n in t)e[n]=t[n]}),e},g.extend(g,{noConflict:function(e){return e&&(t.Popcorn=u),g},error:function(t){throw new Error(t)},guid:function(t){return g.guid.counter++,(t||"")+(+new Date+g.guid.counter)},sizeOf:function(t){var e=0;for(var n in t)e++;return e},isArray:Array.isArray||function(t){return"[object Array]"===l.call(t)},nop:function(){},position:function(n){if(!n.parentNode)return null;var i,r,o,s,a,l,u=n.getBoundingClientRect(),c={},h=(n.ownerDocument,e.documentElement),d=e.body;for(var f in i=h.clientTop||d.clientTop||0,r=h.clientLeft||d.clientLeft||0,o=t.pageYOffset&&h.scrollTop||d.scrollTop,s=t.pageXOffset&&h.scrollLeft||d.scrollLeft,a=Math.ceil(u.top+o-i),l=Math.ceil(u.left+s-r),u)c[f]=Math.round(u[f]);return g.extend({},c,{top:a,left:l})},disable:function(t,e){if(!t.data.disabled[e]){if(t.data.disabled[e]=!0,e in g.registryByName&&t.data.running[e])for(var n,i=t.data.running[e].length-1;i>=0;i--)(n=t.data.running[e][i])._natives.end.call(t,null,n),t.emit("trackend",g.extend({},n,{plugin:n.type,type:"trackend"}));return t}},enable:function(t,e){if(t.data.disabled[e]){if(t.data.disabled[e]=!1,e in g.registryByName&&t.data.running[e])for(var n,i=t.data.running[e].length-1;i>=0;i--)(n=t.data.running[e][i])._natives.start.call(t,null,n),t.emit("trackstart",g.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return t}},destroy:function(t){var e,n,i,r,o=t.data.events,s=t.data.trackEvents;for(n in o){for(i in e=o[n])delete e[i];o[n]=null}for(r in g.registryByName)g.removePlugin(t,r);s.byStart.length=0,s.byEnd.length=0,t.isDestroyed||(t.data.timeUpdate&&t.media.removeEventListener("timeupdate",t.data.timeUpdate,!1),t.isDestroyed=!0),g.instances.splice(g.instances.indexOf(t),1)}}),g.guid.counter=1,g.extend(g.p,(n={},g.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(t){n[t]=function(e){var n;return"function"==typeof this.media[t]?(null!=e&&/play|pause/.test(t)&&(this.media.currentTime=g.util.toSeconds(e)),this.media[t](),this):null!=e?(n=this.media[t],this.media[t]=e,n!==e&&this.emit("attrchange",{attribute:t,previousValue:n,currentValue:e}),this):this.media[t]}}),n)),g.forEach("enable disable".split(" "),function(t){g.p[t]=function(e){return g[t](this,e)}}),g.extend(g.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(t,e,n){var i,r,o,s=arguments.length,a="trackadded";try{r=g.util.toSeconds(t)}catch(t){}if("number"==typeof r&&(t=r),"number"==typeof t&&2===s)n=e,e=t,t=g.guid("cue");else if(1===s)e=-1;else if(i=this.getTrackEvent(t))this.data.trackEvents.remove(t),x.end(this,i),g.removeTrackEvent.ref(this,t),a="cuechange","string"==typeof t&&2===s&&("number"==typeof e&&(n=i._natives.start),"function"==typeof e&&(n=e,e=i.start));else if(s>=2){if("string"==typeof e){try{r=g.util.toSeconds(e)}catch(t){}e=r}"number"==typeof e&&(n=n||g.nop()),"function"==typeof e&&(n=e,e=-1)}return o={id:t,start:e,end:e+1,_running:!1,_natives:{start:n||g.nop,end:g.nop,type:"cue"}},i&&(o=g.extend(i,o)),"cuechange"===a?(o._id=o.id||o._id||g.guid(o._natives.type),this.data.trackEvents.add(o),x.start(this,o),this.timeUpdate(this,null,!0),g.addTrackEvent.ref(this,o),this.emit(a,g.extend({},o,{id:t,type:a,previousValue:{time:i.start,fn:i._natives.start},currentValue:{time:e,fn:n||g.nop},track:i}))):g.addTrackEvent(this,o),this},mute:function(t){var e=null==t||!0===t?"muted":"unmuted";return"unmuted"===e&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===e&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(e),this},unmute:function(t){return this.mute(null!=t&&!t)},position:function(){return g.position(this.media)},toggle:function(t){return g[this.data.disabled[t]?"enable":"disable"](this,t)},defaults:function(t,e){return g.isArray(t)?(g.forEach(t,function(t){for(var e in t)this.defaults(e,t[e])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[t]||(this.options.defaults[t]={}),g.extend(this.options.defaults[t],e),this)}}),g.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},g.Events.Natives=g.Events.UIEvents+" "+g.Events.MouseEvents+" "+g.Events.Events,d.events.apiTypes=["UIEvents","MouseEvents","Events"],function(t,e){for(var n=d.events.apiTypes,i=t.Natives.split(/\s+/g),r=0,o=i.length;r<o;r++)e.hash[i[r]]=!0;n.forEach(function(n,i){e.apis[n]={};for(var r=t[n].split(/\s+/g),o=r.length,s=0;s<o;s++)e.apis[n][r[s]]=!0})}(g.Events,d.events),g.events={isNative:function(t){return!!d.events.hash[t]},getInterface:function(t){if(!g.events.isNative(t))return!1;for(var e,n,i=d.events,r=i.apiTypes,o=i.apis,s=0,a=r.length;s<a;s++)if(o[n=r[s]][t]){e=n;break}return e},all:g.Events.Natives.split(/\s+/g),fn:{trigger:function(n,i){var r,o,s,a=this.data.events[n];if(a){if(r=g.events.getInterface(n))return(o=e.createEvent(r)).initEvent(n,!0,!0,t,1),this.media.dispatchEvent(o),this;for(s=a.slice();s.length;)s.shift().call(this,i)}return this},listen:function(t,e){var n,i,r=this,o=!0,s=g.events.hooks[t];if("function"!=typeof e)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[t]||(this.data.events[t]=[],o=!1),s&&(s.add&&s.add.call(this,{},e),s.bind&&(t=s.bind),s.handler&&(i=e,e=function(t){s.handler.call(r,t,i)}),o=!0,this.data.events[t]||(this.data.events[t]=[],o=!1)),this.data.events[t].push(e),!o&&g.events.all.indexOf(t)>-1&&this.media.addEventListener(t,function(e){if(r.data.events[t])for(n=r.data.events[t].slice();n.length;)n.shift().call(r,e)},!1),this},unlisten:function(t,e){var n,i=this.data.events[t];if(i){if("string"==typeof e){for(var r=0;r<i.length;r++)i[r].name===e&&i.splice(r--,1);return this}if("function"==typeof e){for(;-1!==n;)-1!==(n=i.indexOf(e))&&i.splice(n,1);return this}return this.data.events[t]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(t,e){var n=!1;this.media.readyState&&(setTimeout(function(){e.call(this,t)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(t,e){this.data.hooks.canplayall.fired||(e.call(this,t),this.data.hooks.canplayall.fired=!0)}}}},g.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(t){g.p[t[0]]=g.p[t[1]]=g.events.fn[t[0]]}),x.start=function(t,e){e.end>t.media.currentTime&&e.start<=t.media.currentTime&&!e._running&&(e._running=!0,t.data.running[e._natives.type].push(e),t.data.disabled[e._natives.type]||(e._natives.start.call(t,null,e),t.emit("trackstart",g.extend({},e,{plugin:e._natives.type,type:"trackstart",track:e}))))},x.end=function(t,e){var n;(e.end<=t.media.currentTime||e.start>t.media.currentTime)&&e._running&&(n=t.data.running[e._natives.type],e._running=!1,n.splice(n.indexOf(e),1),t.data.disabled[e._natives.type]||(e._natives.end.call(t,null,e),t.emit("trackend",g.extend({},e,{plugin:e._natives.type,type:"trackend",track:e}))))},C.prototype.where=function(t){return(this.parent.getTrackEvents()||[]).filter(function(e){var n,i;if(!t)return!0;for(n in t)if(k(e,n,i=t[n])||k(e._natives,n,i))return!0;return!1})},C.prototype.add=function(t){var e,n,i=this.byStart,r=this.byEnd;for(t&&t._id&&this.parent.data.history.push(t._id),t.start=g.util.toSeconds(t.start,this.parent.options.framerate),t.end=g.util.toSeconds(t.end,this.parent.options.framerate),e=i.length-1;e>=0;e--)if(t.start>=i[e].start){i.splice(e+1,0,t);break}for(n=r.length-1;n>=0;n--)if(t.end>r[n].end){r.splice(n+1,0,t);break}e<=this.parent.data.trackEvents.startIndex&&t.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&t.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++},C.prototype.remove=function(t,e){if(t instanceof x&&(t=t.id),"object"==typeof t)return this.where(t).forEach(function(t){this.removeTrackEvent(t._id)},this.parent),this;var n,i,r,o,s=this.byStart.length,a=0,l=0,u=[],c=[],h=[],d=[];for(e=e||{};--s>-1;)n=this.byStart[a],i=this.byEnd[a],n._id||(u.push(n),c.push(i)),n._id&&(n._id!==t&&u.push(n),i._id!==t&&c.push(i),n._id===t&&(l=a,n)),a++;if(a=0,s=this.animating.length)for(;--s>-1;)(r=this.animating[a])._id||h.push(r),r._id&&r._id!==t&&h.push(r),a++;l<=this.startIndex&&this.startIndex--,l<=this.endIndex&&this.endIndex--,this.byStart=u,this.byEnd=c,this.animating=h,o=this.parent.data.history.length;for(var f=0;f<o;f++)this.parent.data.history[f]!==t&&d.push(this.parent.data.history[f]);this.parent.data.history=d},g.addTrackEvent=function(t,e){var n;e instanceof x||((e=new x(e))&&e._natives&&e._natives.type&&t.options.defaults&&t.options.defaults[e._natives.type]&&(n=g.extend({},e),g.extend(e,t.options.defaults[e._natives.type],n)),e._natives&&(e._id=e.id||e._id||g.guid(e._natives.type),e._natives._setup&&(e._natives._setup.call(t,e),t.emit("tracksetup",g.extend({},e,{plugin:e._natives.type,type:"tracksetup",track:e})))),t.data.trackEvents.add(e),x.start(t,e),this.timeUpdate(t,null,!0),e._id&&g.addTrackEvent.ref(t,e),t.emit("trackadded",g.extend({},e,e._natives?{plugin:e._natives.type}:{},{type:"trackadded",track:e})))},g.addTrackEvent.ref=function(t,e){return t.data.trackRefs[e._id]=e,t},g.removeTrackEvent=function(t,e){var n=t.getTrackEvent(e);n&&(n._natives._teardown&&n._natives._teardown.call(t,n),t.data.trackEvents.remove(e),g.removeTrackEvent.ref(t,e),n._natives&&t.emit("trackremoved",g.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},g.removeTrackEvent.ref=function(t,e){return delete t.data.trackRefs[e],t},g.getTrackEvents=function(t){for(var e,n=[],i=t.data.trackEvents.byStart,r=i.length,o=0;o<r;o++)(e=i[o])._id&&n.push(e);return n},g.getTrackEvents.ref=function(t){return t.data.trackRefs},g.getTrackEvent=function(t,e){return t.data.trackRefs[e]},g.getTrackEvent.ref=function(t,e){return t.data.trackRefs[e]},g.getLastTrackEventId=function(t){return t.data.history[t.data.history.length-1]},g.timeUpdate=function(t,e){var n,i,r,o,s,a=t.media.currentTime,l=t.data.trackEvents.previousUpdateTime,u=t.data.trackEvents,c=u.endIndex,h=u.startIndex,d=u.byStart.length,f=u.byEnd.length,p=g.registryByName;if(l<=a){for(;u.byEnd[c]&&u.byEnd[c].end<=a;){if(o=(r=(n=u.byEnd[c])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,n._id);!0===n._running&&(n._running=!1,(s=t.data.running[o]).splice(s.indexOf(n),1),t.data.disabled[o]||(r.end.call(t,e,n),t.emit("trackend",g.extend({},n,{plugin:o,type:"trackend",track:n})))),c++}for(;u.byStart[h]&&u.byStart[h].start<=a;){if(o=(r=(i=u.byStart[h])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,i._id);i.end>a&&!1===i._running&&(i._running=!0,t.data.running[o].push(i),t.data.disabled[o]||(r.start.call(t,e,i),t.emit("trackstart",g.extend({},i,{plugin:o,type:"trackstart",track:i})))),h++}}else if(l>a){for(;u.byStart[h]&&u.byStart[h].start>a;){if(o=(r=(i=u.byStart[h])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,i._id);!0===i._running&&(i._running=!1,(s=t.data.running[o]).splice(s.indexOf(i),1),t.data.disabled[o]||(r.end.call(t,e,i),t.emit("trackend",g.extend({},i,{plugin:o,type:"trackend",track:i})))),h--}for(;u.byEnd[c]&&u.byEnd[c].end>a;){if(o=(r=(n=u.byEnd[c])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,n._id);n.start<=a&&!1===n._running&&(n._running=!0,t.data.running[o].push(n),t.data.disabled[o]||(r.start.call(t,e,n),t.emit("trackstart",g.extend({},n,{plugin:o,type:"trackstart",track:n})))),c--}}u.endIndex=c,u.startIndex=h,u.previousUpdateTime=a,u.byStart.length<d&&u.startIndex--,u.byEnd.length<f&&u.endIndex--},g.extend(g.p,{getTrackEvents:function(){return g.getTrackEvents.call(null,this)},getTrackEvent:function(t){return g.getTrackEvent.call(null,this,t)},getLastTrackEventId:function(){return g.getLastTrackEventId.call(null,this)},removeTrackEvent:function(t){return g.removeTrackEvent.call(null,this,t),this},removePlugin:function(t){return g.removePlugin.call(null,this,t),this},timeUpdate:function(t){return g.timeUpdate.call(null,this,t),this},destroy:function(){return g.destroy.call(null,this),this}}),g.manifest={},g.registry=[],g.registryByName={},g.plugin=function(t,e,n){if(!(g.protect.natives.indexOf(t.toLowerCase())>=0)){var i="function"==typeof e,r=["start","end","type","manifest"],o=["_setup","_teardown","start","end","frame"],l={},u=function(t,e){return t=t||g.nop,e=e||g.nop,function(){t.apply(this,arguments),e.apply(this,arguments)}};g.manifest[t]=n=n||e.manifest||{},o.forEach(function(n){var i,r;e[n]=(i=e[n]||g.nop,r=t,function(){if(g.plugin.debug)return i.apply(this,arguments);try{return i.apply(this,arguments)}catch(t){g.plugin.errors.push({plugin:r,thrown:t,source:i.toString()}),this.emit("pluginerror",g.plugin.errors)}})});var c=function(e,i){if(!i)return this;if(i.ranges&&g.isArray(i.ranges))return g.forEach(i.ranges,function(e){var n=g.extend({},i,e);delete n.ranges,this[t](n)},this),this;var l,c=i._natives={},h="";return g.extend(c,e),i._natives.type=i._natives.plugin=t,i._running=!1,c.start=c.start||c.in,c.end=c.end||c.out,i.once&&(c.end=u(c.end,function(){this.removeTrackEvent(i._id)})),c._teardown=u(function(){var t=s.call(arguments),e=this.data.running[c.type];t.unshift(null),t[1]._running&&e.splice(e.indexOf(i),1)&&c.end.apply(this,t),t[1]._running=!1,this.emit("trackend",g.extend({},i,{plugin:c.type,type:"trackend",track:g.getTrackEvent(this,i.id||i._id)}))},c._teardown),c._teardown=u(c._teardown,function(){this.emit("trackteardown",g.extend({},i,{plugin:t,type:"trackteardown",track:g.getTrackEvent(this,i.id||i._id)}))}),i.compose=i.compose||[],"string"==typeof i.compose&&(i.compose=i.compose.split(" ")),i.effect=i.effect||[],"string"==typeof i.effect&&(i.effect=i.effect.split(" ")),i.compose=i.compose.concat(i.effect),i.compose.forEach(function(t){h=g.compositions[t]||{},o.forEach(function(t){c[t]=u(c[t],h[t])})}),i._natives.manifest=n,"start"in i||(i.start=i.in||0),i.end||0===i.end||(i.end=i.out||Number.MAX_VALUE),a.call(i,"toString")||(i.toString=function(){var e=["start: "+i.start,"end: "+i.end,"id: "+(i.id||i._id)];return null!=i.target&&e.push("target: "+i.target),t+" ( "+e.join(", ")+" )"}),i.target||(l="options"in n&&n.options,i.target=l&&"target"in l&&l.target),!i._id&&i._natives&&(i._id=g.guid(i._natives.type)),i instanceof x?(i._natives&&(i._id=i.id||i._id||g.guid(i._natives.type),i._natives._setup&&(i._natives._setup.call(this,i),this.emit("tracksetup",g.extend({},i,{plugin:i._natives.type,type:"tracksetup",track:i})))),this.data.trackEvents.add(i),x.start(this,i),this.timeUpdate(this,null,!0),i._id&&g.addTrackEvent.ref(this,i)):g.addTrackEvent(this,i),g.forEach(e,function(t,e){-1===r.indexOf(e)&&this.on(e,t)},this),this};g.p[t]=l[t]=function(n,r){var o,s,l,u,h;arguments.length;if(n&&!r)r=n,n=null;else{if(o=this.getTrackEvent(n))return u=function(t,e){var n={};for(var i in t)a.call(e,i)&&a.call(t,i)&&(n[i]=t[i]);return n}(o,h=r),o._natives._update?(this.data.trackEvents.remove(o),a.call(r,"start")&&(o.start=r.start),a.call(r,"end")&&(o.end=r.end),x.end(this,o),i&&e.call(this,o),o._natives._update.call(this,o,r),this.data.trackEvents.add(o),x.start(this,o),"cue"!==o._natives.type&&this.emit("trackchange",{id:o.id,type:"trackchange",previousValue:u,currentValue:h,track:o}),this):(g.extend(o,r),this.data.trackEvents.remove(n),o._natives._teardown&&o._natives._teardown.call(this,o),g.removeTrackEvent.ref(this,n),i?c.call(this,e.call(this,o),o):(o._id=o.id||o._id||g.guid(o._natives.type),o._natives&&o._natives._setup&&(o._natives._setup.call(this,o),this.emit("tracksetup",g.extend({},o,{plugin:o._natives.type,type:"tracksetup",track:o}))),this.data.trackEvents.add(o),x.start(this,o),this.timeUpdate(this,null,!0),g.addTrackEvent.ref(this,o)),this.emit("trackchange",{id:o.id,type:"trackchange",previousValue:u,currentValue:o,track:o}),this);r.id=n}return this.data.running[t]=this.data.running[t]||[],s=this.options.defaults&&this.options.defaults[t]||{},l=g.extend({},s,r),c.call(this,i?e.call(this,l):e,l),this},n&&g.extend(e,{manifest:n});var h={fn:l[t],definition:e,base:e,parents:[],name:t};return g.registry.push(g.extend(l,h,{type:t})),g.registryByName[t]=h,l}g.error("'"+t+"' is a protected function name")},g.plugin.errors=[],g.plugin.debug="@VERSION"===g.version,g.removePlugin=function(t,e){if(!e){if(e=t,t=g.p,g.protect.natives.indexOf(e.toLowerCase())>=0)return void g.error("'"+e+"' is a protected function name");var n,i=g.registry.length;for(n=0;n<i;n++)if(g.registry[n].name===e)return g.registry.splice(n,1),delete g.registryByName[e],delete g.manifest[e],void delete t[e]}var r,o,s=t.data.trackEvents.byStart,a=t.data.trackEvents.byEnd,l=t.data.trackEvents.animating;for(r=0,o=s.length;r<o;r++)s[r]&&s[r]._natives&&s[r]._natives.type===e&&(s[r]._natives._teardown&&s[r]._natives._teardown.call(t,s[r]),s.splice(r,1),r--,o--,t.data.trackEvents.startIndex<=r&&(t.data.trackEvents.startIndex--,t.data.trackEvents.endIndex--)),a[r]&&a[r]._natives&&a[r]._natives.type===e&&a.splice(r,1);for(r=0,o=l.length;r<o;r++)l[r]&&l[r]._natives&&l[r]._natives.type===e&&(l.splice(r,1),r--,o--)},g.compositions={},g.compose=function(t,e,n){g.manifest[t]=n=n||e.manifest||{},g.compositions[t]=e},g.plugin.effect=g.effect=g.compose;var m=/^(?:\.|#|\[)/;g.dom={debug:!1,find:function(t,n){var i=null;if(n=n||e,t){if(!m.test(t)&&null!==(i=e.getElementById(t)))return i;try{i=n.querySelector(t)}catch(t){if(g.dom.debug)throw new Error(t)}}return i}};var v,y=/\?/,b={ajax:null,url:"",data:"",dataType:"",success:g.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};g.xhr=function(t){var e;if(t.dataType=t.dataType&&t.dataType.toLowerCase()||null,!t.dataType||"jsonp"!==t.dataType&&"script"!==t.dataType)return(e=g.extend({},b,t)).ajax=new XMLHttpRequest,e.ajax?("GET"===e.type&&e.data&&(e.url+=(y.test(e.url)?"&":"?")+e.data,e.data=null),e.ajax.open(e.type,e.url,e.async),"POST"===e.type&&e.ajax.setRequestHeader("Content-Type",e.contentType),e.ajax.send(e.data||null),g.xhr.httpData(e)):void 0;g.xhr.getJSONP(t.url,t.success,"script"===t.dataType)},g.xhr.httpData=function(t){var e,n,i=null,r=null;return t.ajax.onreadystatechange=function(){if(4===t.ajax.readyState){try{i=JSON.parse(t.ajax.responseText)}catch(t){}if(!(e={xml:t.ajax.responseXML,text:t.ajax.responseText,json:i}).xml||!e.xml.documentElement){e.xml=null;try{n=new DOMParser,(r=n.parseFromString(t.ajax.responseText,"text/xml")).getElementsByTagName("parsererror").length||(e.xml=r)}catch(t){}}t.dataType&&(e=e[t.dataType]),t.success.call(t.ajax,e)}},e},g.xhr.getJSONP=function(t,n,i){var r,o,s,a=e.head||e.getElementsByTagName("head")[0]||e.documentElement,l=e.createElement("script"),u=!1,c=[],h=/(=)\?(?=&|$)|\?\?/;i||(null!==(s=t.match(/(callback=[^&]*)/))&&s.length?("?"===(r=s[1].split("=")[1])&&(r="jsonp"),o=g.guid(r),t=t.replace(/(callback=[^&]*)/,"callback="+o)):(o=g.guid("jsonp"),h.test(t)&&(t=t.replace(h,"$1"+o)),t=(c=t.split(/\?(.+)?/))[0]+"?",c[1]&&(t+=c[1]+"&"),t+="callback="+o),window[o]=function(t){n&&n(t),u=!0}),l.addEventListener("load",function(){i&&n&&n(),u&&delete window[o],a.removeChild(l)},!1),l.src=t,a.insertBefore(l,a.firstChild)},g.getJSONP=g.xhr.getJSONP,g.getScript=g.xhr.getScript=function(t,e){return g.xhr.getJSONP(t,e,!0)},g.util={toSeconds:function(t,e){var n,i,r,o,s,a;return"number"==typeof t?t:("string"!=typeof t||/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/.test(t)||g.error("Invalid time format"),(r=(n=t.split(":"))[i=n.length-1]).indexOf(";")>-1&&(s=r.split(";"),a=0,e&&"number"==typeof e&&(a=parseFloat(s[1],10)/e),n[i]=parseInt(s[0],10)+a),o=n[0],{1:parseFloat(o,10),2:60*parseInt(o,10)+parseFloat(n[1],10),3:3600*parseInt(o,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},g.p.cue=g.p.exec,g.protect={natives:(v=g.p,Object.keys?Object.keys(v):function(t){var e,n=[];for(e in t)a.call(t,e)&&n.push(e);return n}(v)).map(function(t){return t.toLowerCase()})},g.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(t,e){var n=g.p[e];g.p[e]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+e+"', "+(null==t?"do not use.":"use '"+t+"' instead.")),g.p[e]=n),g.p[t].apply(this,[].slice.call(arguments))}}),t.Popcorn=g}else{t.Popcorn={isSupported:!1};for(var w="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);w.length;)t.Popcorn[w.shift()]=function(){}}function x(t){p.put.call(this,t)}function C(t){this.parent=t,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,Object.defineProperty(this,"count",{get:function(){return this.byStart.length}})}function k(t,e,n){return t[e]&&t[e]===n}}(window,window.document),function(t){t.player=function(e,n){if(!t[e]){var i=function(e,i,r){r=r||{};var o,s=new Date/1e3,a=s,l=0,u=0,c=1,h=!1,d={},f="string"==typeof e?t.dom.find(e):e,p={};for(var g in Object.prototype.__defineGetter__||(p=f||document.createElement("div")),f)g in p||("object"==typeof f[g]?p[g]=f[g]:"function"==typeof f[g]?p[g]=function(t){return"length"in f[t]&&!f[t].call?f[t]:function(){return f[t].apply(f,arguments)}}(g):t.player.defineProperty(p,g,{get:function(t){return function(){return f[t]}}(g),set:t.nop,configurable:!0}));var m,v,y=function(){s=new Date/1e3,p.paused||(p.currentTime=p.currentTime+(s-a),p.dispatchEvent("timeupdate"),setTimeout(y,10)),a=s};return p.play=function(){this.paused=!1,p.readyState>=4&&(a=new Date/1e3,p.dispatchEvent("play"),y())},p.pause=function(){this.paused=!0,p.dispatchEvent("pause")},t.player.defineProperty(p,"currentTime",{get:function(){return l},set:function(t){return l=+t,p.dispatchEvent("timeupdate"),l},configurable:!0}),t.player.defineProperty(p,"volume",{get:function(){return c},set:function(t){return c=+t,p.dispatchEvent("volumechange"),c},configurable:!0}),t.player.defineProperty(p,"muted",{get:function(){return h},set:function(t){return h=+t,p.dispatchEvent("volumechange"),h},configurable:!0}),t.player.defineProperty(p,"readyState",{get:function(){return u},set:function(t){return u=t},configurable:!0}),p.addEventListener=function(t,e){return d[t]||(d[t]=[]),d[t].push(e),e},p.removeEventListener=function(t,e){var n,i=d[t];if(i){for(n=d[t].length-1;n>=0;n--)e===i[n]&&i.splice(n,1);return e}},p.dispatchEvent=function(e){var n,i,r=e.type;if(r||(r=e,(i=t.events.getInterface(r))&&(n=document.createEvent(i)).initEvent(r,!0,!0,window,1)),d[r])for(var o=d[r].length-1;o>=0;o--)d[r][o].call(this,n,this)},p.src=i||"",p.duration=0,p.paused=!0,p.ended=0,r&&r.events&&t.forEach(r.events,function(t,e){p.addEventListener(e,t,!1)}),!1!==n._canPlayType(f.nodeName,i)?n._setup?n._setup.call(p,r):(p.readyState=4,p.dispatchEvent("loadedmetadata"),p.dispatchEvent("loadeddata"),p.dispatchEvent("canplaythrough")):setTimeout(function(){p.dispatchEvent("error")},0),o=new t.p.init(p,r),n._teardown&&(o.destroy=(m=o.destroy,v=function(){n._teardown.call(p,r)},m=m||t.nop,v=v||t.nop,function(){m.apply(this,arguments),v.apply(this,arguments)})),o};i.canPlayType=(n=n||{})._canPlayType=n._canPlayType||t.nop,t[e]=t.player.registry[e]=i}},t.player.registry={},t.player.defineProperty=Object.defineProperty||function(e,n,i){e.__defineGetter__(n,i.get||t.nop),e.__defineSetter__(n,i.set||t.nop)},t.player.playerQueue=function(){var t=[],e=!1;return{next:function(){e=!1,t.shift(),t[0]&&t[0]()},add:function(n){t.push(function(){e=!0,n&&n()}),!e&&t[0]()}}},t.smart=function(e,n,i){var r,o,s,a,l,u,c,h="string"==typeof e?t.dom.find(e):e,d="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(h){for(r=0,c=(n="string"==typeof n?[n]:n).length;r<c;r++){for(o=n[r],s=0;s<d.length;s++)if((l=t[d[s]])&&"probably"===l._canPlaySrc(o))return a=l(h),u=t(a,i),setTimeout(function(){a.src=o},0),u;for(var f in t.player.registry)if(t.player.registry.hasOwnProperty(f)&&t.player.registry[f].canPlayType(h.nodeName,o))return t[f](h,o,i)}var p,g,m=t.guid("popcorn-video-"),v=document.createElement("div");if(v.style.width="100%",v.style.height="100%",1===n.length)return(g=document.createElement("video")).id=m,h.appendChild(g),setTimeout(function(){var t=document.createElement("div");t.innerHTML=n[0],g.src=t.firstChild.nodeValue},0),t("#"+m,i);for(h.appendChild(v),p='<video id="'+m+'" preload=auto autobuffer>',r=0,c=n.length;r<c;r++)p+='<source src="'+n[r]+'">';return p+="</video>",v.innerHTML=p,i&&i.events&&i.events.error&&h.addEventListener("error",i.events.error,!1),t("#"+m,i)}t.error("Specified target `"+e+"` was not found.")}}(Popcorn),function(t,e){function n(t){for(var e=n.options,i=e.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=14;o--;)r[e.key[o]]=i[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(t,n,i){n&&(r[e.q.name][n]=i)}),r}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:t.nop,end:t.nop};function r(){}MediaError=MediaError||function(){function t(t,e){this.code=t||null,this.message=e||""}return t.MEDIA_ERR_NONE_ACTIVE=0,t.MEDIA_ERR_ABORTED=1,t.MEDIA_ERR_NETWORK=2,t.MEDIA_ERR_DECODE=3,t.MEDIA_ERR_NONE_SUPPORTED=4,t}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(t){return"string"==typeof t||!0===t},parseUri:n},addEventListener:function(t,n,i){e.addEventListener(this._eventNamespace+t,n,i)},removeEventListener:function(t,n,i){e.removeEventListener(this._eventNamespace+t,n,i)},dispatchEvent:function(t){var n=e.createEvent("CustomEvent"),i={type:t,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+t,!1,!1,i),e.dispatchEvent(n)},load:t.nop,canPlayType:function(t){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:t.nop},controls:{get:function(){return!0},set:t.nop},poster:{get:function(){return""},set:t.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),t._MediaElementProto=r}(Popcorn,window.document),function(t,e,n){var i=10,r="",o=/^.*(?:\/|v=)(.{11})/,s=Math.abs,a=!1,l=!1,u=[];function c(c){if(!e.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var h,d,f,p,g=this,m="string"==typeof c?n.querySelector(c):c,v=n.createElement("div"),y={info:{user_id:0,lecture_id:0},regYtDataApiReq:function(){},src:r,networkState:g.NETWORK_EMPTY,readyState:g.HAVE_NOTHING,seeking:!1,autoplay:r,preload:r,controls:!1,loop:!1,poster:r,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},b=!1,w=!1,x=!1,C=!1,k=!1,_=!1,S=!0,$=[],E=-1,T=0,D=!1;function M(t){$.unshift(t)}function A(t){var e=function(){h.isMuted()?navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)?k&&O():h.playVideo():setTimeout(e,0)};b=!0,h.mute(),e()}function P(t){var e={name:"MediaError"};switch(t.data){case 2:e.message="Invalid video parameter.",e.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=MediaError.MEDIA_ERR_DECODE;case 100:e.message="Video not found.",e.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:e.message="Video not usable.",e.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:e.message="Unknown error.",e.code=5}y.error=e,g.dispatchEvent("error")}function O(){for(h.setOption("captions","reload",!0),h.setOption("captions","track",{}),M(function(){d=setInterval(H,50)}),y.autoplay||!y.paused?(y.paused=!1,M(function(){V()})):(w=!1,h.pauseVideo()),y.muted||h.unMute(),y.readyState=g.HAVE_METADATA,g.dispatchEvent("loadedmetadata"),f=setInterval(R,i),g.dispatchEvent("loadeddata"),y.readyState=g.HAVE_FUTURE_DATA,g.dispatchEvent("canplay"),C=!0;$.length;)$[0](),$.shift();y.readyState=g.HAVE_ENOUGH_DATA,g.dispatchEvent("canplaythrough")}function N(t){switch(t.data){case YT.PlayerState.ENDED:y.loop?(z(0),g.play()):(y.ended=!0,h.pauseVideo(),q(),x=!0,g.dispatchEvent("timeupdate"),g.dispatchEvent("ended"));break;case YT.PlayerState.PLAYING:D?x?(x=!1,h.pauseVideo()):V():(D=!0,k&&O());break;case YT.PlayerState.PAUSED:if(h.getDuration()===h.getCurrentTime())break;if(w){w=!1;break}q();break;case YT.PlayerState.BUFFERING:y.networkState=g.NETWORK_LOADING,g.dispatchEvent("waiting");break;case YT.PlayerState.CUED:}t.data!==YT.PlayerState.BUFFERING&&E===YT.PlayerState.BUFFERING&&U(),E=t.data}function I(){b&&h&&(k=!1,D=!1,clearInterval(f),clearInterval(d))}function L(i){if(!g._canPlaySrc(i))return y.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void g.dispatchEvent("error");if(y.src=i,!function(){if(!l){var t=n.createElement("script"),i="file:"===e.location.protocol?"http:":"";t.src=i+"//www.youtube.com/iframe_api";var r=n.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r),l=!0}return a}())return r=function(){L(i)},void u.unshift(r);var r;b&&(I(),I(),b&&h&&(m.removeChild(v),v=n.createElement("div"))),m.appendChild(v);var s=g._util.parseUri(i).queryKey;delete s.v,y.autoplay="1"===s.autoplay||y.autoplay,delete s.autoplay,y.loop="1"===s.loop||y.loop,delete s.loop,s.rel=s.rel||0,s.modestbranding=s.modestbranding||1,s.iv_load_policy=s.iv_load_policy||3,s.showinfo=s.showinfo||0;var c="file:"===e.location.protocol?"*":e.location.protocol+"//"+e.location.host;s.origin=s.origin||c,s.controls="1"==s.controls||y.controls?2:0,y.controls=s.controls,s.wmode=s.wmode||"opaque";var d="https://www.googleapis.com/youtube/v3/videos?id="+(i=o.exec(i)[1])+"&part=contentDetails&key=AIzaSyAztqrTO5FZE2xPI4XDYbLeOXE0vtWoTMk&fields=items(contentDetails(duration))";y.duration?(g.dispatchEvent("durationchange"),k=!0,console.warn("duration retreived from SL"),D&&O()):t.getJSONP(d,function(t){y.info.cause="duration",y.regYtDataApiReq(y.info.user_id,y.info.lecture_id,y.info.cause);var e="failed to retreive duration data, reason: ";if(t.error)console.warn(e+t.error.message);else if(t.items&&0!=t.items.length){var n=parseDuration(t.items[0].contentDetails.duration);y.duration=3600*n.hour+60*n.minute+n.second,g.dispatchEvent("durationchange"),k=!0,console.warn("duration retreived from YT"),D&&O()}else console.warn(e+"no response data")}),h=new YT.Player(v,{width:"100%",height:"100%",wmode:s.wmode,videoId:i,playerVars:s,events:{onReady:A,onError:P,onStateChange:N}}),y.networkState=g.NETWORK_LOADING,g.dispatchEvent("loadstart"),g.dispatchEvent("progress")}function R(){var t=h.getCurrentTime();y.seeking?s(t-y.currentTime)<1&&W():(s(y.currentTime-t)>i&&(j(),W()),y.currentTime=t)}function H(){var t=h.getVideoLoadedFraction();t&&T!==t&&(T=t,U())}function F(){return y.currentTime}function z(t){y.currentTime=t,C?(j(),h.seekTo(t)):M(function(){j()})}function B(){g.dispatchEvent("timeupdate")}function j(){y.seeking=!0,g.dispatchEvent("seeking")}function W(){y.ended=!1,y.seeking=!1,g.dispatchEvent("timeupdate"),g.dispatchEvent("seeked"),g.dispatchEvent("canplay"),g.dispatchEvent("canplaythrough")}function V(){y.ended&&(z(0),y.ended=!1),p&&clearInterval(p),p=setInterval(B,g._util.TIMEUPDATE_MS),y.paused=!1,S&&(S=!1,(y.loop&&!_||!y.loop)&&(_=!0,g.dispatchEvent("play")),g.dispatchEvent("playing"))}function U(){g.dispatchEvent("progress")}function q(){y.paused=!0,S||(S=!0,clearInterval(p),g.dispatchEvent("pause"))}g._eventNamespace=t.guid("HTMLYouTubeVideoElement::"),g.parentNode=m,g._util.type="YouTube",parseDuration=function(t){var e=t.match(/^P([0-9]+Y|)?([0-9]+M|)?([0-9]+D|)?T?([0-9]+H|)?([0-9]+M|)?([0-9]+S|)?$/),n={};return!!e&&(n.year=parseInt(e[1])||0,n.month=parseInt(e[2])||0,n.day=parseInt(e[3])||0,n.hour=parseInt(e[4])||0,n.minute=parseInt(e[5])||0,n.second=parseInt(e[6])||0,n.toString=function(){var t="";return this.year&&(t+=this.year+" Year"+(1==this.year?"":"s")+" "),this.month&&(t+=this.month+" Month"+(1==this.month?"":"s")+" "),this.day&&(t+=this.day+" Day"+(1==this.day?"":"s")+" "),this.hour&&(t+=this.hour+" Hour"+(1==this.hour?"":"s")+" "),this.minute&&(t+=this.minute+" Minute"+(1==this.minute?"":"s")+" "),this.second&&(t+=this.second+" Second"+(1==this.second?"":"s")+" "),t},n)},g.play=function(){y.paused=!1,C?h.playVideo():M(function(){g.play()})},g.pause=function(){y.paused=!0,C?(w=!1,h.pauseVideo()):M(function(){g.pause()})},g.getSpeeds=function(){return h.getAvailablePlaybackRates()},g.setSpeed=function(t){h.setPlaybackRate(t)},g.getAvailableQuality=function(){return h.getAvailableQualityLevels()},g.getQuality=function(){return h.getPlaybackQuality()},g.setQuality=function(t){h.setPlaybackQuality(t),z(F())},g.destroy=function(){I()},g.getCaptionTracks=function(){return h.getOption("captions","tracklist")},g.setCaptionTrack=function(t){h.setOption("captions","track",t)},Object.defineProperties(g,{info:{set:function(t){y.info=t}},regYtDataApiReq:{set:function(t){y.regYtDataApiReq=t}},src:{get:function(){return y.src},set:function(t){t&&t!==y.src&&L(t)}},autoplay:{get:function(){return y.autoplay},set:function(t){y.autoplay=g._util.isAttributeSet(t)}},loop:{get:function(){return y.loop},set:function(t){y.loop=g._util.isAttributeSet(t)}},width:{get:function(){return g.parentNode.offsetWidth}},height:{get:function(){return g.parentNode.offsetHeight}},currentTime:{get:function(){return F()},set:function(t){z(t)}},duration:{get:function(){return y.duration},set:function(t){y.duration=t}},ended:{get:function(){return y.ended}},paused:{get:function(){return y.paused}},seeking:{get:function(){return y.seeking}},readyState:{get:function(){return y.readyState}},networkState:{get:function(){return y.networkState}},volume:{get:function(){return y.volume/100},set:function(t){if(t<0||t>1)throw"Volume value must be between 0.0 and 1.0";!function t(e){y.volume=e,C?(h.setVolume(100*y.volume),g.dispatchEvent("volumechange")):M(function(){t(y.volume)})}(t)}},muted:{get:function(){return y.muted},set:function(t){!function t(e){y.muted=e,C?(h[e?"mute":"unMute"](),g.dispatchEvent("volumechange")):M(function(){t(y.muted)})}(g._util.isAttributeSet(t))}},error:{get:function(){return y.error}},buffered:{get:function(){var t={start:function(t){if(0===t)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(t){if(0===t)return y.duration?y.duration*T:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(t,{length:{get:function(){return 1}}}),t}}})}e.YT&&(e.quarantineYT=e.YT,e.YT=null),e.onYouTubeIframeAPIReady=function(){a=!0;for(var t=u.length;t--;)u[t](),delete u[t]},c.prototype=new t._MediaElementProto,c.prototype.constructor=c,c.prototype._canPlaySrc=function(t){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(t)?"probably":r},c.prototype.canPlayType=function(t){return"video/x-youtube"===t?"probably":r},t.HTMLYouTubeVideoElement=function(t){return new c(t)},t.HTMLYouTubeVideoElement._canPlaySrc=c.prototype._canPlaySrc}(Popcorn,window,document),function(t,e,n){var i=10,r="",o=Math.abs;function s(s){if(!e.postMessage||!e.JSON)throw"ERROR: HTMLMediaSiteVideoElement requires window.postMessage";var a,l,u,c,h=this,d="string"==typeof s?n.querySelector(s):s,f=n.createElement("div"),p="mediaSiteVideoId",g={src:r,networkState:h.NETWORK_EMPTY,readyState:h.HAVE_NOTHING,seeking:!1,autoplay:r,preload:r,controls:!1,loop:!1,poster:r,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},m=!1,v=!1,y=!1,b=!1,w=!1,x=!1,C=!1,k=!0,_=[],S=-1,$=!1;function E(t){_.unshift(t)}function T(t){var e=function(){a.isMuted()?navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)?x&&M():a.play():setTimeout(e,0)};v=!0,a.mute(),g.duration=a.getDuration(),h.dispatchEvent("durationchange"),x=!0,e(),$&&M()}function D(t){var e={name:"MediaError"};switch(t.errorCode){case 500:e.message="Invalid video parameter.",e.code=t.errorCode;break;case 424:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=t.errorCode;break;case 510:e.message="Video not found.",e.code=t.errorCode;break;case 511:e.message="Video not usable.",e.code=t.errorCode;break;default:e.message="Unknown error.",e.code=5}g.error=e,h.dispatchEvent("error")}function M(){for(g.autoplay||!g.paused?(g.paused=!1,E(function(){z()})):(y=!1,a.pause()),g.muted||a.unMute(),g.readyState=h.HAVE_METADATA,h.dispatchEvent("loadedmetadata"),u=setInterval(I,i),h.dispatchEvent("loadeddata"),g.readyState=h.HAVE_FUTURE_DATA,h.dispatchEvent("canplay"),w=!0;_.length;)_[0](),_.shift();g.readyState=h.HAVE_ENOUGH_DATA,h.dispatchEvent("canplaythrough")}function A(t){switch(t.playState){case Mediasite.PlayState.MediaEnded:g.loop?(L(0),h.play()):(g.ended=!0,a.pause(),B(),b=!0,h.dispatchEvent("timeupdate"),h.dispatchEvent("ended"));break;case Mediasite.PlayState.Playing:$?b?(b=!1,a.pause()):z():($=!0,x&&M());break;case Mediasite.PlayState.Paused:if(a.getDuration()===a.getCurrentTime())break;if(y){y=!1;break}B();break;case Mediasite.PlayState.Buffering:g.networkState=h.NETWORK_LOADING,h.dispatchEvent("waiting")}t.state!==Mediasite.PlayState.Buffering&&S===Mediasite.PlayState.Buffering&&h.dispatchEvent("progress"),S=t.state}function P(){v&&a&&(x=!1,$=!1,clearInterval(u),clearInterval(l))}function O(t){if(!h._canPlaySrc(t))return g.error={name:"MediaError",message:"Media Source Not Supported",code:511},void h.dispatchEvent("error");var i,r;t=t+(-1==t.indexOf("?")?"?":"&")+"player=MediasiteIntegration",g.src=t,v&&(P(),v&&a&&(d.removeChild(f),(f=n.createElement("div")).setAttribute("id",p))),f.setAttribute("id",p),d.appendChild(f),a=new Mediasite.Player(p,{url:t,events:{ready:T,error:D,playstatechanged:A},layoutOptions:{ShowStateMessages:!1,Gutter:0,FrameWidth:0}}),g.networkState=h.NETWORK_LOADING,h.dispatchEvent("loadstart"),h.dispatchEvent("progress"),(i=n.createElement("DIV")).className="media_site_play_button_container button small",i.id="clickMe",i.innerHTML="Click to Load Video",d.appendChild(i),r={iframeMouseOver:!1},e.addEventListener("blur",function(){r.iframeMouseOver&&setTimeout(function(){N()},2e3)}),e.addEventListener("touchstart",function(t){t.target.id===p&&setTimeout(function(){N()},5e3)},!0),n.getElementById(p).addEventListener("mouseover",function(){r.iframeMouseOver=!0}),n.getElementById(p).addEventListener("mouseout",function(){r.iframeMouseOver=!1})}function N(){var t=n.getElementById("clickMe");!m&&t&&(t.setAttribute("style","display:none;"),m=!0)}function I(){var t=a.getCurrentTime();g.seeking?o(t-g.currentTime)<1&&F():(o(g.currentTime-t)>i&&(H(),F()),g.currentTime=t)}function L(t){g.currentTime=t,w?(H(),a.seekTo(t)):E(function(){H(),a.seekTo(t)})}function R(){h.dispatchEvent("timeupdate")}function H(){g.seeking=!0,h.dispatchEvent("seeking")}function F(){g.ended=!1,g.seeking=!1,h.dispatchEvent("timeupdate"),h.dispatchEvent("seeked"),h.dispatchEvent("canplay"),h.dispatchEvent("canplaythrough")}function z(){N(),g.ended&&(L(0),g.ended=!1),c&&clearInterval(c),c=setInterval(R,h._util.TIMEUPDATE_MS),g.paused=!1,k&&(k=!1,(g.loop&&!C||!g.loop)&&(C=!0,h.dispatchEvent("play")),h.dispatchEvent("playing"))}function B(){g.paused=!0,k||(k=!0,clearInterval(c),h.dispatchEvent("pause"))}h._eventNamespace=t.guid("HTMLMediaSiteVideoElement::"),h.parentNode=d,h._util.type="MediaSite",h.play=function(){g.paused=!1,w?a.play():E(function(){h.play()})},h.pause=function(){g.paused=!0,w?(y=!1,a.pause()):E(function(){h.pause()})},h.getSpeeds=function(){return[1]},h.setSpeed=function(t){},h.getAvailableQuality=function(){return[]},h.getQuality=function(){return"Normal"},h.setQuality=function(t){},h.destroy=function(){P()},Object.defineProperties(h,{src:{get:function(){return g.src},set:function(t){t&&t!==g.src&&O(t)}},autoplay:{get:function(){return g.autoplay},set:function(t){g.autoplay=h._util.isAttributeSet(t)}},loop:{get:function(){return g.loop},set:function(t){g.loop=h._util.isAttributeSet(t)}},width:{get:function(){return h.parentNode.offsetWidth}},height:{get:function(){return h.parentNode.offsetHeight}},currentTime:{get:function(){return g.currentTime},set:function(t){L(t)}},duration:{get:function(){return g.duration}},ended:{get:function(){return g.ended}},paused:{get:function(){return g.paused}},seeking:{get:function(){return g.seeking}},readyState:{get:function(){return g.readyState}},networkState:{get:function(){return g.networkState}},volume:{get:function(){return g.volume/100},set:function(t){if(t<0||t>1)throw"Volume value must be between 0.0 and 1.0";!function t(e){g.volume=e,w?(a.setVolume(100*g.volume),h.dispatchEvent("volumechange")):E(function(){t(g.volume)})}(t)}},muted:{get:function(){return g.muted},set:function(t){!function t(e){g.muted=e,w?(a[e?"mute":"unMute"](),h.dispatchEvent("volumechange")):E(function(){t(g.muted)})}(h._util.isAttributeSet(t))}},error:{get:function(){return g.error}},buffered:{get:function(){var t={start:function(t){if(0===t)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(t){if(0===t)return g.duration?0*g.duration:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(t,{length:{get:function(){return 1}}}),t}}})}s.prototype=new t._MediaElementProto,s.prototype.constructor=s,s.prototype._canPlaySrc=function(t){return/^(http|https):\/\/.*(\/Play\/)/.test(t)?"probably":r},s.prototype.canPlayType=function(t){return"video/x-mediasite"===t?"probably":r},t.HTMLMediaSiteVideoElement=function(t){return new s(t)},t.HTMLMediaSiteVideoElement._canPlaySrc=s.prototype._canPlaySrc}(Popcorn,window,document),function(t,e,n){var r=10,o="",s=Math.abs,a=!1,l=!1,u=[];function c(t){if(!l){var i=n.createElement("script");h(t);i.src=t.toString().split('src="')[1].split("?");var r=n.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),l=!0,kWidgetInterval=setInterval(function(){e.kWidget&&(!function(){a=!0;var t=u.length;for(;t--;)u[t]instanceof Function&&u[t](),delete u[t]}(),clearInterval(kWidgetInterval))},500)}return a}function h(t){t.toString();var e={};return e.partner_id=t.match("/p/([0-9]+)")[1],e.uiconf_id=t.match("/uiconf_id/([0-9]+)")[1],e.entry_id=t.match("&entry_id=([0-9]_[a-z0-9]+)&")[1],e}function d(a){if(!e.postMessage)throw"ERROR: HTMLKalturaVideoElement requires window.postMessage";var l=this,d="string"==typeof a?n.querySelector(a):a,f=n.createElement("div");f.setAttribute("id","kalturaVideo");var p,g,m,v,y,b={src:o,networkState:l.NETWORK_EMPTY,readyState:l.HAVE_NOTHING,seeking:!1,autoplay:!1,preload:o,controls:!1,loop:!1,poster:o,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},w=!1,x=!1,C=!1,k=!1,_=!1,S=!1,$=[],E=!0,T=[],D=-1,M=0,A=!1;function P(t){T.unshift(t)}function O(t){var e=parseInt(p.evaluate(" {duration} "));b.duration=e,l.dispatchEvent("durationchange"),_=!0,I();var n=g.plugins.sourceSelector.getSources();for(i in n){var r=g.plugins.sourceSelector.getSourceTitleSize(n[i]);r&&(n[i].size=r,video_srcs.push(n[i]))}var o=function(){p.isMuted()?navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)?_&&I():p.sendNotification("doPlay"):setTimeout(o,0)};w=!0,p.mute(),o()}function N(t){var e={name:"MediaError"};switch(t.data){case 2:e.message="Invalid video parameter.",e.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=MediaError.MEDIA_ERR_DECODE;case 100:e.message="Video not found.",e.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:e.message="Video not usable.",e.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:e.message="Unknown error.",e.code=5}b.error=e,l.dispatchEvent("error")}function I(){for(P(function(){m=setInterval(z,50)}),b.autoplay||!b.paused?(b.paused=!1,P(function(){q()})):(x=!1,p.sendNotification("doPause")),b.readyState=l.HAVE_METADATA,l.dispatchEvent("loadedmetadata"),v=setInterval(F,r),l.dispatchEvent("loadeddata"),b.readyState=l.HAVE_FUTURE_DATA,l.dispatchEvent("canplay"),k=!0;T.length;)T[0](),T.shift();b.readyState=l.HAVE_ENOUGH_DATA}function L(t){switch(t){case"playbackComplete":X();break;case"playing":A?C?(C=!1,p.sendNotification("doPause")):q():(A=!0,_&&I());break;case"paused":if(p.getDuration()===g.evaluate("{video.player.currentTime}")){X();break}if(x){x=!1;break}G();break;case"buffering":b.networkState=l.NETWORK_LOADING,l.dispatchEvent("waiting")}"buffering"!==t.data&&"buffering"===D&&Y(),D=t.data}function R(){w&&p&&(_=!1,A=!1,clearInterval(v),clearInterval(m),p.sendNotification("cleanMedia"))}function H(t){if(b.src=t,!c(t))return e=function(){H(t)},void u.unshift(e);var e;w&&(R(),R(),w&&p&&(d.removeChild(f),kWidget.destroy(a.split("#")[1]),(f=n.createElement("div")).setAttribute("id","kalturaVideo"))),d.appendChild(f);var i=h(t);kWidget.embed({targetId:"kalturaVideo",wid:"_"+i.partner_id,uiconf_id:i.uiconf_id,entry_id:i.entry_id,flashvars:{autoPlay:!1,"controlBarContainer.plugin":!0,"largePlayBtn.plugin":!1,"loadingSpinner.plugin":!1,sourceSelector:{plugin:!0,switchOnResize:!1,simpleFormat:!0,displayMode:"size"},closedCaptions:{layout:"ontop",useCookie:!0,fontFamily:"Arial",fontsize:"12",fontColor:"0xFFFFFF",bg:"0x335544",useGlow:!1,glowBlur:"4",glowColor:"0x133693",defaultLanguageKey:"en",hideWhenEmpty:!0,whiteListLanguagesCodes:"en,es,fr,jp,pt"},playbackRateSelector:{plugin:!0,position:"after",loadingPolicy:"onDemand",defaultSpeed:"1",speeds:".5,.75,1,1.5,2",relativeTo:"PlayerHolder"},KalturaClipDescription:{startTime:30},operationAttributes:{offset:2e3,duration:1e4}},readyCallback:function(t){p=n.getElementById(t),g=p.firstChild.contentWindow.document.getElementById(t),p.kBind("playerReady",O),p.kBind("playerStateChange",L),p.kBind("mediaError",N)}}),b.networkState=l.NETWORK_LOADING,l.dispatchEvent("loadstart"),l.dispatchEvent("progress")}function F(){var t=g.evaluate("{video.player.currentTime}");b.seeking?s(t-b.currentTime)<1?U():t==b.currentTime&&X():(s(b.currentTime-t)>r&&(V(),U()),b.currentTime=t)}function z(){var t=p.evaluate("{video.buffer.percent}");t&&M!==t&&(M=t,Y())}function B(){return b.currentTime}function j(t){b.currentTime=t,k?(V(),p.sendNotification("doSeek",t)):P(function(){V()})}function W(){l.dispatchEvent("timeupdate")}function V(){b.seeking=!0,l.dispatchEvent("seeking")}function U(){b.ended=!1,b.seeking=!1,l.dispatchEvent("timeupdate"),l.dispatchEvent("seeked"),l.dispatchEvent("canplay"),l.dispatchEvent("canplaythrough")}function q(){b.ended&&(j(0),b.ended=!1),y&&clearInterval(y),y=setInterval(W,l._util.TIMEUPDATE_MS),b.paused=!1,E&&(E=!1,(b.loop&&!S||!b.loop)&&(S=!0,l.dispatchEvent("play")),l.dispatchEvent("play"))}function Y(){l.dispatchEvent("progress")}function G(){b.paused=!0,E||(E=!0,clearInterval(y),l.dispatchEvent("pause"))}function X(){b.loop?(j(0),l.play()):(b.ended=!0,p.pauseVideo(),G(),C=!0,l.dispatchEvent("timeupdate"),l.dispatchEvent("ended"))}video_srcs=[],l._eventNamespace=t.guid("HTMLKalturaVideoElement::"),l.parentNode=d,l._util.type="Kaltura",l.play=function(){b.paused=!1,k?p.sendNotification("doPlay"):P(function(){l.play()})},l.pauseAfterSeek=function(t){g.seek(t,!0),b.paused=!0},l.pause=function(){b.paused=!0,k?(x=!1,p.sendNotification("doPause")):P(function(){l.pause()})},l.getSpeeds=function(){return p.evaluate("{playbackRateSelector.speeds}").split(",")},l.setSpeed=function(t){p.sendNotification("playbackRateChangeSpeed",t)},l.getAvailableQuality=function(){for(i in $=g.plugins.sourceSelector.sourcesList)$[i]=$[i].toLowerCase();return $},l.getQuality=function(){return g.plugins.sourceSelector.sourcesList},l.setQuality=function(t){var e=function(t,e){for(i in e=e.toLowerCase(),t)if(t[i].size==e)break;return t[i]}(video_srcs,t);g.mediaElement.setSource(e),j(B())},l.destroy=function(){R()},l.getCaptionTracks=function(){var t=[];return g.plugins.closedCaptions.textSources.forEach(function(e){t.push({displayName:e.title})}),t},l.setCaptionTrack=function(t){if(0==Object.values(t).length)l.unsetCaptionTrack();else{var e=g.plugins.closedCaptions;e.textSources.forEach(function(n){if(n.title==t.displayName)return e.selectSource(n),void p.sendNotification("showClosedCaptions")})}},l.unsetCaptionTrack=function(){p.sendNotification("hideClosedCaptions")},l.showControlBar=function(){g.plugins.controlBarContainer.show(),g.getVideoHolder()[0].style.height="",g.getControlBarContainer()[0].style.display="inline"},l.hideControlBar=function(){g.plugins.controlBarContainer.hide(),g.getVideoHolder()[0].style.height="100%",g.getControlBarContainer()[0].style.display="none"},Object.defineProperties(l,{src:{get:function(){return b.src},set:function(t){t&&t!==b.src&&H(t)}},autoplay:{get:function(){return b.autoplay},set:function(t){b.autoplay=l._util.isAttributeSet(t)}},loop:{get:function(){return b.loop},set:function(t){b.loop=l._util.isAttributeSet(t)}},width:{get:function(){return l.parentNode.offsetWidth}},height:{get:function(){return l.parentNode.offsetHeight}},currentTime:{get:function(){return B()},set:function(t){j(t)}},duration:{get:function(){return b.duration}},ended:{get:function(){return b.ended}},paused:{get:function(){return b.paused}},seeking:{get:function(){return b.seeking}},readyState:{get:function(){return b.readyState}},networkState:{get:function(){return b.networkState}},volume:{get:function(){return b.volume/100},set:function(t){if(t<0||t>1)throw"Volume value must be between 0.0 and 1.0";!function(t){b.volume=t,p.sendNotification("changeVolume",t),l.dispatchEvent("volumechange")}(t)}},muted:{get:function(){return b.muted},set:function(t){!function t(e){b.muted=e,k?(p.sendNotification("changeVolume",0),l.dispatchEvent("volumechange")):P(function(){t(b.muted)})}(l._util.isAttributeSet(t))}},error:{get:function(){return b.error}},buffered:{get:function(){var t={start:function(t){if(0===t)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(t){if(0===t)return b.duration?b.duration*M:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(t,{length:{get:function(){return 1}}}),t}}})}d.prototype=new t._MediaElementProto,d.prototype.constructor=d,t.HTMLKalturaVideoElement=function(t){return new d(t)}}(Popcorn,window,document),function(t,e,n){var i=16,r="",o="https://player.vimeo.com";function s(t){var n=this,i=t.src.split("?")[0];"//"===i.substr(0,2)&&(i=e.location.protocol+i),"play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ").forEach(function(e){n[e]=function(n){!function(e,n){var r=JSON.stringify({method:e,value:n});t.contentWindow&&t.contentWindow.postMessage(r,i)}(e,n)}})}function a(a){if(!e.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var l,u,c,h=new t._MediaElementProto,d="string"==typeof a?t.dom.find(a):a,f=n.createElement("iframe"),p={src:r,networkState:h.NETWORK_EMPTY,readyState:h.HAVE_NOTHING,seeking:!1,autoplay:0,preload:r,controls:!0,loop:0,poster:r,volume:1,muted:0,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},g=!1,m=t.guid(),v=!0,y=[],b=0;function w(t){y.unshift(t)}function x(t){var e=p.duration;if(e!==t&&(p.duration=t,h.dispatchEvent("durationchange"),isNaN(e))){p.networkState=h.NETWORK_IDLE,p.readyState=h.HAVE_METADATA,h.dispatchEvent("loadedmetadata"),h.dispatchEvent("loadeddata"),p.readyState=h.HAVE_FUTURE_DATA,h.dispatchEvent("canplay"),p.readyState=h.HAVE_ENOUGH_DATA,h.dispatchEvent("canplaythrough"),p.autoplay&&h.play();for(var n=y.length;n--;)y[n](),delete y[n]}}function C(t){g?(p.seeking=!0,h.dispatchEvent("seeking"),l.seekTo(t)):w(function(){C(t)})}function k(){h.dispatchEvent("timeupdate")}function _(t){(p.currentTime=t)!==b&&h.dispatchEvent("timeupdate"),b=p.currentTime}function S(t){if(t.origin===o){var n;try{n=JSON.parse(t.data)}catch(t){console.warn(t)}if(n.player_id==m)switch(n.event){case"ready":(l=new s(f)).addEventListener("loadProgress"),l.addEventListener("pause"),l.setVolume(0),l.play();break;case"loadProgress":parseFloat(n.data.duration)>0&&!g&&(g=!0,l.pause());break;case"pause":l.setVolume(1),e.removeEventListener("message",S,!1),e.addEventListener("message",$,!1),l.addEventListener("loadProgress"),l.addEventListener("playProgress"),l.addEventListener("play"),l.addEventListener("pause"),l.addEventListener("finish"),l.addEventListener("seek"),l.getDuration(),p.networkState=h.NETWORK_LOADING,h.dispatchEvent("loadstart"),h.dispatchEvent("progress")}}}function $(t){if(t.origin===o){var e;try{e=JSON.parse(t.data)}catch(t){console.warn(t)}if(e.player_id==m){switch(e.method){case"getCurrentTime":_(parseFloat(e.value));break;case"getDuration":x(parseFloat(e.value));break;case"getVolume":n=parseFloat(e.value),p.volume!==n&&(p.volume=n,h.dispatchEvent("volumechange"))}var n;switch(e.event){case"loadProgress":h.dispatchEvent("progress"),x(parseFloat(e.data.duration));break;case"playProgress":_(parseFloat(e.data.seconds));break;case"play":p.ended&&C(0),c||(c=setInterval(E,i),p.loop&&h.dispatchEvent("play")),u=setInterval(k,h._util.TIMEUPDATE_MS),p.paused=!1,v&&(v=!1,p.loop||h.dispatchEvent("play"),h.dispatchEvent("playing"));break;case"pause":p.paused=!0,v||(v=!0,clearInterval(u),h.dispatchEvent("pause"));break;case"finish":p.loop?(C(0),h.play()):(p.ended=!0,h.dispatchEvent("ended"));break;case"seek":_(parseFloat(e.data.seconds)),p.seeking=!1,h.dispatchEvent("timeupdate"),h.dispatchEvent("seeked"),h.dispatchEvent("canplay"),h.dispatchEvent("canplaythrough")}}}}function E(){l.getCurrentTime()}function T(t){if(!h._canPlaySrc(t))return p.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void h.dispatchEvent("error");p.src=t,g&&g&&l&&(clearInterval(c),l.pause(),e.removeEventListener("message",$,!1),d.removeChild(f),f=n.createElement("iframe")),g=!1;var i,r=h._util.parseUri(t),s=r.queryKey,a=["api=1","player_id="+m,"title=0","byline=0","portrait=0","loop=0"];for(i in p.loop="1"===s.loop||p.loop,delete s.loop,p.autoplay="1"===s.autoplay||p.autoplay,delete s.autoplay,r=o+"/video/"+/\d+$/.exec(r.path)+"?",s)s.hasOwnProperty(i)&&a.push(encodeURIComponent(i)+"="+encodeURIComponent(s[i]));r+=a.join("&"),f.id=m,f.style.width="100%",f.style.height="100%",f.frameBorder=0,f.webkitAllowFullScreen=!0,f.mozAllowFullScreen=!0,f.allowFullScreen=!0,d.appendChild(f),f.src=r,e.addEventListener("message",S,!1)}function D(t){p.volume=t,g?(l.setVolume(t),h.dispatchEvent("volumechange")):w(function(){D(t)})}return h._eventNamespace=t.guid("HTMLVimeoVideoElement::"),h.parentNode=d,h._util.type="Vimeo",h.play=function(){p.paused=!1,g?l.play():w(function(){h.play()})},h.pause=function(){p.paused=!0,g?l.pause():w(function(){h.pause()})},Object.defineProperties(h,{src:{get:function(){return p.src},set:function(t){t&&t!==p.src&&T(t)}},autoplay:{get:function(){return p.autoplay},set:function(t){p.autoplay=h._util.isAttributeSet(t)}},loop:{get:function(){return p.loop},set:function(t){p.loop=h._util.isAttributeSet(t)}},width:{get:function(){return h.parentNode.offsetWidth}},height:{get:function(){return h.parentNode.offsetHeight}},currentTime:{get:function(){return p.currentTime},set:function(t){C(t)}},duration:{get:function(){return p.duration}},ended:{get:function(){return p.ended}},paused:{get:function(){return p.paused}},seeking:{get:function(){return p.seeking}},readyState:{get:function(){return p.readyState}},networkState:{get:function(){return p.networkState}},volume:{get:function(){return p.muted>0?p.muted:p.volume},set:function(t){if(t<0||t>1)throw"Volume value must be between 0.0 and 1.0";D(t)}},muted:{get:function(){return p.muted>0},set:function(t){!function t(e){if(!g)return p.muted=e?1:0,void w(function(){t(e)});e?(p.muted=p.volume,D(0)):(p.muted=0,D(p.muted))}(h._util.isAttributeSet(t))}},error:{get:function(){return p.error}}}),h._canPlaySrc=t.HTMLVimeoVideoElement._canPlaySrc,h.canPlayType=t.HTMLVimeoVideoElement.canPlayType,h}t.HTMLVimeoVideoElement=function(t){return new a(t)},t.HTMLVimeoVideoElement._canPlaySrc=function(t){return/player.vimeo.com\/video\/\d+/.test(t)||/vimeo.com\/\d+/.test(t)?"probably":r},t.HTMLVimeoVideoElement.canPlayType=function(t){return"video/x-vimeo"===t?"probably":r}}(Popcorn,window,document),function(t,e){function n(t){return"maybe"}function i(t,i){var r="string"==typeof t?e.querySelector(t):t,o=e.createElement(i);return r.appendChild(o),o._canPlaySrc=n,o}t.HTMLVideoElement=function(t){return i(t,"video")},t.HTMLVideoElement._canPlaySrc=n,t.HTMLAudioElement=function(t){return i(t,"audio")},t.HTMLAudioElement._canPlaySrc=n}(Popcorn,window.document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Xt.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,i){return vt(t,e,n,i,!0).utc()}function u(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function c(t){if(null==t._isValid){var e=u(t),n=Kt.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function h(t){var e=l(NaN);return null!=t?a(u(e),t):u(e).userInvalidated=!0,e}function d(t){return void 0===t}function f(t,e){var n,i,r;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=u(e)),d(e._locale)||(t._locale=e._locale),Zt.length>0)for(n in Zt)d(r=e[i=Zt[n]])||(t[i]=r);return t}function p(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Qt&&(Qt=!0,t.updateOffset(this),Qt=!1)}function g(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function y(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&v(t[i])!==v(e[i]))&&s++;return s+o}function b(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,n){var i=!0;return a(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}b(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function x(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Jt[e]||(b(n),Jt[e]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t,e){var i,r=a({},t);for(i in e)s(e,i)&&(n(t[i])&&n(e[i])?(r[i]={},a(r[i],t[i]),a(r[i],e[i])):null!=e[i]?r[i]=e[i]:delete r[i]);for(i in t)s(t,i)&&!s(e,i)&&n(t[i])&&(r[i]=a({},r[i]));return r}function _(t){null!=t&&this.set(t)}function S(t,e){var n=t.toLowerCase();ee[n]=ee[n+"s"]=ee[e]=t}function $(t){return"string"==typeof t?ee[t]||ee[t.toLowerCase()]:void 0}function E(t){var e,n,i={};for(n in t)s(t,n)&&((e=$(n))&&(i[e]=t[n]));return i}function T(t,e){ne[t]=e}function D(e,n){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,n),this):M(this,e)}}function M(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function A(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function P(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function O(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(se[t]=r),e&&(se[e[0]]=function(){return P(r.apply(this,arguments),e[1],e[2])}),n&&(se[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t,e){return t.isValid()?(e=L(e,t.localeData()),oe[e]=oe[e]||function(t){var e,n,i=t.match(ie);for(e=0,n=i.length;e<n;e++)se[i[e]]?i[e]=se[i[e]]:i[e]=N(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}(e),oe[e](t)):t.localeData().invalidDate()}function L(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(re.lastIndex=0;i>=0&&re.test(t);)t=t.replace(re,n),re.lastIndex=0,i-=1;return t}function R(t,e,n){ke[t]=C(e)?e:function(t,i){return t&&n?n:e}}function H(t,e){return s(ke,t)?ke[t](e._strict,e._locale):new RegExp(function(t){return F(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}(t))}function F(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),i(e)&&(r=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)_e[t[n]]=r}function B(t,e){z(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function j(t,e,n){null!=e&&s(_e,t)&&_e[t](e,n._a,n,t)}function W(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function V(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=v(e);else if(!i(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),W(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function U(e){return null!=e?(V(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function q(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=l([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=F(i[e]),r[e]=F(r[e]);for(e=0;e<24;e++)o[e]=F(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Y(t){return G(t)?366:365}function G(t){return t%4==0&&t%100!=0||t%400==0}function X(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function K(t,e,n){var i=7+e-n;return-((7+X(t,0,i).getUTCDay()-e)%7)+i-1}function Z(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+K(t,i,r);return a<=0?s=Y(o=t-1)+a:a>Y(t)?(o=t+1,s=a-Y(t)):(o=t,s=a),{year:o,dayOfYear:s}}function Q(t,e,n){var i,r,o=K(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?i=s+J(r=t.year()-1,e,n):s>J(t.year(),e,n)?(i=s-J(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function J(t,e,n){var i=K(t,e,n),r=K(t+1,e,n);return(Y(t)-i+r)/7}function tt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],u=[],c=[];for(e=0;e<7;e++)n=l([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),u.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),a.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)a[e]=F(a[e]),u[e]=F(u[e]),c[e]=F(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function et(){return this.hours()%12||12}function nt(t,e){O(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function it(t,e){return e._meridiemParse}function rt(t){return t?t.toLowerCase().replace("_","-"):t}function ot(t){var e=null;if(!Ke[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ye._abbr,require("./locale/"+t),st(e)}catch(t){}return Ke[t]}function st(t,e){var n;return t&&((n=d(e)?lt(t):at(t,e))&&(Ye=n)),Ye._abbr}function at(t,e){if(null!==e){var n=Xe;if(e.abbr=t,null!=Ke[t])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ke[t]._config;else if(null!=e.parentLocale){if(null==Ke[e.parentLocale])return Ze[e.parentLocale]||(Ze[e.parentLocale]=[]),Ze[e.parentLocale].push({name:t,config:e}),null;n=Ke[e.parentLocale]._config}return Ke[t]=new _(k(n,e)),Ze[t]&&Ze[t].forEach(function(t){at(t.name,t.config)}),st(t),Ke[t]}return delete Ke[t],null}function lt(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ye;if(!e(t)){if(n=ot(t))return n;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=rt(t[o]).split("-")).length,n=(n=rt(t[o+1]))?n.split("-"):null;e>0;){if(i=ot(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&y(r,n,!0)>=e-1)break;e--}o++}return null}(t)}function ut(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[$e]<0||n[$e]>11?$e:n[Ee]<1||n[Ee]>W(n[Se],n[$e])?Ee:n[Te]<0||n[Te]>24||24===n[Te]&&(0!==n[De]||0!==n[Me]||0!==n[Ae])?Te:n[De]<0||n[De]>59?De:n[Me]<0||n[Me]>59?Me:n[Ae]<0||n[Ae]>999?Ae:-1,u(t)._overflowDayOfYear&&(e<Se||e>Ee)&&(e=Ee),u(t)._overflowWeeks&&-1===e&&(e=Pe),u(t)._overflowWeekday&&-1===e&&(e=Oe),u(t).overflow=e),t}function ct(t){var e,n,i,r,o,s,a=t._i,l=Qe.exec(a)||Je.exec(a);if(l){for(u(t).iso=!0,e=0,n=en.length;e<n;e++)if(en[e][1].exec(l[1])){r=en[e][0],i=!1!==en[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=nn.length;e<n;e++)if(nn[e][1].exec(l[3])){o=(l[2]||" ")+nn[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!tn.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),pt(t)}else t._isValid=!1}function ht(t,e,n){return null!=t?t:null!=e?e:n}function dt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ft(t){var e,n,i,r,o=[];if(!t._d){for(i=dt(t),t._w&&null==t._a[Ee]&&null==t._a[$e]&&function(t){var e,n,i,r,o,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,n=ht(e.GG,t._a[Se],Q(yt(),1,4).year),i=ht(e.W,1),((r=ht(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var c=Q(yt(),o,s);n=ht(e.gg,t._a[Se],c.year),i=ht(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>J(n,o,s)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(a=Z(n,i,r,o,s),t._a[Se]=a.year,t._dayOfYear=a.dayOfYear)}(t),t._dayOfYear&&(r=ht(t._a[Se],i[Se]),t._dayOfYear>Y(r)&&(u(t)._overflowDayOfYear=!0),n=X(r,0,t._dayOfYear),t._a[$e]=n.getUTCMonth(),t._a[Ee]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Te]&&0===t._a[De]&&0===t._a[Me]&&0===t._a[Ae]&&(t._nextDay=!0,t._a[Te]=0),t._d=(t._useUTC?X:function(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Te]=24)}}function pt(e){if(e._f!==t.ISO_8601){e._a=[],u(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,c=0;for(r=L(e._f,e._locale).match(ie)||[],n=0;n<r.length;n++)o=r[n],(i=(a.match(H(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(i))).length>0&&u(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),se[o]?(i?u(e).empty=!1:u(e).unusedTokens.push(o),j(o,i,e)):e._strict&&!i&&u(e).unusedTokens.push(o);u(e).charsLeftOver=l-c,a.length>0&&u(e).unusedInput.push(a),e._a[Te]<=12&&!0===u(e).bigHour&&e._a[Te]>0&&(u(e).bigHour=void 0),u(e).parsedDateParts=e._a.slice(0),u(e).meridiem=e._meridiem,e._a[Te]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(e._locale,e._a[Te],e._meridiem),ft(e),ut(e)}else ct(e)}function gt(t){var n=t._i,i=t._f;return t._locale=t._locale||lt(t._l),null===n||void 0===i&&""===n?h({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),g(n)?new p(ut(n)):(r(n)?t._d=n:e(i)?function(t){var e,n,i,r,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],pt(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==i||o<i)&&(i=o,n=e));a(t,n||e)}(t):i?pt(t):mt(t),c(t)||(t._d=null),t))}function mt(n){var s=n._i;void 0===s?n._d=new Date(t.now()):r(s)?n._d=new Date(s.valueOf()):"string"==typeof s?function(e){var n=rn.exec(e._i);null!==n?e._d=new Date(+n[1]):(ct(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}(n):e(s)?(n._a=o(s.slice(0),function(t){return parseInt(t,10)}),ft(n)):"object"==typeof s?function(t){if(!t._d){var e=E(t._i);t._a=o([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ft(t)}}(n):i(s)?n._d=new Date(s):t.createFromInputFallback(n)}function vt(t,i,r,o,s){var a={};return!0!==r&&!1!==r||(o=r,r=void 0),(n(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||e(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=t,a._f=i,a._strict=o,function(t){var e=new p(ut(gt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(a)}function yt(t,e,n,i){return vt(t,e,n,i,!1)}function bt(t,n){var i,r;if(1===n.length&&e(n[0])&&(n=n[0]),!n.length)return yt();for(i=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][t](i)||(i=n[r]);return i}function wt(t){var e=E(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=lt(),this._bubble()}function xt(t){return t instanceof wt}function Ct(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function kt(t,e){O(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+P(~~(t/60),2)+e+P(~~t%60,2)})}function _t(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(an)||["-",0,0],r=60*i[1]+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function St(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(g(e)||r(e)?e.valueOf():yt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),t.updateOffset(i,!1),i):yt(e).local()}function $t(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Et(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Tt(t,e){var n,r,o,a=t,l=null;return xt(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:i(t)?(a={},e?a[e]=t:a.milliseconds=t):(l=ln.exec(t))?(n="-"===l[1]?-1:1,a={y:0,d:v(l[Ee])*n,h:v(l[Te])*n,m:v(l[De])*n,s:v(l[Me])*n,ms:v(Ct(1e3*l[Ae]))*n}):(l=un.exec(t))?(n="-"===l[1]?-1:1,a={y:Dt(l[2],n),M:Dt(l[3],n),w:Dt(l[4],n),d:Dt(l[5],n),h:Dt(l[6],n),m:Dt(l[7],n),s:Dt(l[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(t,e){var n;return t.isValid()&&e.isValid()?(e=St(e,t),t.isBefore(e)?n=Mt(t,e):((n=Mt(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(yt(a.from),yt(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),r=new wt(a),xt(t)&&s(t,"_locale")&&(r._locale=t._locale),r}function Dt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Mt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function At(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Pt(this,Tt(n="string"==typeof n?+n:n,i),t),this}}function Pt(e,n,i,r){var o=n._milliseconds,s=Ct(n._days),a=Ct(n._months);e.isValid()&&(r=null==r||r,o&&e._d.setTime(e._d.valueOf()+o*i),s&&A(e,"Date",M(e,"Date")+s*i),a&&V(e,M(e,"Month")+a*i),r&&t.updateOffset(e,s||a))}function Ot(t){var e;return void 0===t?this._locale._abbr:(null!=(e=lt(t))&&(this._locale=e),this)}function Nt(){return this._locale}function It(t,e){O(0,[t,t.length],0,e)}function Lt(t,e,n,i,r){var o;return null==t?Q(this,i,r).year:(e>(o=J(t,i,r))&&(e=o),function(t,e,n,i,r){var o=Z(t,e,n,i,r),s=X(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,t,e,n,i,r))}function Rt(t,e){e[Ae]=v(1e3*("0."+t))}function Ht(t){return t}function Ft(t,e,n,i){var r=lt(),o=l().set(i,e);return r[n](o,t)}function zt(t,e,n){if(i(t)&&(e=t,t=void 0),t=t||"",null!=e)return Ft(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Ft(t,r,n,"month");return o}function Bt(t,e,n,r){"boolean"==typeof t?(i(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,i(e)&&(n=e,e=void 0),e=e||"");var o=lt(),s=t?o._week.dow:0;if(null!=n)return Ft(e,(n+s)%7,r,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Ft(e,(a+s)%7,r,"day");return l}function jt(t,e,n,i){var r=Tt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Wt(t){return t<0?Math.floor(t):Math.ceil(t)}function Vt(t){return 4800*t/146097}function Ut(t){return 146097*t/4800}function qt(t){return function(){return this.as(t)}}function Yt(t){return function(){return this._data[t]}}function Gt(){var t,e,n=Hn(this._milliseconds)/1e3,i=Hn(this._days),r=Hn(this._months);e=m((t=m(n/60))/60),n%=60,t%=60;var o=m(r/12),s=r%=12,a=i,l=e,u=t,c=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||u||c?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(c?c+"S":""):"P0D"}var Xt,Kt=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},Zt=t.momentProperties=[],Qt=!1,Jt={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var te=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n},ee={},ne={},ie=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},se={},ae=/\d/,le=/\d\d/,ue=/\d{3}/,ce=/\d{4}/,he=/[+-]?\d{6}/,de=/\d\d?/,fe=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,me=/\d{1,4}/,ve=/[+-]?\d{1,6}/,ye=/\d+/,be=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,xe=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ke={},_e={},Se=0,$e=1,Ee=2,Te=3,De=4,Me=5,Ae=6,Pe=7,Oe=8,Ne=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),O("MMMM",0,0,function(t){return this.localeData().months(this,t)}),S("month","M"),T("month",8),R("M",de),R("MM",de,le),R("MMM",function(t,e){return e.monthsShortRegex(t)}),R("MMMM",function(t,e){return e.monthsRegex(t)}),z(["M","MM"],function(t,e){e[$e]=v(t)-1}),z(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[$e]=r:u(n).invalidMonth=t});var Ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Le="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Re="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),He=Ce,Fe=Ce;O("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),S("year","y"),T("year",1),R("Y",be),R("YY",de,le),R("YYYY",me,ce),R("YYYYY",ve,he),R("YYYYYY",ve,he),z(["YYYYY","YYYYYY"],Se),z("YYYY",function(e,n){n[Se]=2===e.length?t.parseTwoDigitYear(e):v(e)}),z("YY",function(e,n){n[Se]=t.parseTwoDigitYear(e)}),z("Y",function(t,e){e[Se]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var ze=D("FullYear",!0);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),T("week",5),T("isoWeek",5),R("w",de),R("ww",de,le),R("W",de),R("WW",de,le),B(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=v(t)});O("d",0,"do","day"),O("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),O("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),O("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),T("day",11),T("weekday",11),T("isoWeekday",11),R("d",de),R("e",de),R("E",de),R("dd",function(t,e){return e.weekdaysMinRegex(t)}),R("ddd",function(t,e){return e.weekdaysShortRegex(t)}),R("dddd",function(t,e){return e.weekdaysRegex(t)}),B(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:u(n).invalidWeekday=t}),B(["d","e","E"],function(t,e,n,i){e[i]=v(t)});var Be="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ve=Ce,Ue=Ce,qe=Ce;O("H",["HH",2],0,"hour"),O("h",["hh",2],0,et),O("k",["kk",2],0,function(){return this.hours()||24}),O("hmm",0,0,function(){return""+et.apply(this)+P(this.minutes(),2)}),O("hmmss",0,0,function(){return""+et.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),nt("a",!0),nt("A",!1),S("hour","h"),T("hour",13),R("a",it),R("A",it),R("H",de),R("h",de),R("HH",de,le),R("hh",de,le),R("hmm",fe),R("hmmss",pe),R("Hmm",fe),R("Hmmss",pe),z(["H","HH"],Te),z(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),z(["h","hh"],function(t,e,n){e[Te]=v(t),u(n).bigHour=!0}),z("hmm",function(t,e,n){var i=t.length-2;e[Te]=v(t.substr(0,i)),e[De]=v(t.substr(i)),u(n).bigHour=!0}),z("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Te]=v(t.substr(0,i)),e[De]=v(t.substr(i,2)),e[Me]=v(t.substr(r)),u(n).bigHour=!0}),z("Hmm",function(t,e,n){var i=t.length-2;e[Te]=v(t.substr(0,i)),e[De]=v(t.substr(i))}),z("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Te]=v(t.substr(0,i)),e[De]=v(t.substr(i,2)),e[Me]=v(t.substr(r))});var Ye,Ge=D("Hours",!0),Xe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Le,monthsShort:Re,week:{dow:0,doy:6},weekdays:Be,weekdaysMin:We,weekdaysShort:je,meridiemParse:/[ap]\.?m?\.?/i},Ke={},Ze={},Qe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn=/Z|[+-]\d\d(?::?\d\d)?/,en=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],nn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var on=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:h()}),sn=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()});kt("Z",":"),kt("ZZ",""),R("Z",xe),R("ZZ",xe),z(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=_t(xe,t)});var an=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var ln=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,un=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Tt.fn=wt.prototype;var cn=At(1,"add"),hn=At(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var dn=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),It("gggg","weekYear"),It("ggggg","weekYear"),It("GGGG","isoWeekYear"),It("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),T("weekYear",1),T("isoWeekYear",1),R("G",be),R("g",be),R("GG",de,le),R("gg",de,le),R("GGGG",me,ce),R("gggg",me,ce),R("GGGGG",ve,he),R("ggggg",ve,he),B(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=v(t)}),B(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),O("Q",0,"Qo","quarter"),S("quarter","Q"),T("quarter",7),R("Q",ae),z("Q",function(t,e){e[$e]=3*(v(t)-1)}),O("D",["DD",2],"Do","date"),S("date","D"),T("date",9),R("D",de),R("DD",de,le),R("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),z(["D","DD"],Ee),z("Do",function(t,e){e[Ee]=v(t.match(de)[0])});var fn=D("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),T("dayOfYear",4),R("DDD",ge),R("DDDD",ue),z(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),O("m",["mm",2],0,"minute"),S("minute","m"),T("minute",14),R("m",de),R("mm",de,le),z(["m","mm"],De);var pn=D("Minutes",!1);O("s",["ss",2],0,"second"),S("second","s"),T("second",15),R("s",de),R("ss",de,le),z(["s","ss"],Me);var gn,mn=D("Seconds",!1);for(O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),T("millisecond",16),R("S",ge,ae),R("SS",ge,le),R("SSS",ge,ue),gn="SSSS";gn.length<=9;gn+="S")R(gn,ye);for(gn="S";gn.length<=9;gn+="S")z(gn,Rt);var vn=D("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var yn=p.prototype;yn.add=cn,yn.calendar=function(e,n){var i=e||yt(),r=St(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,yt(i)))},yn.clone=function(){return new p(this)},yn.diff=function(t,e,n){var i,r,o,s;return this.isValid()&&(i=St(t,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=$(e))||"month"===e||"quarter"===e?(s=function(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:m(s)):NaN},yn.endOf=function(t){return void 0===(t=$(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},yn.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=I(this,e);return this.localeData().postformat(n)},yn.from=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||yt(t).isValid())?Tt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},yn.fromNow=function(t){return this.from(yt(),t)},yn.to=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||yt(t).isValid())?Tt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},yn.toNow=function(t){return this.to(yt(),t)},yn.get=function(t){return C(this[t=$(t)])?this[t]():this},yn.invalidAt=function(){return u(this).overflow},yn.isAfter=function(t,e){var n=g(t)?t:yt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(d(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},yn.isBefore=function(t,e){var n=g(t)?t:yt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(d(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},yn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},yn.isSame=function(t,e){var n,i=g(t)?t:yt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=$(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},yn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},yn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},yn.isValid=function(){return c(this)},yn.lang=dn,yn.locale=Ot,yn.localeData=Nt,yn.max=sn,yn.min=on,yn.parsingFlags=function(){return a({},u(this))},yn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:ne[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=E(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(C(this[t=$(t)]))return this[t](e);return this},yn.startOf=function(t){switch(t=$(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},yn.subtract=hn,yn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},yn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},yn.toDate=function(){return new Date(this.valueOf())},yn.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},yn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},yn.toJSON=function(){return this.isValid()?this.toISOString():null},yn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},yn.unix=function(){return Math.floor(this.valueOf()/1e3)},yn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},yn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},yn.year=ze,yn.isLeapYear=function(){return G(this.year())},yn.weekYear=function(t){return Lt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},yn.isoWeekYear=function(t){return Lt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},yn.quarter=yn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},yn.month=U,yn.daysInMonth=function(){return W(this.year(),this.month())},yn.week=yn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},yn.isoWeek=yn.isoWeeks=function(t){var e=Q(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},yn.weeksInYear=function(){var t=this.localeData()._week;return J(this.year(),t.dow,t.doy)},yn.isoWeeksInYear=function(){return J(this.year(),1,4)},yn.date=fn,yn.day=yn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},yn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},yn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},yn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},yn.hour=yn.hours=Ge,yn.minute=yn.minutes=pn,yn.second=yn.seconds=mn,yn.millisecond=yn.milliseconds=vn,yn.utcOffset=function(e,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=_t(xe,e)))return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&n&&(i=$t(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Pt(this,Tt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:$t(this)},yn.utc=function(t){return this.utcOffset(0,t)},yn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($t(this),"m")),this},yn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=_t(we,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},yn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?yt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},yn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},yn.isLocal=function(){return!!this.isValid()&&!this._isUTC},yn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},yn.isUtc=Et,yn.isUTC=Et,yn.zoneAbbr=function(){return this._isUTC?"UTC":""},yn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},yn.dates=w("dates accessor is deprecated. Use date instead.",fn),yn.months=w("months accessor is deprecated. Use month instead",U),yn.years=w("years accessor is deprecated. Use year instead",ze),yn.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),yn.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),(t=gt(t))._a){var e=t._isUTC?l(t._a):yt(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var bn=_.prototype;bn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,n):i},bn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},bn.invalidDate=function(){return this._invalidDate},bn.ordinal=function(t){return this._ordinal.replace("%d",t)},bn.preparse=Ht,bn.postformat=Ht,bn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return C(r)?r(t,e,n,i):r.replace(/%d/i,t)},bn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},bn.set=function(t){var e,n;for(n in t)C(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},bn.months=function(t,n){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ie).test(n)?"format":"standalone"][t.month()]:this._months},bn.monthsShort=function(t,n){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ie.test(n)?"format":"standalone"][t.month()]:this._monthsShort},bn.monthsParse=function(t,e,n){var i,r,o;if(this._monthsParseExact)return function(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=l([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=Ne.call(this._shortMonthsParse,s))?r:null:-1!==(r=Ne.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=Ne.call(this._shortMonthsParse,s))?r:-1!==(r=Ne.call(this._longMonthsParse,s))?r:null:-1!==(r=Ne.call(this._longMonthsParse,s))?r:-1!==(r=Ne.call(this._shortMonthsParse,s))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},bn.monthsRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||q.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Fe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},bn.monthsShortRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||q.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=He),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},bn.week=function(t){return Q(t,this._week.dow,this._week.doy).week},bn.firstDayOfYear=function(){return this._week.doy},bn.firstDayOfWeek=function(){return this._week.dow},bn.weekdays=function(t,n){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][t.day()]:this._weekdays},bn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},bn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},bn.weekdaysParse=function(t,e,n){var i,r,o;if(this._weekdaysParseExact)return function(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=l([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=Ne.call(this._weekdaysParse,s))?r:null:"ddd"===e?-1!==(r=Ne.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=Ne.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=Ne.call(this._weekdaysParse,s))?r:-1!==(r=Ne.call(this._shortWeekdaysParse,s))?r:-1!==(r=Ne.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=Ne.call(this._shortWeekdaysParse,s))?r:-1!==(r=Ne.call(this._weekdaysParse,s))?r:-1!==(r=Ne.call(this._minWeekdaysParse,s))?r:null:-1!==(r=Ne.call(this._minWeekdaysParse,s))?r:-1!==(r=Ne.call(this._weekdaysParse,s))?r:-1!==(r=Ne.call(this._shortWeekdaysParse,s))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=l([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},bn.weekdaysRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||tt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ve),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},bn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||tt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ue),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},bn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||tt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},bn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},bn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},st("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",st),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",lt);var wn=Math.abs,xn=qt("ms"),Cn=qt("s"),kn=qt("m"),_n=qt("h"),Sn=qt("d"),$n=qt("w"),En=qt("M"),Tn=qt("y"),Dn=Yt("milliseconds"),Mn=Yt("seconds"),An=Yt("minutes"),Pn=Yt("hours"),On=Yt("days"),Nn=Yt("months"),In=Yt("years"),Ln=Math.round,Rn={s:45,m:45,h:22,d:26,M:11},Hn=Math.abs,Fn=wt.prototype;return Fn.abs=function(){var t=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),t.milliseconds=wn(t.milliseconds),t.seconds=wn(t.seconds),t.minutes=wn(t.minutes),t.hours=wn(t.hours),t.months=wn(t.months),t.years=wn(t.years),this},Fn.add=function(t,e){return jt(this,t,e,1)},Fn.subtract=function(t,e){return jt(this,t,e,-1)},Fn.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=$(t))||"year"===t)return e=this._days+i/864e5,n=this._months+Vt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Ut(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Fn.asMilliseconds=xn,Fn.asSeconds=Cn,Fn.asMinutes=kn,Fn.asHours=_n,Fn.asDays=Sn,Fn.asWeeks=$n,Fn.asMonths=En,Fn.asYears=Tn,Fn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},Fn._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Wt(Ut(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=m(o/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,a+=r=m(Vt(s+=m(n/24))),s-=Wt(Ut(r)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},Fn.get=function(t){return this[(t=$(t))+"s"]()},Fn.milliseconds=Dn,Fn.seconds=Mn,Fn.minutes=An,Fn.hours=Pn,Fn.days=On,Fn.weeks=function(){return m(this.days()/7)},Fn.months=Nn,Fn.years=In,Fn.humanize=function(t){var e=this.localeData(),n=function(t,e,n){var i=Tt(t).abs(),r=Ln(i.as("s")),o=Ln(i.as("m")),s=Ln(i.as("h")),a=Ln(i.as("d")),l=Ln(i.as("M")),u=Ln(i.as("y")),c=r<Rn.s&&["s",r]||o<=1&&["m"]||o<Rn.m&&["mm",o]||s<=1&&["h"]||s<Rn.h&&["hh",s]||a<=1&&["d"]||a<Rn.d&&["dd",a]||l<=1&&["M"]||l<Rn.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Fn.toISOString=Gt,Fn.toString=Gt,Fn.toJSON=Gt,Fn.locale=Ot,Fn.localeData=Nt,Fn.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gt),Fn.lang=dn,O("X",0,0,"unix"),O("x",0,0,"valueOf"),R("x",be),R("X",/[+-]?\d+(\.\d{1,3})?/),z("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),z("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.17.0",function(t){Xt=t}(yt),t.fn=yn,t.min=function(){return bt("isBefore",[].slice.call(arguments,0))},t.max=function(){return bt("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=l,t.unix=function(t){return yt(1e3*t)},t.months=function(t,e){return zt(t,e,"months")},t.isDate=r,t.locale=st,t.invalid=h,t.duration=Tt,t.isMoment=g,t.weekdays=function(t,e,n){return Bt(t,e,n,"weekdays")},t.parseZone=function(){return yt.apply(null,arguments).parseZone()},t.localeData=lt,t.isDuration=xt,t.monthsShort=function(t,e){return zt(t,e,"monthsShort")},t.weekdaysMin=function(t,e,n){return Bt(t,e,n,"weekdaysMin")},t.defineLocale=at,t.updateLocale=function(t,e){if(null!=e){var n,i=Xe;null!=Ke[t]&&(i=Ke[t]._config),(n=new _(e=k(i,e))).parentLocale=Ke[t],Ke[t]=n,st(t)}else null!=Ke[t]&&(null!=Ke[t].parentLocale?Ke[t]=Ke[t].parentLocale:null!=Ke[t]&&delete Ke[t]);return Ke[t]},t.locales=function(){return te(Ke)},t.weekdaysShort=function(t,e,n){return Bt(t,e,n,"weekdaysShort")},t.normalizeUnits=$,t.relativeTimeRounding=function(t){return void 0===t?Ln:"function"==typeof t&&(Ln=t,!0)},t.relativeTimeThreshold=function(t,e){return void 0!==Rn[t]&&(void 0===e?Rn[t]:(Rn[t]=e,!0))},t.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=yn,t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){"use strict";return t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}),function(){"use strict";function t(t){return angular.isUndefined(t)||null===t}function e(e,n){if(void 0===n){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");n=function(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()}return e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",n).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(n,i,r,o){return function(s,a,l){function u(){var t;if(p)t=p;else if(o.serverTime){var e=(new Date).getTime()-x+o.serverTime;t=i(e)}else t=i();return t}function c(){g&&(n.clearTimeout(g),g=null)}function h(t){k&&a.attr("datetime",t)}function d(){if(c(),f){var t=r.preprocessDate(f);(function t(e){var i=u().diff(e,w),r=y&&i>=y;if(r?a.text(e.format(b)):a.text(e.from(u(),m)),v&&_&&a.attr("title",e.format(v)),!r){var o=Math.abs(u().diff(e,"minute")),s=3600;1>o?s=1:60>o?s=30:180>o&&(s=300),g=n.setTimeout(function(){t(e)},1e3*s)}})(t),h(t.toISOString())}}var f,p,g=null,m=o.withoutSuffix,v=o.titleFormat,y=o.fullDateThreshold,b=o.fullDateFormat,w=o.fullDateThresholdUnit,x=(new Date).getTime(),C=l.amTimeAgo,k="TIME"===a[0].nodeName.toUpperCase(),_=!a.attr("title");s.$watch(C,function(e){return t(e)||""===e?(c(),void(f&&(a.text(""),h(""),f=null))):(f=e,void d())}),e.isDefined(l.amFrom)&&s.$watch(l.amFrom,function(e){p=t(e)||""===e?null:i(e),d()}),e.isDefined(l.amWithoutSuffix)&&s.$watch(l.amWithoutSuffix,function(t){"boolean"==typeof t?(m=t,d()):m=o.withoutSuffix}),l.$observe("amFullDateThreshold",function(t){y=t,d()}),l.$observe("amFullDateFormat",function(t){b=t,d()}),l.$observe("amFullDateThresholdUnit",function(t){w=t,d()}),s.$on("$destroy",function(){c()}),s.$on("amMoment:localeChanged",function(){d()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,i,r){var o=null;this.changeLocale=function(i,r){var o=t.locale(i,r);return e.isDefined(i)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(e){t.tz&&t.tz.setDefault?(t.tz.setDefault(e),n.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=e,o=e},this.preprocessDate=function(e){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(t){return function(e,n){return t(e,n)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(t){return function(e,n){return t.preprocessDate(e).utcOffset(n)}}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(t,e,n){return function(e,i){var r=t.preprocessDate(e);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i,r){if(t(e))return"";var o=n.preprocessDate(e);return o.isValid()?o.calendar(i,r):""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o,s){if(t(i))return"";var a=n.preprocessDate(i),l=t(r)?e():n.preprocessDate(r);return a.isValid()&&l.isValid()?a.diff(l,o,s):""}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i){if(t(e))return"";var r=n.preprocessDate(e);return r.isValid()?r.format(i):""}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e.duration(n,i).humanize(r)}return i.$stateful=n.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o){var s,a;return t(i)?"":(i=n.preprocessDate(i),(s=e(i)).isValid()?(a=e(o),!t(o)&&a.isValid()?s.from(a,r):s.fromNow(r)):"")}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).subtract(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).add(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amStartOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).startOf(i)}return i.$stateful=n.statefulFilters,i}]).filter("amEndOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).endOf(i)}return i.$stateful=n.statefulFilters,i}]),"angularMoment"}"function"==typeof define&&define.amd?define(["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require?module.exports=e(require("angular"),require("moment")):e(angular,("undefined"!=typeof global?global:window).moment)}(),function(t,e){if("function"==typeof define&&define.amd)define(["module","exports","angular"],e);else if("undefined"!=typeof exports)e(module,exports,require("angular"));else{var n={exports:{}};e(n,n.exports,t.angular),t.infiniteScroll=n.exports}}(this,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n),r="infinite-scroll";i.default.module(r,[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(t,e,n,r){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(o,s,a){function l(t){var e=t[0]||t;return isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function u(t){var e=t[0]||t;return isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function c(t){if(t[0].getBoundingClientRect&&!t.css("none"))return t[0].getBoundingClientRect().top+u(t)}function h(){var e=void 0,i=void 0;if(x===v)e=l(x)+u(x[0].document.documentElement),i=c(s)+l(s);else{e=l(x);var r=0;void 0!==c(x)&&(r=c(x)),i=c(s)-r+l(s)}k&&(i=l((s[0].ownerDocument||s[0].document).documentElement)),i-e<=l(x)*y+1?(w=!0,b&&(o.$$phase||t.$$phase?o.infiniteScroll():o.$apply(o.infiniteScroll))):(S&&n.cancel(S),w=!1)}function d(t){y=parseFloat(t)||0}function f(t){(b=!t)&&w&&(w=!1,$())}function p(t){k=t}function g(t){null!=x&&x.unbind("scroll",$),x=t,null!=t&&x.bind("scroll",$)}function m(t){if(null!=t&&0!==t.length){var e;if(null==(e=t.nodeType&&1===t.nodeType?i.default.element(t):"function"==typeof t.append?i.default.element(t[t.length-1]):"string"==typeof t?i.default.element(document.querySelector(t)):t))throw new Error("invalid infinite-scroll-container attribute.");g(e)}}var v=i.default.element(e),y=null,b=null,w=null,x=null,C=!0,k=!1,_=null,S=!1,$=null!=r?function(t,e){function i(){return o=(new Date).getTime(),n.cancel(r),r=null,t.call()}var r=null,o=0;return function(){var s=(new Date).getTime(),a=e-(s-o);a<=0?(n.cancel(r),r=null,o=s,t.call()):r||(r=n(i,a,1))}}(h,r):h;return o.$on("$destroy",function(){x.unbind("scroll",$),null!=_&&(_(),_=null),S&&n.cancel(S)}),o.$watch("infiniteScrollDistance",d),d(o.infiniteScrollDistance),o.$watch("infiniteScrollDisabled",f),f(o.infiniteScrollDisabled),o.$watch("infiniteScrollUseDocumentBottom",p),p(o.infiniteScrollUseDocumentBottom),g(v),o.infiniteScrollListenForEvent&&(_=t.$on(o.infiniteScrollListenForEvent,$)),o.$watch("infiniteScrollContainer",m),m(o.infiniteScrollContainer||[]),null!=a.infiniteScrollParent&&g(i.default.element(s.parent())),null!=a.infiniteScrollImmediateCheck&&(C=o.$eval(a.infiniteScrollImmediateCheck)),S=n(function(){return C&&$(),n.cancel(S)})}}}]),e.default=r,t.exports=e.default}),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(){var e,n,i,r,o,s=Array.prototype.slice.call(arguments),a={};for(e=0;yt.length>e;e++){for(n=yt[e],i=null,r=0;s.length>r;r++)o=s[r][n],t.isPlainObject(o)?i=t.extend(i||{},o):null!=o&&(i=null);null!==i&&(a[n]=i)}return s.unshift({}),s.push(a),t.extend.apply(t,s)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,yt)?(n=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(n||(n={}),n[t]=r)}),n&&(i[e]=n)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function o(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function s(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,n,i){var r=Math.floor(n/e.length),o=Math.floor(n-r*(e.length-1)),s=[],a=[],l=[],c=0;u(e),e.each(function(n,i){var u=n===e.length-1?o:r,h=t(i).outerHeight(!0);u>h?(s.push(i),a.push(h),l.push(t(i).height())):c+=h}),i&&(n-=c,r=Math.floor(n/s.length),o=Math.floor(n-r*(s.length-1))),t(s).each(function(e,n){var i=e===s.length-1?o:r,u=a[e],c=i-(u-l[e]);i>u&&t(n).height(c)})}function u(t){t.height("")}function c(e){var n=0;return e.find("> *").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function h(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight||(d(t),!1)}function d(t){t.height("").removeClass("fc-scroller")}function f(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function p(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function g(t){var e=t.offset(),n=m(t),i=e.left+v(t,"border-left-width")+n.left,r=e.top+v(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function m(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return function(){return null===bt&&(e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children().offset().left>e.offset().left,e.remove(),bt=n),bt;var e,n}()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function v(t,e){return parseFloat(t.css(e))||0}function y(t){return 1==t.which&&!t.ctrlKey}function b(t,e){var n,i,r,o,s=t.start,a=t.end,l=e.start,u=e.end;return a>l&&u>s?(s>=l?(n=s.clone(),r=!0):(n=l.clone(),r=!1),u>=a?(i=a.clone(),o=!0):(i=u.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}):void 0}function w(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function x(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function C(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function k(t,e){var n,i,r;for(n=0;_t.length>n&&!((r=_(i=_t[n],t,e))>=1&&R(r));n++);return i}function _(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function S(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function $(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function E(t){var e=function(){};return e.prototype=t,new e}function T(t,e){for(var n in t)D(t,n)&&(e[n]=t[n])}function D(t,e){return St.call(t,e)}function M(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function A(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,o;for(r=0;e.length>r;r++)o=e[r].apply(n,i)||o;return o}}function P(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function O(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function N(t){return t.replace(/&.*?;/g,"")}function I(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function L(t,e){return t-e}function R(t){return 0==t%1}function H(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function F(t,e){var n,i,r,o,s=function(){var a=+new Date-o;e>a&&a>0?n=setTimeout(s,e-a):(n=null,t.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,o=+new Date,n||(n=setTimeout(s,e))}}function z(n,i,r){var o,s,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?j(u,l=e.apply(null,n)):function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}(u)||void 0===u?l=e.apply(null,n):(o=!1,s=!1,c?$t.test(u)?(n=[u+="-01"],o=!0,s=!0):(a=Et.exec(u))&&(o=!a[5],s=!0):t.isArray(u)&&(s=!0),l=i||o?e.utc.apply(e,n):e.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(s?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function B(t,n){var i,r,o=!1,s=!1,a=t.length,l=[];for(i=0;a>i;i++)r=t[i],e.isMoment(r)||(r=mt.moment.parseZone(r)),o=o||r._ambigTime,s=s||r._ambigZone,l.push(r);for(i=0;a>i;i++)r=l[i],n||!o||r._ambigTime?s&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime();return l}function j(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function W(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function V(t,e){return Dt.format.call(t,e)}function U(t,e){var n,i="";for(n=0;e.length>n;n++)i+=q(t,e[n]);return i}function q(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?Mt[n]?Mt[n](t):V(t,n):e.maybe&&(i=U(t,e.maybe)).match(/[1-9]/)?i:""}function Y(t,e,n,i,r){return t=mt.moment.parseZone(t),e=mt.moment.parseZone(e),n=(t.localeData||t.lang).call(t).longDateFormat(n)||n,i=i||" - ",function(t,e,n,i,r){var o,s,a,l,u="",c="",h="",d="",f="";for(s=0;n.length>s&&!1!==(o=G(t,e,n[s]));s++)u+=o;for(a=n.length-1;a>s&&!1!==(o=G(t,e,n[a]));a--)c=o+c;for(l=s;a>=l;l++)h+=q(t,n[l]),d+=q(e,n[l]);return(h||d)&&(f=r?d+i+h:h+i+d),u+f+c}(t,e,X(n),i,r)}function G(t,e,n){var i,r;return"string"==typeof n?n:!!((i=n.token)&&(r=At[i.charAt(0)],r&&t.isSame(e,r)))&&V(t,i)}function X(t){return t in Pt?Pt[t]:Pt[t]=function t(e){for(var n,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;n=r.exec(e);)n[1]?i.push(n[1]):n[2]?i.push({maybe:t(n[2])}):n[3]?i.push({token:n[3]}):n[5]&&i.push(n[5]);return i}(t)}function K(){}function Z(t,e){return!t&&!e||!(!t||!e)&&(t.grid===e.grid&&t.row===e.row&&t.col===e.col)}function Q(t){var e=J(t);return"background"===e||"inverse-background"===e}function J(t){return P((t.source||{}).rendering,t.rendering)}function tt(t,e){return t.eventStartMS-e.eventStartMS}function et(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function nt(n){var i,r,o,s,a=mt.dataAttrPrefix;return a&&(a+="-"),(i=n.data(a+"event")||null)&&(null==(r=(i="object"==typeof i?t.extend({},i):{}).start)&&(r=i.time),o=i.duration,s=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(a+"start")),null==r&&(r=n.data(a+"time")),null==o&&(o=n.data(a+"duration")),null==s&&(s=n.data(a+"stick")),{eventProps:i,startTime:r=null!=r?e.duration(r):null,duration:o=null!=o?e.duration(o):null,stick:s=Boolean(s)}}function it(t,e){var n,i;for(n=0;e.length>n;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function rt(t,e){return t.leftCol-e.leftCol}function ot(t){var e,n,i;if(t.sort(et),function(t){var e,n,i,r,o;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for((r=n[i]).forwardSegs=[],o=e+1;t.length>o;o++)lt(r,t[o],r.forwardSegs)}(e=function(t){var e,n,i,r=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&lt(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}(t)),n=e[0]){for(i=0;n.length>i;i++)st(n[i]);for(i=0;n.length>i;i++)at(n[i],0,0)}}function st(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)st(n=i[e]),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function at(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(r.sort(ct),at(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;r.length>i;i++)at(r[i],0,t.forwardCoord)}function lt(t,e,n){n=n||[];for(var i=0;e.length>i;i++)ut(t,e[i])&&n.push(e[i]);return n}function ut(t,e){return t.bottom>e.top&&t.top<e.bottom}function ct(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||et(t,e)}function ht(e){t.each(Gt,function(t,n){null==e[t]&&(e[t]=n(e))})}function dt(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function ft(e,n){function i(i){var r=t('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&t.each(s.split(" "),function(){var i,s=t(),l=!0;t.each(this.split(","),function(i,r){var u,c,h,d,f,p,g,m;"title"==r?(s=s.add(t("<h2>&nbsp;</h2>")),l=!1):((u=e.getViewSpec(r))?(c=function(){e.changeView(r)},a.push(r),h=u.buttonTextOverride,d=u.buttonTextDefault):e[r]&&(c=function(){e[r]()},h=(e.overrides.buttonText||{})[r],d=n.buttonText[r]),c&&(f=n.themeButtonIcons[r],p=n.buttonIcons[r],g=h?O(h):f&&n.theme?"<span class='ui-icon ui-icon-"+f+"'></span>":p&&!n.theme?"<span class='fc-icon fc-icon-"+p+"'></span>":O(d),m=t('<button type="button" class="'+["fc-"+r+"-button",o+"-button",o+"-state-default"].join(" ")+'">'+g+"</button>").click(function(){m.hasClass(o+"-state-disabled")||(c(),(m.hasClass(o+"-state-active")||m.hasClass(o+"-state-disabled"))&&m.removeClass(o+"-state-hover"))}).mousedown(function(){m.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){m.removeClass(o+"-state-down")}).hover(function(){m.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){m.removeClass(o+"-state-hover").removeClass(o+"-state-down")}),s=s.add(m)))}),l&&s.first().addClass(o+"-corner-left").end().last().addClass(o+"-corner-right").end(),s.length>1?(i=t("<div/>"),l&&i.addClass("fc-button-group"),i.append(s),r.append(i)):r.append(s)}),r}var r=this;r.render=function(){var e=n.header;return o=n.theme?"ui":"fc",e?s=t("<div class='fc-toolbar'/>").append(i("left")).append(i("right")).append(i("center")).append('<div class="fc-clear"/>'):void 0},r.destroy=function(){s.remove()},r.updateTitle=function(t){s.find("h2").text(t)},r.activateButton=function(t){s.find(".fc-"+t+"-button").addClass(o+"-state-active")},r.deactivateButton=function(t){s.find(".fc-"+t+"-button").removeClass(o+"-state-active")},r.disableButton=function(t){s.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(o+"-state-disabled")},r.enableButton=function(t){s.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(o+"-state-disabled")},r.getViewsWithButtons=function(){return a};var o,s=t(),a=[]}function pt(n){function i(e,n){r(e,function(i){var r,o,s,a=t.isArray(e.events);if(n==B){if(i)for(r=0;i.length>r;r++)o=i[r],(s=a?o:f(o,e))&&V.push.apply(V,y(s));--j||H(V)}})}function r(e,i){var o,s,a=mt.sourceFetchers;for(o=0;a.length>o;o++){if(!0===(s=a[o].call(O,e,N.clone(),I.clone(),n.timezone,i)))return;if("object"==typeof s)return void r(s,i)}var l=e.events;if(l)t.isFunction(l)?(h(),l.call(O,N.clone(),I.clone(),n.timezone,function(t){i(t),d()})):t.isArray(l)?i(l):i();else if(e.url){var u,c=e.success,f=e.error,p=e.complete;u=t.isFunction(e.data)?e.data():e.data;var g=t.extend({},u||{}),m=P(e.startParam,n.startParam),v=P(e.endParam,n.endParam),y=P(e.timezoneParam,n.timezoneParam);m&&(g[m]=N.format()),v&&(g[v]=I.format()),n.timezone&&"local"!=n.timezone&&(g[y]=n.timezone),h(),t.ajax(t.extend({},Xt,e,{data:g,success:function(e){e=e||[];var n=A(c,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){A(f,this,arguments),i()},complete:function(){A(p,this,arguments),d()}}))}else i()}function o(e){var n,i,r=mt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return f(t,n)})),i=0;r.length>i;i++)r[i].call(O,n);return n}}function s(t,e){return t&&e&&a(t)==a(e)}function a(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function l(e){var n={};return t.each(e,function(t,e){u(t)&&void 0!==e&&M(e)&&(n[t]=e)}),n}function u(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function c(e){return t.isFunction(e)?t.grep(V,e):null!=e?(e+="",t.grep(V,function(t){return t._id==e})):V}function h(){W++||L("loading",null,!0,R())}function d(){--W||L("loading",null,!1,R())}function f(i,r){var o,s,a,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(l,i),r&&(l.source=r),l._id=i._id||(void 0===i.id?"_fc"+Kt++:i.id+""),l.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],o=i.start||i.date,s=i.end,$(o)&&(o=e.duration(o)),$(s)&&(s=e.duration(s)),i.dow||e.isDuration(o)||e.isDuration(s))l.start=o?e.duration(o):null,l.end=s?e.duration(s):null,l._recurring=!0;else{if(o&&!(o=O.moment(o)).isValid())return!1;s&&((s=O.moment(s)).isValid()||(s=null)),void 0===(a=i.allDay)&&(a=P(r?r.allDayDefault:void 0,n.allDayDefault)),p(o,s,a,l)}return l}function p(t,e,n,i){i.start=t,i.end=e,i.allDay=n,g(i),gt(i)}function g(t){m(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(t.end=n.forceEventDuration?O.getDefaultEventEnd(t.allDay,t.start):null)}function m(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=O.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=O.rezoneDate(t.end)))}function v(e){var n;return e.end||(null==(n=e.allDay)&&(n=!e.start.hasTime()),(e=t.extend({},e)).end=O.getDefaultEventEnd(n,e.start)),e}function y(e,n,i){var r,o,s,a,l,u,c,h,d,f=[];if(n=n||N,i=i||I,e)if(e._recurring){if(o=e.dow)for(r={},s=0;o.length>s;s++)r[o[s]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)(!r||r[a.day()])&&(l=e.start,u=e.end,c=a.clone(),h=null,l&&(c=c.time(l)),u&&(h=a.clone().time(u)),d=t.extend({},e),p(c,h,!l&&!u,d),f.push(d)),a.add(1,"days")}else f.push(e);return f}function b(e,n,i){function r(t,e){return i?C(t,e,i):n.allDay?x(t,e):w(t,e)}var o,s,a,l,h={};return(n=n||{}).start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),g(n),g(o={start:e._start.clone(),end:e._end?e._end.clone():O.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay}),s=null!==e._end&&null===n.end,a=r(n.start,o.start),n.end?l=r(n.end,o.end).subtract(a):l=null,t.each(n,function(t,e){u(t)&&void 0!==e&&(h[t]=e)}),{dateDelta:a,durationDelta:l,undo:function(e,n,i,r,o,s){var a=O.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),o&&!o.valueOf()&&(o=null),t.each(e,function(e,u){var c,h;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(s,function(t){c[t]=u[t]}),g(h={start:u._start,end:u._end,allDay:i}),n?h.end=null:o&&!h.end&&(h.end=O.getDefaultEventEnd(h.allDay,h.start)),r&&(h.start.add(r),h.end&&h.end.add(r)),o&&h.end.add(o),a&&!h.allDay&&(r||o)&&(h.start.stripZone(),h.end&&h.end.stripZone()),t.extend(u,s,h),gt(u),l.push(function(){t.extend(u,c),gt(u)})}),function(){for(var t=0;l.length>t;t++)l[t]()}}(c(e._id),s,n.allDay,a,l,h)}}function k(e){var i,r=n.businessHours,o=O.getView();return r&&(i=t.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof r?r:{})),i?(e&&(i.start=null,i.end=null),y(f(i),o.start,o.end)):[]}function _(t,e){var i=e.source||{},r=P(e.constraint,i.constraint,n.eventConstraint),o=P(e.overlap,i.overlap,n.eventOverlap);return E(t=v(t),r,o,e)}function S(t){return E(t,n.selectConstraint,n.selectOverlap)}function E(e,n,i,r){var o,s,a,l,u,h;if((e=t.extend({},e)).start=e.start.clone().stripZone(),e.end=e.end.clone().stripZone(),null!=n){for(o=function(t){return"businessHours"===t?k():"object"==typeof t?y(f(t)):c(t)}(n),s=!1,l=0;o.length>l;l++)if(T(o[l],e)){s=!0;break}if(!s)return!1}for(a=O.getPeerEvents(r,e),l=0;a.length>l;l++)if(D(u=a[l],e)){if(!1===i)return!1;if("function"==typeof i&&!i(u,r))return!1;if(r){if(!1===(h=P(u.overlap,(u.source||{}).overlap)))return!1;if("function"==typeof h&&!h(r,u))return!1}}return!0}function T(t,e){var n=t.start.clone().stripZone(),i=O.getEventEnd(t).stripZone();return e.start>=n&&i>=e.end}function D(t,e){var n=t.start.clone().stripZone();return O.getEventEnd(t).stripZone()>e.start&&e.end>n}var O=this;O.isFetchNeeded=function(t,e){return!N||t.clone().stripZone()<N.clone().stripZone()||e.clone().stripZone()>I.clone().stripZone()},O.fetchEvents=function(t,e){N=t,I=e,V=[];var n=++B,r=z.length;j=r;for(var o=0;r>o;o++)i(z[o],n)},O.addEventSource=function(t){var e=o(t);e&&(z.push(e),j++,i(e,B))},O.removeEventSource=function(e){z=t.grep(z,function(t){return!s(t,e)}),V=t.grep(V,function(t){return!s(t.source,e)}),H(V)},O.updateEvent=function(t){t.start=O.moment(t.start),t.end=t.end?O.moment(t.end):null,b(t,l(t)),H(V)},O.renderEvent=function(t,e){var n,i,r,o=f(t);if(o){for(n=y(o),i=0;n.length>i;i++)(r=n[i]).source||(e&&(F.events.push(r),r.source=F),V.push(r));return H(V),n}return[]},O.removeEvents=function(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),V=t.grep(V,e,!0),i=0;z.length>i;i++)t.isArray(z[i].events)&&(z[i].events=t.grep(z[i].events,e,!0));H(V)},O.clientEvents=c,O.mutateEvent=b,O.normalizeEventRange=g,O.normalizeEventRangeTimes=m,O.ensureVisibleEventRange=v;var N,I,L=O.trigger,R=O.getView,H=O.reportEvents,F={events:[]},z=[F],B=0,j=0,W=0,V=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=o(e);n&&z.push(n)}),O.getBusinessHoursEvents=k,O.isEventRangeAllowed=_,O.isSelectionRangeAllowed=S,O.isExternalDropRangeAllowed=function(e,n){var i;return n&&(i=y(f(t.extend({},n,e)))[0]),i?_(e,i):S(e=v(e))},O.getEventCache=function(){return V}}function gt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var mt=t.fullCalendar={version:"2.3.1"},vt=mt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,o){var s,a=t(o),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(s=l[e].apply(l,n),r||(i=s),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new mt.CalendarBase(a,e),a.data("fullCalendar",l),l.render())}),i};var yt=["header","buttonText","buttonIcons","themeButtonIcons"];mt.intersectionToSeg=b,mt.applyAll=A,mt.debounce=F,mt.isInt=R,mt.htmlEscape=O,mt.cssToStr=I,mt.proxy=H,mt.getClientRect=g,mt.getContentRect=function(t){var e=t.offset(),n=e.left+v(t,"border-left-width")+v(t,"padding-left"),i=e.top+v(t,"border-top-width")+v(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}},mt.getScrollbarWidths=m;var bt=null;mt.computeIntervalUnit=k,mt.durationHasTime=S;var wt,xt,Ct,kt=["sun","mon","tue","wed","thu","fri","sat"],_t=["year","month","week","day","hour","minute","second","millisecond"],St={}.hasOwnProperty,$t=/^\s*\d{4}-\d\d$/,Et=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Tt=e.fn,Dt=t.extend({},Tt);mt.moment=function(){return z(arguments)},mt.moment.utc=function(){var t=z(arguments,!0);return t.hasTime()&&t.utc(),t},mt.moment.parseZone=function(){return z(arguments,!0,!0)},Tt.clone=function(){var t=Dt.clone.apply(this,arguments);return j(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Tt.week=Tt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?Dt.isoWeek.apply(this,arguments):Dt.week.apply(this,arguments)},Tt.time=function(t){if(!this._fullCalendar)return Dt.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Tt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),xt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Tt.hasTime=function(){return!this._ambigTime},Tt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),xt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Tt.hasZone=function(){return!this._ambigZone},Tt.local=function(){var t=this.toArray(),e=this._ambigZone;return Dt.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Ct(this,t),this},Tt.utc=function(){return Dt.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){Dt[e]&&(Tt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),Dt[e].apply(this,arguments)})}),Tt.format=function(){return this._fullCalendar&&arguments[0]?(t=this,e=arguments[0],U(t,X(e))):this._ambigTime?V(this,"YYYY-MM-DD"):this._ambigZone?V(this,"YYYY-MM-DD[T]HH:mm:ss"):Dt.format.apply(this,arguments);var t,e},Tt.toISOString=function(){return this._ambigTime?V(this,"YYYY-MM-DD"):this._ambigZone?V(this,"YYYY-MM-DD[T]HH:mm:ss"):Dt.toISOString.apply(this,arguments)},Tt.isWithin=function(t,e){var n=B([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},Tt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=B([this,t],!0),Dt.isSame.call(n[0],n[1],e)):(t=mt.moment.parseZone(t),Dt.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):Dt.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Tt[e]=function(t,n){var i;return this._fullCalendar?(i=B([this,t]),Dt[e].call(i[0],i[1],n)):Dt[e].apply(this,arguments)}}),wt="_d"in e()&&"updateOffset"in e,xt=wt?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:W,Ct=wt?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:W;var Mt={t:function(t){return V(t,"a").charAt(0)},T:function(t){return V(t,"A").charAt(0)}};mt.formatRange=Y;var At={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Pt={};mt.Class=K,K.extend=function(t){var e,n=this;return D(t=t||{},"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=E(n.prototype),T(t,e.prototype),function(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;r.length>n;n++)t[i=r[n]]!==Object.prototype[i]&&(e[i]=t[i])}(t,e.prototype),T(n,e),e},K.mixin=function(t){T(t.prototype||t,this.prototype)};var Ot=K.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=H(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,r,o,s=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),h=f(this.el);r=s.top||0,o=void 0!==s.left?s.left:void 0!==s.right?s.right-l:0,h.is(window)||h.is(document)?(h=c,e=0,n=0):(e=(i=h.offset()).top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),!1!==s.viewportConstrain&&(r=Math.min(r,e+h.outerHeight()-u-this.margin),r=Math.max(r,e+this.margin),o=Math.min(o,n+h.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-a.top,left:o-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),Nt=K.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(t){this.grid=t},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(e,n){var i,r,o,s=this.rowCoords,a=s.length,l=this.colCoords,u=l.length,c=null,h=null;if(this.inBounds(e,n)){for(i=0;a>i;i++)if(n>=(r=s[i]).top&&r.bottom>n){c=i;break}for(i=0;u>i;i++)if(e>=(r=l[i]).left&&r.right>e){h=i;break}if(null!==c&&null!==h)return(o=this.grid.getCell(c,h)).grid=this.grid,t.extend(o,s[c],l[h]),o}return null},computeBounds:function(){this.bounds=this.containerEl?g(this.containerEl):null},inBounds:function(t,e){var n=this.bounds;return!n||t>=n.left&&n.right>t&&e>=n.top&&n.bottom>e}}),It=K.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,r=null;for(n=0;i.length>n&&!r;n++)r=i[n].getCell(t,e);return r},clear:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].clear()}}),Lt=mt.DragListener=K.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){y(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n;this.isListening||(e&&this.options.scroll&&((n=f(t(e.target))).is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=F(H(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=H(this,"mousemove")).on("mouseup",this.mouseupProxy=H(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n=t.pageX-this.originX,i=t.pageY-this.originY;this.isDragging||n*n+i*i>=(e=this.options.distance||1)*e&&this.startDrag(t),this.isDragging&&this.drag(n,i,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?p(t):null},updateScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(o-(t.pageY-s.top))/o,n=(o-(s.bottom-t.pageY))/o,i=(o-(t.pageX-s.left))/o,r=(o-(s.right-t.pageX))/o,e>=0&&1>=e?a=-1*e*this.scrollSpeed:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=-1*i*this.scrollSpeed:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(H(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;0>this.scrollTopVel?0>=t.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=t.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),Rt=Lt.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(t,e){Lt.prototype.constructor.call(this,e),this.coordMap=t},listenStart:function(t){var e,n,i,r=this.subjectEl;Lt.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(i=n={left:t.pageX,top:t.pageY},r&&(i=function(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}(i,e=p(r))),this.origCell=this.getCell(i.left,i.top),r&&this.options.subjectCenter&&(this.origCell&&(e=function(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}(this.origCell,e)||e),i=function(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}(e)),this.coordAdjust=function(t,e){return{left:t.left-e.left,top:t.top-e.top}}(i,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(t){var e;Lt.prototype.dragStart.apply(this,arguments),(e=this.getCell(t.pageX,t.pageY))&&this.cellOver(e)},drag:function(t,e,n){var i;Lt.prototype.drag.apply(this,arguments),Z(i=this.getCell(n.pageX,n.pageY),this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),Lt.prototype.dragStop.apply(this,arguments)},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,Z(t,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){Lt.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){Lt.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.coordMap.getCell(t,e)}}),Ht=K.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=H(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,r.destroyEl(),this.top0=this.left0=null,n&&n()}var r=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Ft=K.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i=this.getHtmlRenderer("cell",t),r="";for(e=e||0,n=0;this.colCnt>n;n++)r+=i(this.getCell(e,n));return"<tr>"+(r=this.bookendCells(r,t,e))+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),r=this.getHtmlRenderer("outro",e)(n||0),o=this.isRTL?r:i,s=this.isRTL?i:r;return"string"==typeof t?o+t+s:t.prepend(o).append(s)},getHtmlRenderer:function(t,e){var n,i,r,o,s=this.view;return n=t+"Html",e&&(i=e+function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t)+"Html"),i&&(o=s[i])?r=s:i&&(o=this[i])?r=this:(o=s[n])?r=s:(o=this[n])&&(r=this),"function"==typeof o?function(){return o.apply(r,arguments)||""}:function(){return o||""}}}),zt=mt.Grid=Ft.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){Ft.apply(this,arguments),this.coordMap=new Nt(this),this.elsByFill={},this.externalDragStartProxy=H(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){var e,n,i=this.view;this.start=t.start.clone(),this.end=t.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=i.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),null==(e=i.opt("displayEventTime"))&&(e=this.computeDisplayEventTime()),null==(n=i.opt("displayEventEnd"))&&(n=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=n},updateCells:function(){},rangeToSegs:function(){},diffDates:function(t,e){return this.largeUnit?C(t,e,this.largeUnit):w(t,e)},getCell:function(e,n){var i;return null==n&&("number"==typeof e?(n=e%this.colCnt,e=Math.floor(e/this.colCnt)):(n=e.col,e=e.row)),i={row:e,col:n},t.extend(i,this.getRowData(e),this.getColData(n)),t.extend(i,this.computeCellRange(i)),i},computeCellRange:function(t){var e=this.computeCellDate(t);return{start:e,end:e.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(t){return this.rowData[t]||{}},getColData:function(t){return this.colData[t]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;this.rowCnt>t;t++)n=(e=this.getRowEl(t)).offset().top,i.push({top:n,bottom:n+e.outerHeight()});return i},computeColCoords:function(){var t,e,n,i=[];for(t=0;this.colCnt>t;t++)n=(e=this.getColEl(t)).offset().left,i.push({left:n,right:n+e.outerWidth()});return i},setElement:function(e){var n=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||n.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,n,i=this,r=this.view,o=r.opt("selectable");new Rt(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(t,r,a){a&&(e=r?t:null,o&&((n=i.computeSelection(a,t))?i.renderSelection(n):s()))},cellOut:function(){e=null,n=null,i.destroySelection(),a()},listenStop:function(t){e&&r.trigger("dayClick",i.getCellDayEl(e),e.start,t),n&&r.reportSelection(n,t),a()}}).mousedown(t)},renderRangeHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?E(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(L),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(t){this.renderFill("highlight",this.rangeToSegs(t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,o=this[e+"SegEl"],s="",a=[];if(n.length){for(i=0;n.length>i;i++)s+=this.fillSegHtml(e,n[i]);t(s).each(function(e,i){var s=n[e],l=t(i);o&&(l=o.call(r,s,l)),l&&((l=t(l)).is(r.fillSegTag)&&(s.el=l,a.push(s)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],o=I(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+kt[n.day()]+'">'+O(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+kt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}});zt.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n,i=this.eventsToSegs(t),r=[],o=[];for(e=0;i.length>e;e++)Q((n=i[e]).event)?r.push(n):o.push(n);r=this.renderBgSegs(r)||r,o=this.renderFgSegs(o)||o,this.segs=r.concat(o)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,o="",s=[];if(e.length){for(i=0;e.length>i;i++)o+=this.fgSegHtml(e[i],n);t(o).each(function(n,i){var o=e[n],a=r.resolveEventEl(o.event,t(i));a&&(a.data("fc-seg",o),o.el=a,s.push(o))})}return s},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){var e=this.view,n=t.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||e.opt("eventBackgroundColor")||e.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,r){t(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,r,t(r.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&e.segDragMousedown(i,r)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var r=t(this).data("fc-seg");return!r||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i=this,r=this.view,o=r.calendar,l=t.el,u=t.event,c=new Ht(t.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2});new Rt(r.coordMap,{distance:5,scroll:r.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){c.hide(),c.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),r.hideEvent(u)},cellOver:function(e,a,l){t.cell&&(l=t.cell),(n=i.computeEventDrop(l,e,u))&&!o.isEventRangeAllowed(n,u)&&(s(),n=null),n&&r.renderDrag(n,t)?c.hide():c.show(),a&&(n=null)},cellOut:function(){r.destroyDrag(),c.show(),n=null},cellDone:function(){a()},dragStop:function(e){c.stop(!n,function(){r.destroyDrag(),r.showEvent(u),i.segDragStop(t,e),n&&r.reportEventDrop(u,n,this.largeUnit,l,e)})},listenStop:function(){c.stop()}}).mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,o=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),n.allDay&&S(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventRangeTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,r,o=this.view;o.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=o.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,r=this,o=nt(t);new Rt(this.coordMap,{listenStart:function(){r.isDraggingExternal=!0},cellOver:function(t){(i=r.computeExternalDrop(t,o))?r.renderDrag(i):s()},cellOut:function(){i=null,r.destroyDrag(),a()},dragStop:function(){r.destroyDrag(),a(),i&&r.view.reportExternalDrop(o,i,t,e,n)},listenStop:function(){r.isDraggingExternal=!1}}).startDrag(e)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(t,e,n){var i,r=this,o=this.view,l=o.calendar,u=t.el,c=t.event,h=l.getEventEnd(c);new Rt(this.coordMap,{distance:5,scroll:o.opt("dragScroll"),subjectEl:u,dragStart:function(e){r.triggerSegMouseout(t,e),r.segResizeStart(t,e)},cellOver:function(e,a,u){(i=n?r.computeEventStartResize(u,e,c):r.computeEventEndResize(u,e,c))&&(l.isEventRangeAllowed(i,c)?i.start.isSame(c.start)&&i.end.isSame(h)&&(i=null):(s(),i=null)),i&&(o.hideEvent(c),r.renderEventResize(i,t))},cellOut:function(){i=null},cellDone:function(){r.destroyEventResize(),o.showEvent(c),a()},dragStop:function(e){r.segResizeStop(t,e),i&&o.reportEventResize(c,i,this.largeUnit,u,e)}}).mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,o,s=this.view.calendar,a=this.diffDates(n[t],e[t]);return(r={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay}).allDay&&S(a)&&(r.allDay=!1,s.normalizeEventRangeTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(o=i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration,this.cellDuration&&o>this.cellDuration&&(o=this.cellDuration),"start"==t?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,r=n.color,o=e.opt("eventColor");return{"background-color":t.backgroundColor||i||n.backgroundColor||r||e.opt("eventBackgroundColor")||o,"border-color":t.borderColor||i||n.borderColor||r||e.opt("eventBorderColor")||o,color:t.textColor||n.textColor||e.opt("eventTextColor")}},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),r=[];for(n=0;i.length>n;n++)r.push.apply(r,this.eventRangeToSegs(i[n],e));return r},eventsToRanges:function(e){var n=this,i=function(t){var e,n,i={};for(e=0;t.length>e;e++)(i[(n=t[e])._id]||(i[n._id]=[])).push(n);return i}(e),r=[];return t.each(i,function(t,e){e.length&&r.push.apply(r,function(t){return"inverse-background"===J(t)}(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),r},eventsToNormalRanges:function(t){var e,n,i,r,o=this.view.calendar,s=[];for(e=0;t.length>e;e++)i=(n=t[e]).start.clone().stripZone(),r=o.getEventEnd(n).stripZone(),s.push({event:n,start:i,end:r,eventStartMS:+i,eventDurationMS:r-i});return s},eventsToInverseRanges:function(t){var e,n,i=this.view,r=i.start.clone().stripZone(),o=i.end.clone().stripZone(),s=this.eventsToNormalRanges(t),a=[],l=t[0],u=r;for(s.sort(tt),e=0;s.length>e;e++)(n=s[e]).start>u&&a.push({event:l,start:u,end:n.start}),u=n.end;return o>u&&a.push({event:l,start:u,end:o}),a},eventRangeToSegs:function(t,e){var n,i,r;for(n=e?e(t):this.rangeToSegs(t),i=0;n.length>i;i++)(r=n[i]).event=t.event,r.eventStartMS=t.eventStartMS,r.eventDurationMS=t.eventDurationMS;return n}}),mt.compareSegs=et,mt.dataAttrPrefix="";var Bt=zt.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){zt.apply(this,arguments),this.cellDuration=e.duration(1,"day")},renderDates:function(t){var e,n,i,r=this.view,o=this.rowCnt,s=o*this.colCnt,a="";for(e=0;o>e;e++)a+=this.dayRowHtml(e,t);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;s>n;n++)i=this.getCell(n),r.trigger("dayRender",null,i.start,this.dayEls.eq(n))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},dayRowHtml:function(t,e){var n=["fc-row","fc-week",this.view.widgetContentClass];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;t.length>i&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,r=[];e.isBefore(this.end);)t.isHiddenDay(e)?r.push(i+.5):(i++,r.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=r},computeCellDate:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col);return this.cellDates[n].clone()},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=zt.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,r,o,s,a,l,u,c,h=this.isRTL,d=this.rowCnt,f=this.colCnt,p=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;d>i;i++)o=(r=i*f)+f-1,l=Math.max(r,e),u=Math.min(o,n),l=Math.ceil(l),(u=Math.floor(u))>=l&&(s=l===e,a=u===n,l-=r,u-=r,c={row:i,isStart:s,isEnd:a},h?(c.leftCol=f-u-1,c.rightCol=f-l-1):(c.leftCol=l,c.rightCol=u),p.push(c));return p},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t)),e&&!e.el.closest(this.el).length?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(t,e){this.renderHighlight(t),this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i,r=[],o=this.eventsToSegs([e]);o=this.renderFgSegEls(o),i=this.renderSegRows(o),this.rowEls.each(function(e,o){var s,a=t(o),l=t('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",s).find("table").append(i[e].tbodyEl),a.append(l),r.push(l[0])}),this.helperEls=t(r)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,o,s,a=[];for(n=this.renderFillSegEls(e,n),r=0;n.length>r;r++)o=n[r],s=this.renderFillRow(e,o,i),this.rowEls.eq(o.row).append(s),a.push(s[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,i){var r,o,s=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),o=(r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),a>0&&o.append('<td colspan="'+a+'"/>'),o.append(n.el.attr("colspan",l-a)),s>l&&o.append('<td colspan="'+(s-l)+'"/>'),this.bookendCells(o,e),r}});Bt.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),zt.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return zt.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return zt.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},destroyFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;e.length>n;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,o=t.event,s=r.isEventDraggable(o),a=!e&&o.allDay&&t.isStart&&r.isEventResizableFromStart(o),l=!e&&o.allDay&&t.isEnd&&r.isEventResizableFromEnd(o),u=this.getSegClasses(t,s,a||l),c=I(this.getEventSkinCss(o)),h="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&((n=this.getEventTimeText(o))&&(h='<span class="fc-time">'+O(n)+"</span>")),i='<span class="fc-title">'+(O(o.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(o.url?' href="'+O(o.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+h:h+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>s;)(c=(v[r-1]||[])[s])?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),a.append(c)),m[r][s]=c,v[r][s]=c,s++}var r,o,s,a,l,u,c,h=this.colCnt,d=this.buildSegLevels(n),f=Math.max(1,d.length),p=t("<tbody/>"),g=[],m=[],v=[];for(r=0;f>r;r++){if(o=d[r],s=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),o)for(l=0;o.length>l;l++){for(i((u=o[l]).leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[r][s]=c;u.rightCol>=s;)m[r][s]=c,g[r][s]=u,s++;a.append(c)}i(h),this.bookendCells(a,"eventSkeleton"),p.append(a)}return{row:e,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:d,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(t.sort(et),e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&it(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;r.length>i;i++)r[i].sort(rt);return r},groupSegRows:function(t){var e,n=[];for(e=0;this.rowCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].row].push(t[e]);return n}}),Bt.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){o=Math.max(o,t(n).outerHeight())}var i,r,o,s=this.rowEls.eq(e).height(),a=this.rowStructs[e].tbodyEl.children();for(i=0;a.length>i;i++)if(r=a.eq(i).removeClass("fc-limited"),o=0,r.find("> td > :first-child").each(n),r.position().top+o>s)return i;return!1},limitRow:function(e,n){function i(i){for(;i>k;)r=w.getCell(e,k),(c=w.getCellSegs(r,n)).length&&(f=s[n-1][k],b=w.renderMoreLink(r,c),y=t("<div/>").append(b),f.append(y),C.push(y[0])),k++}var r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,b,w=this,x=this.rowStructs[e],C=[],k=0;if(n&&x.segLevels.length>n){for(o=x.segLevels[n-1],s=x.cellMatrix,a=x.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;o.length>l;l++){for(i((u=o[l]).leftCol),d=[],h=0;u.rightCol>=k;)r=this.getCell(e,k),c=this.getCellSegs(r,n),d.push(c),h+=c.length,k++;if(h){for(p=(f=s[n-1][u.leftCol]).attr("rowspan")||1,g=[],m=0;d.length>m;m++)v=t('<td class="fc-more-cell"/>').attr("rowspan",p),c=d[m],r=this.getCell(e,u.leftCol+m),b=this.renderMoreLink(r,[u].concat(c)),y=t("<div/>").append(b),v.append(y),g.push(v[0]),C.push(v[0]);f.addClass("fc-limited").after(t(g)),a.push(f[0])}}i(this.colCnt),x.moreEls=t(C),x.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(o){var s=r.opt("eventLimitClick"),a=e.start,l=t(this),u=i.getCellDayEl(e),c=i.getCellSegs(e),h=i.resliceDaySegs(c,a),d=i.resliceDaySegs(n,a);"function"==typeof s&&(s=r.trigger("eventLimitClick",null,{date:a,dayEl:u,moreEl:l,segs:h,hiddenSegs:d},o)),"popover"===s?i.showSegPopover(e,l,h):"string"==typeof s&&r.calendar.zoomTo(a,s)})},showSegPopover:function(t,e,n){var i,r,o=this,s=this.view,a=e.parent();i=1==this.rowCnt?s.el:this.rowEls.eq(t.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){o.segPopover.destroy(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=a.offset().left+a.outerWidth()+1:r.left=a.offset().left-1,this.segPopover=new Ot(r),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,r=this.view,o=r.opt("theme"),s=e.start.format(r.opt("dayPopoverFormat")),a=t('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+O(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=a.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;n.length>i;i++)n[i].cell=e,l.append(n[i].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone().stripTime(),o={start:r,end:r.clone().add(1,"days")};return(e=this.eventsToSegs(i,function(t){var e=b(t,o);return e?[e]:[]})).sort(et),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,r=e||0,o=[];i.length>r;)(n=i[r][t.col])&&o.push(n),r++;return o}});var jt=zt.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){zt.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,n,i,r=this.view,o=this.isRTL,s="",a=0==this.slotDuration.asMinutes()%15,l=e.duration(+this.minTime);this.maxTime>l;)n=(t=this.start.clone().time(l)).minutes(),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(a&&n?"":"<span>"+O(t.format(this.axisFormat))+"</span>")+"</td>",s+="<tr "+(n?'class="fc-minor"':"")+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",l.add(this.slotDuration);return s},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime")),this.axisFormat=t.opt("axisFormat")||t.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push({day:t.clone()}),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(t){var e=this.computeSnapTime(t.row);return this.view.calendar.rezoneDate(t.day).time(e)},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,r=this.colCnt,o=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;r>n;n++)(e=b(t,{start:(i=this.colData[n].day).clone().time(this.minTime),end:i.clone().time(this.maxTime)}))&&(e.col=n,o.push(e));return o},updateSize:function(t){this.computeSlatTops(),t&&this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;this.rowCnt>t;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},t>0&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),n=(r=Math.min(this.slatEls.length,r))-(e=Math.floor(r)),i=this.slatTops[e],n?i+(this.slatTops[e+1]-i)*n:i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,r){e=t(r).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e){return e?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,r,o,s,a=this.eventsToSegs([e]);for(a=this.renderFgSegEls(a),i=this.renderSegTable(a),r=0;a.length>r;r++)o=a[r],n&&n.col===o.col&&(s=n.el,o.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(t)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(e,n,i){var r,o,s,a,l,u,c,h,d,f;if(n.length){for(n=this.renderFillSegEls(e,n),r=this.groupSegCols(n),i=i||e.toLowerCase(),s=(o=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),a=0;r.length>a;a++)if(l=r[a],u=t("<td/>").appendTo(s),l.length)for(c=t('<div class="fc-'+i+'-container"/>').appendTo(u),h=this.colData[a].day,d=0;l.length>d;d++)f=l[d],c.append(f.el.css({top:this.computeDateTop(f.start,h),bottom:-this.computeDateTop(f.end,h)}));this.bookendCells(s,e),this.el.append(o),this.elsByFill[e]=o}return n}});jt.mixin({eventSkeletonEl:null,renderFgSegs:function(e){return e=this.renderFgSegEls(e),this.el.append(this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))),e},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(e){var n,i,r,o,s,a,l=t("<table><tr/></table>"),u=l.find("tr");for(n=this.groupSegCols(e),this.computeSegVerticals(e),o=0;n.length>o;o++){for(ot(s=n[o]),a=t('<div class="fc-event-container"/>'),i=0;s.length>i;i++)(r=s[i]).el.css(this.generateSegPositionCss(r)),30>r.bottom-r.top&&r.el.addClass("fc-short"),a.append(r.el);u.append(t("<td/>").append(a))}return this.bookendCells(u,"eventSkeleton"),l},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)(n=t[e]).top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,r,o=this.view,s=t.event,a=o.isEventDraggable(s),l=!e&&t.isStart&&o.isEventResizableFromStart(s),u=!e&&t.isEnd&&o.isEventResizableFromEnd(s),c=this.getSegClasses(t,a,l||u),h=I(this.getEventSkinCss(s));return c.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+c.join(" ")+'"'+(s.url?' href="'+O(s.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+O(r)+'" data-full="'+O(i)+'"><span>'+O(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+O(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(e=1-o,n=r):(e=r,n=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;this.colCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].col].push(t[e]);return n}});var Wt=mt.View=K.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=H(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=k(this.intervalDuration),r=t.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.rezoneDate(r)),o.hasTime()||(o=this.calendar.rezoneDate(o))),e=r.clone(),e=this.skipHiddenDays(e),n=o.clone(),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:e,end:n=this.skipHiddenDays(n,-1,!0)}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e)).startOf("day"),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),Y(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var e=null;this.isDisplayed&&(e=this.queryScroll()),this.clear(),this.setDate(t),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,e=this.computeInitialScroll(e),this.forceScroll(e),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(),this.updateWidth(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return(e=this.el.add(i)).css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return!1===i?n=null:i&&!0!==i&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return P(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventDrop(t,s.dateDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,o){var s,a,l=e.eventProps;l&&(s=t.extend({},l,n),a=this.calendar.renderEvent(s,e.stick)[0]),this.triggerExternalDrop(a,n,i,r,o)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return P(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventResize(t,s.durationDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&y(e)&&((n=this.opt("unselectCancel"))&&t(e.target).closest(n).length||this.unselect(e))},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(!1===this.opt("weekends")&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),(e=+i.time())&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),Vt=mt.Calendar=mt.CalendarBase=K.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:function(n,i){function r(){return n.is(":visible")}function o(e){M++,x&&e&&x.type!==e&&(y.deactivateButton(x.type),d(),x.removeElement(),x=p.view=null),!x&&e&&((x=p.view=D[e]||(D[e]=p.instantiateView(e))).setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(w)),y.activateButton(e)),x&&(_=x.massageCurrentDate(_),x.isDisplayed&&_.isWithin(x.intervalStart,x.intervalEnd)||r()&&(d(),x.display(_),f(),y.updateTitle(x.title),p.getNow().isWithin(x.intervalStart,x.intervalEnd)?y.disableButton("today"):y.enableButton("today"),!g.lazyFetching||S(x.start,x.end)?h():c())),f(),M--}function s(t){return r()?(t&&l(),M++,x.updateSize(!0),M--,!0):void 0}function a(){r()&&l()}function l(){C="number"==typeof g.contentHeight?g.contentHeight:"number"==typeof g.height?g.height-(b?b.outerHeight(!0):0):Math.round(w.width()/Math.max(g.aspectRatio,.5))}function u(t){!M&&t.target===window&&x.start&&s(!0)&&x.trigger("windowResize",T)}function c(){r()&&(d(),x.displayEvents(A),f())}function h(){$(x.start,x.end)}function d(){w.css({width:"100%",height:w.height(),overflow:"hidden"})}function f(){w.css({width:"",height:"",overflow:""})}var p=this;p.initOptions(i||{});var g=this.options;p.render=function(){w?r()&&(a(),o()):(g.theme,n.addClass("fc"),g.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),g.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),w=t("<div class='fc-view-container'/>").prependTo(n),y=p.header=new ft(p,g),(b=y.render())&&n.prepend(b),o(g.defaultView),g.handleWindowResize&&(k=F(u,g.windowResizeDelay),t(window).resize(k)))},p.destroy=function(){x&&x.removeElement(),y.destroy(),w.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),k&&t(window).unbind("resize",k)},p.refetchEvents=function(){d(),x.clearEvents(),f(),h()},p.reportEvents=function(t){A=t,c()},p.reportEventChange=function(){c()},p.rerenderEvents=c,p.changeView=o,p.select=function(t,e){t=p.moment(t),e=e?p.moment(e):t.hasTime()?t.clone().add(p.defaultTimedEventDuration):t.clone().add(p.defaultAllDayEventDuration),x.select({start:t,end:e})},p.unselect=function(){x&&x.unselect()},p.prev=function(){_=x.computePrevDate(_),o()},p.next=function(){_=x.computeNextDate(_),o()},p.prevYear=function(){_.add(-1,"years"),o()},p.nextYear=function(){_.add(1,"years"),o()},p.today=function(){_=p.getNow(),o()},p.gotoDate=function(t){_=p.moment(t),o()},p.incrementDate=function(t){_.add(e.duration(t)),o()},p.zoomTo=function(t,e){var n;e=e||"day",n=p.getViewSpec(e)||p.getUnitViewSpec(e),_=t,o(n?n.type:null)},p.getDate=function(){return _.clone()},p.getCalendar=function(){return p},p.getView=function(){return x},p.option=function(t,e){return void 0===e?g[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(g[t]=e,s(!0)))},p.trigger=function(t,e){return g[t]?g[t].apply(e||T,Array.prototype.slice.call(arguments,2)):void 0};var m=E(dt(g.lang));if(g.monthNames&&(m._months=g.monthNames),g.monthNamesShort&&(m._monthsShort=g.monthNamesShort),g.dayNames&&(m._weekdays=g.dayNames),g.dayNamesShort&&(m._weekdaysShort=g.dayNamesShort),null!=g.firstDay){var v=E(m._week);v.dow=g.firstDay,m._week=v}m._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(g.weekNumberCalculation),p.defaultAllDayEventDuration=e.duration(g.defaultAllDayEventDuration),p.defaultTimedEventDuration=e.duration(g.defaultTimedEventDuration),p.moment=function(){var t;return"local"===g.timezone?(t=mt.moment.apply(null,arguments)).hasTime()&&t.local():t="UTC"===g.timezone?mt.moment.utc.apply(null,arguments):mt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=m:t._lang=m,t},p.getIsAmbigTimezone=function(){return"local"!==g.timezone&&"UTC"!==g.timezone},p.rezoneDate=function(t){return p.moment(t.toArray())},p.getNow=function(){var t=g.now;return"function"==typeof t&&(t=t()),p.moment(t)},p.getEventEnd=function(t){return t.end?t.end.clone():p.getDefaultEventEnd(t.allDay,t.start)},p.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(p.defaultAllDayEventDuration):n.add(p.defaultTimedEventDuration),p.getIsAmbigTimezone()&&n.stripZone(),n},p.humanizeDuration=function(t){return(t.locale||t.lang).call(t,g.lang).humanize()},pt.call(p,g);var y,b,w,x,C,k,_,S=p.isFetchNeeded,$=p.fetchEvents,T=n[0],D={},M=0,A=[];_=null!=g.defaultDate?p.moment(g.defaultDate):p.getNow(),p.getSuggestedViewHeight=function(){return void 0===C&&a(),C},p.isHeightAuto=function(){return"auto"===g.contentHeight||"auto"===g.height}},initOptions:function(t){var e,r,o;e=(t=i(t)).lang,(r=Ut[e])||(e=Vt.defaults.lang,r=Ut[e]||{}),o=P(t.isRTL,r.isRTL,Vt.defaults.isRTL)?Vt.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=r,this.overrides=t,this.options=n(Vt.defaults,o,r,t),ht(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(-1!=t.inArray(e,_t))for(n=this.header.getViewsWithButtons(),t.each(mt.views,function(t){n.push(t)}),i=0;n.length>i;i++)if((r=this.getViewSpec(n[i]))&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,o,s,a,l,u=this.overrides.views||{},c=[],h=[],d=t;d&&!i;)r=vt[d]||{},o=u[d]||{},s=s||o.duration||r.duration,d=o.type||r.type,"function"==typeof r?(i=r,c.unshift(i.defaults||{})):c.unshift(r),h.unshift(o);return i?(l={class:i,type:t},s&&((s=e.duration(s)).valueOf()||(s=null)),s&&(l.duration=s,a=k(s),1===s.as(a)&&(l.singleUnit=a,h.unshift(u[a]||{}))),l.defaults=n.apply(null,c),l.overrides=n.apply(null,h),this.buildViewSpecOptions(l),this.buildViewSpecButtonText(l,t),l):void 0},buildViewSpecOptions:function(t){t.options=n(Vt.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides),ht(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(Vt.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e.class(this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))}});Vt.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},Vt.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},Vt.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ut=mt.langs={};mt.datepickerLang=function(e,n,i){var r=Ut[e]||(Ut[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(qt,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},mt.lang=function(e,i){var r,o;r=Ut[e]||(Ut[e]={}),i&&(r=Ut[e]=n(r,i)),o=dt(e),t.each(Yt,function(t,e){null==r[t]&&(r[t]=e(o,r))}),Vt.defaults.lang=e};var qt={buttonText:function(t){return{prev:N(t.prevText),next:N(t.nextText),today:N(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},Yt={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Gt={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};mt.lang("en",Vt.englishDefaults),mt.sourceNormalizers=[],mt.sourceFetchers=[];var Xt={dataType:"json",cache:!1},Kt=1;Vt.prototype.getPeerEvents=function(t){var e,n,i=this.getEventCache(),r=[];for(e=0;i.length>e;e++)n=i[e],t&&t._id===n._id||r.push(n);return r};var Zt=vt.basic=Wt.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new Bt(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){Wt.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=Wt.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+O(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(t,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?((e=this.dayGrid.getDayClasses(n)).unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");d(this.scrollerEl),o(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&h(this.scrollerEl,n)&&(r(this.headRowEl,m(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},destroySelection:function(){this.dayGrid.destroySelection()}}),Qt=vt.month=Zt.extend({computeRange:function(t){var e,n=Zt.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){(e=e||"variable"===this.opt("weekMode"))&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Qt.duration={months:1},Qt.defaults={fixedWeekCount:!0},vt.basicWeek={type:"basic",duration:{weeks:1}},vt.basicDay={type:"basic",duration:{days:1}};return(vt.agenda=Wt.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new jt(this),this.opt("allDaySlot")?(this.dayGrid=new Bt(this),this.coordMap=new It([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){Wt.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+O(t)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||O(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){this.timeGrid.updateSize(t),Wt.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),d(this.scrollerEl),o(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=5),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),h(this.scrollerEl,i)?(r(this.noScrollRowEls,m(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return(n=Math.ceil(n))&&n++,n},renderEvents:function(t){var e,n=[],i=[];for(e=0;t.length>e;e++)t[e].allDay?n.push(t[e]):i.push(t[e]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}})).defaults={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},vt.agendaWeek={type:"agenda",duration:{weeks:1}},vt.agendaDay={type:"agenda",duration:{days:1}},mt}),window.console||(console={log:function(){}});var textAngular=angular.module("textAngular",["ngSanitize"]);textAngular.directive("textAngular",["$compile","$window","$document","$rootScope","$timeout","taFixChrome",function(t,e,n,i,r,o){function s(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},arguments.callee(t[n],e[n])):t[n]=e[n];return t}console.log("Thank you for using textAngular! http://www.textangular.com"),i.textAngularOpts=s({toolbar:[["h1","h2","h3","p","pre","quote"],["bold","italics","underline","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight"],["html","insertImage","insertLink","unlink"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",textEditor:"form-control",htmlEditor:"form-control"}},null!=i.textAngularOpts?i.textAngularOpts:{});var a=function(t){t=t.toLowerCase();var e=n[0].queryCommandValue("formatBlock").toLowerCase();return e===t||e===t};return i.textAngularTools=s({html:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>Toggle HTML</button>",action:function(){var t=this;this.$parent.showHtml=!this.$parent.showHtml,this.$parent.showHtml?r(function(){return t.$parent.displayElements.html[0].focus()},100):r(function(){return t.$parent.displayElements.text[0].focus()},100),this.active=this.$parent.showHtml}},h1:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H1</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H1>")},activeState:function(){return a("h1")}},h2:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H2</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H2>")},activeState:function(){return a("h2")}},h3:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H3</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H3>")},activeState:function(){return a("h3")}},p:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>P</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<P>")},activeState:function(){return a("p")}},pre:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>pre</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<PRE>")},activeState:function(){return a("pre")}},ul:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-list-ul'></i></button>",action:function(){return this.$parent.wrapSelection("insertUnorderedList",null)},activeState:function(){return n[0].queryCommandState("insertUnorderedList")}},ol:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-list-ol'></i></button>",action:function(){return this.$parent.wrapSelection("insertOrderedList",null)},activeState:function(){return n[0].queryCommandState("insertOrderedList")}},quote:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-quote-right'></i></button>",action:function(){return this.$parent.wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return a("blockquote")}},undo:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-undo'></i></button>",action:function(){return this.$parent.wrapSelection("undo",null)}},redo:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-repeat'></i></button>",action:function(){return this.$parent.wrapSelection("redo",null)}},bold:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-bold'></i></button>",action:function(){return this.$parent.wrapSelection("bold",null)},activeState:function(){return n[0].queryCommandState("bold")}},justifyLeft:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-left'></i></button>",action:function(){return this.$parent.wrapSelection("justifyLeft",null)},activeState:function(){return n[0].queryCommandState("justifyLeft")}},justifyRight:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-right'></i></button>",action:function(){return this.$parent.wrapSelection("justifyRight",null)},activeState:function(){return n[0].queryCommandState("justifyRight")}},justifyCenter:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-center'></i></button>",action:function(){return this.$parent.wrapSelection("justifyCenter",null)},activeState:function(){return n[0].queryCommandState("justifyCenter")}},italics:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-italic'></i></button>",action:function(){return this.$parent.wrapSelection("italic",null)},activeState:function(){return n[0].queryCommandState("italic")}},underline:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-underline'></i></button>",action:function(){return this.$parent.wrapSelection("underline",null)},activeState:function(){return n[0].queryCommandState("underline")}},clear:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-ban'></i></button>",action:function(){return this.$parent.wrapSelection("removeFormat",null)}},insertImage:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-picture-o'></i></button>",action:function(){var t;if(""!==(t=prompt("Please enter an image URL to insert","http://")))return this.$parent.wrapSelection("insertImage",t)}},insertLink:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-link'></i></button>",action:function(){var t;if(""!==(t=prompt("Please enter an URL to insert","http://")))return this.$parent.wrapSelection("createLink",t)}},unlink:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-unlink'></i></button>",action:function(){return this.$parent.wrapSelection("unlink",null)}}},null!=i.textAngularTools?i.textAngularTools:{}),{require:"ngModel",scope:{},restrict:"EA",link:function(e,s,a,l){var u,c,h,d,f,p;angular.extend(e,i.textAngularOpts,{wrapSelection:function(t,n){document.execCommand(t,!1,n),"insertUnorderedList"!==t&&"insertOrderedList"!==t||o(e.displayElements.text),e.showHtml?e.displayElements.html[0].focus():e.displayElements.text[0].focus(),e.updateSelectedStyles(),e.showHtml||e.updateTaBindtext()},showHtml:!1}),a.taToolbar&&(e.toolbar=e.$eval(a.taToolbar)),a.taFocussedClass&&(e.classes.focussed=e.$eval(a.taFocussedClass)),a.taToolbarClass&&(e.classes.toolbar=a.taToolbarClass),a.taToolbarGroupClass&&(e.classes.toolbarGroup=a.taToolbarGroupClass),a.taToolbarButtonClass&&(e.classes.toolbarButton=a.taToolbarButtonClass),a.taToolbarActiveButtonClass&&(e.classes.toolbarButtonActive=a.taToolbarActiveButtonClass),a.taTextEditorClass&&(e.classes.textEditor=a.taTextEditorClass),a.taHtmlEditorClass&&(e.classes.htmlEditor=a.taHtmlEditorClass),e.displayElements={toolbar:angular.element("<div></div>"),forminput:angular.element("<input type='hidden' style='display: none;'>"),html:angular.element("<textarea ng-show='showHtml' ta-bind='html' ng-model='html' ></textarea>"),text:angular.element("<div contentEditable='true' ng-hide='showHtml' ta-bind='text' ng-model='text' ></div>")},s.append(e.displayElements.toolbar),s.append(e.displayElements.text),s.append(e.displayElements.html),a.name&&(e.displayElements.forminput.attr("name",a.name),s.append(e.displayElements.forminput)),t(e.displayElements.text)(e),t(e.displayElements.html)(e),s.addClass("ta-root"),e.displayElements.toolbar.addClass("ta-toolbar "+e.classes.toolbar),e.displayElements.text.addClass("ta-text ta-editor "+e.classes.textEditor),e.displayElements.html.addClass("ta-html ta-editor "+e.classes.textEditor),s.on("focusin",function(){s.addClass(e.classes.focussed),r(function(){s.triggerHandler("focus")},0)}),s.on("focusout",function(){r(function(){n[0].activeElement!==e.displayElements.html[0]&&n[0].activeElement!==e.displayElements.text[0]&&(s.removeClass(e.classes.focussed),r(function(){s.triggerHandler("blur")},0))},0)}),e.tools={};for(var g=0;g<e.toolbar.length;g++){u=e.toolbar[g],(c=angular.element("<div></div>")).addClass(e.classes.toolbarGroup);for(var m=0;m<u.length;m++){f=u[m],(p=angular.element(i.textAngularTools[f].display)).addClass(e.classes.toolbarButton),p.attr("unselectable","on"),p.attr("ng-disabled","showHtml()");var v=angular.extend(e.$new(!0),i.textAngularTools[f],{name:f,showHtml:function(){return"html"!==this.name&&this.$parent.showHtml},displayActiveToolClass:function(t){return t?this.$parent.classes.toolbarButtonActive:""}});e.tools[f]=v,c.append(t(p)(v))}e.displayElements.toolbar.append(c)}l.$render=function(){if(e.displayElements.forminput.val(l.$viewValue),void 0!==l.$viewValue&&n[0].activeElement!==e.displayElements.html[0]&&n[0].activeElement!==e.displayElements.text[0]){var t=l.$viewValue||"";e.text=t,e.html=t}},e.$watch("text",function(t,n){e.html=t,l.$setViewValue(t),e.displayElements.forminput.val(t)}),e.$watch("html",function(t,n){e.text=t,l.$setViewValue(t),e.displayElements.forminput.val(t)}),e.bUpdateSelectedStyles=!1,e.updateSelectedStyles=function(){for(var t=0;t<e.toolbar.length;t++)for(var n=e.toolbar[t],i=0;i<n.length;i++)f=n[i],null!=e.tools[f].activeState&&(e.tools[f].active=e.tools[f].activeState.apply(e));this.bUpdateSelectedStyles&&r(this.updateSelectedStyles,200)},h=function(t){e.bUpdateSelectedStyles=!0,e.$apply(function(){e.updateSelectedStyles()})},e.displayElements.html.on("keydown",h),e.displayElements.text.on("keydown",h),d=function(t){e.bUpdateSelectedStyles=!1},e.displayElements.html.on("keyup",d),e.displayElements.text.on("keyup",d),mouseup=function(t){e.$apply(function(){e.updateSelectedStyles()})},e.displayElements.html.on("mouseup",mouseup),e.displayElements.text.on("mouseup",mouseup)}}}]).directive("taBind",["$sanitize","$document","taFixChrome",function(t,e,n){return{require:"ngModel",scope:{taBind:"@"},link:function(i,r,o,s){var a="textarea"!==r[0].tagName.toLowerCase()&&"input"!==r[0].tagName.toLowerCase()&&void 0!==r.attr("contenteditable"),l=function(){var t=n(angular.element("<div>").append(r.html())).html();return"html"===i.taBind&&a&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),t};i.$parent["updateTaBind"+i.taBind]=function(){var t=l(),e=s.$parsers;s.$parsers=[],s.$oldViewValue=t,s.$setViewValue(t),s.$parsers=e},a&&r.on("keyup",function(t){s.$setViewValue(l())}),s.$parsers.push(function(e){void 0===s.$oldViewValue&&(s.$oldViewValue=e);try{t(e)}catch(t){return s.$oldViewValue}return s.$oldViewValue=e,e}),s.$render=function(){if(void 0!==s.$viewValue)if(e[0].activeElement!==r[0]){var t=s.$viewValue||"";s.$oldViewValue=t,"text"===i.taBind?(r.html(t),r.find("a").on("click",function(t){return t.preventDefault(),!1})):a||"textarea"!==r[0].tagName.toLowerCase()&&"input"!==r[0].tagName.toLowerCase()?r.html(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")):r.val(t)}else a||r.val(t)}}}}]).factory("taFixChrome",function(){return function(t){for(var e=angular.element(t).find("span"),n=0;n<e.length;n++){var i=angular.element(e[n]);i.attr("style")&&i.attr("style").match(/line-height: 1.428571429;|color: inherit; line-height: 1.1;/i)&&(i.next().length>0&&"BR"===i.next()[0].tagName&&i.next().remove(),i.replaceWith(i.html()))}var r=t.html().replace(/style="[^"]*?(line-height: 1.428571429;|color: inherit; line-height: 1.1;)[^"]*"/gi,"");return t.html(r),t}}),function(){"use strict";var t="undefined"!=typeof module&&module.exports,e="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if((t=n[i])&&t[1]in document){for(i=0,e=t.length;i<e;i++)o[n[0][i]]=t[i];return o}return!1}(),i={request:function(t){var i=n.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[i]():t[i](e&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:n};n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),t?module.exports=i:window.screenfull=i):t?module.exports=!1:window.screenfull=!1}(),function(){function t(t,e){angular.element(e).bind("resize",function(){t.$emit("resizeMsg")})}angular.module("googlechart",[]).run(t),t.$inject=["$rootScope","$window"]}(),function(){angular.module("googlechart").factory("FormatManager",function(){return function(t){var e=this,n={};function i(i,r,o){var s;if(angular.isArray(o[i])&&!angular.equals(o[i],n[i]))if(n[i]=o[i],e.iFormats[i]=[],"color"===i)!function(n){var i,r,o,s;for(i=0;i<n.color.length;i++){for(r=new t.visualization.ColorFormat,o=0;o<n.color[i].formats.length;o++)void 0!==(s=n.color[i].formats[o]).fromBgColor&&void 0!==s.toBgColor?r.addGradientRange(s.from,s.to,s.color,s.fromBgColor,s.toBgColor):r.addRange(s.from,s.to,s.color,s.bgcolor);e.iFormats.color.push(r)}}(o);else for(s=0;s<o[i].length;s++)e.iFormats[i].push(new r(o[i][s]))}function r(e,n){var i=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()+"Format";return t.visualization.hasOwnProperty(i)?google.visualization[i]:angular.isDefined(n)&&n.hasOwnProperty(e)?n[e]:void 0}e.iFormats={},e.applyFormats=function(t,n,o){var s,a,l=!1;if(!angular.isDefined(n)||!angular.isDefined(t))return{requiresHtml:!1};for(s in n)if(n.hasOwnProperty(s)){if(a=r(s,o),!angular.isFunction(a))continue;i(s,a,n),"arrow"!==s&&"bar"!==s&&"color"!==s||(l=!0)}return function(t,n){var i,r;for(r in t)if(t.hasOwnProperty(r))for(i=0;i<e.iFormats[r].length;i++)t[r][i].columnNum<n.getNumberOfColumns()&&e.iFormats[r][i].format(n,t[r][i].columnNum)}(n,t),{requiresHtml:l}}}})}(),function(){function t(t,e,n,i,r,o,s,a){var l,u,c=this;function h(){l()}function d(){d.triggered||void 0===c.chart?void 0!==c.chart&&(r.cancel(d.recallTimeout),d.recallTimeout=r(d,10)):(d.triggered=!0,r(g,0,!0))}function f(){u.getReadyPromise().then(d)}function p(){u.draw(),d.triggered=!1}function g(){u.setup(e,c.chart.type,c.chart.data,c.chart.view,c.chart.options,c.chart.formatters,c.chart.customFormatters),r(p)}function m(){c.chart=t.$eval(n.chart),f()}function v(){var e=t.$eval(n.chart);if(angular.isDefined(e)&&angular.isObject(e))return{customFormatters:e.customFormatters,data:e.data,formatters:e.formatters,options:e.options,type:e.type,view:e.view}}u=new a,c.registerChartListener=u.registerChartListener,c.registerWrapperListener=u.registerWrapperListener,c.registerServiceListener=u.registerServiceListener,t.$watch(v,m,!0),l=s.$on("resizeMsg",f),t.$on("$destroy",h)}angular.module("googlechart").controller("GoogleChartController",t),t.$inject=["$scope","$element","$attrs","$injector","$timeout","$window","$rootScope","GoogleChartService"]}(),function(){angular.module("googlechart").directive("agcBeforeDraw",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e){t.$apply(function(){t.$eval(n.agcBeforeDraw,{chartWrapper:e})})}r.$inject=["chartWrapper"],i.registerServiceListener("beforeDraw",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnClick",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){t.$apply(function(){t.$eval(n.agcOnClick,{args:e,chart:i,chartWrapper:r})})}r.$inject=["args","chart","chartWrapper"],i.registerChartListener("click",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnError",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){var o={chartWrapper:e,chart:i,args:r,error:r[0],err:r[0],id:r[0].id,message:r[0].message};t.$apply(function(){t.$eval(n.agcOnError,o)})}r.$inject=["chartWrapper","chart","args"],i.registerWrapperListener("error",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnMouseout",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){var o={chartWrapper:r,chart:i,args:e,column:e[0].column,row:e[0].row};t.$apply(function(){t.$eval(n.agcOnMouseout,o)})}r.$inject=["args","chart","chartWrapper"],i.registerChartListener("onmouseout",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnMouseover",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){var o={chartWrapper:r,chart:i,args:e,column:e[0].column,row:e[0].row};t.$apply(function(){t.$eval(n.agcOnMouseover,o)})}r.$inject=["args","chart","chartWrapper"],i.registerChartListener("onmouseover",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnReady",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e){t.$apply(function(){t.$eval(n.agcOnReady,{chartWrapper:e})})}r.$inject=["chartWrapper"],i.registerWrapperListener("ready",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnSelect",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i){var r={selectedItems:i.getSelection()};r.selectedItem=r.selectedItems[0],r.chartWrapper=e,r.chart=i,t.$apply(function(){t.$eval(n.agcOnSelect,r)})}r.$inject=["chartWrapper","chart"],i.registerWrapperListener("select",r,this)}}})}(),function(){function t(){return{restrict:"A",scope:!1,controller:"GoogleChartController"}}angular.module("googlechart").directive("googleChart",t),t.$inject=[]}(),angular.module("googlechart").value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}}),function(){function t(t,e,n,i){n.optionalSettings=n.optionalSettings||{};var r=e.defer(),o=function(){var e={callback:function(){var e=n.optionalSettings.callback;t.$apply(function(){r.resolve(google)}),angular.isFunction(e)&&e.call(this)}};e=angular.extend({},n.optionalSettings,e),window.google.load("visualization",n.version,e)},s=document.getElementsByTagName("head")[0],a=document.createElement("script");return a.setAttribute("type","text/javascript"),a.src=i,a.addEventListener?a.addEventListener("load",o,!1):a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,o())},s.appendChild(a),r.promise}angular.module("googlechart").factory("googleChartApiPromise",t),t.$inject=["$rootScope","$q","googleChartApiConfig","googleJsapiUrl"]}(),function(){function t(t,e,n,i){return function(){var r=this;r.draw=function(){b&&(s=s.then(S)),s=s.then((function(t){var e;if(angular.isArray(w[t]))for(e=0;e<w[t].length;e++)w[t][e]()}("beforeDraw"),void l.draw()))},r.getChartWrapper=function(){return l},r.getData=function(){var t=h||{};return angular.copy(t)},r.getElement=function(){return u},r.getOption=function(t){return $(f||{},t)},r.getOptions=function(){var t=f||{};return angular.copy(t)},r.getView=function(){var t=d||{};return angular.copy(t)},r.getReadyPromise=function(){return y.promise},r.isApiReady=function(){return a},r.registerChartListener=function(t,e,n){return T(C,t,e,n)},r.registerServiceListener=function(t,e,n){return T(w,t,e,n)},r.registerWrapperListener=M,r.setData=function(t){angular.isDefined(t)&&(h=angular.copy(t),b=!0)},r.setElement=function(t){angular.isElement(t)&&u!==t&&(u=t,l=null,b=!0)},r.setOption=function(t,e){$(f=f||{},t,angular.copy(e)),b=!0},r.setOptions=function(t){angular.isDefined(t)&&(f=angular.copy(t),b=!0)},r.setup=function(t,e,n,i,r,o,a){u=t||u,c=e||c,h=n||h,d=i||d,f=r||f,p=o||p,v=a||v,s=s.then(S)},r.setView=function(t){d=angular.copy(t)};var o,s,a,l,u,c,h,d,f,p,g,m,v,y,b=!0,w={},x={},C={};function k(t){return t}function _(t){return o=t,a=!0,y.resolve(),t}function S(){angular.isDefined(l)?(l.setChartType(c),l.setDataTable(h),l.setView(d),l.setOptions(f)):D(l=new o.visualization.ChartWrapper({chartType:c,dataTable:h,view:d,options:f,containerId:u[0]}),x),m||(m=new i(o)),m.applyFormats(l.getDataTable(),p,v).requiresHtml&&l.setOption("allowHtml",!0),b=!1}function $(t,e,n){for(var i=e?e.split("."):[];i.length&&t;){var r=i.shift();new RegExp("(.+)\\[([0-9]*)\\]").exec(r),n&&(void 0===t[r]&&(t[r]={}),0===i.length&&(t[r]=n)),t=t[r]}return t}function E(){g!==l.getChart()&&D(g=l.getChart(),C)}function T(t,n,i,r){var s=function(){var t={chartWrapper:l,chart:l.getChart(),args:arguments};e.invoke(i,r||this,t)};if(angular.isDefined(t)&&angular.isObject(t))return angular.isArray(t[n])||(t[n]=[]),t[n].push(s),function(){angular.isDefined(s.googleListenerHandle)&&o.visualization.events.removeListener(s.googleListenerHandle);var e=t[n].indexOf(s);t[n].splice(e,1),0===t[n].length&&(t[n]=void 0)}}function D(t,e){for(var n in e)if(e.hasOwnProperty(n)&&angular.isArray(e[n]))for(var i=0;i<e[n].length;i++)angular.isFunction(e[n][i])&&(e[n][i].googleListenerHandle=o.visualization.events.addListener(t,n,e[n][i]))}function M(t,e,n){return T(x,t,e,n)}a=!1,y=n.defer(),s=t.then(_).catch(k),M("ready",E,r)}}angular.module("googlechart").factory("GoogleChartService",t),t.$inject=["googleChartApiPromise","$injector","$q","FormatManager"]}(),function(){angular.module("googlechart").provider("googleJsapiUrl",function(){var t="https:",e="//www.google.com/jsapi";this.setProtocol=function(e){t=e},this.setUrl=function(t){e=t},this.$get=function(){return(t||"")+e}})}(),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e,n,i,r,o,s,a,l;return e=window,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!window.opera,s=!r,a=/Firefox/.test(i),l=a&&4>parseInt(i.split("Firefox/")[1],10),function(t){var e=[],n=t.charts,i=t.doc,r=t.win;t.error=function(t,e){if(t="Highcharts error #"+t+": www.highcharts.com/errors/"+t,e)throw Error(t);r.console&&console.log(t)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?e[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(t,n,i){var r,o=this,s=function(t){return!s.stopped&&o.step(t)};this.startTime=+new Date,this.start=t,this.end=n,this.unit=i,this.now=this.start,this.pos=0,s.elem=this.elem,s()&&1===e.push(s)&&(s.timerId=setInterval(function(){for(r=0;r<e.length;r++)e[r]()||e.splice(r--,1);e.length||clearInterval(s.timerId)},13))},step:function(t){var e,n=+new Date,i=this.options;e=this.elem;var r,o=i.complete,s=i.duration,a=i.curAnim;if(e.attr&&!e.element)e=!1;else if(t||n>=s+this.startTime){for(r in this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0,a)!0!==a[r]&&(t=!1);t&&o&&o.call(e),e=!1}else this.pos=i.easing((n-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(e,n,i){function r(t){for(c=t.length;c--;)"M"!==t[c]&&"L"!==t[c]||t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,p);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(n)),c--)}t[0]="M"}function s(t,e){for(var n=(l-t.length)/p;0<n&&n--;)(u=t.slice().splice(t.length/v-p,p*v))[0]=e[l-p-n*p],f&&(u[p-6]=u[p-2],u[p-5]=u[p-1]),[].splice.apply(t,[t.length/v,0].concat(u)),m&&n--}n=n||"";var a,l,u,c,h=e.startX,d=e.endX,f=-1<n.indexOf("C"),p=f?7:3;n=n.split(" "),i=i.slice();var g,m=e.isArea,v=m?2:1;if(f&&(r(n),r(i)),h&&d){for(c=0;c<h.length;c++){if(h[c]===d[0]){a=c;break}if(h[0]===d[d.length-h.length+c]){a=c,g=!0;break}}void 0===a&&(n=[])}return n.length&&t.isNumber(a)&&(l=i.length+a*v*p,g?(o(n,i),s(i,n)):(o(i,n),s(n,i))),[n,i]}},t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){var i,r;for(r in"object"!=typeof e&&(e={}),n)n.hasOwnProperty(r)&&(i=n[r],t.isObject(i,!0)&&"renderTo"!==r&&"number"!=typeof i.nodeType?e[r]=o(e[r]||{},i):e[r]=n[r]);return e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,n){return e&&"object"==typeof e&&(!n||!t.isArray(e))},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,n,i){var r,o;if(t.isString(n))t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&(o=e.getAttribute(n));else if(t.defined(n)&&t.isObject(n))for(r in n)e.setAttribute(r,n[r]);return o},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(void 0!==(e=n[t])&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,n,r,o,s){e=i.createElement(e);var a=t.css;return n&&t.extend(e,n),s&&a(e,{padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).length).join(n||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}},t.getTZOffset=function(e){var n=t.Date;return 6e4*(n.hcGetTimezoneOffset&&n.hcGetTimezoneOffset(e)||n.hcTimezoneOffset||0)},t.dateFormat=function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r,o=new(g=t.Date)(n-t.getTZOffset(n)),s=o[g.hcGetHours](),a=o[g.hcGetDay](),l=o[g.hcGetDate](),u=o[g.hcGetMonth](),c=o[g.hcGetFullYear](),h=t.defaultOptions.lang,d=h.weekdays,f=h.shortWeekdays,p=t.pad,g=t.extend({a:f?f[a]:d[a].substr(0,3),A:d[a],d:p(l),e:p(l,2," "),w:a,b:h.shortMonths[u],B:h.months[u],m:p(u+1),y:c.toString().substr(2,2),Y:c,H:p(s),k:s,I:p(s%12||12),l:s%12||12,M:p(o[g.hcGetMinutes]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:p(o.getSeconds()),L:p(Math.round(n%1e3),3)},t.dateFormats);for(r in g)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof g[r]?g[r](n):g[r]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,n){var i=/\.([0-9])/,r=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(i))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,r.decimalPoint,-1<e.indexOf(",")?r.thousandsSep:""))):n=t.dateFormat(e,n),n},t.format=function(e,n){for(var i,r,o,s,a,l="{",u=!1,c=[];e&&-1!==(l=e.indexOf(l));){if(i=e.slice(0,l),u){for(s=(r=(i=i.split(":")).shift().split(".")).length,a=n,o=0;o<s;o++)a=a[r[o]];i.length&&(a=t.formatSingle(i.join(":"),a)),c.push(a)}else c.push(i);e=e.slice(l+1),l=(u=!u)?"}":"{"}return c.push(e),c.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var s,a=e;for(s=e/(i=t.pick(i,1)),n||(n=[1,2,2.5,5,10],!1===r&&(1===i?n=[1,2,5,10]:.1>=i&&(n=[1/i]))),r=0;r<n.length&&(a=n[r],!(o&&a*i>=e||!o&&s<=(n[r]+(n[r+1]||n[r]))/2));r++);return a*i},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return 0===(n=e(t,i))?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(t,e){for(var n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").length,u=Math.abs(e);return-1===n?n=Math.min(l,20):t.isNumber(n)||(n=2),s=3<(o=String(t.pInt(u.toFixed(n)))).length?o.length%3:0,i=t.pick(i,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(s?o.substr(0,s)+r:""),e+=o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+(r=Math.abs(u-o+Math.pow(10,-Math.max(n,l)-1))).toFixed(n).slice(2)),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n){return"width"===n?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===n?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(e=r.getComputedStyle(e,void 0))&&t.pInt(e.getPropertyValue(n))},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.offset=function(t){var e=i.documentElement;return{top:(t=t.getBoundingClientRect()).top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t){for(var n=e.length;n--;)e[n].elem===t&&(e[n].stopped=!0)},t.each=function(t,e,n){return Array.prototype.forEach.call(t,e,n)},t.addEvent=function(t,e,n){function i(e){e.target=e.srcElement||r,n.call(t,e)}var o=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[n.toString()]=i,t.attachEvent("on"+e,i)),o[e]||(o[e]=[]),o[e].push(n)},t.removeEvent=function(e,n,i){function r(t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&(n=e.hcEventsIE[n.toString()],e.detachEvent("on"+t,n))}function o(){var t,i;if(e.nodeName)for(i in n?(t={})[n]=!0:t=l,t)if(l[i])for(t=l[i].length;t--;)r(i,l[i][t])}var s,a,l=e.hcEvents;l&&(n?(s=l[n]||[],i?(-1<(a=t.inArray(i,s))&&(s.splice(a,1),l[n]=s),r(n,i)):(o(),l[n]=[])):(o(),e.hcEvents={}))},t.fireEvent=function(e,n,r,o){var s,a,l;if(s=e.hcEvents,r=r||{},i.createEvent&&(e.dispatchEvent||e.fireEvent))(s=i.createEvent("Events")).initEvent(n,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(n,s);else if(s)for(a=(s=s[n]||[]).length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:n}),n=0;n<a;n++)(l=s[n])&&!1===l.call(e,r)&&r.preventDefault();o&&!r.defaultPrevented&&o(r)},t.animate=function(e,n,i){var r,o,s,a,l="";for(a in t.isObject(i)||(i={duration:(r=arguments)[2],easing:r[3],complete:r[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),n)s=new t.Fx(e,i,a),o=null,"d"===a?(s.paths=s.initPath(e,e.d,n.d),s.toD=n.d,r=0,o=1):e.attr?r=e.attr(a):(r=parseFloat(t.getStyle(e,a))||0,"opacity"!==a&&(l="px")),o||(o=n[a]),o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)},t.seriesType=function(e,n,i,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[n],i),a[e]=t.extendClass(a[n]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},r.jQuery&&(r.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):n[t.attr(this[0],"data-highcharts-chart")]}),i&&!i.defaultView&&(t.getStyle=function(e,n){var i={width:"clientWidth",height:"clientHeight"}[n];return e.style[n]?t.pInt(e.style[n]):("opacity"===n&&(n="filter"),i?(e.style.zoom=1,Math.max(e[i]-2*t.getStyle(e,"padding"),0)):(e=e.currentStyle[n.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===n&&(e=e.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===e?1:t.pInt(e)))}),Array.prototype.forEach||(t.each=function(t,e,n){for(var i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return i}),Array.prototype.indexOf||(t.inArray=function(t,e){var n,i=0;if(e)for(n=e.length;i<n;i++)if(e[i]===t)return i;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)e(t[i],i)&&n.push(t[i]);return n})}(t=e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.2",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:/AppleWebKit/.test(i),isFirefox:a,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",idCounter:0,chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,vml:s,win:e,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[o(t[1],16),o(t[2],16),o(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,s;if((this.input=e=this.names[e]||e)&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else for(o=this.parsers.length;o--&&!r;)(n=(s=this.parsers[o]).regex.exec(e))&&(r=s.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,s=this.rgba;return this.stops?((i=r(o)).stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=s&&n(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=o(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},t.color=function(e){return new t.Color(e)}}(t),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,u=t.createElement,c=t.defined,h=t.deg2rad,d=t.destroyObjectProperties,f=t.doc,p=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.isArray,w=t.isFirefox,x=t.isMS,C=t.isObject,k=t.isString,_=t.isWebKit,S=t.merge,$=t.noop,E=t.pick,T=t.pInt,D=t.removeEvent,M=t.stop,A=t.svg,P=t.SVG_NS,O=t.symbolSizes,N=t.win;(e=t.SVGElement=function(){return this}).prototype={opacity:1,SVG_NS:P,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textOverflow textShadow".split(" "),init:function(t,e){this.element="span"===e?u(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,n){return e=E(e,this.renderer.globalAnimation,!0),M(this),e?(n&&(e.complete=n),r(this,t,e)):this.attr(t,null,n),this},colorGradient:function(e,n,i){var r,o,s,a,l,u,h,d,f,g,m,v,y=this.renderer,w=[];if(e.linearGradient?o="linearGradient":e.radialGradient&&(o="radialGradient"),o){for(m in s=e[o],l=y.gradients,h=e.stops,g=i.radialReference,b(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!c(s.gradientUnits)&&(a=s,s=S(s,y.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"})),s)"id"!==m&&w.push(m,s[m]);for(m in h)w.push(h[m]);l[w=w.join(",")]?g=l[w].attr("id"):(s.id=g="highcharts-"+t.idCounter++,l[w]=u=y.createElement(o).attr(s).add(y.defs),u.radAttr=a,u.stops=[],p(h,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),f=r.get("a")):(d=e[1],f=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":f}).add(u),u.stops.push(e)})),v="url("+y.url+"#"+g+")",i.setAttribute(n,v),i.gradient=w,e.toString=function(){return v}}},applyTextShadow:function(t){var e,n=this.element,i=-1!==t.indexOf("contrast"),r={},s=this.renderer.forExport,a=this.renderer.forExport||void 0!==n.style.textShadow&&!x;i&&(r.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(_||s)&&(r.textRendering="geometricPrecision"),a?this.css(r):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(n.getElementsByTagName("tspan")),p(t.split(/\s?,\s?/g),function(t){var i,r,s=n.firstChild;t=t.split(" "),i=t[t.length-1],(r=t[t.length-2])&&p(e,function(t,e){0===e&&(t.setAttribute("x",n.getAttribute("x")),e=n.getAttribute("y"),t.setAttribute("y",e||0),null===e&&n.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-shadow",fill:i,stroke:i,"stroke-opacity":1/Math.max(T(r),3),"stroke-width":r,"stroke-linejoin":"round"}),n.insertBefore(t,s)})}))},attr:function(t,e,n){var i,r,o,s=this.element,a=this;if("string"==typeof t&&void 0!==e&&(i=t,(t={})[i]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(i in t)e=t[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(t),r=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||((o=this[i+"Setter"]||this._defaultSetter).call(this,e,i,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),a},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==o(this.element,"class").indexOf(t)},removeClass:function(t){return o(this.element,"class",(o(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;p("x y r start end width height innerR anchorX anchorY".split(" "),function(n){e[n]=E(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n,i,r={};for(n in e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),c(t.strokeWidth)&&(t.strokeWidth=e),t)this[n]!==t[n]&&(this[n]=r[n]=t[n]);return r},css:function(t){var e,n,i=this.styles,r={},s=this.element,a="";if(e=!i,t&&t.color&&(t.fill=t.color),i)for(n in t)t[n]!==i[n]&&(r[n]=t[n],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&T(t.width)||this.textWidth,i&&(t=g(i,r)),this.styles=t,e&&!A&&this.renderer.forExport&&delete t.width,x&&!A)l(this.element,t);else{for(n in i=function(t,e){return"-"+e.toLowerCase()},t)a+=n.replace(/([A-Z])/g,i)+":"+t[n]+";";o(s,"style",a)}this.added&&e&&this.renderer.buildText(this)}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return y&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===N.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(c(n)||c(i))&&t.push("scale("+E(n,1)+" "+E(i,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a,l,u={};return o=(r=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||k(n))&&(this.alignTo=i=n||"renderer",m(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=E(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?a=1:"center"===i&&(a=2),a&&(o+=(n.width-(t.width||0))/a),u[e?"translateX":"x"]=Math.round(o),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(s+=(n.height-(t.height||0))/l),u[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var n,i,r,o,s,a,l=this.renderer,u=this.element,c=this.styles,d=this.textStr,f=u.style,m=l.cache,v=l.cacheKeys;if(i=(e=E(e,this.rotation))*h,r=c&&c.fontSize,void 0!==d&&(a=d.toString().replace(/[0-9]/g,"0")+["",e||0,r,u.style.width].join()),a&&!t&&(n=m[a]),!n){if(u.namespaceURI===this.SVG_NS||l.forExport){try{s=this.fakeTS&&function(t){p(u.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},w&&f.textShadow?(o=f.textShadow,f.textShadow=""):s&&s("none"),n=u.getBBox?g({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight},o?f.textShadow=o:s&&s("")}catch(t){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(l.isSVG&&(t=n.width,l=n.height,x&&c&&"11px"===c.fontSize&&"16.9"===l.toPrecision(3)&&(n.height=l=14),e&&(n.width=Math.abs(l*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(l*Math.cos(i))+Math.abs(t*Math.sin(i)))),a&&0<n.height){for(;250<v.length;)delete m[v.shift()];m[a]||v.push(a),m[a]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this.element||{},i=this.renderer.isSVG&&"SPAN"===n.nodeName&&this.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,M(this),this.clipPath&&(this.clipPath=this.clipPath.destroy()),this.stops){for(e=0;e<this.stops.length;e++)this.stops[e]=this.stops[e].destroy();this.stops=null}for(this.safeRemoveChild(n),this.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)n=i.parentGroup,this.safeRemoveChild(i.div),delete i.div,i=n;for(t in this.alignTo&&m(this.renderer.alignedObjects,this),this)delete this[t];return null},shadow:function(t,e,n){var i,r,s,a,l,u,c=[],h=this.element;if(t){if(!this.shadows){for(a=E(t.width,3),l=(t.opacity||.15)/a,u=this.parentInverted?"(-1,-1)":"("+E(t.offsetX,1)+", "+E(t.offsetY,1)+")",i=1;i<=a;i++)r=h.cloneNode(0),s=2*a+1-2*i,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":s,transform:"translate"+u,fill:"none"}),n&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){p(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=E(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=T(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(E(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):n.setAttribute(e,t)},zIndexSetter:function(t,e){var n,i,r,o=this.renderer,s=this.parentGroup,a=(s||o).element||o.box,l=this.element;if(n=this.added,c(t)&&(l.zIndex=t,t=+t,this[e]===t&&(n=!1),this[e]=t),n){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,r=0;r<e.length&&!i;r++)n=(s=e[r]).zIndex,s!==l&&(T(n)>t||!c(t)&&c(n)||0>t&&!c(n)&&a!==o.box)&&(a.insertBefore(l,s),i=!0);i||a.appendChild(l)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},(n=t.SVGRenderer=function(){this.init.apply(this,arguments)}).prototype={Element:e,SVG_NS:P,init:function(t,e,n,r,s,a){var u,c;u=(r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r))).element,t.appendChild(u),-1===t.innerHTML.indexOf("xmlns")&&o(u,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=u,this.boxWrapper=r,this.alignedObjects=[],this.url=(w||_)&&f.getElementsByTagName("base").length?N.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 5.0.2")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),w&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){l(t,{left:0,top:0}),c=t.getBoundingClientRect(),l(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})},e(),i(N,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&D(N,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:$,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,n,i,r,s=t.element,a=this,u=a.forExport,c=E(t.textStr,"").toString(),h=-1!==c.indexOf("<"),d=s.childNodes,g=o(s,"x"),m=t.styles,y=t.textWidth,b=m&&m.lineHeight,w=m&&m.textShadow,x=m&&"ellipsis"===m.textOverflow,C=d.length,k=y&&!t.added&&this.box,_=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:m&&m.fontSize||a.style.fontSize||12,b?T(b):a.fontMetrics(e,t).h};C--;)s.removeChild(d[C]);h||w||x||y||-1!==c.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,k&&k.appendChild(s),c=h?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=v(c,function(t){return""!==t}),p(c,function(c,h){var d,v=0;c=c.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=c.split("|||"),p(d,function(c){if(""!==c||1===d.length){var p,b,w={},C=f.createElementNS(a.SVG_NS,"tspan");if(e.test(c)&&(p=c.match(e)[1],o(C,"class",p)),n.test(c)&&(b=c.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(C,"style",b)),i.test(c)&&!u&&(o(C,"onclick",'location.href="'+c.match(i)[1]+'"'),l(C,{cursor:"pointer"}))," "!==(c=(c.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){if(C.appendChild(f.createTextNode(c)),v?w.dx=0:h&&null!==g&&(w.x=g),o(C,w),s.appendChild(C),!v&&h&&(!A&&u&&l(C,{display:"block"}),o(C,"dy",_(C))),y){w=c.replace(/([^\^])-/g,"$1- ").split(" "),p="nowrap"===m.whiteSpace;for(var k,S,$=1<d.length||h||1<w.length&&!p,E=[],T=_(C),D=t.rotation,M=c,O=M.length;($||x)&&(w.length||E.length);)t.rotation=0,S=(k=t.getBBox(!0)).width,!A&&a.forExport&&(S=a.measureSpanWidth(C.firstChild.data,t.styles)),k=S>y,void 0===r&&(r=k),x&&r?(O/=2,""===M||!k&&.5>O?w=[]:(w=[(M=c.substring(0,M.length+(k?-1:1)*Math.ceil(O)))+(3<y?"…":"")],C.removeChild(C.firstChild))):k&&1!==w.length?(C.removeChild(C.firstChild),E.unshift(w.pop())):(w=E,E=[],w.length&&!p&&(C=f.createElementNS(P,"tspan"),o(C,{dy:T,x:g}),b&&o(C,"style",b),s.appendChild(C)),S>y&&(y=S)),w.length&&C.appendChild(f.createTextNode(w.join(" ").replace(/- /g,"-")));t.rotation=D}v++}}})}),r&&t.attr("title",t.textStr),k&&k.removeChild(s),w&&t.applyTextShadow&&t.applyTextShadow(w)):s.appendChild(f.createTextNode(c.replace(/&lt;/g,"<").replace(/&gt;/g,">")))},getContrast:function(t){return 510<(t=a(t).rgba)[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,u){var c,h,d,f,p=this.label(t,e,n,u,null,null,null,null,"button"),m=0;return p.attr(S({padding:8,r:2},o)),o=S({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),c=o.style,delete o.style,s=S(o,{fill:"#e6e6e6"},s),h=s.style,delete s.style,a=S(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),d=a.style,delete a.style,l=S(o,{style:{color:"#cccccc"}},l),f=l.style,delete l.style,i(p.element,x?"mouseover":"mouseenter",function(){3!==m&&p.setState(1)}),i(p.element,x?"mouseout":"mouseleave",function(){3!==m&&p.setState(m)}),p.setState=function(t){1!==t&&(p.state=m=t),p.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),p.attr([o,s,a,l][t||0]).css([c,h,d,f][t||0])},p.attr(o).css(g({cursor:"default"},c)),p.on("click",function(t){3!==m&&r.call(p,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return b(t)?e.d=t:C(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=C(t)?t:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return C(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,o=t.end,t=t.x),(t=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:o||0})).r=n,t},rect:function(t,e,n,i,r,s){r=C(t)?t.r:r;var a=this.createElement("rect");return t=C(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none",r&&(t.r=r),a.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:E(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,i,r){var o={preserveAspectRatio:"none"};return 1<arguments.length&&g(o,{x:e,y:n,width:i,height:r}),(o=this.createElement("image").attr(o)).element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var a,h,d,m=this,v=this.symbols[t],y=c(e)&&v&&v(Math.round(e),Math.round(n),i,r,o),b=/^url\((.*?)\)$/;return v?((a=this.path(y)).attr("fill","none"),g(a,{symbolName:t,x:e,y:n,width:i,height:r}),o&&g(a,o)):b.test(t)&&(h=t.match(b)[1],(a=this.image(h)).imgwidth=E(O[h]&&O[h].width,o&&o.width),a.imgheight=E(O[h]&&O[h].height,o&&o.height),d=function(){a.attr({width:a.width,height:a.height})},p(["width","height"],function(t){a[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,c(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),c(e)&&a.attr({x:e,y:n}),a.isImg=!0,c(a.imgwidth)&&c(a.imgheight)?d():(a.attr({width:0,height:0}),u("img",{onload:function(){var t=s[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),O[h]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&d(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),a},symbols:{circle:function(t,e,n,i){var r=.166*n;return["M",t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start;n=r.r||n||i;var s=r.end-.001;i=r.innerR;var a=r.open,l=Math.cos(o),u=Math.sin(o),c=Math.cos(s);s=Math.sin(s);return["M",t+n*l,e+n*u,"A",n,n,0,r=r.end-o<Math.PI?0:1,1,t+n*c,e+n*s,a?"M":"L",t+i*c,e+i*s,"A",i,i,0,r,0,t+i*l,e+i*u,a?"":"Z"]},callout:function(t,e,n,i,r){var o,s=Math.min(r&&r.r||0,n,i),a=s+6,l=r&&r.anchorX;return r=r&&r.anchorY,o=["M",t+s,e,"L",t+n-s,e,"C",t+n,e,t+n,e,t+n,e+s,"L",t+n,e+i-s,"C",t+n,e+i,t+n,e+i,t+n-s,e+i,"L",t+s,e+i,"C",t,e+i,t,e+i,t,e+i-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&l>n&&r>e+a&&r<e+i-a?o.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-s):l&&0>l&&r>e+a&&r<e+i-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):r&&r>i&&l>t+a&&l<t+n-a?o.splice(23,3,"L",l+6,e+i,l,e+i+6,l-6,e+i,t+s,e+i):r&&0>r&&l>t+a&&l<t+n-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-s,e),o}},clipRect:function(e,n,i,r){var o="highcharts-"+t.idCounter++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=this.rect(e,n,i,r,0).add(s)).id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var r=!A&&this.forExport,o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)(i=o[r]).getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||this.style&&this.style.fontSize,{h:e=24>(t=/px/.test(t)?T(t):/em/.test(t)?12*parseFloat(t):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:i}},label:function(t,n,i,r,o,s,a,l,u){var h,d,f,m,v,y,b,w,x,C,k,_,$,E=this,T=E.g("button"!==u&&"label"),M=T.text=E.text("",0,0,a).attr({zIndex:1}),A=0,P=3,O=0,N={},I=/^url\((.*?)\)$/.test(r),L=I;u&&T.addClass("highcharts-"+u),L=I,C=function(){return(w||0)%2/2},k=function(){var t=M.element.style,e={};d=(void 0===f||void 0===m||b)&&c(M.textStr)&&M.getBBox(),T.width=(f||d.width||0)+2*P+O,T.height=(m||d.height||0)+2*P,x=P+E.fontMetrics(t&&t.fontSize,M).b,L&&(h||(T.box=h=E.symbols[r]||I?E.symbol(r):E.rect(),h.addClass(("button"===u?"":"highcharts-label-box")+(u?" highcharts-"+u+"-box":"")),h.add(T),t=C(),e.x=t,e.y=(l?-x:0)+t),e.width=Math.round(T.width),e.height=Math.round(T.height),h.attr(g(e,N)),N={})},_=function(){var t,e=O+P;t=l?0:x,c(f)&&d&&("center"===b||"right"===b)&&(e+={center:.5,right:1}[b]*(f-d.width)),e===M.x&&t===M.y||(M.attr("x",e),void 0!==t&&M.attr("y",t)),M.x=e,M.y=t},$=function(t,e){h?h.attr(t,e):N[t]=e},T.onAdd=function(){M.add(T),T.attr({text:t||0===t?t:"",x:n,y:i}),h&&c(o)&&T.attr({anchorX:o,anchorY:s})},T.widthSetter=function(t){f=t},T.heightSetter=function(t){m=t},T["text-alignSetter"]=function(t){b=t},T.paddingSetter=function(t){c(t)&&t!==P&&(P=T.padding=t,_())},T.paddingLeftSetter=function(t){c(t)&&t!==O&&(O=t,_())},T.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==A&&(A=t,d&&T.attr({x:v}))},T.textSetter=function(t){void 0!==t&&M.textSetter(t),k(),_()},T["stroke-widthSetter"]=function(t,e){t&&(L=!0),w=this["stroke-width"]=t,$(e,t)},T.strokeSetter=T.fillSetter=T.rSetter=function(t,e){"fill"===e&&t&&(L=!0),$(e,t)},T.anchorXSetter=function(t,e){o=t,$(e,Math.round(t)-C()-v)},T.anchorYSetter=function(t,e){s=t,$(e,t-y)},T.xSetter=function(t){T.x=t,A&&(t-=A*((f||d.width)+2*P)),v=Math.round(t),T.attr("translateX",v)},T.ySetter=function(t){y=T.y=Math.round(t),T.attr("translateY",y)};var R=T.css;return g(T,{css:function(t){if(t){var e={};t=S(t),p(T.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),M.css(e)}return R.call(T,t)},getBBox:function(){return{width:d.width+2*P,height:d.height+2*P,x:d.x-P,y:d.y-P}},shadow:function(t){return t&&(k(),h&&h.shadow(t)),T},destroy:function(){D(T.element,"mouseenter"),D(T.element,"mouseleave"),M&&(M=M.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(T),T=E=k=_=$=null}})}},t.Renderer=n}(t),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,u=t.isWebKit,c=t.pInt,h=t.SVGRenderer,d=t.win,f=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,a=this.x||0,l=this.y||0,h=this.textAlign||"left",d={left:0,center:.5,right:1}[h],f=this.styles;if(i(e,{marginLeft:n,marginTop:s}),this.shadows&&o(this.shadows,function(t){i(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&o(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var p=this.rotation,g=c(this.textWidth),m=f&&f.whiteSpace,v=[p,h,e.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(f=t.fontMetrics(e.style.fontSize).b,r(p)&&this.setSpanRotation(p,d,f),i(e,{width:"",whiteSpace:m||"nowrap"}),e.offsetWidth>g&&/[ \-]/.test(e.textContent||e.innerText)&&i(e,{width:g+"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(e.offsetWidth,f,d,p,h)),i(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),u&&(f=e.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=l?"-ms-transform":u?"-webkit-transform":a?"MozTransform":d.opera?"-o-transform":"";r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),s(h.prototype,{html:function(t,i,r){var a=this.createElement("span"),l=a.element,u=a.renderer,c=u.isSVG,h=function(t,e){o(["opacity","visibility"],function(n){f(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})})};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=t,a.htmlUpdateTransform()},c&&h(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform()},a.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,c&&(a.add=function(t){var i,r=u.box.parentNode,c=[];if(this.parentGroup=t){if(!(i=t.div)){for(;t;)c.push(t),t=t.parentGroup;o(c.reverse(),function(t){var o,a=e(t.element,"class");a&&(a={className:a}),i=t.div=t.div||n("div",a,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),o=i.style,s(t,{translateXSetter:function(e,n){o.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){o.top=e+"px",t[n]=e,t.doTransform=!0}}),h(t,o)})}}else i=r;return i.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(t),function(t){var e,n,i=t.createElement,r=t.css,o=t.defined,s=t.deg2rad,a=t.discardElement,l=t.doc,u=t.each,c=t.erase,h=t.extend;e=t.extendClass;var d=t.isArray,f=t.isNumber,p=t.isObject,g=t.merge;n=t.noop;var m=t.pick,v=t.pInt,y=t.SVGElement,b=t.SVGRenderer,w=t.win;t.svg||((n={docMode8:l&&8===l.documentMode,init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],r=["position: ","absolute",";"],o="div"===e;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),e&&(n=o||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=i(n)),this.renderer=t},add:function(t){var e=this.renderer,n=this.element,i=e.box,r=t&&t.inverted;i=t?t.element||t:i;return t&&(this.parentGroup=t),r&&e.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:y.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*s),n=Math.sin(t*s);r(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,n,i,o){var a,l=i?Math.cos(i*s):1,u=i?Math.sin(i*s):0,c=m(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-t,this.yCorr=0>u&&-c,a=0>l*u,this.xCorr+=u*e*(a?1-n:n),this.yCorr-=l*e*(i?a?n:1-n:1),o&&"left"!==o&&(this.xCorr-=t*n*(0>l?-1:1),i&&(this.yCorr-=c*n*(0>u?-1:1)),r(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)f(t[e])?n[e]=Math.round(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n=this;return t?(e=t.members,c(e,n),e.push(n),n.destroyClip=function(){c(e,n)},t=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),t={clip:n.docMode8?"inherit":"rect(auto)"}),n.css(t)},css:y.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&a(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),y.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=w.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return 9!==(n=(t=t.split(/[ ,]/)).length)&&11!==n||(t[n-4]=t[n-2]=v(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,o,s,a,l,u,c,h=[],d=this.element,f=this.renderer,p=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(u=m(t.width,3),c=(t.opacity||.15)/u,r=1;3>=r;r++)a=2*u+1-2*r,n&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=i(f.prepVML(s),null,{left:v(p.left)+m(t.offsetX,1),top:v(p.top)+m(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"#000000",'" opacity="',c*r,'"/>'],i(f.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},updateShadows:n,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,n){(n.getElementsByTagName("stroke")[0]||i(this.renderer.prepVML(["<stroke/>"]),null,null,n))[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(t,i[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},"fill-opacitySetter":function(t,e,n){i(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,n)},opacitySetter:n,rotationSetter:function(t,e,n){n=n.style,this[e]=n[e]=t,n.left=-Math.round(Math.sin(t*s)+1)+"px",n.top=Math.round(Math.cos(t*s))+"px"},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e,this))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,f(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t="visible"),this.shadows&&u(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(n.style[e]=t?"visible":"hidden"),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}})["stroke-opacitySetter"]=n["fill-opacitySetter"],t.VMLElement=n=e(y,n),n.prototype.ySetter=n.prototype.widthSetter=n.prototype.heightSetter=n.prototype.xSetter,n={Element:n,isIE8:-1<w.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,n){var i,r;if(this.alignedObjects=[],r=(i=this.createElement("div").css({position:"relative"})).element,t.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var r=this.createElement(),o=p(t);return h(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=(o=t.element).nodeName,n=t.inverted,i=this.top-("shape"===e?o.offsetTop:0),r=this.left,o=r+this.width,s=i+this.height;i={clip:"rect("+Math.round(n?r:i)+"px,"+Math.round(n?s:o)+"px,"+Math.round(n?o:s)+"px,"+Math.round(n?i:r)+"px)"};return!n&&t.docMode8&&"DIV"===e&&h(i,{width:o+"px",height:s+"px"}),i},updateClipping:function(){u(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(e,n,r,o){var s,a,l,c=this,h=/^rgba/,d="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var f,p,g,m,v,y,b,w,x=e.linearGradient||e.radialGradient,C="",k=[],_=function(){a=['<fill colors="'+k.join(",")+'" opacity="',v,'" o:opacity2="',m,'" type="',l,'" ',C,'focus="100%" method="any" />'],i(c.prepVML(a),null,null,n)};if(g=(e=e.stops)[0],w=e[e.length-1],0<g[0]&&e.unshift([0,g[1]]),1>w[0]&&e.push([1,w[1]]),u(e,function(e,n){h.test(e[1])?(s=t.color(e[1]),f=s.get("rgb"),p=s.get("a")):(f=e[1],p=1),k.push(100*e[0]+"% "+f),n?(v=p,y=f):(m=p,b=f)}),"fill"===r)if("gradient"===l)r=x.x1||x[0]||0,e=x.y1||x[1]||0,g=x.x2||x[2]||0,x=x.y2||x[3]||0,C='angle="'+(90-180*Math.atan((x-e)/(g-r))/Math.PI)+'"',_();else{var S,$=2*(d=x.r),E=2*d,T=x.cx,D=x.cy,M=n.radialReference;d=function(){M&&(S=o.getBBox(),T+=(M[0]-S.x)/S.width-.5,D+=(M[1]-S.y)/S.height-.5,$*=M[2]/S.width,E*=M[2]/S.height),C='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+$+","+E+'" origin="0.5,0.5" position="'+T+","+D+'" color2="'+b+'" ',_()};o.added?d():o.onAdd=d,d=y}else d=f}else h.test(e)&&"IMG"!==n.tagName?(s=t.color(e),o[r+"-opacitySetter"](s.get("a"),r,n),d=s.get("rgb")):((d=n.getElementsByTagName(r)).length&&(d[0].opacity=1,d[0].type="solid"),d=e);return d},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?t=-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):t=t.replace("<","<hcv:"),t},text:b.prototype.html,path:function(t){var e={coordsize:"10 10"};return d(t)?e.d=t:p(t)&&h(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return p(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return 1<arguments.length&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):b.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this;e=e.style;var i="IMG"===t.tagName&&t.style;r(t,{flip:"x",left:v(e.width)-(i?v(i.top):1),top:v(e.height)-(i?v(i.left):1),rotation:-90}),u(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var o=r.start,s=r.end,a=r.r||n||i;n=r.innerR,i=Math.cos(o);var l=Math.sin(o),u=Math.cos(s),c=Math.sin(s);return 0==s-o?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*i,e+a*l,t+a*u,e+a*c],r.open&&!n&&o.push("e","M",t,e),o.push("at",t-n,e-n,t+n,e+n,t+n*u,e+n*c,t+n*i,e+n*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&o(r.r)&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return b.prototype.symbols[o(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=g(b.prototype,n),t.Renderer=e),b.prototype.measureSpanWidth=function(t,e){var n=l.createElement("span");return t=l.createTextNode(t),n.appendChild(t),r(n,e),this.box.appendChild(n),e=n.offsetWidth,a(n),e}}(t),function(t){function e(){var e,n=t.defaultOptions.global,o=n.useUTC,l=o?"getUTC":"get",u=o?"setUTC":"set";t.Date=e=n.Date||a.Date,e.hcTimezoneOffset=o&&n.timezoneOffset,e.hcGetTimezoneOffset=o&&n.getTimezoneOffset,e.hcMakeTime=function(t,n,i,a,l,u){var c;return o?(c=e.UTC.apply(0,arguments),c+=r(c)):c=new e(t,n,s(i,1),s(a,0),s(l,0),s(u,0)).getTime(),c},i("Minutes Hours Day Date Month FullYear".split(" "),function(t){e["hcGet"+t]=l+t}),i("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){e["hcSet"+t]=u+t})}var n=t.color,i=t.each,r=t.getTZOffset,o=t.merge,s=t.pick,a=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.2/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#666666"},widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(n){return t.defaultOptions=o(!0,t.defaultOptions,n),e(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,e()}(t),function(t){var e=t.arrayMax,n=t.arrayMin,i=t.defined,r=t.destroyObjectProperties,o=t.each,s=t.erase,a=t.merge,l=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var t,e=this,n=e.axis,r=n.horiz,o=e.options,s=o.label,u=e.label,c=o.to,h=o.from,d=o.value,f=i(h)&&i(c),p=i(d),g=e.svgElem,m=!g,v=[],y=o.color,b=l(o.zIndex,0),w=o.events,x=(v={class:"highcharts-plot-"+(f?"band ":"line ")+(o.className||"")},{}),C=n.chart.renderer,k=f?"bands":"lines",_=n.log2lin;if(n.isLog&&(h=_(h),c=_(c),d=_(d)),p?(v={stroke:y,"stroke-width":o.width},o.dashStyle&&(v.dashstyle=o.dashStyle)):f&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),x.zIndex=b,(y=n[k+="-"+b])||(n[k]=y=C.g("plot-"+k).attr(x).add()),m&&(e.svgElem=g=C.path().attr(v).add(y)),p)v=n.getPlotLinePath(d,g.strokeWidth());else{if(!f)return;v=n.getPlotBandPath(h,c,o)}if(m&&v&&v.length){if(g.attr({d:v}),w)for(t in o=function(t){g.on(t,function(n){w[t].apply(e,[n])})},w)o(t)}else g&&(v?(g.show(),g.animate({d:v})):(g.hide(),u&&(e.label=u=u.destroy())));return s&&i(s.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.flat?(s=a({align:r&&f&&"center",x:r?!f&&4:10,verticalAlign:!r&&f&&"middle",y:r?f?16:10:f?6:-4,rotation:r&&!f&&90},s),this.renderLabel(s,v,f,b)):u&&u.hide(),e},renderLabel:function(t,i,r,o){var s=this.label,a=this.axis.chart.renderer;s||((s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")}).zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),o=[i[1],i[4],r?i[6]:i[1]],i=[i[2],i[5],r?i[7]:i[2]],r=n(o),a=n(i),s.align(t,!1,{x:r,y:a,width:e(o)-r,height:e(i)-a}),s.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}},t.AxisPlotLineOrBandExtension={getPlotBandPath:function(t,e){return e=this.getPlotLinePath(e,null,null,!0),(t=this.getPlotLinePath(t,null,null,!0))&&e?(t.flat=t.toString()===e.toString(),t.push(e[4],e[5],e[1],e[2])):t=null,t},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();o([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})}}}(t),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.isNumber,o=t.merge,s=t.pick,a=t.stop,l=t.deg2rad;t.Tick=function(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,i=this.axis,r=i.options,a=i.chart,l=i.categories,u=i.names,c=this.pos,h=r.labels,d=c===(p=i.tickPositions)[0],f=c===p[p.length-1],p=(u=l?s(l[c],u[c],c):c,l=this.label,p.info);i.isDatetimeAxis&&p&&(t=r.dateTimeLabelFormats[p.higherRanks[c]||p.unitName]),this.isFirst=d,this.isLast=f,r=i.labelFormatter.call({axis:i,chart:a,isFirst:d,isLast:f,dateTimeLabelFormat:t,value:i.isLog?e(i.lin2log(u)):u}),n(l)?l&&l.attr({text:r}):(this.labelLength=(this.label=l=n(r)&&h.enabled?a.renderer.text(r,0,0,h.useHTML).css(o(h.style)).add(i.labelGroup):null)&&l.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=t.x,r=n.chart.chartWidth,o=n.chart.spacing,a=s(n.labelLeft,Math.min(n.pos,o[3])),u=(o=s(n.labelRight,Math.max(n.pos+n.len,r-o[1])),this.label),c=this.rotation,h={left:0,center:.5,right:1}[n.labelAlign],d=u.getBBox().width,f=n.getSlotWidth(),p=f,g=1,m={};c?0>c&&i-h*d<a?e=Math.round(i/Math.cos(c*l)-a):0<c&&i+h*d>o&&(e=Math.round((r-i)/Math.cos(c*l))):(r=i+(1-h)*d,i-h*d<a?p=t.x+p*(1-h)-a:r>o&&(p=o-t.x+p*h,g=-1),(p=Math.min(f,p))<f&&"center"===n.labelAlign&&(t.x+=g*(f-p-h*(f-Math.min(d,p)))),(d>p||n.autoRotation&&(u.styles||{}).width)&&(e=p)),e&&(m.width=e,(n.options.labels.style||{}).textOverflow||(m.textOverflow="ellipsis"),u.css(m))},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,i,r,o,s,a,u){var c=this.axis,h=c.transA,d=c.reversed,f=c.staggerLines,p=c.tickRotCorr||{x:0,y:0},g=o.y;return n(g)||(g=0===c.side?i.rotation?-8:-i.getBBox().height:2===c.side?p.y+8:Math.cos(i.rotation*l)*(p.y-i.getBBox(!1,0).height/2)),t=t+o.x+p.x-(s&&r?s*h*(d?-1:1):0),e=e+g-(s&&!r?s*h*(d?1:-1):0),f&&(i=a/(u||1)%f,c.opposite&&(i=f-i-1),e+=c.labelOffset/f*i),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i=this.axis,o=i.options,l=i.chart.renderer,u=i.horiz,c=this.type,h=this.label,d=this.pos,f=o.labels,p=this.gridLine,g=c?c+"Tick":"tick",m=i.tickSize(g),v=this.mark,y=!v,b=f.step,w={},x=!0,C=i.tickmarkOffset,k=(_=this.getPosition(u,d,C,e)).x,_=_.y,S=u&&k===i.pos+i.len||!u&&_===i.pos?-1:1,$=o[(D=c?c+"Grid":"grid")+"LineWidth"],E=o[D+"LineColor"],T=o[D+"LineDashStyle"],D=s(o[g+"Width"],!c&&i.isXAxis?1:0);g=o[g+"Color"];n=s(n,1),this.isActive=!0,p||(w.stroke=E,w["stroke-width"]=$,T&&(w.dashstyle=T),c||(w.zIndex=1),e&&(w.opacity=0),this.gridLine=p=l.path().attr(w).addClass("highcharts-"+(c?c+"-":"")+"grid-line").add(i.gridGroup)),!e&&p&&(d=i.getPlotLinePath(d+C,p.strokeWidth()*S,e,!0))&&p[this.isNew?"attr":"animate"]({d:d,opacity:n}),m&&(i.opposite&&(m[0]=-m[0]),y&&(this.mark=v=l.path().addClass("highcharts-"+(c?c+"-":"")+"tick").add(i.axisGroup),v.attr({stroke:g,"stroke-width":D})),v[y?"attr":"animate"]({d:this.getMarkPath(k,_,m[0],v.strokeWidth()*S,u,l),opacity:n})),h&&r(k)&&(h.xy=_=this.getLabelPosition(k,_,h,u,f,C,t,b),this.isFirst&&!this.isLast&&!s(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(o.showLastLabel,1)?x=!1:!u||i.isRadial||f.step||f.rotation||e||0===n||this.handleOverflow(_),b&&t%b&&(x=!1),x&&r(_.y)?(_.opacity=n,h[this.isNew?"attr":"animate"](_)):(a(h),h.attr("y",-9999)),this.isNew=!1)},destroy:function(){i(this,this.axis)}}}(t),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.AxisPlotLineOrBandExtension,s=t.color,a=t.correctFloat,l=t.defaultOptions,u=t.defined,c=t.deg2rad,h=t.destroyObjectProperties,d=t.each,f=t.error,p=t.extend,g=t.fireEvent,m=t.format,v=t.getMagnitude,y=t.grep,b=t.inArray,w=t.isArray,x=t.isNumber,C=t.isString,k=t.merge,_=t.normalizeTickInterval,S=t.pick,$=t.PlotLineOrBand,E=t.removeEvent,T=t.splat,D=t.syncTimeout,M=t.Tick;t.Axis=function(){this.init.apply(this,arguments)},t.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX;this.chart=t,this.horiz=t.inverted?!i:i,this.isXAxis=i,this.coll=this.coll||(i?"xAxis":"yAxis"),this.opposite=n.opposite,this.side=n.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(n);var r,o=this.options,s=o.type;for(r in this.labelFormatter=o.labels.formatter||this.defaultLabelFormatter,this.userOptions=n,this.minPixelPadding=0,this.reversed=o.reversed,this.visible=!1!==o.visible,this.zoomEnabled=!1!==o.zoomEnabled,this.hasNames="category"===s||!0===o.categories,this.categories=o.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===s,this.isDatetimeAxis="datetime"===s,this.isLinked=u(o.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=o.minRange||o.maxZoom,this.range=o.range,this.offset=o.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=S(o.crosshair,T(t.options.tooltip.crosshairs)[i?0:1],!1),n=this.options.events,-1===b(this,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&void 0===this.reversed&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,n)e(this,r,n[r]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=k(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],k(l[this.coll],t))},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.categories,o=this.dateTimeLabelFormat,s=l.lang.numericSymbols,a=s&&s.length,u=n.options.labels.format;n=n.isLog?i:n.tickInterval;if(u)e=m(u,this);else if(r)e=i;else if(o)e=t.dateFormat(o,i);else if(a&&1e3<=n)for(;a--&&void 0===e;)n>=(r=Math.pow(1e3,a+1))&&0==10*i%r&&null!==s[a]&&0!==i&&(e=t.numberFormat(i/r,-1)+s[a]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=a&&(a=null),t.isXAxis?(s=n.xData).length&&(n=r(s),x(n)||n instanceof Date||(s=y(s,function(t){return x(t)}),n=r(s)),t.dataMin=Math.min(S(t.dataMin,s[0]),n),t.dataMax=Math.max(S(t.dataMax,s[0]),i(s))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,u(n)&&u(o)&&(t.dataMin=Math.min(S(t.dataMin,n),n),t.dataMax=Math.max(S(t.dataMax,o),o)),u(a)&&(t.threshold=a),(!s.softThreshold||t.isLog)&&(t.softThreshold=!1))}})},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,u=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var c=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,u||(u=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(l-=(a*=-1)*(s.sector||s.len)),e?(t=(t*a+l-c)/u+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),"between"===o&&(o=.5),t=a*(t-i)*u+l+a*c+(x(o)?u*o*s.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,u=this.left,c=this.top,h=n&&l.oldChartHeight||l.chartHeight,d=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,n){return(t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=S(r,this.translate(t,null,null,n)),t=n=Math.round(r+o),o=s=Math.round(h-r-o),x(r)?this.horiz?(o=c,s=h-this.bottom,t=n=f(t,u,u+this.width)):(t=u,n=d-this.right,o=s=f(o,c,c+this.height)):a=!0,a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=a(Math.floor(e/t)*t),o=a(Math.ceil(n/t)*t),s=[];if(e===n&&x(e))return[e];for(e=r;e<=o&&(s.push(e),(e=a(e+t))!==i);)i=e;return s},getMinorTickPositions:function(){var t,e=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[],o=this.pointRangePadding||0;t=this.min-o;var s=(o=this.max+o)-t;if(s&&s/i<this.len/3)if(this.isLog)for(o=n.length,t=1;t<o;t++)r=r.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),t,o,e.startOfWeek));else for(n=t+(n[0]-t)%i;n<=o;n+=i)r.push(n);return 0!==r.length&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var t,e,n,o,s,a,l=this.options,c=this.min,h=this.max,f=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(u(l.min)||u(l.max)?this.minRange=null:(d(this.series,function(t){for(s=t.xData,n=t.xIncrement?1:s.length-1;0<n;n--)o=s[n]-s[n-1],(void 0===e||o<e)&&(e=o)}),this.minRange=Math.min(5*e,this.dataMax-this.dataMin))),h-c<this.minRange&&(t=[c-(t=((a=this.minRange)-h+c)/2),S(l.min,c-t)],f&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),h=[(c=i(t))+a,S(l.max,c+a)],f&&(h[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(h=r(h))-c<a&&(t[0]=h-a,t[1]=S(l.min,h-a),c=i(t))),this.min=c,this.max=h},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var n=e.closestPointRange;!e.noSharedTooltip&&u(n)&&(t=u(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=w(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,u(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():b(t.name,i)),-1===r?n||(e=i.length):e=r,this.names[e]=t.name,e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,d(this.series||[],function(e){e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),d(e.points,function(n,i){var r;n.options&&void 0===n.options.x&&((r=t.nameToX(n))!==n.x&&(n.x=r,e.xData[i]=r))})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,u=n.transA,c=n.isXAxis;(c||l||r)&&(a?(o=a.minPointOffset,s=a.pointRangePadding):(e=n.getClosest(),d(n.series,function(t){var i=l?1:c?S(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,C(t)?0:i/2),s=Math.max(s,"on"===t?0:i))})),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),c&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,n,i,r,o=this,s=o.chart,l=o.options,c=o.isLog,h=o.log2lin,p=o.isDatetimeAxis,m=o.isXAxis,y=o.isLinked,b=l.maxPadding,w=l.minPadding,C=l.tickInterval,k=l.tickPixelInterval,$=o.categories,E=o.threshold,T=o.softThreshold;p||$||y||this.getTickAmount(),i=S(o.userMin,l.min),r=S(o.userMax,l.max),y?(o.linkedParent=s[o.coll][l.linkedTo],s=o.linkedParent.getExtremes(),o.min=S(s.min,s.dataMin),o.max=S(s.max,s.dataMax),l.type!==o.linkedParent.options.type&&f(11,1)):(!T&&u(E)&&(o.dataMin>=E?(e=E,w=0):o.dataMax<=E&&(n=E,b=0)),o.min=S(i,e,o.dataMin),o.max=S(r,n,o.dataMax)),c&&(!t&&0>=Math.min(o.min,S(o.dataMin,o.min))&&f(10,1),o.min=a(h(o.min),15),o.max=a(h(o.max),15)),o.range&&u(o.max)&&(o.userMin=o.min=i=Math.max(o.min,o.minFromRange()),o.userMax=r=o.max,o.range=null),g(o,"foundExtremes"),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),!($||o.axisPointRange||o.usePercentage||y)&&u(o.min)&&u(o.max)&&(h=o.max-o.min)&&(!u(i)&&w&&(o.min-=h*w),!u(r)&&b&&(o.max+=h*b)),x(l.floor)?o.min=Math.max(o.min,l.floor):x(l.softMin)&&(o.min=Math.min(o.min,l.softMin)),x(l.ceiling)?o.max=Math.min(o.max,l.ceiling):x(l.softMax)&&(o.max=Math.max(o.max,l.softMax)),T&&u(o.dataMin)&&(E=E||0,!u(i)&&o.min<E&&o.dataMin>=E?o.min=E:!u(r)&&o.max>E&&o.dataMax<=E&&(o.max=E)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:y&&!C&&k===o.linkedParent.options.tickPixelInterval?C=o.linkedParent.tickInterval:S(C,this.tickAmount?(o.max-o.min)/Math.max(this.tickAmount-1,1):void 0,$?1:(o.max-o.min)*k/Math.max(o.len,k)),m&&!t&&d(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&!C&&(o.tickInterval=Math.max(o.pointRange,o.tickInterval)),t=S(l.minTickInterval,o.isDatetimeAxis&&o.closestPointRange),!C&&o.tickInterval<t&&(o.tickInterval=t),p||c||C||(o.tickInterval=_(o.tickInterval,null,v(o.tickInterval),S(l.allowDecimals,!(.5<o.tickInterval&&5>o.tickInterval&&1e3<o.max&&9999>o.max)),!!this.tickAmount)),this.tickAmount||(o.tickInterval=o.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=i&&i.slice(),!t&&((t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&u(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,i||r||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&u(i)&&t.push((r+i)/2)},alignToOthers:function(){var t,e={},n=this.options;return!1!==this.chart.options.chart.alignTicks&&!1!==n.alignTicks&&d(this.chart[this.coll],function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!u(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length;if(r<n){for(;e.length<n;)e.push(a(e[e.length-1]+t));this.transA*=(r-1)/(n-1),this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(u(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=S(n,!0),d(o.series,function(t){delete t.kdTree}),r=p(r,{min:t,max:e}),g(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,S(r.min,n));r=Math.max(i,S(r.max,i));return t===this.min&&e===this.max||(this.allowZoomOutside||(u(n)&&t<=o&&(t=o),u(i)&&e>=r&&(e=r)),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=(s=this.options).offsetLeft||0,n=this.horiz,i=S(s.width,t.plotWidth-e+(s.offsetRight||0)),r=S(s.height,t.plotHeight),o=S(s.top,t.plotTop),s=S(s.left,t.plotLeft+e);(e=/%$/).test(r)&&(r=Math.round(parseFloat(r)/100*t.plotHeight)),e.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight+t.plotTop)),this.left=s,this.top=o,this.width=i,this.height=r,this.bottom=t.chartHeight-r-o,this.right=t.chartWidth-i-s,this.len=Math.max(n?i:r,0),this.pos=n?s:o},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?a(e(this.min)):this.min,max:t?a(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=this.lin2log,i=e?n(this.min):this.min;e=e?n(this.max):this.max;return null===t?t=i:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(S(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=S(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=i.rotation,h=this.labelMetrics(),f=Number.MAX_VALUE,p=function(t){return(t=1<(t/=a||1)?Math.ceil(t):1)*o};return r?(n=!i.staggerLines&&!i.step&&(u(l)?[l]:a<S(i.autoRotationLimit,80)&&i.autoRotation))&&d(n,function(n){var i;(n===l||n&&-90<=n&&90>=n)&&((i=(e=p(Math.abs(h.h/Math.sin(c*n))))+Math.abs(n/360))<f&&(f=i,t=n,s=e))}):i.step||(s=p(h.h)),this.autoRotation=n,this.labelRotation=S(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&2>(n.step||0)&&!n.rotation&&(this.staggerLines||1)*t.plotWidth/i||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=this.horiz,u=this.getSlotWidth(),c=Math.max(1,Math.round(u-2*(a.padding||5))),h={},f=this.labelMetrics(),p=a.style&&a.style.textOverflow,g=0;if(C(a.rotation)||(h.rotation=a.rotation||0),d(o,function(t){(t=s[t])&&t.labelLength>g&&(g=t.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>c&&g>f.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:c+"px"},!p))for(t.textOverflow="clip",e=o.length;!l&&e--;)n=o[e],(c=s[n].label)&&(c.styles&&"ellipsis"===c.styles.textOverflow?c.css({textOverflow:"clip"}):s[n].labelLength>u&&c.css({width:u+"px"}),c.getBBox().height>this.len/o.length-(f.h-f.f)&&(c.specCss={textOverflow:"ellipsis"}));h.rotation&&(t={width:(g>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},p||(t.textOverflow="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),d(o,function(e){var n=(e=s[e])&&e.label;n&&(n.attr(h),t&&n.css(k(t,n.specCss)),delete n.specCss,e.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||u(this.min)&&u(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,n,i,r=this,o=(x=r.chart).renderer,s=r.options,a=r.tickPositions,l=r.ticks,c=r.horiz,h=r.side,f=x.inverted?[1,0,3,2][h]:h,p=0,g=0,m=s.title,v=s.labels,y=0,b=r.opposite,w=x.axisOffset,x=x.clipOffset,C=[-1,1,1,-1][h],k=s.className,_=r.axisParent,$=this.tickSize("tick");if(t=r.hasData(),r.showAxis=e=t||S(s.showEmpty,!0),r.staggerLines=r.horiz&&v.staggerLines,r.axisGroup||(r.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(k||"")).add(_),r.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(k||"")).add(_),r.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels "+(k||"")).add(_)),t||r.isLinked)d(a,function(t){l[t]?l[t].addLabel():l[t]=new M(r,t)}),r.renderUnsquish(),!1===v.reserveSpace||0!==h&&2!==h&&{1:"left",3:"right"}[h]!==r.labelAlign&&"center"!==r.labelAlign||d(a,function(t){y=Math.max(l[t].getLabelSize(),y)}),r.staggerLines&&(y*=r.staggerLines,r.labelOffset=y*(r.opposite?-1:1));else for(i in l)l[i].destroy(),delete l[i];m&&m.text&&!1!==m.enabled&&(r.axisTitle||((i=m.textAlign)||(i=(c?{low:"left",middle:"center",high:"right"}:{low:b?"right":"left",middle:"center",high:b?"left":"right"})[m.align]),r.axisTitle=o.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:i}).addClass("highcharts-axis-title").css(m.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(p=r.axisTitle.getBBox()[c?"height":"width"],n=m.offset,g=u(n)?0:S(m.margin,c?5:10)),r.axisTitle[e?"show":"hide"](!0)),r.renderLine(),r.offset=C*S(s.offset,w[h]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},o=0===h?-r.labelMetrics().h:2===h?r.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-o+C*(c?S(v.y,r.tickRotCorr.y+8*C):v.x)),r.axisTitleMargin=S(n,g),w[h]=Math.max(w[h],r.axisTitleMargin+p+C*r.offset,g,t&&a.length&&$?$[0]:0),s=s.offset?0:2*Math.floor(r.axisLine.strokeWidth()/2),x[f]=Math.max(x[f],s)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,u=r.y||0,c=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f;i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+u-(s?this.height:0)+a:i+u}},render:function(){var t,e,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.isLog,l=i.lin2log,u=i.isLinked,c=i.tickPositions,h=i.axisTitle,f=i.ticks,p=i.minorTicks,g=i.alternateBands,m=s.stackLabels,v=s.alternateGridColor,y=i.tickmarkOffset,b=i.axisLine,w=r.hasRendered&&x(i.oldMin),C=i.showAxis,k=n(o.globalAnimation);i.labelEdge.length=0,i.overlap=!1,d([f,p,g],function(t){for(var e in t)t[e].isActive=!1}),(i.hasData()||u)&&(i.minorTickInterval&&!i.categories&&d(i.getMinorTickPositions(),function(t){p[t]||(p[t]=new M(i,t,"minor")),w&&p[t].isNew&&p[t].render(null,!0),p[t].render(null,!1,1)}),c.length&&(d(c,function(t,e){(!u||t>=i.min&&t<=i.max)&&(f[t]||(f[t]=new M(i,t)),w&&f[t].isNew&&f[t].render(e,!0,.1),f[t].render(e))}),y&&(0===i.min||i.single)&&(f[-1]||(f[-1]=new M(i,-1,null,!0)),f[-1].render(-1))),v&&d(c,function(n,o){e=void 0!==c[o+1]?c[o+1]+y:i.max-y,0==o%2&&n<i.max&&e<=i.max+(r.polar?-y:y)&&(g[n]||(g[n]=new $(i)),t=n+y,g[n].options={from:a?l(t):t,to:a?l(e):e,color:v},g[n].render(),g[n].isActive=!0)}),i._addedPlotLB||(d((s.plotLines||[]).concat(s.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),d([f,p,g],function(t){var e,n,i=[],o=k.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));D(function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])},t!==g&&r.hasRendered&&o?o:0)}),b&&(b[b.isPlaced?"animate":"attr"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[C?"show":"hide"](!0)),h&&C&&(h[h.isNew?"attr":"animate"](i.getTitlePosition()),h.isNew=!1),m&&m.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;for(e in t||E(i),r)h(r[e]),r[e]=null;if(d([i.ticks,i.minorTicks,i.alternateBands],function(t){h(t)}),o)for(t=o.length;t--;)o[t].destroy();for(n in d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),o="extKey hcEvents names series userMax userMin".split(" "),i)i.hasOwnProperty(n)&&-1===b(n,o)&&delete i[n]},drawCrosshair:function(t,e){var n,i,r=this.crosshair,o=S(r.snap,!0),a=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(u(e)||!o)?(o?u(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),u(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:S(e.stackY,e.y)),null,null,null,i)||null),u(n)?(e=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+r.className).attr({zIndex:S(r.zIndex,2)}).add(),a.attr({stroke:r.color||(e?s("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":S(r.width,1)}),r.dashStyle&&a.attr({dashstyle:r.dashStyle})),a.show().attr({d:n}),e&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},p(t.Axis.prototype,o)}(t),function(t){var e=t.Axis,n=t.Date,i=t.dateFormat,r=t.defaultOptions,o=t.defined,s=t.each,a=t.extend,l=t.getMagnitude,u=t.getTZOffset,c=t.normalizeTickInterval,h=t.pick,d=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,c){var f,p,g,m=[],v={},y=r.global.useUTC,b=new n(e-u(e)),w=n.hcMakeTime,x=t.unitRange,C=t.count;if(o(e)){for(b[n.hcSetMilliseconds](x>=d.second?0:C*Math.floor(b.getMilliseconds()/C)),x>=d.second&&b[n.hcSetSeconds](x>=d.minute?0:C*Math.floor(b.getSeconds()/C)),x>=d.minute&&b[n.hcSetMinutes](x>=d.hour?0:C*Math.floor(b[n.hcGetMinutes]()/C)),x>=d.hour&&(b[n.hcSetHours](x>=d.day?0:C*Math.floor(b[n.hcGetHours]()/C)),p=b[n.hcGetHours]()),x>=d.day&&b[n.hcSetDate](x>=d.month?1:C*Math.floor(b[n.hcGetDate]()/C)),x>=d.month&&(b[n.hcSetMonth](x>=d.year?0:C*Math.floor(b[n.hcGetMonth]()/C)),f=b[n.hcGetFullYear]()),x>=d.year&&b[n.hcSetFullYear](f-f%C),x===d.week&&b[n.hcSetDate](b[n.hcGetDate]()-b[n.hcGetDay]()+h(c,1)),c=1,(n.hcTimezoneOffset||n.hcGetTimezoneOffset)&&(g=(!y||!!n.hcGetTimezoneOffset)&&(l-e>4*d.month||u(e)!==u(l)),b=b.getTime(),b=new n(b+u(b))),f=b[n.hcGetFullYear](),e=b.getTime(),y=b[n.hcGetMonth](),b=b[n.hcGetDate]();e<l;)m.push(e),e=x===d.year?w(f+c*C,0):x===d.month?w(f,y+c*C):!g||x!==d.day&&x!==d.week?g&&x===d.hour?w(f,y,b,p+c*C):e+x*C:w(f,y,b+c*C*(x===d.day?1:7)),c++;m.push(e),x<=d.hour&&s(m,function(t){"000000000"===i("%H%M%S%L",t)&&(v[t]="day")})}return m.info=a(t,{higherRanks:v,totalRange:x*C}),m},e.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var i,r=d[e[0]],o=e[1];for(i=0;i<n.length&&(e=n[i],r=d[e[0]],o=e[1],!(n[i+1]&&t<=(r*o[o.length-1]+d[n[i+1][0]])/2));i++);return r===d.year&&t<5*r&&(o=[1,2,5]),{unitRange:r,count:t=c(t/r,o,"year"===e[0]?Math.max(l(t/r),1):1),unitName:e[0]}}}(t),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this.options,u=this.len,c=this.lin2log,h=this.log2lin,d=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),d=this.getLinearTickPositions(t,e,s);else if(.08<=t){var f,p,g,m,v;for(u=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<s+1&&!v;u++)for(p=l.length,f=0;f<p&&!v;f++)(g=h(c(u)*l[f]))>e&&(!a||m<=s)&&void 0!==m&&d.push(m),m>s&&(v=!0),m=g}else e=c(e),s=c(s),t=l[a?"minorTickInterval":"tickInterval"],t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(s-e)/((a?u/this.tickPositions.length:u)||1)),t=r(t,null,n(t)),d=i(this.getLinearTickPositions(t,e,s),h),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),d},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(t),function(t){var e=t.dateFormat,n=t.each,i=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,u=t.splat,c=t.stop,h=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,r){var o=this,s=o.now,a=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(e-s.y)),l=o.followPointer||1<o.len;i(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+n)/3:n,anchorY:l?void 0:a?(s.anchorY+r)/2:r}),o.getLabel().attr(s),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,n,r)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=h(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,r,o,a=this.chart,l=a.inverted,c=a.plotTop,h=a.plotLeft,d=0,f=0;return i=(t=u(t))[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=a.pointer.normalize(e)),i=[e.chartX-a.plotLeft,e.chartY-c]),i||(n(t,function(t){r=t.series.yAxis,o=t.series.xAxis,d+=t.plotX+(!l&&o?o.left-h:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&r?r.top-c:0)}),d/=t.length,f/=t.length,i=[l?a.plotWidth-f:d,this.shared&&!l&&1<t.length&&e?e.chartY-c:l?a.plotHeight-d:f]),s(i,Math.round)},getPosition:function(t,e,n){var i,r=this.chart,o=this.distance,s={},a=n.h||0,u=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],h=!this.followPointer&&l(n.ttBelow,!r.inverted==!!n.negative),d=function(t){var e=u;u=c,c=e,i=t},f=function(){!1!==function(t,e,n,i,r,l){var u=n<i-o,c=i+o+n<e,d=i-o-n;if(i+=o,h&&c)s[t]=i;else if(!h&&u)s[t]=d;else if(u)s[t]=Math.min(l-n,0>d-a?d:d-a);else{if(!c)return!1;s[t]=Math.max(r,i+a+n>e?i:i+a)}}.apply(0,u)?!1!==function(t,e,n,i){var r;return i<o||i>e-o?r=!1:s[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r}.apply(0,c)||i||(d(!0),f()):i?s.x=s.y=0:(d(!0),f())};return(r.inverted||1<this.len)&&d(),f(),s},defaultFormatter:function(t){var e,n=this.points||u(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(t,e){var i,r,o,s=this.chart,a=this.getLabel(),h=this.options,d={},f=[];o=h.formatter||this.defaultFormatter;d=s.hoverPoints;var p=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,e=(r=this.getAnchor(t,e))[0],i=r[1],!p||t.series&&t.series.noSharedTooltip?d=t.getLabelConfig():(s.hoverPoints=t,d&&n(d,function(t){t.setState()}),n(t,function(t){t.setState("hover"),f.push(t.getLabelConfig())}),(d={x:t[0].category,y:t[0].y}).points=f,this.len=f.length,t=t[0]),o=o.call(d,this),d=t.series,this.distance=l(d.tooltipOptions.distance,16),!1===o?this.hide():(this.isHidden&&(c(a),a.attr({opacity:1}).show()),this.split?this.renderSplit(o,s.hoverPoints):(a.attr({text:o.join?o.join(""):o}),a.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(t.colorIndex,d.colorIndex)),a.attr({stroke:h.borderColor||t.color||d.color||"#666666"}),this.updatePosition({plotX:e,plotY:i,negative:t.negative,ttBelow:t.ttBelow,h:r[2]||0})),this.isHidden=!1)},renderSplit:function(e,i){var r,o=this,s=[],a=this.chart,u=a.renderer,c=!0,h=this.options,d=this.getLabel();n(e.slice(0,e.length-1),function(t,e){var n=(e=i[e-1]||{isHeader:!0,plotX:i[0].plotX}).series||o,f=n.tt,p=e.series||{},g="highcharts-color-"+l(e.colorIndex,p.colorIndex,"none");f||(n.tt=f=u.label(null,null,null,e.isHeader&&"callout").addClass("highcharts-tooltip-box "+g).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:e.color||p.color||"#333333","stroke-width":h.borderWidth}).add(d),e.series&&(f.connector=u.path().addClass("highcharts-tooltip-connector "+g).attr({"stroke-width":p.options.lineWidth||2,stroke:e.color||p.color||"#666666"}).add(f))),f.isActive=!0,f.attr({text:t}),p=(t=f.getBBox()).width+f.strokeWidth(),e.isHeader?(r=t.height,p=Math.max(0,Math.min(e.plotX+a.plotLeft-p/2,a.chartWidth-p))):p=e.plotX+a.plotLeft-l(h.distance,16)-p,0>p&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=a.plotTop,s.push({target:e.isHeader?a.plotHeight+r:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:p,tt:f})}),this.cleanSplit(),t.distribute(s,a.plotHeight+r),n(s,function(t){var e,n=t.point,i=t.tt;e={visibility:void 0===t.pos?"hidden":"inherit",x:c||n.isHeader?t.x:n.plotX+a.plotLeft+l(h.distance,16),y:t.pos+a.plotTop},n.isHeader&&(e.anchorX=n.plotX+a.plotLeft,e.anchorY=e.y-100),i.attr(e),n.isHeader||i.connector.attr({d:["M",n.plotX+a.plotLeft-e.x,n.plotY+n.series.yAxis.pos-e.y,"L",(c?-1:1)*l(h.distance,16)+n.plotX+a.plotLeft-e.x,t.pos+a.plotTop+i.getBBox().height/2-e.y]})})},updatePosition:function(t){var e=this.chart,n=this.getLabel();n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(Math.round(n.x),Math.round(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,n,i){var r;n=n.dateTimeLabelFormats;var o,s,a=i&&i.closestPointRange,l={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";if(a){for(o in s=e("%m-%d %H:%M:%S.%L",t.x),d){if(a===d.week&&+e("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===s.substr(6)){o="week";break}if(d[o]>a){o=u;break}if(l[o]&&s.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(u=o)}o&&(r=n[o])}else r=n.day;return r||n.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=(e=t.series).tooltipOptions,s=i.xDateFormat,a=e.xAxis,l=a&&"datetime"===a.options.type&&o(t.key);n=i[n+"Format"];return l&&!s&&(s=this.getXDateFormat(t,i,a)),l&&s&&(n=n.replace("{point.key}","{point.key:"+s+"}")),r(n,{point:t,series:e})},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(t),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,o=t.css,s=t.defined,a=t.doc,l=t.each,u=t.extend,c=t.fireEvent,h=t.offset,d=t.pick,f=t.removeEvent,p=t.splat,g=t.Tooltip,m=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&e.tooltip.enabled&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=d(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(){var t=(n=this.chart).options.chart.zoomType,e=/x/.test(t),n=(t=/y/.test(t),n.inverted);this.zoomX=e,this.zoomY=t,this.zoomHor=e&&!n||t&&n,this.zoomVert=t&&!n||e&&n,this.hasZoom=e||t},normalize:function(t,e){var n,i;return(t=t||m.event).target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=h(this.chart.container)),void 0===i.pageX?(n=Math.max(t.x,t.clientX-e.left),e=t.y):(n=i.pageX-e.left,e=i.pageY-e.top),u(t,{chartX:Math.round(n),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},runPointActions:function(n){var r,o,s,u,c=this.chart,h=c.series,f=c.tooltip,p=!!f&&f.shared,g=!0,m=c.hoverPoint,v=c.hoverSeries,y=[];if(!p&&!v)for(r=0;r<h.length;r++)!h[r].directTouch&&h[r].options.stickyTracking||(h=[]);if(v&&(p?v.noSharedTooltip:v.directTouch)&&m?y=[m]:(p||!v||v.options.stickyTracking||(h=[v]),l(h,function(t){o=t.noSharedTooltip&&p,s=!p&&t.directTouch,t.visible&&!o&&!s&&d(t.options.enableMouseTracking,!0)&&(u=t.searchPoint(n,!o&&1===t.kdDimensions))&&u.series&&y.push(u)}),y.sort(function(t,e){var n=t.distX-e.distX,i=t.dist-e.dist;return 0!==n&&p?n:0!==i?i:t.series.group.zIndex>e.series.group.zIndex?-1:1})),p)for(r=y.length;r--;)(y[r].x!==y[0].x||y[r].series.noSharedTooltip)&&y.splice(r,1);if(y[0]&&(y[0]!==this.prevKDPoint||f&&f.isHidden)){if(p&&!y[0].series.noSharedTooltip){for(r=0;r<y.length;r++)y[r].onMouseOver(n,y[r]!==(v&&v.directTouch&&m||y[0]));y.length&&f&&f.refresh(y.sort(function(t,e){return t.series.index-e.series.index}),n)}else f&&f.refresh(y[0],n),v&&v.directTouch||y[0].onMouseOver(n);this.prevKDPoint=y[0],g=!1}g&&(h=v&&v.tooltipOptions.followPointer,f&&h&&!f.isHidden&&(h=f.getAnchor([{}],n),f.updatePosition({plotX:h[0],plotY:h[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.onDocumentMouseMove(e)},e(a,"mousemove",this._onDocumentMouseMove)),l(p?y:[d(m,y[0])],function(t){l(c.axes,function(e){(!t||t.series&&t.series[e.coll]===e)&&e.drawCrosshair(n,t)})})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,u=s&&s.shared?o:r;t&&u&&l(p(u),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&u&&(s.refresh(u),r&&(r.setState(r.state,!0),l(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&l(o,function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(e),this._onDocumentMouseMove&&(f(a,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),l(n.axes,function(t){t.hideCrosshair()}),this.hoverX=this.prevKDPoint=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;l(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,u=n.plotLeft,c=n.plotTop,h=n.plotWidth,d=n.plotHeight,f=this.selectionMarker,p=this.mouseDownX,g=this.mouseDownY,m=i.panKey&&t[i.panKey+"Key"];f&&f.touch||(o<u?o=u:o>u+h&&(o=u+h),s<c?s=c:s>c+d&&(s=c+d),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(g-s,2)),10<this.hasDragged&&(e=n.isInsidePlot(p-u,g-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!f&&(this.selectionMarker=f=n.renderer.rect(u,c,a?1:h,l?1:d,0).attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),f&&a&&(o-=p,f.attr({width:Math.abs(o),x:(0<o?0:o)+p})),f&&l&&(o=s-g,f.attr({height:Math.abs(o),y:(0<o?0:o)+g})),e&&!f&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,a={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,d=h.attr?h.attr("x"):h.x,f=h.attr?h.attr("y"):h.y,p=h.attr?h.attr("width"):h.width,g=h.attr?h.attr("height"):h.height;(this.hasDragged||i)&&(l(n.axes,function(n){if(n.zoomEnabled&&s(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,l="touchend"===t.type?n.minPixelPadding:0,u=n.toValue((o?d:f)+l);o=n.toValue((o?d+p:f+g)-l);a[n.coll].push({axis:n,min:Math.min(u,o),max:Math.max(u,o)}),r=!0}}),r&&c(n,"selection",a,function(t){n.zoom(u(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;s(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),(e=this.normalize(e)).returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(c(n.series,"click",u(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},e(i,"mouseleave",n.onContainerMouseLeave),1===t.chartCount&&e(a,"mouseup",n.onDocumentMouseUp),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},1===t.chartCount&&e(a,"touchend",n.onDocumentTouchEnd))},destroy:function(){var e;for(e in f(this.chart.container,"mouseleave",this.onContainerMouseLeave),t.chartCount||(f(a,"mouseup",this.onDocumentMouseUp),f(a,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[e]=null}}}(t),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,s=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,u,c,h=this.chart,d=t?"x":"y",f=t?"X":"Y",p="chart"+f,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=a||1,y=h.inverted,b=h.bounds[t?"h":"v"],w=1===e.length,x=e[0][p],C=n[0][p],k=!w&&e[1][p],_=!w&&n[1][p];(n=function(){!w&&20<Math.abs(x-k)&&(v=a||Math.abs(C-_)/Math.abs(x-k)),u=(m-C)/v+x,l=h["plot"+(t?"Width":"Height")]/v})(),(e=u)<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(C-=.8*(C-s[d][0]),w||(_-=.8*(_-s[d][1])),n()):s[d]=[C,_],y||(o[d]=u-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,i[y?t?"scaleY":"scaleX":"scale"+f]=v,i["translate"+f]=o*m+(C-o*x)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,u=t.touches,c=u.length,h=e.lastValidTouch,d=e.hasZoom,f=e.selectionMarker,p={},g=1===c&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};1<c&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),r(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],n(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}}),e.res=!0):l.length&&(f||(e.selectionMarker=f=i({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,u,p,f,m,h),e.hasPinched=d,e.scaleGroups(p,m),!d&&e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r=this.chart;t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(i=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),s(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(t),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,u=t.win,c=t.wrap;if(u.PointerEvent||u.MSPointerEvent){var h={},d=!!u.PointerEvent,f=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),(o=n[t.hoverChartIndex].pointer)[i]({type:r,target:e.currentTarget,preventDefault:s,touches:function(){var t,e=[];for(t in e.item=function(t){return this[t]},h)h.hasOwnProperty(t)&&e.push({pageX:h[t].pageX,pageY:h[t].pageY,target:h[t].target});return e}()}))};o(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),function(t){var e,n=t.addEvent,i=t.css,r=t.discardElement,o=t.defined,s=t.each,a=t.extend,l=t.isFirefox,u=t.marginNames,c=t.merge,h=t.pick,d=t.setAnimation,f=t.stableSort,p=t.win,g=t.wrap;(e=t.Legend=function(t,e){this.init(t,e)}).prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),n(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=h(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.initialItemX=this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=h(t.symbolWidth,16),this.pages=[]},update:function(t,e){var n=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,h(e,!0)&&n.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n,i=this.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,l=(i=e?i.itemStyle.color:a,e&&t.color||a),u=t.options&&t.options.marker,c={fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),s){if(u&&s.isMarker&&(c=t.pointAttribs(),!e))for(n in c)c[n]=a;s.attr(c)}},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,i=(r=t._legendItemPos)[0],r=r[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(n?i:this.legendWidth-i-2*e-4,r),o&&(o.x=i,o.y=r)},destroyItem:function(t){var e=t.checkbox;s(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&r(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),s(this.getAllItems(),function(t){s(["legendItem","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())})}),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,r=this.clipHeight||this.legendHeight,o=this.titleHeight;n&&(e=n.translateY,s(this.allItems,function(s){var a,l=s.checkbox;l&&(a=e+o+l.y+(t||0)+3,i(l,{left:n.translateX+s.checkboxOffset+l.x-20+"px",top:a+"px",display:a>e-6&&a<e+r-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,n=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),n=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r="horizontal"===i.layout,o=this.symbolWidth,s=i.symbolPadding,a=this.itemStyle,l=this.itemHiddenStyle,u=this.padding,d=r?h(i.itemDistance,20):0,f=!i.rtl,p=i.width,g=i.itemMarginBottom||0,m=this.itemMarginTop,v=this.initialItemX,y=t.legendItem,b=!t.series,w=!b&&t.series.drawLegendSymbol?t.series:t,x=w.options,C=(x=this.createCheckboxForItem&&x&&x.showCheckbox,i.useHTML);y||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+w.type+"-series highcharts-color-"+t.colorIndex+" "+(t.options.className||"")+(b?"highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=y=n.text("",f?o+s:-s,this.baseline||0,C).css(c(t.visible?a:l)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(a=a.fontSize,this.fontMetrics=n.fontMetrics(a,y),this.baseline=this.fontMetrics.f+3+m,y.attr("y",this.baseline)),w.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,y,C),x&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),n=y.getBBox(),o=t.checkboxOffset=i.itemWidth||t.legendItemWidth||o+s+n.width+d+(x?20:0),this.itemHeight=s=Math.round(t.legendItemHeight||n.height),r&&this.itemX-v+o>(p||e.chartWidth-2*u-v-i.x)&&(this.itemX=v,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,o),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=o:(this.itemY+=m+s+g,this.lastLineHeight=s),this.offsetWidth=p||Math.max((r?this.itemX-v-d:o)+u,this.offsetWidth)},getAllItems:function(){var t=[];return s(this.chart.series,function(e){var n=e&&e.options;e&&h(n.showInLegend,!o(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);i.floating||s([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,a){s.test(r)&&!o(t[a])&&(n[u[a]]=Math.max(n[u[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*i[a%2?"x":"y"]+h(i.margin,12)+e[a]))})},render:function(){var t,e,n,i,r=this,o=r.chart,l=o.renderer,u=r.group,c=r.box,h=r.options,d=r.padding;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,u||(r.group=u=l.g("legend").attr({zIndex:7}).add(),r.contentGroup=l.g().attr({zIndex:1}).add(u),r.scrollGroup=l.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),f(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,s(t,function(t){r.renderItem(t)}),n=(h.width||r.offsetWidth)+d,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=d,c||(r.box=c=l.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(u),c.isNew=!0),c.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),0<n&&0<i&&(c[c.isNew?"attr":"animate"](c.crisp({x:0,y:0,width:n,height:i},c.strokeWidth())),c.isNew=!1),c[e?"show":"hide"](),r.legendWidth=n,r.legendHeight=i,s(t,function(t){r.positionItem(t)}),e&&u.align(a({width:n,height:i},h),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,a=this.options,l=a.y,u=(l=r.spacingBox.height+("top"===a.verticalAlign?-l:l)-this.padding,a.maxHeight),c=this.clipRect,d=a.navigation,f=h(d.animation,!0),p=d.arrowSize||12,g=this.nav,m=this.pages,v=this.padding,y=this.allItems,b=function(t){c.attr({height:t}),i.contentGroup.div&&(i.contentGroup.div.style.clip="rect("+v+"px,9999px,"+(v+t)+"px,0)")};return"horizontal"===a.layout&&(l/=2),u&&(l=Math.min(l,u)),m.length=0,t>l&&!1!==d.enabled?(this.clipHeight=e=Math.max(l-20-this.titleHeight-v,0),this.currentPage=h(this.currentPage,1),this.fullHeight=t,s(y,function(t,i){var r=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var o=m.length;(!o||r-m[o-1]>e&&(n||r)!==m[o-1])&&(m.push(n||r),o++),i===y.length-1&&r+t-m[o-1]>e&&m.push(r),r!==n&&(n=r)}),c||(c=i.clipRect=o.clipRect(0,v,9999,0),i.contentGroup.clip(c)),b(e),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,p,p).on("click",function(){i.scroll(-1,f)}).add(g),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation").css(d.style).add(g),this.down=o.symbol("triangle-down",0,0,p,p).on("click",function(){i.scroll(1,f)}).add(g)),i.scroll(0),t=l):g&&(b(r.chartHeight),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),e=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=(i=t.options).symbolHeight||t.fontMetrics.f,i=i.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,h(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker,r=t.symbolWidth,o=this.chart.renderer,s=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":n.lineWidth||0},n.dashStyle&&(e.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(e).add(s),i&&!1!==i.enabled&&(n=0===this.symbol.indexOf("url")?0:i.radius,this.legendSymbol=i=o.symbol(this.symbol,r/2-n,t-n,2*n,2*n,i).addClass("highcharts-point").add(s),i.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||l)&&g(e.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(t),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,h=t.css,d=t.defined,f=t.each,p=t.error,g=t.extend,m=t.fireEvent,v=t.getStyle,y=t.grep,b=t.isNumber,w=t.isObject,x=t.isString,C=t.Legend,k=t.marginNames,_=t.merge,S=t.Pointer,$=t.pick,E=t.pInt,T=t.removeEvent,D=t.seriesTypes,M=t.splat,A=t.svg,P=t.syncTimeout,O=t.win,N=t.Renderer,I=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new I(t,e,n)},I.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(x(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,s=n.series;if(n.series=null,(r=_(l,n)).series=n.series=s,this.userOptions=n,this.respRules=[],s=(n=r.chart).events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=n.showAxes,this.index=c.length,c.push(this),t.chartCount++,s)for(o in s)e(this,o,s[o]);this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=D[t.type||e.type||e.defaultSeriesType])||p(17,!0),(e=new e).init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){var n,i,r=this.axes,o=this.series,s=this.pointer,a=this.legend,l=this.isDirtyLegend,u=this.hasCartesianSeries,c=this.isDirtyBox,h=o.length,d=h,p=this.renderer,v=p.isHidden(),y=[];for(t.setAnimation(e,this),v&&this.cloneRenderTo(),this.layOutTitles();d--;)if((e=o[d]).options.stacking&&(n=!0,e.isDirty)){i=!0;break}if(i)for(d=h;d--;)(e=o[d]).options.stacking&&(e.isDirty=!0);f(o,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),l=!0),t.isDirtyData&&m(t,"updatedData")}),l&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),n&&this.getStacks(),u&&f(r,function(t){t.updateNames(),t.setScale()}),this.getMargins(),u&&(f(r,function(t){t.isDirty&&(c=!0)}),f(r,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,y.push(function(){m(t,"afterSetExtremes",g(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(c||n)&&t.redraw()})),c&&this.drawChartBox(),f(o,function(t){(c||t.isDirty)&&t.visible&&t.redraw()}),s&&s.reset(!0),p.draw(),m(this,"redraw"),v&&this.cloneRenderTo(!0),f(y,function(t){t.call()})},get:function(t){var e,n,i=this.axes,r=this.series;for(e=0;e<i.length;e++)if(i[e].options.id===t)return i[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(n=r[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t=this,e=(n=this.options).xAxis=M(n.xAxis||{}),n=n.yAxis=M(n.yAxis||{});f(e,function(t,e){t.index=e,t.isX=!0}),f(n,function(t,e){t.index=e}),e=e.concat(n),f(e,function(e){new s(t,e)})},getSelectedPoints:function(){var t=[];return f(this.series,function(e){t=t.concat(y(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=_(o.title,t),o=o.subtitle=_(o.subtitle,e),f([["title",t,i],["subtitle",e,o]],function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&t.text&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;f(["title","subtitle"],function(t){var e,o=this[t],s=this.options[t];o&&(e=s.style.fontSize,e=i.fontMetrics(e,o).b,o.css({width:(s.width||r.width+s.widthAdjust)+"px"}).align(g({y:n+e+("title"===t?-3:2)},s),!1,"spacingBox"),s.floating||s.verticalAlign||(n=Math.ceil(n+o.getBBox().height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&$(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(e=this.options.chart).width,e=e.height,n=this.renderToClone||this.renderTo;d(t)||(this.containerWidth=v(n,"width")),d(e)||(this.containerHeight=v(n,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,$(e,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;if(t){if(e){for(;e.childNodes.length;)this.renderTo.appendChild(e.firstChild);u(e),delete this.renderToClone}}else n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),h(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),o.body.appendChild(e),n&&e.appendChild(n)},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,s=this.options,l=s.chart;e=this.renderTo;var u,h="highcharts-"+t.idCounter++;e||(this.renderTo=e=l.renderTo),x(e)&&(this.renderTo=e=o.getElementById(e)),e||p(13,!0),n=E(r(e,"data-highcharts-chart")),b(n)&&c[n]&&c[n].hasRendered&&c[n].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,u=g({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=a("div",{id:h},u,this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||N)(e,n,i,null,l.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!d(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(n,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&f(t.axes,function(t){t.visible&&t.getOffset()}),f(k,function(i,r){d(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=d(n.width),s=n.width||v(i,"width");n=n.height||v(i,"height"),i=t?t.target:O;r||e.isPrinting||!s||!n||i!==O&&i!==o||(s===e.containerWidth&&n===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=P(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=s,e.containerHeight=n)},initReflow:function(){var t=this,n=function(e){t.reflow(e)};e(O,"resize",n),e(t,"destroy",function(){T(O,"resize",n)})},setSize:function(e,r,o){var s=this,a=s.renderer;s.isResizing+=1,t.setAnimation(o,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),((e=a.globalAnimation)?n:h)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},e),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,o),f(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.setResponsive&&s.setResponsive(!1),s.redraw(o),s.oldChartHeight=null,m(s,"resize"),P(function(){s&&m(s,"endResize",null,function(){--s.isResizing})},i(e).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,h[3])/2),s=Math.ceil(Math.max(a,h[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,h[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,h[2])/2-s))},t||f(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;f(["margin","spacing"],function(n){var i=e[n],r=w(i)?i:[i,i,i,i];f(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=$(e[n+i],r[o])})}),f(k,function(e,n){t[e]=$(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,u=this.plotBGImage,c=n.backgroundColor,h=n.plotBackgroundColor,d=n.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,w="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),w="attr"),e=(t=n.borderWidth||0)+(n.shadow?8:0),c={fill:c||"none"},(t||s["stroke-width"])&&(c.stroke=n.borderColor,c["stroke-width"]=t),s.attr(c).shadow(n.shadow),s[w]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),w="animate",a||(w="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[w](v),a.attr({fill:h||"none"}).shadow(n.plotShadow),d&&(u?u.animate(v):this.plotBGImage=i.image(d,f,p,g,m).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),w="animate",l||(w="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:f,y:p,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;f(["inverted","angular","polar"],function(s){for(t=D[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=D[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;f(e,function(t){t.linkedSeries.length=0}),f(e,function(e){var n=e.options.linkedTo;x(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=$(e.options.visible,n.options.visible,e.visible))})},renderSeries:function(){f(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&f(e.items,function(n){var i=g(e.style,n.style),r=E(i.left)+t.plotLeft,o=E(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new C(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight-=21,f(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(f(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&f(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=_(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(O.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,s=o&&o.parentNode;for(m(n,"destroy"),c[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),T(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();for(e in f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",T(o),s&&u(o)),n)delete n[e]},isReadyToRender:function(){var t=this;return!(!A&&O==O.top&&"complete"!==o.readyState)||(o.attachEvent("onreadystatechange",function(){o.detachEvent("onreadystatechange",t.firstRender),"complete"===o.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),f(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),S&&(t.pointer=new S(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}}}(t),function(t){var e,n=t.each,i=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,u=t.pick,c=t.removeEvent;(e=t.Point=function(){}).prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=u(this.colorIndex,n),t.chart.pointCount++,this},applyOptions:function(t,n){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},optionsToObject:function(t){var e={},n=this.series,i=n.options.keys,r=i||n.pointArrayMap||["y"],o=r.length,s=0,u=0;if(l(t)||null===t)e[r[0]]=t;else if(a(t))for(!i&&t.length>o&&("string"===(n=typeof t[0])?e.name=t[0]:"number"===n&&(e.x=t[0]),s++);u<o;)i&&void 0===t[s]||(e[r[u]]=t[s]),s++,u++;else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||"y",i=0;for(t=e[i];this[n]>=t.value;)t=e[++i];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(c(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)this[t=e[n]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=u(i.valueDecimals,""),o=i.valuePrefix||"",a=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(e+"}",o+e+"}"+a)),t=t.replace(e+"}",e+":,."+r+"f}")}),s(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}(t),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.Date,a=t.defaultOptions,l=t.defaultPlotOptions,u=t.defined,c=t.each,h=t.erase,d=t.error,f=t.extend,p=t.fireEvent,g=t.grep,m=t.isArray,v=t.isNumber,y=t.isString,b=t.merge,w=t.pick,x=t.removeEvent,C=t.splat,k=t.stableSort,_=t.SVGElement,S=t.syncTimeout,$=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,s=t.series,a=function(t,e){return w(t.options.index,t._i)-w(e.options.index,e._i)};for(i in o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),f(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),r=n.events)e(o,i,r[i]);(r&&r.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.push(o),o._i=s.length-1,k(s,a),this.yAxis&&k(this.yAxis.series,a),c(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;c(e.axisTypes||[],function(r){c(i[r],function(i){t=i.options,(n[r]===t.index||void 0!==n[r]&&n[r]===t.id||void 0===n[r]&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)}),e[r]||e.optionalAxis===r||d(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=v(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};c(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit;n=w(n,e.pointStart,0);return this.pointInterval=t=w(this.pointInterval,e.pointInterval,1),i&&(e=new s(n),"day"===i?e=+e[s.hcSetDate](e[s.hcGetDate]()+t):"month"===i?e=+e[s.hcSetMonth](e[s.hcGetMonth]()+t):"year"===i&&(e=+e[s.hcSetFullYear](e[s.hcGetFullYear]()+t)),t=e-n),this.xIncrement=n+t,n},setOptions:function(t){var e,n=(e=this.chart).options.plotOptions,i=(e=e.userOptions||{}).plotOptions||{},r=n[this.type];return this.userOptions=t,n=b(r,n.series,t),this.tooltipOptions=b(a.tooltip,a.plotOptions[this.type].tooltip,e.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,t.tooltip),null===r.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,t=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||t.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,className:"highcharts-negative",color:n.negativeColor,fillColor:n.negativeFillColor}),t.length&&u(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(t,e,n){var i,r=this.userOptions,o=t+"Index",s=t+"Counter",a=n?n.length:w(this.chart.options.chart[t+"Count"],this.chart[t+"Count"]);e||(i=w(r[o],r["_"+o]),u(i)||(r["_"+o]=i=this.chart[s]%a,this.chart[s]+=1),n&&(e=n[i])),void 0!==i&&(this[o]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(t,e,n,i){var r,o=this,s=o.points,a=s&&s.length||0,l=o.options,u=o.chart,h=null,f=o.xAxis,p=l.turboThreshold,g=this.xData,b=this.yData,x=(r=o.pointArrayMap)&&r.length;if(r=(t=t||[]).length,e=w(e,!0),!1!==i&&r&&a===r&&!o.cropped&&!o.hasGroupedData&&o.visible)c(t,function(t,e){s[e].update&&t!==l.data[e]&&s[e].update(t,!1,null,!1)});else{if(o.xIncrement=null,o.colorCounter=0,c(this.parallelArrays,function(t){o[t+"Data"].length=0}),p&&r>p){for(n=0;null===h&&n<r;)h=t[n],n++;if(v(h))for(n=0;n<r;n++)g[n]=this.autoIncrement(),b[n]=t[n];else if(m(h))if(x)for(n=0;n<r;n++)h=t[n],g[n]=h[0],b[n]=h.slice(1,x+1);else for(n=0;n<r;n++)h=t[n],g[n]=h[0],b[n]=h[1];else d(12)}else for(n=0;n<r;n++)void 0!==t[n]&&(h={series:o},o.pointClass.prototype.applyOptions.apply(h,[t[n]]),o.updateParallelArrays(h,n));for(y(b[0])&&d(14,!0),o.data=[],o.options.data=o.userOptions.data=t,n=a;n--;)s[n]&&s[n].destroy&&s[n].destroy();f&&(f.minRange=f.userMinRange),o.isDirty=u.isDirtyBox=!0,o.isDirtyData=!!s,n=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&u.redraw(n)},processData:function(t){var e,n=this.xData,i=this.yData,r=n.length;e=0;var o,s,a,l=this.xAxis;a=(p=this.options).cropThreshold;var u,c,h=this.getExtremesFromAll||p.getExtremesFromAll,f=this.isCartesian,p=l&&l.val2lin,g=l&&l.isLog;if(f&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(u=(t=l.getExtremes()).min,c=t.max),f&&this.sorted&&!h&&(!a||r>a||this.forceCrop)&&(n[r-1]<u||n[0]>c?(n=[],i=[]):(n[0]<u||n[r-1]>c)&&(n=(e=this.cropData(this.xData,this.yData,u,c)).xData,i=e.yData,e=e.start,o=!0)),a=n.length||1;--a;)0<(r=g?p(n[a])-p(n[a-1]):n[a]-n[a-1])&&(void 0===s||r<s)?s=r:0>r&&this.requireSorting&&d(15);this.cropped=o,this.cropStart=e,this.processedXData=n,this.processedYData=i,this.closestPointRange=s},cropData:function(t,e,n,i){var r,o=t.length,s=0,a=o,l=w(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=n){s=Math.max(0,r-l);break}for(n=r;n<o;n++)if(t[n]>i){a=n+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,n,i,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,u=s.length,c=this.cropStart||0,h=this.hasGroupedData,d=[];for(o||h||((o=[]).length=r.length,o=this.data=o),i=0;i<u;i++)e=c+i,h?(d[i]=(new l).init(this,[s[i]].concat(C(a[i]))),d[i].dataGroup=this.groupMap[i]):(o[e]?n=o[e]:void 0!==r[e]&&(o[e]=n=(new l).init(this,r[e],s[i])),d[i]=n),d[i].index=e;if(o&&(u!==(t=o.length)||h))for(i=0;i<t;i++)i!==c||h||(i+=u),o[i]&&(o[i].destroyElements(),o[i].plotX=void 0);this.data=o,this.points=d},getExtremes:function(t){var e,n,o,s,a,l=this.yAxis,u=this.processedXData,c=[],h=0,d=(e=this.xAxis.getExtremes()).min,f=e.max;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,a=0;a<e;a++)if(o=u[a],s=t[a],n=(v(s,!0)||m(s))&&(!l.isLog||s.length||0<s),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(u[a+1]||o)>=d&&(u[a-1]||o)<=f,n&&o)if(n=s.length)for(;n--;)null!==s[n]&&(c[h++]=s[n]);else c[h++]=s;this.dataMin=r(c),this.dataMax=i(c)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,n,i,r=(b=this.options).stacking,s=this.xAxis,a=s.categories,l=this.yAxis,c=this.points,h=c.length,d=!!this.modifyValue,f=b.pointPlacement,p="between"===f||v(f),g=b.threshold,m=b.startFromThreshold?g:0,y=Number.MAX_VALUE,b=0;b<h;b++){var x=c[b],C=x.x,k=x.y;e=x.low;var _,S=r&&l.stacks[(this.negStacks&&k<(m?0:g)?"-":"")+this.stackKey];l.isLog&&null!==k&&0>=k&&(x.isNull=!0),x.plotX=t=o(Math.min(Math.max(-1e5,s.translate(C,0,0,0,1,f,"flags"===this.type)),1e5)),r&&this.visible&&!x.isNull&&S&&S[C]&&(i=this.getStackIndicator(i,C,this.index),e=(k=(_=S[C]).points[i.key])[0],k=k[1],e===m&&i.key===S[C].base&&(e=w(g,l.min)),l.isLog&&0>=e&&(e=null),x.total=x.stackTotal=_.total,x.percentage=_.total&&x.y/_.total*100,x.stackY=k,_.setOffset(this.pointXOffset||0,this.barW||0)),x.yBottom=u(e)?l.translate(e,0,1,0,1):null,d&&(k=this.modifyValue(k,x)),x.plotY=e="number"==typeof k&&1/0!==k?Math.min(Math.max(-1e5,l.translate(k,0,1,0,1)),1e5):void 0,x.isInside=void 0!==e&&0<=e&&e<=l.len&&0<=t&&t<=s.len,x.clientX=p?o(s.translate(C,0,0,0,1,f)):t,x.negative=x.y<(g||0),x.category=a&&void 0!==a[x.x]?a[x.x]:x.x,x.isNull||(void 0!==n&&(y=Math.min(y,Math.abs(t-n))),n=t)}this.closestPointRangePx=y},getValidPoints:function(t,e){var n=this.chart;return g(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],u=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=u=i.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,u=this.chart,c=this.options.marker,h=this.markerGroup,d=w(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>2*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(e=l.length;e--;)t=(n=l[e]).plotY,i=n.graphic,r=n.marker||{},o=!!n.marker,s=d&&void 0===r.enabled||r.enabled,a=n.isInside,s&&v(t)&&null!==n.y?(t=w(r.symbol,this.symbol),n.hasImage=0===t.indexOf("url"),s=this.markerAttribs(n,n.selected&&"select"),i?i[a?"show":"hide"](!0).animate(s):a&&(0<s.width||n.hasImage)&&(n.graphic=i=u.renderer.symbol(t,s.x,s.y,s.width,s.height,o?r:c).add(h)),i&&i.attr(this.pointAttribs(n,n.selected&&"select")),i&&i.addClass(n.getClassName(),!0)):i&&(n.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=(r=t&&t.options)&&r.marker||{},r=w(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],r=w(e&&e.radius,n&&n.radius,r+(n&&n.radiusPlus||0))),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var n,i=this.options.marker,r=(a=t&&t.options)&&a.marker||{},o=i.lineWidth,s=this.color,a=a&&a.color,l=t&&t.color;return t&&this.zones.length&&(t=t.getZone())&&t.color&&(n=t.color),s=a||n||l||s,n=r.fillColor||i.fillColor||s,s=r.lineColor||i.lineColor||s,e&&(i=i.states[e],e=r.states&&r.states[e]||{},o=i.lineWidth||o+i.lineWidthPlus,n=e.fillColor||i.fillColor||n,s=e.lineColor||i.lineColor||s),{stroke:s,"stroke-width":o,fill:n}},destroy:function(){var t,e,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test($.navigator.userAgent),a=r.data||[];for(p(r,"destroy"),x(r),c(r.axisTypes||[],function(t){(i=r[t])&&i.series&&(h(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();for(n in r.points=null,clearTimeout(r.animationTimeout),r)r[n]instanceof _&&!r[n].survive&&(t=s&&"group"===n?"hide":"destroy",r[n][t]());for(n in o.hoverSeries===r&&(o.hoverSeries=null),h(o.series,r),r)delete r[n]},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,l=[],h=[];return(i=(t=t||o.points).reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),c(t,function(i,c){var d=i.plotX,f=i.plotY,p=t[c-1];(i.leftCliff||p&&p.rightCliff)&&!n&&(r=!0),i.isNull&&!u(e)&&0<c?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===c||r?c=["M",i.plotX,i.plotY]:o.getPointSpline?c=o.getPointSpline(t,i,c):a?(c=1===a?["L",p.plotX,f]:2===a?["L",(p.plotX+d)/2,p.plotY,"L",(p.plotX+d)/2,f]:["L",d,p.plotY]).push("L",d,f):c=["L",d,f],h.push(i.x),a&&h.push(i.x),l.push.apply(l,c),r=!1)}),l.xMap=h,o.graphPath=l},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];c(this.zones,function(n,r){i.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(n.className||""),n.color||t.color,n.dashStyle||e.dashStyle])}),c(i,function(i,r){var o=i[0],s=t[o];s?(s.endX=n.xMap,s.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),s={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[o].attr(s).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},applyZones:function(){var t,e,n,i,r,o,s,a,l,u=this,h=this.chart,d=h.renderer,f=this.zones,p=this.clips||[],g=this.graph,m=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=h.inverted,x=!1;f.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,g&&g.hide(),m&&m.hide(),i=y.getExtremes(),c(f,function(c,f){t=r?o?h.plotWidth:0:o?0:y.toPixels(i.min),t=Math.min(Math.max(w(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(w(c.value,i.max),!0)),0),v),x&&(t=e=y.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(n={x:b?l:a,y:0,width:s,height:v},o||(n.x=h.plotHeight-n.x)):(n={x:0,y:b?l:a,width:v,height:s},o&&(n.y=h.plotWidth-n.y)),b&&d.isVML&&(n=y.isXAxis?{x:0,y:r?a:l,height:n.width,width:h.chartWidth}:{x:n.y-h.plotLeft-h.spacingBox.x,y:0,width:n.height,height:h.chartHeight}),p[f]?p[f].animate(n):(p[f]=d.clipRect(n),g&&u["zone-graph-"+f].clip(p[f]),m&&u["zone-area-"+f].clip(p[f])),x=c.value>i.max}),this.clips=p)},invertGroups:function(t){function n(){var e={width:i.yAxis.len,height:i.xAxis.len};c(["group","markerGroup"],function(n){i[n]&&i[n].attr(e).invert(t)})}var i=this,r=i.chart;i.xAxis&&(e(r,"resize",n),e(i,"destroy",function(){x(r,"resize",n)}),n(),i.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:i||.1}).add(r),o.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,u=i.seriesGroup,c=i.inverted;t=e.plotGroup("group","series",s,a,u),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,u),o&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=S(function(){e.afterAnimate()},o)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:w(i&&i.left,t.plotLeft),translateY:w(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){var t=this,e=t.kdDimensions;delete t.kdTree,S(function(){t.kdTree=function e(n,i,r){var o,s;if(s=n&&n.length)return o=t.kdAxisArray[i%r],n.sort(function(t,e){return t[o]-e[o]}),{point:n[s=Math.floor(s/2)],left:e(n.slice(0,s),i+1,r),right:e(n.slice(s+1),i+1,r)}}(t.getValidPoints(null,!t.directTouch),e,e)},t.options.kdNow?0:1)},searchKDTree:function(t,e){var n=this,i=this.kdAxisArray[0],r=this.kdAxisArray[1],o=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return function t(e,s,a,l){var c,h,d=s.point,f=n.kdAxisArray[a%l],p=d;return h=u(e[i])&&u(d[i])?Math.pow(e[i]-d[i],2):null,c=u(e[r])&&u(d[r])?Math.pow(e[r]-d[r],2):null,c=(h||0)+(c||0),d.dist=u(c)?Math.sqrt(c):Number.MAX_VALUE,d.distX=u(h)?Math.sqrt(h):Number.MAX_VALUE,c=0>(f=e[f]-d[f])?"left":"right",h=0>f?"right":"left",s[c]&&(p=(c=t(e,s[c],a+1,l))[o]<p[o]?c:d),s[h]&&Math.sqrt(f*f)<p[o]&&(p=(e=t(e,s[h],a+1,l))[o]<p[o]?e:p),p}(t,this.kdTree,this.kdDimensions,this.kdDimensions)}})}(t),function(t){function e(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:u(e.y,o?4:n?14:-6),x:u(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}var n=t.Axis,i=t.Chart,r=t.correctFloat,o=t.defined,s=t.destroyObjectProperties,a=t.each,l=t.format,u=t.pick;t=t.Series,e.prototype={destroy:function(){s(this,this.axis)},render:function(t){var e=this.options,n=(n=e.format)?l(n,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n=(s=this.axis).chart,i=n.inverted,r=s.reversed,o=(r=this.isNegative&&!r||!this.isNegative&&r,s.translate(s.usePercentage?100:this.total,0,0,0,1)),s=s.translate(0);s=Math.abs(o-s);t=n.xAxis[0].translate(this.x)+t;var a=n.plotHeight;i={x:i?r?o:o-s:t,y:i?a-t-e:r?a-o-s:a-o,width:i?s:e,height:i?e:s};(e=this.label)&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},i.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+u(e.options.stack,""))})},n.prototype.buildStacks=function(){var t,e,n=this.series,i=u(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)n[i?e:r-e-1].setStackedPoints();for(e=r;e--;)(t=n[i?e:r-e-1]).setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)n[e].setPercentStacks()}},n.prototype.renderStackTotals=function(){var t,e,n=this.chart,i=n.renderer,r=this.stacks,o=this.stackTotalGroup;for(t in o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop),r)for(e in n=r[t])n[e].render(o)},n.prototype.resetStacks=function(){var t,e,n=this.stacks;if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].touched<this.stacksTouched?(n[t][e].destroy(),delete n[t][e]):(n[t][e].total=null,n[t][e].cum=0)},n.prototype.cleanStacks=function(){var t,e,n;if(!this.isXAxis)for(e in this.oldStacks&&(t=this.stacks=this.oldStacks),t)for(n in t[e])t[e][n].cum=t[e][n].total},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,n,i,s,a,l,c,h=this.processedXData,d=this.processedYData,f=[],p=d.length,g=(y=this.options).threshold,m=y.startFromThreshold?g:0,v=y.stack,y=y.stacking,b=this.stackKey,w="-"+b,x=this.negStacks,C=this.yAxis,k=C.stacks,_=C.oldStacks;for(C.stacksTouched+=1,a=0;a<p;a++)l=h[a],c=d[a],s=(t=this.getStackIndicator(t,l,this.index)).key,k[i=(n=x&&c<(m?0:g))?w:b]||(k[i]={}),k[i][l]||(_[i]&&_[i][l]?(k[i][l]=_[i][l],k[i][l].total=null):k[i][l]=new e(C,C.options.stackLabels,n,l,v)),i=k[i][l],null!==c&&(i.points[s]=i.points[this.index]=[u(i.cum,m)],o(i.cum)||(i.base=s),i.touched=C.stacksTouched,0<t.index&&!1===this.singleStacks&&(i.points[s][0]=i.points[this.index+","+l+",0"][0])),"percent"===y?(n=n?b:w,x&&k[n]&&k[n][l]?(n=k[n][l],i.total=n.total=Math.max(n.total,i.total)+Math.abs(c)||0):i.total=r(i.total+(Math.abs(c)||0))):i.total=r(i.total+(c||0)),i.cum=u(i.cum,m)+(c||0),null!==c&&(i.points[s].push(i.cum),f[a]=i.cum);"percent"===y&&(C.usePercentage=!0),this.stackedYData=f,C.oldStacks={}}},t.prototype.setPercentStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,o=e.processedXData;a([n,"-"+n],function(n){for(var s,a,l=o.length;l--;)s=o[l],t=e.getStackIndicator(t,s,e.index,n),(s=(a=i[n]&&i[n][s])&&a.points[t.key])&&(a=a.total?100/a.total:0,s[0]=r(s[0]*a),s[1]=r(s[1]*a),e.stackedYData[l]=s[1])})},t.prototype.getStackIndicator=function(t,e,n,i){return!o(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(t),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.createElement,o=t.css,s=t.defined,a=t.each,l=t.erase,u=t.extend,c=t.fireEvent,h=t.inArray,d=t.isNumber,f=t.isObject,p=t.merge,g=t.pick,m=t.Point,v=t.Series,y=t.seriesTypes,b=t.setAnimation,w=t.splat;u(t.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=g(e,!0),c(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options;t=p(t,{index:this[o].length,isX:e}),new i(this,t),s[o]=w(s[o]||{}),s[o].push(t),g(n,!0)&&this.redraw(r)},showLoading:function(t){var i=this,s=i.options,a=i.loadingDiv,l=s.loading,c=function(){a&&o(a,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};a||(i.loadingDiv=a=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,a),e(i,"redraw",c)),a.className="highcharts-loading",i.loadingSpan.innerHTML=t||s.lang.loading,o(a,u(l.style,{zIndex:10})),o(i.loadingSpan,l.labelStyle),i.loadingShown||(o(a,{opacity:0,display:""}),n(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:["chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions"],update:function(t,e){var n,i,r,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart;if(l){for(n in p(!0,this.options.chart,l),"className"in l&&this.setClassName(l.className),("inverted"in l||"polar"in l)&&(this.propFromSeries(),i=!0),l)l.hasOwnProperty(n)&&(-1!==h("chart."+n,this.propsRequireUpdateSeries)&&(r=!0),-1!==h(n,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in l&&this.renderer.setStyle(l.style)}for(n in t)this[n]&&"function"==typeof this[n].update?this[n].update(t[n],!1):"function"==typeof this[o[n]]&&this[o[n]](t[n]),"chart"!==n&&-1!==h(n,this.propsRequireUpdateSeries)&&(r=!0);t.colors&&(this.options.colors=t.colors),t.plotOptions&&p(!0,this.options.plotOptions,t.plotOptions),a(["xAxis","yAxis","series"],function(e){t[e]&&a(w(t[e]),function(t){var n=s(t.id)&&this.get(t.id)||this[e][0];n&&n.coll===e&&n.update(t,!1)},this)},this),i&&a(this.axes,function(t){t.update({},!1)}),r&&a(this.series,function(t){t.update({},!1)}),t.loading&&p(!0,this.options.loading,t.loading),n=l&&l.width,l=l&&l.height,d(n)&&n!==this.chartWidth||d(l)&&l!==this.chartHeight?this.setSize(n,l):g(e,!0)&&this.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(m.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),o=s.index,a.updateParallelArrays(s,o),c.data[o]=f(c.data[o],!0)?s.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(n)}var o,s=this,a=s.series,l=s.graphic,u=a.chart,c=a.options;e=g(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(h(this,this.series.data),t,e)}}),u(v.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,u=this.data,c=this.chart,h=this.xAxis&&this.xAxis.names,d=l.data,f=this.xData;if(e=g(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,this.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),h&&r.name&&(h[a]=r.name),d.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(r,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};b(n,a),e=g(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),g(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?c(r,"remove",null,i):i()},update:function(t,e){var n,i=this,r=this.chart,o=this.userOptions,s=this.type,l=t.type||o.type||r.options.chart.type,c=y[s].prototype,h=["group","markerGroup","dataLabelsGroup"];for(n in(l&&l!==s||void 0!==t.zIndex)&&(h.length=0),a(h,function(t){h[t]=i[t],delete i[t]}),t=p(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1,null,!1),c)this[n]=void 0;u(this,y[l||s].prototype),a(h,function(t){i[t]=h[t]}),this.init(r,t),r.linkSeries(),g(e,!0)&&r.redraw(!1)}}),u(i.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=p(this.userOptions,t),this.destroy(!0),this.init(n,u(t,{events:void 0})),n.isDirtyBox=!0,g(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),e.options[n].splice(this.options.index,1),a(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,g(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(t),function(t){var e=t.color,n=t.each,i=t.map,r=t.pick,o=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var t,e,o,s=[],a=[],l=this.xAxis,u=this.yAxis,c=u.stacks[this.stackKey],h={},d=this.points,f=this.index,p=u.series,g=p.length,m=r(u.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<d.length;e++)h[d[e].x]=d[e];for(o in c)null!==c[o].total&&a.push(o);a.sort(function(t,e){return t-e}),t=i(p,function(){return this.visible}),n(a,function(i,r){var o,d,p=0;if(h[i]&&!h[i].isNull)s.push(h[i]),n([-1,1],function(n){var s=1===n?"rightNull":"leftNull",l=0,u=c[a[r+n]];if(u)for(e=f;0<=e&&e<g;)(o=u.points[e])||(e===f?h[i][s]=!0:t[e]&&(d=c[i].points[e])&&(l-=d[1]-d[0])),e+=m;h[i][1===n?"rightCliff":"leftCliff"]=l});else{for(e=f;0<=e&&e<g;){if(o=c[i].points[e]){p=o[1];break}e+=m}p=u.toPixels(p,!0),s.push({isNull:!0,plotX:l.toPixels(i,!0),plotY:p,yBottom:p})}})}return s},getGraphPath:function(t){var e,n,i,s,a=o.prototype.getGraphPath,l=(m=this.options).stacking,u=this.yAxis,c=[],h=[],d=this.index,f=u.stacks[this.stackKey],p=m.threshold,g=u.getThreshold(m.threshold),m=m.connectNulls||"percent"===l,v=function(e,n,r){var o=t[e];e=l&&f[o.x].points[d];var s=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var a,m;o=!0;r||s?(a=(s?e[0]:e[1])+r,m=e[0]+r,o=!!s):!l&&t[n]&&t[n].isNull&&(a=m=p),void 0!==a&&(h.push({plotX:i,plotY:null===a?g:u.getThreshold(a),isNull:o}),c.push({plotX:i,plotY:null===m?g:u.getThreshold(m),doCurve:!1}))};for(t=t||this.points,l&&(t=this.getStackPoints()),e=0;e<t.length;e++)n=t[e].isNull,i=r(t[e].rectPlotX,t[e].plotX),s=r(t[e].yBottom,g),(!n||m)&&(m||v(e,e-1,"left"),n&&!l&&m||(h.push(t[e]),c.push({x:e,plotX:i,plotY:s})),m||v(e,e+1,"right"));return e=a.call(this,h,!0,!0),c.reversed=!0,(n=a.call(this,c,!0,!0)).length&&(n[0]="L"),n=e.concat(n),a=a.call(this,h,!1,m),n.xMap=e.xMap,this.areaPath=n,a},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,s=this.options,a=[["area","highcharts-area",this.color,s.fillColor]];n(this.zones,function(e,n){a.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||s.fillColor])}),n(a,function(n){var o=n[0],a=t[o];a?(a.endX=i.xMap,a.animate({d:i})):(a=t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:r(n[3],e(n[2]).setOpacity(r(s.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,a.startX=i.xMap,a.shiftUnit=s.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.extendClass,n=t.merge,i=t.pick,r=t.Series,o=t.seriesTypes;t.defaultPlotOptions.spline=n(t.defaultPlotOptions.line),o.spline=e(r,{type:"spline",getPointSpline:function(t,e,n){var r,o,s,a,l=e.plotX,u=e.plotY,c=t[n-1];if(n=t[n+1],c&&!c.isNull&&!1!==c.doCurve&&n&&!n.isNull&&!1!==n.doCurve){t=c.plotY,s=n.plotX;var h=0;o=(1.5*u+t)/2.5,a=(1.5*u+(n=n.plotY))/2.5,(s=(1.5*l+s)/2.5)!==(r=(1.5*l+c.plotX)/2.5)&&(h=(a-o)*(s-l)/(s-r)+u-a),a+=h,(o+=h)>t&&o>u?a=2*u-(o=Math.max(t,u)):o<t&&o<u&&(a=2*u-(o=Math.min(t,u))),a>n&&a>u?o=2*u-(a=Math.max(n,u)):a<n&&a<u&&(o=2*u-(a=Math.min(n,u))),e.rightContX=s,e.rightContY=a}return e=["C",i(c.rightContX,c.plotX),i(c.rightContY,c.plotY),i(r,l),i(o,u),l,u],c.rightContX=c.rightContY=null,e}})}(t),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,o=t.isNumber,s=t.merge,a=t.pick,l=t.Series,u=t.seriesType,c=t.stop,h=t.svg;u("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,s=r.reversed,l={},u=0;!1===n.grouping?u=1:i(e.chart.series,function(n){var i,r=n.options,s=n.yAxis;n.type===e.type&&n.visible&&o.len===s.len&&o.pos===s.pos&&(r.stacking?(t=n.stackKey,void 0===l[t]&&(l[t]=u++),i=l[t]):!1!==r.grouping&&(i=u++),n.columnIndex=i)});var c=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),h=c*n.groupPadding,d=(c-2*h)/u;n=Math.min(n.maxPointWidth||r.len,a(n.pointWidth,d*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(d-n)/2+(h+((e.columnIndex||0)+(s?1:0))*d-c/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=-((s=this.borderWidth)%2?.5:0),s=s%2?.5:1;return r.inverted&&r.renderer.isVML&&(s+=1),n=Math.round(t+n)+o,t=Math.round(t)+o,i=Math.round(e+i)+s,o=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+s,o&&i&&(--e,i+=1),{x:t,y:e,width:n-t,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,o=(r=t.borderWidth=a(n.borderWidth,r?0:1),t.yAxis),s=t.translatedThreshold=o.getThreshold(n.threshold),u=a(n.minPointLength,5),c=t.getColumnMetrics(),h=c.width,d=t.barW=Math.max(h,1+2*r),f=t.pointXOffset=c.offset;e.inverted&&(s-=.5),n.pointPadding&&(d=Math.ceil(d)),l.prototype.translate.apply(t),i(t.points,function(n){var i,r=a(n.yBottom,s),l=999+Math.abs(r),c=(l=Math.min(Math.max(-l,n.plotY),o.len+l),n.plotX+f),p=d,g=Math.min(l,r),m=Math.max(l,r)-g;Math.abs(m)<u&&u&&(m=u,i=!o.reversed&&!n.negative||o.reversed&&n.negative,g=Math.abs(g-s)>u?r-u:s-(i?u:0)),n.barX=c,n.pointWidth=h,n.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-c-p/2,m]:[c+p/2,l+o.pos-e.plotTop,m],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[n.plotX,o.len/2,0,0]:[c,g,p,m])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r=this.options,o=(u=this.pointAttrToOptions||{}).stroke||"borderColor",s=u["stroke-width"]||"borderWidth",a=t&&t.color||this.color,l=t[o]||r[o]||this.color||a,u=r.dashStyle;return t&&this.zones.length&&(a=(a=t.getZone())&&a.color||t.options.color||this.color),e&&(i=(e=r.states[e]).brightness,a=e.color||void 0!==i&&n(a).brighten(e.brightness).get()||a,l=e[o]||l,u=e.dashStyle||u),t={fill:a,stroke:l,"stroke-width":t[s]||r[s]||this[s]||0},r.borderRadius&&(t.r=r.borderRadius),u&&(t.dashstyle=u),t},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,a=n.renderer,l=r.animationLimit||250;i(e.points,function(i){var u=i.graphic;o(i.plotY)&&null!==i.y?(t=i.shapeArgs,u?(c(u),u[n.pointCount<l?"animate":"attr"](s(t))):i.graphic=u=a[i.shapeType](t).attr({class:i.getClassName()}).add(i.group||e.group),u.attr(e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):u&&(i.graphic=u.destroy())})},animate:function(t){var n=this,i=this.yAxis,o=n.options,s=this.chart.inverted,a={};h&&(t?(a.scaleY=.001,t=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(o.threshold))),s?a.translateX=t-i.len:a.translateY=t,n.group.attr(a)):(a[s?"translateX":"translateY"]=i.pos,n.group.animate(a,r(e(n.options.animation),{step:function(t,e){n.group.attr({scaleY:Math.max(.001,e.pos)})}})),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(t),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(t),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(t),function(t){var e=t.pick,n=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,i,r=this.options,o=this.chart,s=2*(r.slicedOffset||0),a=o.plotWidth-2*s,l=(o=o.plotHeight-2*s,r.center),u=(l=[e(l[0],"50%"),e(l[1],"50%"),r.size||"100%",r.innerSize||0],Math.min(a,o));for(t=0;4>t;++t)i=l[t],r=2>t||2===t&&/%$/.test(i),l[t]=n(i,[a,o,u,l[2]][t])+(r?s:0);return l[3]>l[2]&&(l[3]=l[2]),l}}}(t),function(t){var e=t.addEvent,n=t.defined,i=t.each,r=t.extend,o=t.inArray,s=t.noop,a=t.pick,l=t.Point,u=t.Series,c=t.seriesType,h=t.setAnimation;c("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,r=e.startAngleRad;t||(i(n,function(t){var n=t.graphic,i=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)0>(e=i[t]).y&&(e.y=null),n+=o&&!e.visible?0:e.y;for(this.total=n,t=0;t<r;t++)(e=i[t]).percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){u.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,s=0,l=(p=this.options).slicedOffset,u=l+(p.borderWidth||0),c=p.startAngle||0,h=this.startAngleRad=Math.PI/180*(c-90),d=(c=(this.endAngleRad=Math.PI/180*(a(p.endAngle,c+360)-90))-h,this.points),f=p.dataLabels.distance,p=p.ignoreHiddenPoint,g=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+f),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+f)},r=0;r<g;r++)o=d[r],e=h+s*c,p&&!o.visible||(s+=o.percentage/100),n=h+s*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},(i=(n+e)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),o.slicedTranslation={translateX:Math.round(Math.cos(i)*l),translateY:Math.round(Math.sin(i)*l)},e=Math.cos(i)*t[2]/2,n=Math.sin(i)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*n],o.half=i<-Math.PI/2||i>Math.PI/2?1:0,o.angle=i,u=Math.min(u,f/5),o.labelPos=[t[0]+e+Math.cos(i)*f,t[1]+n+Math.sin(i)*f,t[0]+e+Math.cos(i)*u,t[1]+n+Math.sin(i)*u,t[0]+e,t[1]+n,0>f?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,o,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),i(s.points,function(i){if(null!==i.y){e=i.graphic,o=i.shapeArgs,t=i.sliced?i.slicedTranslation:{};var u=i.shadowGroup;l&&!u&&(u=i.shadowGroup=a.g("shadow").add(s.shadowGroup)),u&&u.attr(t),n=s.pointAttribs(i,i.selected&&"select"),e?e.setRadialReference(s.center).attr(n).animate(r(o,t)):(i.graphic=e=a[i.shapeType](o).addClass(i.getClassName()).setRadialReference(s.center).attr(t).add(s.group),i.visible||e.attr({visibility:"hidden"}),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,u))}})},searchPoint:s,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:t.CenteredSeriesMixin.getCenter,getSymbol:s},{init:function(){l.prototype.init.apply(this,arguments);var t,n=this;return n.name=a(n.name,"Slice"),e(n,"select",t=function(t){n.slice("select"===t.type)}),e(n,"unselect",t),n},setVisible:function(t,e){var n=this,r=n.series,s=r.chart,l=r.options.ignoreHiddenPoint;e=a(e,l),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,r.options.data[o(n,r.data)]=n.options,i(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&s.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),l&&(r.isDirty=!0),e&&s.redraw())},slice:function(t,e,i){var r=this.series;h(i,r.chart),a(e,!0),this.sliced=this.options.sliced=t=n(t)?t:!this.sliced,r.options.data[o(this,r.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(t),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,u=t.noop,c=t.pick,h=t.relativeLength,d=t.Series,f=t.seriesTypes,p=t.stableSort,g=t.stop;t.distribute=function(t,e){function n(t,e){return t.target-e.target}var i,o,s=!0,l=t,u=[];for(o=0,i=t.length;i--;)o+=t[i].size;if(o>e){for(p(t,function(t,e){return(e.rank||0)-(t.rank||0)}),o=i=0;o<=e;)o+=t[i].size,i++;u=t.splice(i-1,t.length)}for(p(t,n),t=a(t,function(t){return{size:t.size,targets:[t.target]}});s;){for(i=t.length;i--;)s=t[i],o=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=Math.min(Math.max(0,o-s.size/2),e-s.size);for(i=t.length,s=!1;i--;)0<i&&t[i-1].pos+t[i-1].size>t[i].pos&&(t[i-1].size+=t[i].size,t[i-1].targets=t[i-1].targets.concat(t[i].targets),t[i-1].pos+t[i-1].size>e&&(t[i-1].pos=e-t[i-1].size),t.splice(i,1),s=!0)}i=0,r(t,function(t){var e=0;r(t.targets,function(){l[i].pos=t.pos+e,e+=l[i].size,i++})}),l.push.apply(l,u),p(l,n)},d.prototype.drawDataLabels=function(){var t,n,a,u,h=this,d=h.options,f=d.dataLabels,p=h.points,g=h.hasRendered||0,m=c(f.defer,!0),v=h.chart.renderer;(f.enabled||h._hasPointLabels)&&(h.dlProcessOptions&&h.dlProcessOptions(f),u=h.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",f.zIndex||6),m&&(u.attr({opacity:+g}),g||e(h,"afterAnimate",function(){h.visible&&u.show(!0),u[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=f,r(p,function(e){var r,p,g,m,y=e.dataLabel,b=e.connector,w=!0,x={};if(t=e.dlOptions||e.options&&e.options.dataLabels,r=c(t&&t.enabled,n.enabled)&&null!==e.y,y&&!r)e.dataLabel=y.destroy();else if(r){if(m=(f=l(n,t)).style,r=f.rotation,p=e.getLabelConfig(),a=f.format?s(f.format,p):f.formatter.call(p,f),m.color=c(f.color,m.color,h.color,"#000000"),y)i(a)?(y.attr({text:a}),w=!1):(e.dataLabel=y=y.destroy(),b&&(e.connector=b.destroy()));else if(i(a)){for(g in y={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:r,padding:f.padding,zIndex:1},"contrast"===m.color&&(x.color=f.inside||0>f.distance||d.stacking?v.getContrast(e.color||h.color):"#000000"),d.cursor&&(x.cursor=d.cursor),y)void 0===y[g]&&delete y[g];(y=e.dataLabel=v[r?"text":"label"](a,0,-9999,f.shape,null,null,f.useHTML,null,"data-label").attr(y)).addClass("highcharts-data-label-color-"+e.colorIndex+" "+(f.className||"")),y.css(o(m,x)),y.add(u),y.shadow(f.shadow)}y&&h.alignDataLabel(e,y,f,null,w)}}))},d.prototype.alignDataLabel=function(t,e,n,i,r){var s,a=this.chart,l=a.inverted,u=c(t.plotX,-9999),h=c(t.plotY,-9999),d=e.getBBox(),f=n.rotation,p=n.align,m=this.visible&&(t.series.forceDL||a.isInsidePlot(u,Math.round(h),l)||i&&a.isInsidePlot(u,l?i.x+1:i.y+i.height-1,l)),v="justify"===c(n.overflow,"justify");m&&(s=n.style.fontSize,s=a.renderer.fontMetrics(s,e).b,i=o({x:l?a.plotWidth-h:u,y:Math.round(l?a.plotHeight-u:h),width:0,height:0},i),o(n,{width:d.width,height:d.height}),f?(v=!1,l=a.renderer.rotCorr(s,f),l={x:i.x+n.x+i.width/2+l.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](l).attr({align:p}),u=180<(u=(f+720)%360)&&360>u,"left"===p?l.y-=u?d.height:0:"center"===p?(l.x-=d.width/2,l.y-=d.height/2):"right"===p&&(l.x-=d.width,l.y-=u?0:d.height)):(e.align(n,null,i),l=e.alignAttr),v?this.justifyDataLabel(e,n,l,d,i,r):c(n.crop,!0)&&(m=a.isInsidePlot(l.x,l.y)&&a.isInsidePlot(l.x+d.width,l.y+d.height)),n.shape&&!f&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),m||(g(e),e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;0>(s=n.x+h)&&("right"===u?e.align="left":e.x=-s,a=!0),(s=n.x+i.width-h)>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-s,a=!0),0>(s=n.y+h)&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),(s=n.y+i.height-h)>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,i,o,s,l,u,h,f,p,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,w=c(b.connectorPadding,10),x=c(b.connectorWidth,1),C=y.plotWidth,k=y.plotHeight,_=b.distance,S=m.center,$=S[2]/2,E=S[1],T=0<_,D=[[],[]],M=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(d.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&t.visible&&(D[t.half].push(t),t.dataLabel._pos=null)}),r(D,function(n,i){var r,c,d,v,x,T=n.length;if(T)for(m.sortByAngle(n,i-.5),0<_&&(r=Math.max(0,E-$-_),c=Math.min(E+$+_,y.plotHeight),d=a(n,function(t){if(t.dataLabel)return x=t.dataLabel.getBBox().height||21,{target:t.labelPos[1]-r+x/2,size:x,rank:t.y}}),t.distribute(d,c+x-r)),g=0;g<T;g++)e=n[g],l=e.labelPos,o=e.dataLabel,p=!1===e.visible?"hidden":"inherit",v=l[1],d?void 0===d[g].pos?p="hidden":(u=d[g].size,f=r+d[g].pos):f=v,h=b.justify?S[0]+(i?-1:1)*($+_):m.getX(f<r+2||f>c-2?v:f,i),o._attr={visibility:p,align:l[6]},o._pos={x:h+b.x+({left:w,right:-w}[l[6]]||0),y:f+b.y-10},l.x=h,l.y=f,null===m.options.size&&(s=o.width,h-s<w?M[3]=Math.max(Math.round(s-h+w),M[3]):h+s>C-w&&(M[1]=Math.max(Math.round(h+s-C+w),M[1])),0>f-u/2?M[0]=Math.max(Math.round(u/2-f),M[0]):f+u/2>k&&(M[2]=Math.max(Math.round(f+u/2-k),M[2])))}),0===n(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),T&&x&&r(this.points,function(t){var e;i=t.connector,(o=t.dataLabel)&&o._pos&&t.visible?(p=o._attr.visibility,(e=!i)&&(t.connector=i=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),i.attr({"stroke-width":x,stroke:b.connectorColor||t.color||"#666666"})),i[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),i.attr("visibility",p)):i&&(t.connector=i.destroy())}))},f.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return c(this.options.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},f.pie.prototype.alignDataLabel=u,f.pie.prototype.verifyDataLabelOverflow=function(t){var e,n,i=this.center,r=this.options,o=r.center,s=r.minSize||80;return null!==o[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),s):(e=Math.max(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==o[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),s):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(h(r.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):n=!0,n}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,u=c(t.below,t.plotY>c(this.translatedThreshold,s.yAxis.len)),h=c(n.inside,!!this.options.stacking);a&&(0>(i=l(a)).y&&(i.height+=i.y,i.y=0),0<(a=i.y+i.height-s.yAxis.len)&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),h||(o?(i.x+=u?0:i.width,i.width=0):(i.y+=u?i.height:0,i.height=0))),n.align=c(n.align,!o||h?"center":u?"right":"left"),n.verticalAlign=c(n.verticalAlign,o||h?"middle":u?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,n,i,r)})}(t),function(t){var e=t.Chart,n=t.each,i=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];n(t.series,function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&n(o,function(r){n(t.points,function(t){t[r]&&(t[r].labelrank=i(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l,u,c,h=t.length,d=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)};for(i=0;i<h;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<h;i++)for(r=t[i],e=i+1;e<h;++e)o=t[e],r&&o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(s=r.alignAttr,a=o.alignAttr,l=r.parentGroup,u=o.parentGroup,c=2*(r.box?0:r.padding),s=d(s.x+l.translateX,s.y+l.translateY,r.width-c,r.height-c,a.x+u.translateX,a.y+u.translateY,o.width-c,o.height-c))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(t),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,u=t.extend,c=t.fireEvent,h=t.hasTouch,d=t.inArray,f=t.isObject,p=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,w=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=function(t){for(var n,i=t.target;i&&!n;)n=i.point,i=i.parentNode;void 0!==n&&n!==e.hoverPoint&&n.onMouseOver(t)};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){n.onTrackerMouseOut(t)}),h&&t[e].on("touchstart",i),t.options.cursor&&t[e].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,u=s.renderer,c=s.options.tooltip.snap,d=e.tracker,f=function(){s.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(w?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-c,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+c,r[t-1]);d?d.attr({d:r}):e.graph&&(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:p,fill:i?p:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*c),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),h&&t.on("touchstart",f)}))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),u(p.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.seriesGroup.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i.itemStyle:i.itemHiddenStyle),r.seriesGroup.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):c(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),s.legend.itemStyle.cursor="pointer",u(i.prototype,{showResetZoom:function(){var t=this,e=s.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,o)},zoomOut:function(){var t=this;c(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?l(this.axes,function(t){e=t.zoom()}):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,o=n.isXAxis;(i[o?"zoomX":"zoomY"]||i[o?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&f(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){var r=(e=i[e?"xAxis":"yAxis"][0]).horiz,o=t[r?"chartX":"chartY"],s=i[r=r?"mouseDownX":"mouseDownY"],a=(e.pointRange||0)/2,l=e.getExtremes(),u=e.toValue(s-o,!0)+a;a=e.toValue(s+e.len-o,!0)-a,s=s>o;e.series.length&&(s||u>Math.min(l.dataMin,l.min))&&(!s||a<Math.max(l.dataMax,l.max))&&(e.setExtremes(u,a,!1,!1,{trigger:"pan"}),n=!0),i[r]=o}),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),u(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=m(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[d(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[d(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var n=this.series,i=n.chart,r=i.tooltip,o=i.hoverPoint;this.series&&(e||(o&&o!==this&&o.onMouseOut(),i.hoverSeries!==n&&n.onMouseOver(),i.hoverPoint=this),!r||r.shared&&!n.noSharedTooltip?r||this.setState("hover"):(this.setState("hover"),r.refresh(this,t)),this.firePointEvent("mouseOver"))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==d(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=g(this.series.options.point,this.options).events;for(t in this.events=e,e)n(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(e,n){var i,r=Math.floor(this.plotX),o=this.plotY,s=this.series,l=s.options.states[e]||{},c=a[s.type].marker&&s.options.marker,h=c&&!1===c.enabled,d=c&&c.states&&c.states[e]||{},f=!1===d.enabled,p=s.stateMarkerGraphic,g=this.marker||{},v=s.chart,y=s.halo;(e=e||"")===this.state&&!n||this.selected&&"select"!==e||!1===l.enabled||e&&(f||h&&!1===d.enabled)||e&&g.states&&g.states[e]&&!1===g.states[e].enabled||(c&&s.markerAttribs&&(i=s.markerAttribs(this,e)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),e&&this.graphic.addClass("highcharts-point-"+e),this.graphic.attr(s.pointAttribs(this,e)),i&&this.graphic.animate(i,m(v.options.chart.animation,d.animation,c.animation)),p&&p.hide()):(e&&d&&(c=g.symbol||s.symbol,p&&p.currentSymbol!==c&&(p=p.destroy()),p?p[n?"animate":"attr"]({x:i.x,y:i.y}):c&&(s.stateMarkerGraphic=p=v.renderer.symbol(c,i.x,i.y,i.width,i.height).add(s.markerGroup),p.currentSymbol=c),p&&p.attr(s.pointAttribs(this,e))),p&&(p[e&&v.isInsidePlot(r,o,v.inverted)?"show":"hide"](),p.element.point=this)),(r=l.halo)&&r.size?(y||(s.halo=y=v.renderer.path().add(s.markerGroup||s.group)),t.stop(y),y[n?"animate":"attr"]({d:this.haloPath(r.size)}),y.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,s.colorIndex)}),y.attr(u({fill:this.color||s.color,"fill-opacity":r.opacity,zIndex:-1},r.attributes))):y&&y.animate({d:this.haloPath(0)}),this.state=e)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!n||t.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth;n=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup],function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle))for(r={"stroke-width":o},i.attr(r);e["zone-graph-"+n];)e["zone-graph-"+n].attr(r),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),c(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isObject,o=t.pick,s=t.splat;e.prototype.setResponsive=function(t){var e=this.options.responsive;e&&e.rules&&n(e.rules,function(e){this.matchResponsiveRule(e,t)},this)},e.prototype.matchResponsiveRule=function(e,n){var i,r=this.respRules,s=e.condition;i=e.callback||function(){return this.chartWidth<=o(s.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(s.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(s.minWidth,0)&&this.chartHeight>=o(s.minHeight,0)},void 0===e._id&&(e._id=t.idCounter++),i=i.call(this),!r[e._id]&&i?e.chartOptions&&(r[e._id]=this.currentOptions(e.chartOptions),this.update(e.chartOptions,n)):r[e._id]&&!i&&(this.update(r[e._id],n),delete r[e._id])},e.prototype.currentOptions=function(t){var e={};return function t(e,n,o){var a,l;for(a in e)if(-1<i(a,["series","xAxis","yAxis"]))for(e[a]=s(e[a]),o[a]=[],l=0;l<e[a].length;l++)o[a][l]={},t(e[a][l],n[a][l],o[a][l]);else r(e[a])?(o[a]={},t(e[a],n[a]||{},o[a])):o[a]=n[a]||null}(t,this.options,e),e}}(t),t}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";function t(t,e,n){void 0===n&&(n=0),n<0&&(n+=t.length),n<0&&(n=0);for(var i=t.length;n<i;n++)if(n in t&&t[n]===e)return n;return-1}function e(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(this,t),i?i.apply(this,t):void 0}}function n(t,e){if(angular.isArray(e)){t=angular.isArray(t)?t:[];for(var i=0;i<e.length;i++)t[i]=n(t[i]||{},e[i])}else if(angular.isObject(e))for(var r in t=angular.isObject(t)?t:{},e)t[r]=n(t[r]||{},e[r]);else t=e;return t}angular.module("highcharts-ng",[]).factory("highchartsNG",["$q","$window",function(t,e){var n=t.when(e.Highcharts);function i(){return n}return{getHighcharts:i,ready:function(t,e){i().then(function(){t.call(e)})}}}]).directive("highchart",["highchartsNG","$timeout",function(i,r){var o=0,s=function(t){var e=!1;return angular.forEach(t,function(t){angular.isDefined(t.id)||(t.id="series-"+o++,e=!0)}),e},a=["xAxis","yAxis"],l={stock:"StockChart",map:"Map",chart:"Chart"},u=function(t,i,o){var s={},l={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1},xAxis:{events:{}},yAxis:{events:{}}};return(s=o.options?n(l,o.options):l).chart.renderTo=i[0],angular.forEach(a,function(i){angular.isDefined(o[i])&&(s[i]=n(s[i]||{},o[i]),(angular.isDefined(o[i].currentMin)||angular.isDefined(o[i].currentMax))&&(e(s.chart.events,"selection",function(e){var n=this;e[i]?t.$apply(function(){t.config[i].currentMin=e[i][0].min,t.config[i].currentMax=e[i][0].max}):t.$apply(function(){t.config[i].currentMin=n[i][0].dataMin,t.config[i].currentMax=n[i][0].dataMax})}),e(s.chart.events,"addSeries",function(e){t.config[i].currentMin=this[i][0].min||t.config[i].currentMin,t.config[i].currentMax=this[i][0].max||t.config[i].currentMax}),e(s[i].events,"setExtremes",function(e){e.trigger&&"zoom"!==e.trigger&&r(function(){t.config[i].currentMin=e.min,t.config[i].currentMax=e.max,t.config[i].min=e.min,t.config[i].max=e.max},0)})))}),o.title&&(s.title=o.title),o.subtitle&&(s.subtitle=o.subtitle),o.credits&&(s.credits=o.credits),o.size&&(o.size.width&&(s.chart.width=o.size.width),o.size.height&&(s.chart.height=o.size.height)),s},c=function(t,e){var n=t.getExtremes();e.currentMin===n.dataMin&&e.currentMax===n.dataMax||(t.setExtremes?t.setExtremes(e.currentMin,e.currentMax,!1):t.detachedsetExtremes(e.currentMin,e.currentMax,!1))},h=function(t,e,n){(e.currentMin||e.currentMax)&&t[n][0].setExtremes(e.currentMin,e.currentMax,!0)},d=function(t){return angular.extend(n({},t),{data:null,visible:null})},f=function(t){return void 0===t.config?"Chart":l[(""+t.config.chartType).toLowerCase()]||(t.config.useHighStocks?"StockChart":"Chart")};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:function(e,n,o){i.getHighcharts().then(function(i){!function(e,n,i,o){var l={},p=!1,g=function(e,i){var r,o=[];if(e){var a=s(e);if(a&&!n.disableDataWatch)return!1;if(angular.forEach(e,function(t,e){o.push(t.id);var n=p.get(t.id);if(n)if(angular.equals(l[t.id],d(t)))if(void 0!==t.visible&&n.visible!==t.visible&&n.setVisible(t.visible,!1),e<i.length){var r=i[e],s=angular.copy(r),a=t.data[t.data.length-1];s.data.push(a),angular.equals(s,t)?n.addPoint(a,!1):(s.data.shift(),angular.equals(s,t)?n.addPoint(a,!1,!0):n.setData(angular.copy(t.data),!1))}else n.setData(angular.copy(t.data),!1);else n.update(angular.copy(t),!1);else p.addSeries(angular.copy(t),!1);l[t.id]=d(t)}),n.config.noData){var u=!1;for(r=0;r<e.length;r++)if(e[r].data&&e[r].data.length>0){u=!0;break}u?p.hideLoading():p.showLoading(n.config.noData)}}for(r=p.series.length-1;r>=0;r--){var c=p.series[r];"highcharts-navigator-series"!==c.options.id&&t(o,c.options.id)<0&&c.remove(!1)}return!0},m=function(){p&&p.destroy(),l={};var t=n.config||{},r=u(n,i,t),o=t.func||void 0,s=f(n);p=new e[s](r,o);for(var c=0;c<a.length;c++)t[a[c]]&&h(p,t[a[c]],a[c]);t.loading&&p.showLoading(),t.getHighcharts=function(){return p}};m(),n.disableDataWatch?n.$watchCollection("config.series",function(t,e){g(t),p.redraw()}):n.$watch("config.series",function(t,e){var n=g(t,e);n&&p.redraw()},!0);n.$watch("config.title",function(t){p.setTitle(t,!0)},!0),n.$watch("config.subtitle",function(t){p.setTitle(!0,t)},!0),n.$watch("config.loading",function(t){t?p.showLoading(!0===t?null:t):p.hideLoading()}),n.$watch("config.noData",function(t){n.config&&n.config.loading&&p.showLoading(t)},!0),n.$watch("config.credits.enabled",function(t){t?p.credits.show():p.credits&&p.credits.hide()}),n.$watch(f,function(t,e){t!==e&&m()}),angular.forEach(a,function(t){n.$watch("config."+t,function(e){if(e){if(angular.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];n<p[t].length&&(p[t][n].update(i,!1),c(p[t][n],angular.copy(i)))}else p[t][0].update(e,!1),c(p[t][0],angular.copy(e));p.redraw()}},!0)}),n.$watch("config.options",function(t,e,n){t!==e&&(m(),g(n.config.series),p.redraw())},!0),n.$watch("config.size",function(t,e){t!==e&&t&&p.setSize(t.width||p.chartWidth,t.height||p.chartHeight)},!0),n.$on("highchartsng.reflow",function(){p.reflow()}),n.$on("$destroy",function(){if(p){try{p.destroy()}catch(t){}r(function(){i.remove()},0)}})}(i,e,n)})}}}])}(),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t){return"static"===(i="position",((n=t).currentStyle?n.currentStyle[i]:e.getComputedStyle?e.getComputedStyle(n)[i]:n.style[i])||"static");var n,i}return{position:function(e){var i=this.offset(e),r={top:0,left:0},o=function(e){for(var i=t[0],r=e.offsetParent||i;r&&r!==i&&n(r);)r=r.offsetParent;return r||i}(e[0]);return o!=t[0]&&((r=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft),{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:i.top-r.top,left:i.left-r.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].body.scrollTop||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].body.scrollLeft||t[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(t,e,n,i){var r={day:a(e.dayFormat,i.dayFormat),month:a(e.monthFormat,i.monthFormat),year:a(e.yearFormat,i.yearFormat),dayHeader:a(e.dayHeaderFormat,i.dayHeaderFormat),dayTitle:a(e.dayTitleFormat,i.dayTitleFormat),monthTitle:a(e.monthTitleFormat,i.monthTitleFormat)},o=a(e.startingDay,i.startingDay),s=a(e.yearRange,i.yearRange);function a(e,n){return angular.isDefined(e)?t.$parent.$eval(e):n}function l(t,e,i,r){return{date:t,label:n(t,e),selected:!!i,secondary:!!r}}this.minDate=i.minDate?new Date(i.minDate):null,this.maxDate=i.maxDate?new Date(i.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(t,e){var i=t.getFullYear(),s=t.getMonth(),a=new Date(i,s,1),u=o-a.getDay(),c=u>0?7-u:-u,h=new Date(a),d=0;c>0&&(h.setDate(1-c),d+=c),d+=function(t,e){return new Date(t,e,0).getDate()}(i,s+1);for(var f=function(t,e){for(var n=new Array(e),i=t,r=0;r<e;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}(h,d+=(7-d%7)%7),p=new Array(7),g=0;g<d;g++){var m=new Date(f[g]);f[g]=l(m,r.day,e&&e.getDate()===m.getDate()&&e.getMonth()===m.getMonth()&&e.getFullYear()===m.getFullYear(),m.getMonth()!==s)}for(var v=0;v<7;v++)p[v]=n(f[v].date,r.dayHeader);return{objects:f,title:n(t,r.dayTitle),labels:p}},compare:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(t,e){for(var i=new Array(12),o=t.getFullYear(),s=0;s<12;s++){var a=new Date(o,s,1);i[s]=l(a,r.month,e&&e.getMonth()===s&&e.getFullYear()===o)}return{objects:i,title:n(t,r.monthTitle)}},compare:function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(t,e){for(var n=new Array(s),i=t.getFullYear(),o=parseInt((i-1)/s,10)*s+1,a=0;a<s;a++){var u=new Date(o+a,0,1);n[a]=l(u,r.year,e&&e.getFullYear()===u.getFullYear())}return{objects:n,title:[n[0].label,n[s-1].label].join(" - ")}},compare:function(t,e){return t.getFullYear()-e.getFullYear()},split:5,step:{years:s}}],this.isDisabled=function(e,n){var i=this.modes[n||0];return this.minDate&&i.compare(e,this.minDate)<0||this.maxDate&&i.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:i.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(t,e,n,i){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,r,o,s){var a=s[0],l=s[1];if(l){var u=0,c=new Date,h=n.showWeeks;o.showWeeks?t.$parent.$watch(e(o.showWeeks),function(t){h=!!t,d()}):d(),o.min&&t.$parent.$watch(e(o.min),function(t){a.minDate=t?new Date(t):null,f()}),o.max&&t.$parent.$watch(e(o.max),function(t){a.maxDate=t?new Date(t):null,f()}),l.$render=function(){f(!0)},t.select=function(t){if(0===u){var e=new Date(l.$modelValue);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(e),f(!0)}else c=t,p(u-1)},t.move=function(t){var e=a.modes[u].step;c.setMonth(c.getMonth()+t*(e.months||0)),c.setFullYear(c.getFullYear()+t*(e.years||0)),f()},t.toggleMode=function(){p((u+1)%a.modes.length)},t.getWeekNumber=function(e){return 0===u&&t.showWeekNumbers&&7===e.length?function(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}(e[0].date):null}}function d(){t.showWeekNumbers=0===u&&h}function f(e){var n=null,r=!0;l.$modelValue&&(n=new Date(l.$modelValue),isNaN(n)?(r=!1,i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):e&&(c=n)),l.$setValidity("date",r);var o=a.modes[u],s=o.getVisibleDates(c,n);angular.forEach(s.objects,function(t){t.disabled=a.isDisabled(t.date,u)}),l.$setValidity("date-disabled",!n||!a.isDisabled(n)),t.rows=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n}(s.objects,o.split),t.labels=s.labels||[],t.title=s.title}function p(t){u=t,d(),f()}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(t,e,n,i,r,o){return{restrict:"EA",require:"ngModel",link:function(s,a,l,u){var c,h,d=angular.isDefined(l.closeOnDateSelection)?p.$eval(l.closeOnDateSelection):o.closeOnDateSelection,f=l.datepickerPopup||o.dateFormat,p=s.$new();function g(t){h?h(s,!!t):p.isOpen=!!t}s.$on("$destroy",function(){p.$destroy()}),l.isOpen&&(c=e(l.isOpen),h=c.assign,s.$watch(c,function(t){p.isOpen=!!t})),p.isOpen=!!c&&c(s);var m=function(t){p.isOpen&&t.target!==a[0]&&p.$apply(function(){g(!1)})},v=function(){p.$apply(function(){g(!0)})},y=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=y.find("datepicker");function w(){p.date=u.$modelValue,C()}function x(t,n,i){t&&(s.$watch(e(t),function(t){p[n]=t}),b.attr(i||n,n))}function C(){p.position=i.position(a),p.position.top=p.position.top+a.prop("offsetHeight")}l.datepickerOptions&&b.attr(angular.extend({},s.$eval(l.datepickerOptions))),u.$parsers.unshift(function(t){if(!t)return u.$setValidity("date",!0),null;if(angular.isDate(t))return u.$setValidity("date",!0),t;if(angular.isString(t)){var e=new Date(t);return isNaN(e)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),e)}u.$setValidity("date",!1)}),p.dateSelection=function(){u.$setViewValue(p.date),u.$render(),d&&g(!1)},a.bind("input change keyup",function(){p.$apply(function(){w()})}),u.$render=function(){var t=u.$viewValue?r(u.$viewValue,f):"";a.val(t),w()},x(l.min,"min"),x(l.max,"max"),l.showWeeks?x(l.showWeeks,"showWeeks","show-weeks"):(p.showWeeks=!0,b.attr("show-weeks","showWeeks")),l.dateDisabled&&b.attr("date-disabled",l.dateDisabled);var k=!1,_=!1;p.$watch("isOpen",function(t){t?(C(),n.bind("click",m),_&&a.unbind("focus",v),a[0].focus(),k=!0):(k&&n.unbind("click",m),a.bind("focus",v),_=!0),h&&h(s,t)});var S=e(l.ngModel).assign;p.today=function(){S(s,new Date)},p.clear=function(){S(s,null)},a.after(t(y)(p))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e,n){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var t={placement:"top",animation:!0,popupDelay:0},e={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(t){angular.extend(n,t)},this.setTriggers=function(t){angular.extend(e,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,r,o,s,a,l,u){return function(i,c,h){var d=angular.extend({},t,n);function f(t){var n=t||d.trigger||h;return{show:n,hide:e[n]||n}}var p=i.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),g=u.startSymbol(),m=u.endSymbol(),v="<"+p+'-popup title="'+g+"tt_title"+m+'" content="'+g+"tt_content"+m+'" placement="'+g+"tt_placement"+m+'" animation="tt_animation()" is-open="tt_isOpen"></'+p+"-popup>";return{restrict:"EA",scope:!0,link:function(t,e,n){var u,h,p,g=r(v)(t),m=!!angular.isDefined(d.appendToBody)&&d.appendToBody,y=f(void 0),b=!1;function w(){t.tt_isOpen?C():x()}function x(){t.tt_popupDelay?h=o(k,t.tt_popupDelay):t.$apply(k)}function C(){t.$apply(function(){_()})}function k(){var n,i,r,s;if(t.tt_content){switch(u&&o.cancel(u),g.css({top:0,left:0,display:"block"}),m?(p=p||a.find("body")).append(g):e.after(g),n=m?l.offset(e):l.position(e),i=g.prop("offsetWidth"),r=g.prop("offsetHeight"),t.tt_placement){case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width};break;case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;default:s={top:n.top-r,left:n.left+n.width/2-i/2}}s.top+="px",s.left+="px",g.css(s),t.tt_isOpen=!0}}function _(){t.tt_isOpen=!1,o.cancel(h),angular.isDefined(t.tt_animation)&&t.tt_animation()?u=o(function(){g.remove()},500):g.remove()}t.tt_isOpen=!1,n.$observe(i,function(e){t.tt_content=e}),n.$observe(c+"Title",function(e){t.tt_title=e}),n.$observe(c+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement}),n.$observe(c+"Animation",function(e){t.tt_animation=angular.isDefined(e)?s(e):function(){return d.animation}}),n.$observe(c+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?d.popupDelay:n}),n.$observe(c+"Trigger",function(t){b&&(e.unbind(y.show,x),e.unbind(y.hide,C)),(y=f(t)).show===y.hide?e.bind(y.show,w):(e.bind(y.show,x),e.bind(y.hide,C)),b=!0}),n.$observe(c+"AppendToBody",function(e){m=angular.isDefined(e)?s(e)(t):m}),m&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&_()}),t.$on("$destroy",function(){t.tt_isOpen?_():g.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(t,e,n){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,r,o,s){if(s){var a=new Date,l=n.meridians,u=n.hourStep;o.hourStep&&i.$parent.$watch(t(o.hourStep),function(t){u=parseInt(t,10)});var c=n.minuteStep;o.minuteStep&&i.$parent.$watch(t(o.minuteStep),function(t){c=parseInt(t,10)}),i.showMeridian=n.showMeridian,o.showMeridian&&i.$parent.$watch(t(o.showMeridian),function(t){if(i.showMeridian=!!t,s.$error.time){var e=m(),n=v();angular.isDefined(e)&&angular.isDefined(n)&&(a.setHours(e),b())}else x()});var h=r.find("input"),d=h.eq(0),f=h.eq(1);if(angular.isDefined(o.mousewheel)?i.$eval(o.mousewheel):n.mousewheel){var p=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};d.bind("mousewheel wheel",function(t){i.$apply(p(t)?i.incrementHours():i.decrementHours()),t.preventDefault()}),f.bind("mousewheel wheel",function(t){i.$apply(p(t)?i.incrementMinutes():i.decrementMinutes()),t.preventDefault()})}if(i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$eval(o.readonlyInput):n.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var g=function(t,e){s.$setViewValue(null),s.$setValidity("time",!1),angular.isDefined(t)&&(i.invalidHours=t),angular.isDefined(e)&&(i.invalidMinutes=e)};i.updateHours=function(){var t=m();angular.isDefined(t)?(a.setHours(t),b("h")):g(!0)},d.bind("blur",function(t){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=y(i.hours)})}),i.updateMinutes=function(){var t=v();angular.isDefined(t)?(a.setMinutes(t),b("m")):g(void 0,!0)},f.bind("blur",function(t){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=y(i.minutes)})})}s.$render=function(){var t=s.$modelValue?new Date(s.$modelValue):null;isNaN(t)?(s.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(a=t),w(),x())},i.incrementHours=function(){C(60*u)},i.decrementHours=function(){C(60*-u)},i.incrementMinutes=function(){C(c)},i.decrementMinutes=function(){C(-c)},i.toggleMeridian=function(){C(720*(a.getHours()<12?1:-1))}}function m(){var t=parseInt(i.hours,10);if(i.showMeridian?t>0&&t<13:t>=0&&t<24)return i.showMeridian&&(12===t&&(t=0),i.meridian===l[1]&&(t+=12)),t}function v(){var t=parseInt(i.minutes,10);return t>=0&&t<60?t:void 0}function y(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function b(t){w(),s.$setViewValue(new Date(a)),x(t)}function w(){s.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function x(t){var e=a.getHours(),n=a.getMinutes();i.showMeridian&&(e=0===e||12===e?12:e%12),i.hours="h"===t?e:y(e),i.minutes="m"===t?n:y(n),i.meridian=a.getHours()<12?l[0]:l[1]}function C(t){var e=new Date(a.getTime()+6e4*t);a.setHours(e.getHours(),e.getMinutes()),b()}}}}]),function(t,e,n){"use strict";var i,r,o,s,a=e.noop,l=e.copy,u=e.extend,c=e.element,h=e.forEach,d=e.isArray,f=e.isString,p=e.isObject,g=e.isUndefined,m=e.isDefined,v=e.isFunction,y=e.isElement,b=1,w="-add",x="-remove",C="ng-",k="ng-animate",_="$$ngAnimateChildren";g(t.ontransitionend)&&m(t.onwebkittransitionend)?("-webkit-",i="WebkitTransition",r="webkitTransitionEnd transitionend"):(i="transition",r="transitionend"),g(t.onanimationend)&&m(t.onwebkitanimationend)?("-webkit-",o="WebkitAnimation",s="webkitAnimationEnd animationend"):(o="animation",s="animationend");var S="Duration",$="TimingFunction",E="PlayState",T=o+"Delay",D=o+S,M=i+"Delay",A=i+S,P=e.$$minErr("ng");function O(t,e,n){if(!t)throw P("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function N(t,e){return t||e?t?e?(d(t)&&(t=t.join(" ")),d(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function I(t,e,n){var i="";return t=d(t)?t:t&&f(t)&&t.length?t.split(/\s+/):[],h(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function L(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==b)return n}}function R(t){return function(e,n){n.addClass&&(!function(t,e,n){h(e,function(e){t.addClass(e,n)})}(t,e,n.addClass),n.addClass=null),n.removeClass&&(!function(t,e,n){h(e,function(e){t.removeClass(e,n)})}(t,e,n.removeClass),n.removeClass=null)}}function H(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||a;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=a},t.$$prepared=!0}return t}function F(t,e){z(t,e),B(t,e)}function z(t,e){e.from&&(t.css(e.from),e.from=null)}function B(t,e){e.to&&(t.css(e.to),e.to=null)}function j(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),s=(i.removeClass||"")+" "+(r.removeClass||""),l=function(t,e,n){var i={};t=o(t),e=o(e),h(e,function(t,e){i[e]=1}),n=o(n),h(n,function(t,e){i[e]=1===i[e]?null:-1});var r={addClass:"",removeClass:""};function o(t){f(t)&&(t=t.split(" "));var e={};return h(t,function(t){t.length&&(e[t]=!0)}),e}return h(i,function(e,n){var i,o;1===e?(i="addClass",o=!t[n]):-1===e&&(i="removeClass",o=t[n]),o&&(r[i].length&&(r[i]+=" "),r[i]+=n)}),r}(t.attr("class"),o,s);r.preparationClasses&&(i.preparationClasses=Y(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var c=i.domOperation!==a?i.domOperation:null;return u(i,r),c&&(i.domOperation=c),l.addClass?i.addClass=l.addClass:i.addClass=null,l.removeClass?i.removeClass=l.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function W(t){return t instanceof e.element?t[0]:t}function V(t,e){var n=e?"-"+e+"s":"";return q(t,[M,n]),[M,n]}function U(t,e){var n=e?"paused":"",i=o+E;return q(t,[i,n]),[i,n]}function q(t,e){var n=e[0],i=e[1];t.style[n]=i}function Y(t,e){return t?e?t+" "+e:t:e}var G=["$interpolate",function(t){return{link:function(n,i,r){var o=r.ngAnimateChildren;function s(t){t="on"===t||"true"===t,i.data(_,t)}e.isString(o)&&0===o.length?i.data(_,!0):(s(t(o)(n)),r.$observe("ngAnimateChildren",s))}}}],X="$$animateCss",K=1e3,Z=3,Q=1.5,J={transitionDuration:A,transitionDelay:M,transitionProperty:i+"Property",animationDuration:D,animationDelay:T,animationIterationCount:o+"IterationCount"},tt={transitionDuration:A,transitionDelay:M,animationDuration:D,animationDelay:T};function et(t,e){return[e?T:M,t+"s"]}function nt(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return h(n,function(t,e){var n,o,s=r[t];if(s){var a=s.charAt(0);("-"===a||"+"===a||a>=0)&&(n=0,o=s.split(/\s*,\s*/),h(o,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),s=n),0===s&&(s=null),i[e]=s}}),i}function it(t){return 0===t||null!=t}function rt(t,e){var n=i,r=t+"s";return e?n+=S:r+=" linear all",[n,r]}function ot(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function st(t,e,n){h(n,function(n){t[n]=m(t[n])?t[n]:e.style.getPropertyValue(n)})}var at=["$animateProvider",function(t){var e=ot(),n=ot();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,u,c,f,p,g,m,v){var y=R(u),b=0;function k(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++b))+"-"+t.getAttribute("class")+"-"+e}var _=[];function S(t){_.push(t),m.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=p(),i=0;i<_.length;i++)_[i](t);_.length=0})}function E(n,i,r){var o=function(n,i,r,o){var s=e.get(r);return s||"infinite"===(s=nt(t,n,o)).animationIterationCount&&(s.animationIterationCount=1),e.put(r,s),s}(n,0,r,J),s=o.animationDelay,a=o.transitionDelay;return o.maxDelay=s&&a?Math.max(s,a):s||a,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(p,m){var b=m||{};b.$$prepared||(b=H(l(b)));var _={},T=W(p);if(!T||!T.parentNode||!v.enabled())return Ot();var M,A,P,O,N,L,R,j,Y,G,J=[],ot=p.attr("class"),at=function(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}(b),lt=[];if(0===b.duration||!g.animations&&!g.transitions)return Ot();var ut=b.event&&d(b.event)?b.event.join(" "):b.event,ct="",ht="";ut&&b.structural?ct=I(ut,C,!0):ut&&(ct=ut),b.addClass&&(ht+=I(b.addClass,w)),b.removeClass&&(ht.length&&(ht+=" "),ht+=I(b.removeClass,x)),b.applyClassesEarly&&ht.length&&y(p,b);var dt,ft,pt,gt=[ct,ht].join(" ").trim(),mt=ot+" "+gt,vt=I(gt,"-active"),yt=at.to&&Object.keys(at.to).length>0;if(!((b.keyframeStyle||"").length>0)&&!yt&&!gt)return Ot();if(b.stagger>0){var bt=parseFloat(b.stagger);ft={transitionDelay:bt,animationDelay:bt,transitionDuration:0,animationDuration:0}}else dt=k(T,mt),ft=function(i,r,o,s){var a;if(e.count(o)>0&&!(a=n.get(o))){var l=I(r,"-stagger");u.addClass(i,l),(a=nt(t,i,s)).animationDuration=Math.max(a.animationDuration,0),a.transitionDuration=Math.max(a.transitionDuration,0),u.removeClass(i,l),n.put(o,a)}return a||{}}(T,gt,dt,tt);if(b.$$skipPreparationClasses||u.addClass(p,gt),b.transitionStyle){var wt=[i,b.transitionStyle];q(T,wt),J.push(wt)}if(b.duration>=0){pt=T.style[i].length>0;var xt=rt(b.duration,pt);q(T,xt),J.push(xt)}if(b.keyframeStyle){var Ct=[o,b.keyframeStyle];q(T,Ct),J.push(Ct)}var kt=ft?b.staggerIndex>=0?b.staggerIndex:e.count(dt):0,_t=0===kt;_t&&!b.skipBlocking&&V(T,9999);var St=E(T,0,dt),$t=St.maxDelay;L=Math.max($t,0),j=St.maxDuration;var Et,Tt={};if(Tt.hasTransitions=St.transitionDuration>0,Tt.hasAnimations=St.animationDuration>0,Tt.hasTransitionAll=Tt.hasTransitions&&"all"==St.transitionProperty,Tt.applyTransitionDuration=yt&&(Tt.hasTransitions&&!Tt.hasTransitionAll||Tt.hasAnimations&&!Tt.hasTransitions),Tt.applyAnimationDuration=b.duration&&Tt.hasAnimations,Tt.applyTransitionDelay=it(b.delay)&&(Tt.applyTransitionDuration||Tt.hasTransitions),Tt.applyAnimationDelay=it(b.delay)&&Tt.hasAnimations,Tt.recalculateTimingStyles=ht.length>0,(Tt.applyTransitionDuration||Tt.applyAnimationDuration)&&(j=b.duration?parseFloat(b.duration):j,Tt.applyTransitionDuration&&(Tt.hasTransitions=!0,St.transitionDuration=j,pt=T.style[i+"Property"].length>0,J.push(rt(j,pt))),Tt.applyAnimationDuration&&(Tt.hasAnimations=!0,St.animationDuration=j,J.push([D,j+"s"]))),0===j&&!Tt.recalculateTimingStyles)return Ot();null!=b.delay&&("boolean"!=typeof b.delay&&(Et=parseFloat(b.delay),L=Math.max(Et,0)),Tt.applyTransitionDelay&&J.push(et(Et)),Tt.applyAnimationDelay&&J.push(et(Et,!0)));return null==b.duration&&St.transitionDuration>0&&(Tt.recalculateTimingStyles=Tt.recalculateTimingStyles||_t),R=L*K,Y=j*K,b.skipBlocking||(Tt.blockTransition=St.transitionDuration>0,Tt.blockKeyframeAnimation=St.animationDuration>0&&ft.animationDelay>0&&0===ft.animationDuration),b.from&&(b.cleanupStyles&&st(_,T,Object.keys(b.from)),z(p,b)),Tt.blockTransition||Tt.blockKeyframeAnimation?Pt(j):b.skipBlocking||V(T,!1),{$$willAnimate:!0,end:Dt,start:function(){if(!M)return O=new c(N={end:Dt,cancel:Mt,resume:null,pause:null}),S(It),O}};function Dt(){At()}function Mt(){At(!0)}function At(t){if(!(M||P&&A)){M=!0,A=!1,b.$$skipPreparationClasses||u.removeClass(p,gt),u.removeClass(p,vt),U(T,!1),V(T,!1),h(J,function(t){T.style[t[0]]=""}),y(p,b),F(p,b),Object.keys(_).length&&h(_,function(t,e){t?T.style.setProperty(e,t):T.style.removeProperty(e)}),b.onDone&&b.onDone(),lt&&lt.length&&p.off(lt.join(" "),Nt);var e=p.data(X);e&&(f.cancel(e[0].timer),p.removeData(X)),O&&O.complete(!t)}}function Pt(t){Tt.blockTransition&&V(T,t),Tt.blockKeyframeAnimation&&U(T,!!t)}function Ot(){return O=new c({end:Dt,cancel:Mt}),S(a),At(),{$$willAnimate:!1,start:function(){return O},end:Dt}}function Nt(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(Z));Math.max(n-G,0)>=R&&i>=j&&(P=!0,At())}function It(){if(!M)if(T.parentNode){var t=function(t){if(P)A&&t&&(A=!1,At());else if(A=!t,St.animationDuration){var e=U(T,A);A?J.push(e):(i=e,r=(n=J).indexOf(i),i>=0&&n.splice(r,1))}var n,i,r},e=kt>0&&(St.transitionDuration&&0===ft.transitionDuration||St.animationDuration&&0===ft.animationDuration)&&Math.max(ft.animationDelay,ft.transitionDelay);e?f(n,Math.floor(e*kt*K),!1):n(),N.resume=function(){t(!0)},N.pause=function(){t(!1)}}else At();function n(){if(!M){if(Pt(!1),h(J,function(t){var e=t[0],n=t[1];T.style[e]=n}),y(p,b),u.addClass(p,vt),Tt.recalculateTimingStyles){if(mt=T.className+" "+gt,dt=k(T,mt),St=E(T,0,dt),$t=St.maxDelay,L=Math.max($t,0),0===(j=St.maxDuration))return void At();Tt.hasTransitions=St.transitionDuration>0,Tt.hasAnimations=St.animationDuration>0}if(Tt.applyAnimationDelay&&($t="boolean"!=typeof b.delay&&it(b.delay)?parseFloat(b.delay):$t,L=Math.max($t,0),St.animationDelay=$t,Et=et($t,!0),J.push(Et),T.style[Et[0]]=Et[1]),R=L*K,Y=j*K,b.easing){var t,e=b.easing;Tt.hasTransitions&&(t=i+$,J.push([t,e]),T.style[t]=e),Tt.hasAnimations&&(t=o+$,J.push([t,e]),T.style[t]=e)}St.transitionDuration&&lt.push(r),St.animationDuration&&lt.push(s),G=Date.now();var n=R+Q*Y,l=G+n,c=p.data(X)||[],d=!0;if(c.length){var g=c[0];(d=l>g.expectedEndTime)?f.cancel(g.timer):c.push(At)}if(d){var m=f(a,n,!1);c[0]={timer:m,expectedEndTime:l},c.push(At),p.data(X,c)}lt.length&&p.on(lt.join(" "),Nt),b.to&&(b.cleanupStyles&&st(_,T,Object.keys(b.to)),B(p,b))}}function a(){var t=p.data(X);if(t){for(var e=1;e<t.length;e++)t[e]();p.removeData(X)}}}}}]}],lt=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",i="ng-anchor-out",r="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,o,s,l,u,d,p){if(!u.animations&&!u.transitions)return a;var g,m=p[0].body,v=W(l),y=c((g=v).parentNode&&11===g.parentNode.nodeType||m.contains(v)?v:m);R(d);return function(o){return o.from&&o.to?function(o,a,l,u){var d=x(o),f=x(a),p=[];if(h(u,function(o){var a=function(o,a,l){var u=c(W(a).cloneNode(!0)),d=b(C(u));a.addClass(e),l.addClass(e),u.addClass(n),y.append(u);var f,p,g=(p=t(u,{addClass:i,delay:!0,from:x(a)})).$$willAnimate?p:null;if(!g&&!(f=k()))return _();var v=g||f;return{start:function(){var t,e=v.start();return e.done(function(){if(e=null,!f&&(f=k()))return(e=f.start()).done(function(){e=null,_(),t.complete()}),e;_(),t.complete()}),t=new s({end:n,cancel:n});function n(){e&&e.end()}}};function x(t){var e={},n=W(t).getBoundingClientRect();return h(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=m.scrollTop;break;case"left":i+=m.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function C(t){return t.attr("class")||""}function k(){var e=b(C(l)),n=w(e,d),o=w(d,e),s=t(u,{to:x(l),addClass:r+" "+n,removeClass:i+" "+o,delay:!0});return s.$$willAnimate?s:null}function _(){u.remove(),a.removeClass(e),l.removeClass(e)}}(0,o.out,o.in);a&&p.push(a)}),!d&&!f&&0===p.length)return;return{start:function(){var t=[];d&&t.push(d.start()),f&&t.push(f.start()),h(p,function(e){t.push(e.start())});var e=new s({end:n,cancel:n});return s.all(t,function(t){e.complete(t)}),e;function n(){h(t,function(t){t.end()})}}}}(o.from,o.to,o.classes,o.anchors):x(o)};function b(t){return t.replace(/\bng-\S+\b/g,"")}function w(t,e){return f(t)&&(t=t.split(" ")),f(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function x(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=Y(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}}]}],ut=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){var r=R(i);return function(i,o,s,l){var u=!1;3===arguments.length&&p(s)&&(l=s,s=null),l=H(l),s||(s=i.attr("class")||"",l.addClass&&(s+=" "+l.addClass),l.removeClass&&(s+=" "+l.removeClass));var c,f,g,m,y,b=l.addClass,w=l.removeClass,x=function(n){n=d(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var s=n[o],a=t.$$registeredAnimations[s];a&&!r[s]&&(i.push(e.get(a)),r[s]=!0)}return i}(s);x.length&&("leave"==o?(m="leave",g="afterLeave"):(m="before"+o.charAt(0).toUpperCase()+o.substr(1),g=o),"enter"!==o&&"move"!==o&&(c=S(i,o,l,x,m)),f=S(i,o,l,x,g));if(c||f)return{$$willAnimate:!0,end:function(){return y?y.end():(k(),(y=new n).complete(!0)),y},start:function(){if(y)return y;var t;y=new n;var e=[];return c&&e.push(function(e){t=c(e)}),e.length?e.push(function(t){C(),t(!0)}):C(),f&&e.push(function(e){t=f(e)}),y.setHost({end:function(){r()},cancel:function(){r(!0)}}),n.chain(e,i),y;function i(t){k(),y.complete(t)}function r(e){u||((t||a)(e),i(e))}}};function C(){l.domOperation(),r(i,l)}function k(){u=!0,C(),F(i,l)}function _(t,e,i,r,o){var s=[];return h(r,function(r){var l=r[o];l&&s.push(function(){var r,o,s=!1,u=function(t){s||(s=!0,(o||a)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),o=function(t,e,i,r,o){var s;switch(i){case"animate":s=[e,r.from,r.to,o];break;case"setClass":s=[e,b,w,o];break;case"addClass":s=[e,b,o];break;case"removeClass":s=[e,w,o];break;default:s=[e,o]}s.push(r);var l=t.apply(t,s);if(l)if(v(l.start)&&(l=l.start()),l instanceof n)l.done(o);else if(v(l))return l;return a}(l,t,e,i,function(t){u(!1===t)}),r})}),s}function S(t,e,i,r,o){var s,a,l=_(t,e,i,r,o);0===l.length&&("beforeSetClass"===o?(s=_(t,"removeClass",i,r,"beforeRemoveClass"),a=_(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=_(t,"removeClass",i,r,"removeClass"),a=_(t,"addClass",i,r,"addClass")),s&&(l=l.concat(s)),a&&(l=l.concat(a)));if(0!==l.length)return function(t){var e=[];return l.length&&h(l,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){h(e,function(e){t?e.cancel():e.end()})}}}}}]}],ct=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){var t=[];i&&t.push(i.start()),r&&t.push(r.start()),e.all(t,function(t){n.complete(t)});var n=new e({end:o(),cancel:o()});return n;function o(){return function(){h(t,function(t){t.end()})}}}}}return n(t)};function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}}]}],ht="data-ng-animate",dt="$ngAnimatePin",ft=["$animateProvider",function(t){var e=1,n=2,i=" ",r=this.rules={skip:[],cancel:[],join:[]};function o(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(i),n=Object.create(null);return h(e,function(t){n[t]=!0}),n}(e);return t.split(i).some(function(t){return n[t]})}}function s(t,e,n,i){return r[t].some(function(t){return t(e,n,i)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}r.join.push(function(t,e,n){return!e.structural&&a(e)}),r.skip.push(function(t,e,n){return!e.structural&&!a(e)}),r.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),r.skip.push(function(t,e,i){return i.structural&&i.state===n&&!e.structural}),r.cancel.push(function(t,e,n){return n.structural&&e.structural}),r.cancel.push(function(t,e,i){return i.state===n&&e.structural}),r.cancel.push(function(t,e,n){var i=e.addClass,r=e.removeClass,s=n.addClass,a=n.removeClass;return!(g(i)&&g(r)||g(s)&&g(a))&&(o(i,a)||o(r,s))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,r,o,v,k,S,$,E,T,D){var M=new k,A=new k,P=null,N=v[0]||{hidden:!0};var z=r.$watch(function(){return 0===E.totalPendingRequests},function(t){t&&(z(),r.$$postDigest(function(){r.$$postDigest(function(){null===P&&(P=!0)})}))}),B={},V=t.classNameFilter(),U=V?function(t){return V.test(t)}:function(){return!0},q=R(T);function G(t,e){return j(t,e,{})}var X=Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};return{on:function(t,e,n){var i=L(e);B[t]=B[t]||[],B[t].push({node:i,callback:n})},off:function(t,e,n){var i,r,o,s=B[t];s&&(B[t]=1===arguments.length?null:(i=s,r=n,o=L(e),i.filter(function(t){var e=t.node===o&&(!r||t.callback===r);return!e})))},pin:function(t,e){O(y(t),"element","not an element"),O(y(e),"parentElement","not an element"),t.data(dt,e)},push:function(t,u,v,y){return(v=v||{}).domOperation=y,function(t,u,v){var y,k,E=l(v);(t=function(t){if(t instanceof c)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===b)return t;break;default:return c(L(t))}if(t.nodeType===b)return c(t)}(t))&&(y=W(t),k=t.parent());E=H(E);var T=new $,D=(O=!1,function(t){O?t():r.$$postDigest(function(){O=!0,t()})});var O;d(E.addClass)&&(E.addClass=E.addClass.join(" "));E.addClass&&!f(E.addClass)&&(E.addClass=null);d(E.removeClass)&&(E.removeClass=E.removeClass.join(" "));E.removeClass&&!f(E.removeClass)&&(E.removeClass=null);E.from&&!p(E.from)&&(E.from=null);E.to&&!p(E.to)&&(E.to=null);if(!y)return ut(),T;var R=[y.className,E.addClass,E.removeClass].join(" ");if(!U(R))return ut(),T;var z=["enter","move","leave"].indexOf(u)>=0,V=N.hidden,J=!P||V||A.get(y),tt=!J&&M.get(y)||{},et=!!tt.state;J||et&&tt.state==e||(J=!function(t,e,n){var i,r=c(N.body),s=Z(t,r)||"HTML"===t[0].nodeName,a=Z(t,o),l=!1,u=A.get(W(t)),h=c.data(t[0],dt);h&&(e=h);e=W(e);for(;e&&(a||(a=Z(e,o)),e.nodeType===b);){var d=M.get(e)||{};if(!l){var f=A.get(e);if(!0===f&&!1!==u){u=!0;break}!1===f&&(u=!1),l=d.structural}if(g(i)||!0===i){var p=c.data(e,_);m(p)&&(i=p)}if(l&&!1===i)break;if(s||(s=Z(e,r)),s&&a)break;e=a||!(h=c.data(e,dt))?e.parentNode:W(h)}return(!l||i)&&!0!==u&&a&&s}(t,k));if(J)return V&&lt(T,u,"start"),ut(),V&&lt(T,u,"close"),T;z&&function(t){var i=W(t).querySelectorAll("["+ht+"]");h(i,function(t){var i=parseInt(t.getAttribute(ht)),r=M.get(t);if(r)switch(i){case n:r.runner.end();case e:M.remove(t)}})}(t);var nt={structural:z,element:t,event:u,addClass:E.addClass,removeClass:E.removeClass,close:ut,options:E,runner:T};if(et){var it=s("skip",t,nt,tt);if(it)return tt.state===n?(ut(),T):(j(t,tt,nt),tt.runner);var rt=s("cancel",t,nt,tt);if(rt)if(tt.state===n)tt.runner.end();else{if(!tt.structural)return j(t,tt,nt),tt.runner;tt.close()}else{var ot=s("join",t,nt,tt);if(ot){if(tt.state!==n)return function(t,e,n){var i="";e&&(i=I(e,C,!0)),n.addClass&&(i=Y(i,I(n.addClass,w))),n.removeClass&&(i=Y(i,I(n.removeClass,x))),i.length&&(n.preparationClasses=i,t.addClass(i))}(t,z?u:null,E),u=nt.event=tt.event,E=j(t,tt,nt),tt.runner;G(t,nt)}}}else G(t,nt);var st=nt.structural;st||(st="animate"===nt.event&&Object.keys(nt.options.to||{}).length>0||a(nt));if(!st)return ut(),K(t),T;var at=(tt.counter||0)+1;return nt.counter=at,Q(t,e,nt),r.$$postDigest(function(){var e=M.get(y),i=!e;e=e||{};var r=(t.parent()||[]).length>0&&("animate"===e.event||e.structural||a(e));if(i||e.counter!==at||!r)return i&&(q(t,E),F(t,E)),(i||z&&e.event!==u)&&(E.domOperation(),T.end()),void(r||K(t));u=!e.structural&&a(e,!0)?"setClass":e.event,Q(t,n);var o=S(t,u,e.options);T.setHost(o),lt(T,u,"start",{}),o.done(function(e){ut(!e);var n=M.get(y);n&&n.counter===at&&K(W(t)),lt(T,u,"close",{})})}),T;function lt(e,n,r,o){D(function(){var e=function(t,e,n){var i=W(e),r=W(t),o=[],s=B[n];return s&&h(s,function(t){X.call(t.node,i)?o.push(t.callback):"leave"===n&&X.call(t.node,r)&&o.push(t.callback)}),o}(k,t,n);e.length&&i(function(){h(e,function(e){e(t,r,o)})})}),e.progress(n,r,o)}function ut(e){!function(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}(t,E),q(t,E),F(t,E),E.domOperation(),T.complete(!e)}}(t,u,v)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!P;else if(y(t)){var i=W(t),r=A.get(i);1===n?e=!r:A.put(i,!e)}else e=P=!!t;return e}};function K(t){var e=W(t);e.removeAttribute(ht),M.remove(e)}function Z(t,e){return W(t)===W(e)}function Q(t,e,n){(n=n||{}).state=e;var i=W(t);i.setAttribute(ht,e);var r=M.get(i),o=r?u(r,n):n;M.put(i,o)}}]}],pt=["$animateProvider",function(t){var e="ng-animate-ref",n=this.drivers=[],i="$$animationRunner";function r(t){return t.data(i)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,o,s,a,l,u){var d=[],f=R(t);return function(p,g,m){m=H(m);var v=["enter","move","leave"].indexOf(g)>=0,y=new a({end:function(){_()},cancel:function(){_(!0)}});if(!n.length)return _(),y;!function(t,e){t.data(i,e)}(p,y);var b,w=N(p.attr("class"),N(m.addClass,m.removeClass)),x=m.tempClasses;return x&&(w+=" "+x,m.tempClasses=null),v&&(b="ng-"+g+"-prepare",t.addClass(p,b)),d.push({element:p,classes:w,event:g,structural:v,options:m,beforeStart:function(){p.addClass(k),x&&t.addClass(p,x);b&&(t.removeClass(p,b),b=null)},close:_}),p.on("$destroy",C),d.length>1?y:(o.$$postDigest(function(){var t=[];h(d,function(e){r(e.element)?t.push(e):e.close()}),d.length=0;var i=function(t){var n=[],i={};h(t,function(t,r){var o=t.element,s=W(o),a=t.event,l=["enter","move"].indexOf(a)>=0,u=t.structural?function(t){var n="["+e+"]",i=t.hasAttribute(e)?[t]:t.querySelectorAll(n),r=[];return h(i,function(t){var n=t.getAttribute(e);n&&n.length&&r.push(t)}),r}(s):[];if(u.length){var d=l?"to":"from";h(u,function(t){var n=t.getAttribute(e);i[n]=i[n]||{},i[n][d]={animationID:r,element:c(t)}})}else n.push(t)});var r={},o={};return h(i,function(e,i){var s=e.from,a=e.to;if(s&&a){var l=t[s.animationID],u=t[a.animationID],c=s.animationID.toString();if(!o[c]){var h=o[c]={structural:!0,beforeStart:function(){l.beforeStart(),u.beforeStart()},close:function(){l.close(),u.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}(l.classes,u.classes),from:l,to:u,anchors:[]};h.classes.length?n.push(h):(n.push(l),n.push(u))}o[c].anchors.push({out:s.element,in:a.element})}else{var d=s?s.animationID:a.animationID,f=d.toString();r[f]||(r[f]=!0,n.push(t[d]))}}),n}(t),o=[];h(i,function(t){o.push({domNode:W(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,i=t.close;if(r(t.anchors?t.from.element||t.to.element:t.element)){var o=function(t){for(var e=n.length-1;e>=0;e--){var i=n[e];if(s.has(i)){var r=s.get(i),o=r(t);if(o)return o}}}(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){i(!t)}),function(t,e){t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element);function n(t){r(t).setHost(e)}}(t,a)}else i()}})}),u(function(t){var e,n={children:[]},i=new l;for(e=0;e<t.length;e++){var r=t[e];i.put(r.domNode,t[e]={domNode:r.domNode,fn:r.fn,children:[]})}for(e=0;e<t.length;e++)o(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,s=[];for(e=0;e<i.length;e++){var a=i[e];r<=0&&(r=o,o=0,n.push(s),s=[]),s.push(a.fn),a.children.forEach(function(t){o++,i.push(t)}),r--}return s.length&&n.push(s),n}(n);function o(t){if(t.processed)return t;t.processed=!0;var e,r=t.domNode,s=r.parentNode;for(i.put(r,t);s;){if(e=i.get(s)){e.processed||(e=o(e));break}s=s.parentNode}return(e||n).children.push(t),t}}(o))}),y);function C(){var t=r(p);!t||"leave"===g&&m.$$domOperationFired||t.end()}function _(e){p.off("$destroy",C),function(t){t.removeData(i)}(p),f(p,m),F(p,m),m.domOperation(),x&&t.removeClass(p,x),p.removeClass(k),y.complete(!e)}}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",G).factory("$$rAFScheduler",["$$rAF",function(t){var e,n;function i(t){e=e.concat(t),r()}return e=i.queue=[],i.waitUntilQuiet=function(e){n&&n(),n=t(function(){n=null,e(),r()})},i;function r(){if(e.length){for(var i=e.shift(),o=0;o<i.length;o++)i[o]();n||t(function(){n||r()})}}}]).provider("$$animateQueue",ft).provider("$$animation",pt).provider("$animateCss",at).provider("$$animateCssDriver",lt).provider("$$animateJs",ut).provider("$$animateJsDriver",ct)}(window,window.angular),function(t){"use strict";var e="[data-toggle=dropdown]",n=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};function i(){t(".dropdown-backdrop").remove(),t(e).each(function(){r(t(this)).removeClass("open")})}function r(e){var n,i=e.attr("data-target");return i||(i=(i=e.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),(n=i&&t(i))&&n.length||(n=e.parent()),n}n.prototype={constructor:n,toggle:function(e){var n,o,s=t(this);if(!s.is(".disabled, :disabled"))return o=(n=r(s)).hasClass("open"),i(),o||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",i),n.toggleClass("open")),s.focus(),!1},keydown:function(n){var i,o,s,a,l;if(/(38|40|27)/.test(n.keyCode)&&(i=t(this),n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled"))){if(!(a=(s=r(i)).hasClass("open"))||a&&27==n.keyCode)return 27==n.which&&s.find(e).focus(),i.click();(o=t("[role=menu] li:not(.divider):visible a",s)).length&&(l=o.index(o.filter(":focus")),38==n.keyCode&&l>0&&l--,40==n.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),r=i.data("dropdown");r||i.data("dropdown",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",i).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",e,n.prototype.toggle).on("keydown.dropdown.data-api",e+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,o,s,a,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,l=(s=this.options.trigger.split(" ")).length;l--;)"click"==(a=s[l])?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,r={};if(this._options&&t.each(this._options,function(t,e){i[t]!=e&&(r[t]=e)},this),!(n=t(e.currentTarget)[this.type](r).data(this.type)).options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},show:function(){var e,n,i,r,o,s,a=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,r=e[0].offsetHeight,o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(t).addClass(e).addClass("in"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,o=!0),"bottom"==e||"top"==e?(r=0,t.left<0&&(r=-2*t.left,t.left=0,s.offset(t),n=s[0].offsetWidth,i=s[0].offsetHeight),this.replaceArrow(r-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&s.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var e,n=this.tip(),i=t.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?(e=setTimeout(function(){n.off(t.support.transition.end).detach()},500),n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})):n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),function(t){"use strict";function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,n,i,r,o,s){return e(function(t,e){return t<<e|t>>>32-e}(e(e(n,t),e(r,s)),o),i)}function i(t,e,i,r,o,s,a){return n(e&i|~e&r,t,e,o,s,a)}function r(t,e,i,r,o,s,a){return n(e&r|i&~r,t,e,o,s,a)}function o(t,e,i,r,o,s,a){return n(e^i^r,t,e,o,s,a)}function s(t,e,i,r,o,s,a){return n(i^(e|~r),t,e,o,s,a)}function a(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var a,l,u,c,h,d=1732584193,f=-271733879,p=-1732584194,g=271733878;for(a=0;a<t.length;a+=16)l=d,u=f,c=p,h=g,f=s(f=s(f=s(f=s(f=o(f=o(f=o(f=o(f=r(f=r(f=r(f=r(f=i(f=i(f=i(f=i(f,p=i(p,g=i(g,d=i(d,f,p,g,t[a],7,-680876936),f,p,t[a+1],12,-389564586),d,f,t[a+2],17,606105819),g,d,t[a+3],22,-1044525330),p=i(p,g=i(g,d=i(d,f,p,g,t[a+4],7,-176418897),f,p,t[a+5],12,1200080426),d,f,t[a+6],17,-1473231341),g,d,t[a+7],22,-45705983),p=i(p,g=i(g,d=i(d,f,p,g,t[a+8],7,1770035416),f,p,t[a+9],12,-1958414417),d,f,t[a+10],17,-42063),g,d,t[a+11],22,-1990404162),p=i(p,g=i(g,d=i(d,f,p,g,t[a+12],7,1804603682),f,p,t[a+13],12,-40341101),d,f,t[a+14],17,-1502002290),g,d,t[a+15],22,1236535329),p=r(p,g=r(g,d=r(d,f,p,g,t[a+1],5,-165796510),f,p,t[a+6],9,-1069501632),d,f,t[a+11],14,643717713),g,d,t[a],20,-373897302),p=r(p,g=r(g,d=r(d,f,p,g,t[a+5],5,-701558691),f,p,t[a+10],9,38016083),d,f,t[a+15],14,-660478335),g,d,t[a+4],20,-405537848),p=r(p,g=r(g,d=r(d,f,p,g,t[a+9],5,568446438),f,p,t[a+14],9,-1019803690),d,f,t[a+3],14,-187363961),g,d,t[a+8],20,1163531501),p=r(p,g=r(g,d=r(d,f,p,g,t[a+13],5,-1444681467),f,p,t[a+2],9,-51403784),d,f,t[a+7],14,1735328473),g,d,t[a+12],20,-1926607734),p=o(p,g=o(g,d=o(d,f,p,g,t[a+5],4,-378558),f,p,t[a+8],11,-2022574463),d,f,t[a+11],16,1839030562),g,d,t[a+14],23,-35309556),p=o(p,g=o(g,d=o(d,f,p,g,t[a+1],4,-1530992060),f,p,t[a+4],11,1272893353),d,f,t[a+7],16,-155497632),g,d,t[a+10],23,-1094730640),p=o(p,g=o(g,d=o(d,f,p,g,t[a+13],4,681279174),f,p,t[a],11,-358537222),d,f,t[a+3],16,-722521979),g,d,t[a+6],23,76029189),p=o(p,g=o(g,d=o(d,f,p,g,t[a+9],4,-640364487),f,p,t[a+12],11,-421815835),d,f,t[a+15],16,530742520),g,d,t[a+2],23,-995338651),p=s(p,g=s(g,d=s(d,f,p,g,t[a],6,-198630844),f,p,t[a+7],10,1126891415),d,f,t[a+14],15,-1416354905),g,d,t[a+5],21,-57434055),p=s(p,g=s(g,d=s(d,f,p,g,t[a+12],6,1700485571),f,p,t[a+3],10,-1894986606),d,f,t[a+10],15,-1051523),g,d,t[a+1],21,-2054922799),p=s(p,g=s(g,d=s(d,f,p,g,t[a+8],6,1873313359),f,p,t[a+15],10,-30611744),d,f,t[a+6],15,-1560198380),g,d,t[a+13],21,1309151649),p=s(p,g=s(g,d=s(d,f,p,g,t[a+4],6,-145523070),f,p,t[a+11],10,-1120210379),d,f,t[a+2],15,718787259),g,d,t[a+9],21,-343485551),d=e(d,l),f=e(f,u),p=e(p,c),g=e(g,h);return[d,f,p,g]}function l(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function u(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function c(t){var e,n,i="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=i.charAt(e>>>4&15)+i.charAt(15&e);return r}function h(t){return unescape(encodeURIComponent(t))}function d(t){return function(t){return l(a(u(t),8*t.length))}(h(t))}function f(t,e){return function(t,e){var n,i,r=u(t),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=a(r,8*t.length)),n=0;16>n;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=a(o.concat(u(e)),512+8*e.length),l(a(s.concat(i),640))}(h(t),h(e))}function p(t,e,n){return e?n?f(e,t):function(t,e){return c(f(t,e))}(e,t):n?d(t):function(t){return c(d(t))}(t)}"function"==typeof define&&define.amd?define(function(){return p}):t.md5=p}(this),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,n,i,r,o,s){function a(){i.cancel(u),s.complete(),h=0,c=0}function l(e){var i,r=n.get("$http"),o=t.defaults;!e.cache&&!o.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(i=angular.isObject(e.cache)?e.cache:angular.isObject(o.cache)?o.cache:r);var s=void 0!==i&&void 0!==i.get(e.url);return void 0!==e.cached&&s!==e.cached?e.cached:(e.cached=s,s)}var u,c=0,h=0,d=s.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||l(t)||(r.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===c&&(u=i(function(){s.start()},d)),c++,s.set(h/c)),t},response:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(h++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),h>=c?a():s.set(h/c)),t):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t)},responseError:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(h++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),h>=c?a():s.set(h/c)),e.reject(t)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t))}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,n,i){function r(t){if(g){var e=100*t+"%";f.css("width",e),m=t,v&&(n.cancel(u),u=n(function(){o()},250))}}function o(){if(!(s()>=1)){var t,e=s();t=e>=0&&.25>e?(3*Math.random()+3)/100:e>=.25&&.65>e?3*Math.random()/100:e>=.65&&.9>e?2*Math.random()/100:e>=.9&&.99>e?.005:0,r(s()+t)}}function s(){return m}function a(){m=0,g=!1}var l,u,c,h=this.parentSelector,d=angular.element(this.loadingBarTemplate),f=d.find("div").eq(0),p=angular.element(this.spinnerTemplate),g=!1,m=0,v=this.autoIncrement,y=this.includeSpinner,b=this.includeBar,w=this.startSize;return{start:function(){if(l||(l=t.get("$animate")),n.cancel(c),!g){var o=e[0],s=o.querySelector?o.querySelector(h):e.find(h)[0];s||(s=o.getElementsByTagName("body")[0]);var a=angular.element(s),u=s.lastChild&&angular.element(s.lastChild);i.$broadcast("cfpLoadingBar:started"),g=!0,b&&l.enter(d,a,u),y&&l.enter(p,a,d),r(w)}},set:r,status:s,inc:o,complete:function(){l||(l=t.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),r(1),n.cancel(c),c=n(function(){var t=l.leave(d,a);t&&t.then&&t.then(a),l.leave(p)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(){function t(t){return{restrict:"A",link:function(e,n,i,r){var o=n[0];e.$watch(function(){var t=o.querySelector("tbody tr:first-child td:first-child");return t&&!t.style.width},function(e){e&&(angular.element(o.querySelectorAll("thead, tbody, tfoot")).css("display",""),t(function(){angular.forEach(o.querySelectorAll("tr:first-child th"),function(t,e){var n=o.querySelector("tbody tr:first-child td:nth-child("+(e+1)+")"),i=o.querySelector("tfoot tr:first-child td:nth-child("+(e+1)+")"),r=n?n.offsetWidth:t.offsetWidth;n&&(n.style.width=r+"px"),t&&(t.style.width=r+"px"),i&&(i.style.width=r+"px")}),angular.element(o.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(o.querySelectorAll("tbody")).css({display:"block",height:i.tableHeight||"inherit",overflow:"auto"});var t=o.querySelector("tbody"),e=t.offsetWidth-t.clientWidth;if(e>0){e-=2;var n=o.querySelector("tbody tr:first-child td:last-child");n.style.width=n.offsetWidth-e+"px"}}))})}}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",t),t.$inject=["$timeout"]}(),angular.module("dcbImgFallback",[]).directive("fallbackSrc",["imageService",function(t){return{restrict:"A",link:function(e,n,i){var r=i.fallbackSrc?t.setMissing(i.fallbackSrc):t.getMissing(),o=function(){var e=i.fallbackSrc?t.setMissing(i.fallbackSrc):t.getMissing();n[0].src!==e&&(n[0].src=e)};n[0].src===t.getLoading()&&(n[0].src=r),n.on("error",o),e.$on("$destroy",function(){n.off("error",o)})}}}]).directive("loadingSrc",["$interpolate","imageService",function(t,e){var n=function(n,i,r){i[0].src=r.loadingSrc?e.setLoading(r.loadingSrc):e.getLoading();var o=new Image;o.src=t(r.imgSrc)(n),o.onload=function(){o.onload=null,i[0].src!==o.src&&(i[0].src=o.src)}};return{restrict:"A",compile:function(t,e){return e.imgSrc=e.ngSrc,delete e.ngSrc,n}}}]).factory("imageService",function(){var t="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxkZWZzPjxyYWRpYWxHcmFkaWVudCBpZD0icmFkaWFsLWdyYWRpZW50IiBjeD0iNTAwIiBjeT0iNTAwIiByPSI1MDAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNkZmRmZGYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM5OTkiLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48cmVjdCBmaWxsPSJ1cmwoI3JhZGlhbC1ncmFkaWVudCkiIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNjAxIDQxNGwwIDBWNTg2bDAgMEgzOTlsMCAwVjQxNGwwIDBINjAxWm0wLTE0SDM5OUExNCAxNCAwIDAgMCAzODUgNDE0djE3M2ExNCAxNCAwIDAgMCAxNCAxNEg2MDFBMTQgMTQgMCAwIDAgNjE1IDU4NlY0MTRhMTQgMTQgMCAwIDAtMTQtMTRoMFpNNTc",e=t+"1IDUwMmE3NyA3NyAwIDAgMC0yNC01NCA3NiA3NiAwIDAgMC0yNS0xNiA3NSA3NSAwIDAgMC01NyAxQTc0IDc0IDAgMCAwIDQzMCA0NzQgNzMgNzMgMCAwIDAgNDMxIDUzMGE3MiA3MiAwIDAgMCAzOSAzOCA3MCA3MCAwIDAgMCA1NC0xIDY5IDY5IDAgMCAwIDM3LTM4IDY4IDY4IDAgMCAwIDQtMTZsMSAwYTEwIDEwIDAgMCAwIDEwLTEwYzAgMCAwLTEgMC0xaDBabS0xNSAyNmE2NyA2NyAwIDAgMS0zNyAzNSA2NiA2NiAwIDAgMS01MC0xIDY0IDY0IDAgMCAxLTM0LTM1QTYzIDYzIDAgMCAxIDQ0MCA0NzkgNjIgNjIgMCAwIDEgNDU0IDQ1OSA2MiA2MiAwIDAgMSA0NzQgNDQ2YTYxIDYxIDAgMCAxIDIzLTQgNjAgNjAgMCAwIDEgNDIgMTlBNTkgNTkgMCAwIDEgNTUyIDQ4MGE1OCA1OCAwIDAgMSA0IDIyaDBjMCAwIDAgMSAwIDFhMTAgMTAgMCAwIDAgOSAxMCA2NyA2NyAwIDAgMS01IDE1aDBaIi8+PC9zdmc+",n=t+"yIDQ1MGEyMiAyMiAwIDEgMS0yMi0yMkEyMiAyMiAwIDAgMSA1NzIgNDUwWk01ODYgNTcySDQxNFY1NDNsNTAtODYgNTggNzJoMTRsNTAtNDN2ODZaIi8+PC9zdmc+";return{getLoading:function(){return e},getMissing:function(){return n},setLoading:function(t){return e=t},setMissing:function(t){return n=t}}}),angular.module("mm.foundation",["mm.foundation.accordion","mm.foundation.alert","mm.foundation.bindHtml","mm.foundation.buttons","mm.foundation.position","mm.foundation.dropdownToggle","mm.foundation.interchange","mm.foundation.transition","mm.foundation.modal","mm.foundation.offcanvas","mm.foundation.pagination","mm.foundation.tooltip","mm.foundation.popover","mm.foundation.progressbar","mm.foundation.rating","mm.foundation.tabs","mm.foundation.topbar","mm.foundation.tour","mm.foundation.typeahead"]),angular.module("mm.foundation.accordion",[]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){-1!==this.groups.indexOf(t)&&this.groups.splice(this.groups.indexOf(t),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",open:"=",close:"="},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,n,i,r){var o,s;r.addGroup(e),e.isOpen=!1,i.isOpen&&(o=t(i.isOpen),s=o.assign,e.$parent.$watch(o,function(t){e.isOpen=!!t})),i.open&&e.$watch("open",function(t){t&&(e.isOpen=!0)}),i.close&&e.$watch("close",function(t){t&&(e.isOpen=!1)}),e.$watch("isOpen",function(t){t&&r.closeOthers(e),s&&s(e.$parent,t)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(t,e,n){return function(t,e,i,r){r.setHeading(n(t,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("mm.foundation.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("mm.foundation.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("mm.foundation.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass,this.toggleEvent=t.toggleEvent}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(r.toggleEvent,function(){e.hasClass(r.activeClass)||t.$apply(function(){o.$setViewValue(t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];function s(){return a(n.btnCheckboxTrue,!0)}function a(e,n){var i=t.$eval(e);return angular.isDefined(i)?i:n}o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,s()))},e.bind(r.toggleEvent,function(){t.$apply(function(){o.$setViewValue(e.hasClass(r.activeClass)?a(n.btnCheckboxFalse,!1):s()),o.$render()})})}}}),angular.module("mm.foundation.position",[]).factory("$position",["$document","$window",function(t,e){function n(t){return"static"===(i="position",((n=t).currentStyle?n.currentStyle[i]:e.getComputedStyle?e.getComputedStyle(n)[i]:n.style[i])||"static");var n,i}return{position:function(e){var i=this.offset(e),r={top:0,left:0},o=function(e){for(var i=t[0],r=e.offsetParent||i;r&&r!==i&&n(r);)r=r.offsetParent;return r||i}(e[0]);o!=t[0]&&((r=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var s=e[0].getBoundingClientRect();return{width:s.width||e.prop("offsetWidth"),height:s.height||e.prop("offsetHeight"),top:i.top-r.top,left:i.left-r.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].body.scrollTop||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].body.scrollLeft||t[0].documentElement.scrollLeft)}}}}]),angular.module("mm.foundation.dropdownToggle",["mm.foundation.position"]).directive("dropdownToggle",["$document","$location","$position",function(t,e,n){var i=null,r=angular.noop;return{restrict:"CA",scope:{dropdownToggle:"@"},link:function(e,o,s){var a=angular.element(t[0].querySelector(e.dropdownToggle));e.$watch("$location.path",function(){r()}),o.bind("click",function(s){a=angular.element(t[0].querySelector(e.dropdownToggle));var l=o===i;if(s.preventDefault(),s.stopPropagation(),i&&r(),!l&&!o.hasClass("disabled")&&!o.prop("disabled")){a.css("display","block");var u=n.offset(o),c=n.offset(angular.element(a[0].offsetParent));a.css({left:u.left-c.left+"px",top:u.top-c.top+u.height+"px"}),i=o,r=function(e){t.unbind("click",r),a.css("display","none"),r=angular.noop,i=null},t.bind("click",r)}}),a&&a.css("display","none")}}}]),angular.module("mm.foundation.interchange",[]).factory("interchangeQueries",["$document",function(t){for(var e,n={default:"only screen",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},i=["small","medium","large","xlarge","xxlarge"],r=angular.element(t[0].querySelector("head")),o=0;o<i.length;o++)r.append('<meta class="foundation-mq-'+i[o]+'" />'),e=getComputedStyle(r[0].querySelector("meta.foundation-mq-"+i[o])).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),n[i[o]]=e;return n}]).factory("interchangeQueriesManager",["interchangeQueries",function(t){return{add:function(e,n){return!(!(e&&n&&angular.isString(e)&&angular.isString(n))||t[e])&&(t[e]=n,!0)}}}]).factory("interchangeTools",["$window","interchangeQueries",function(t,e){return{parseAttribute:function(t){for(var e,n=t.split(/\[(.*?)\]/),i=n.length,r=/^(.+)\,\ \((.+)\)$/,o={};i--;)n[i].replace(/[\W\d]+/,"").length>4&&(e=r.exec(n[i]))&&3===e.length&&(o[e[2]]=e[1]);return o},findCurrentMediaFile:function(n){var i,r;for(i in n)if(r=e[i]||i,t.matchMedia(r).matches)return n[i]}}}]).directive("interchange",["$window","$rootScope","interchangeTools",function(t,e,n){var i=/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)\ *,/i;return{restrict:"A",scope:!0,priority:450,compile:function(r,o){return"DIV"!==r[0].nodeName||i.test(o.interchange)||r.html('<ng-include src="currentFile"></ng-include>'),{pre:function(t,e,n){},post:function(i,r,o){var s,a;switch(a=r&&r[0]&&r[0].nodeName,i.fileMap=n.parseAttribute(o.interchange),a){case"DIV":s=n.findCurrentMediaFile(i.fileMap),/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)$/i.test(s)?i.type="background":i.type="include";break;case"IMG":i.type="image";break;default:return}var l=function(t){var o=n.findCurrentMediaFile(i.fileMap);if(!i.currentFile||i.currentFile!==o){switch(i.currentFile=o,i.type){case"image":r.attr("src",i.currentFile);break;case"background":r.css("background-image","url("+i.currentFile+")")}e.$emit("replace",r,i),t&&i.$apply()}};l(),t.addEventListener("resize",l),i.$on("$destroy",function(){t.removeEventListener("resize",l)})}}}}}]),angular.module("mm.foundation.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){var i=function(r,o,s){s=s||{};var a=t.defer(),l=i[s.animation?"animationEndEventName":"transitionEndEventName"],u=function(t){n.$apply(function(){r.unbind(l,u),a.resolve(r)})};return l&&r.bind(l,u),e(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),l||a.resolve(r)}),a.promise.cancel=function(){l&&r.unbind(l,u),a.reject("Transition cancelled")},a.promise},r=document.createElement("trans");function o(t){for(var e in t)if(void 0!==r.style[e])return t[e]}return i.transitionEndEventName=o({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),i.animationEndEventName=o({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),i}]),angular.module("mm.foundation.modal",["mm.foundation.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e==t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(t,e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(n){n.animate=!1,e(function(){n.animate=!0}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,n,i){t.windowClass=i.windowClass||"",e(function(){t.animate=!0,n[0].focus()})}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,i,r,o){var s,a,l="modal-open",u=o.createNew(),c={};function h(){for(var t=-1,e=u.keys(),n=0;n<e.length;n++)u.get(e[n]).value.backdrop&&(t=n);return t}function d(t){var e=n.find("body").eq(0),i=u.get(t).value;u.remove(t),p(i.modalDomEl,i.modalScope,300,f),e.toggleClass(l,u.length()>0)}function f(){if(s&&-1==h()){var t=a;p(s,a,150,function(){t.$destroy(),t=null}),s=void 0,a=void 0}}function p(n,i,r,o){i.animate=!1;var s=t.transitionEndEventName;if(s){var a=e(l,r);n.bind(s,function(){e.cancel(a),l(),i.$apply()})}else e(l,0);function l(){l.done||(l.done=!0,n.remove(),o&&o())}}return r.$watch(h,function(t){a&&(a.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=u.top())&&e.value.keyboard&&r.$apply(function(){c.dismiss(e.key)})}),c.open=function(t,e){u.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),c=h();c>=0&&!s&&((a=r.$new(!0)).index=c,s=i("<div modal-backdrop></div>")(a),o.append(s));var d=angular.element("<div modal-window></div>");d.attr("window-class",e.windowClass),d.attr("index",u.length()-1),d.attr("animate","animate"),d.html(e.content);var f=i(d)(e.scope);u.top().value.modalDomEl=f,o.append(f),o.addClass(l)},c.close=function(t,e){var n=u.get(t).value;n&&(n.deferred.resolve(e),d(t))},c.dismiss=function(t,e){var n=u.get(t).value;n&&(n.deferred.reject(e),d(t))},c.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},c.getTop=function(){return u.top()},c}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,i,r,o,s,a){var l={};return l.open=function(l){var u=i.defer(),c=i.defer(),h={result:u.promise,opened:c.promise,close:function(t){a.close(h,t)},dismiss:function(t){a.dismiss(h,t)}};if((l=angular.extend({},t.options,l)).resolve=l.resolve||{},!l.template&&!l.templateUrl)throw new Error("One of template or templateUrl options is required.");var d,f,p,g=i.all([(p=l,p.template?i.when(p.template):r.get(p.templateUrl,{cache:o}).then(function(t){return t.data}))].concat((d=l.resolve,f=[],angular.forEach(d,function(t,n){(angular.isFunction(t)||angular.isArray(t))&&f.push(i.when(e.invoke(t)))}),f)));return g.then(function(t){var e=(l.scope||n).$new();e.$close=h.close,e.$dismiss=h.dismiss;var i={},r=1;l.controller&&(i.$scope=e,i.$modalInstance=h,angular.forEach(l.resolve,function(e,n){i[n]=t[r++]}),s(l.controller,i)),a.open(h,{scope:e,deferred:u,content:t[0],backdrop:l.backdrop,keyboard:l.keyboard,windowClass:l.windowClass})},function(t){u.reject(t)}),g.then(function(){c.resolve(!0)},function(){c.reject(!1)}),h},l}]};return t}),angular.module("mm.foundation.offcanvas",[]).directive("offCanvasWrap",["$window",function(t){return{scope:{},restrict:"C",link:function(e,n,i){var r=angular.element(t),o=e.sidebar=n;e.hide=function(){o.removeClass("move-left"),o.removeClass("move-right")},r.bind("resize.body",e.hide),e.$on("$destroy",function(){r.unbind("resize.body",e.hide)})},controller:["$scope",function(t){this.leftToggle=function(){t.sidebar.toggleClass("move-right")},this.rightToggle=function(){t.sidebar.toggleClass("move-left")},this.hide=function(){t.hide()}}]}}]).directive("leftOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.leftToggle()})}}}]).directive("rightOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.rightToggle()})}}}]).directive("exitOffCanvas",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.hide()})}}}]).directive("offCanvasList",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.hide()})}}}]),angular.module("mm.foundation.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(t,e,n,i){var r=this,o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(i){e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=i},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===t.totalPages},this.isActive=function(t){return this.page===t},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.getAttributeValue=function(e,n,r){return angular.isDefined(e)?r?i(e)(t.$parent):t.$parent.$eval(e):n},this.render=function(){this.page=parseInt(t.page,10)||1,this.page>0&&this.page<=t.totalPages&&(t.pages=this.getPages(this.page,t.totalPages))},t.selectPage=function(e){!r.isActive(e)&&e>0&&e<=t.totalPages&&(t.page=e,t.onSelectPage({page:e}))},t.$watch("page",function(){r.render()}),t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),r.page>e?t.selectPage(e):r.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){var s,a=o.getAttributeValue(r.boundaryLinks,e.boundaryLinks),l=o.getAttributeValue(r.directionLinks,e.directionLinks),u=o.getAttributeValue(r.firstText,e.firstText,!0),c=o.getAttributeValue(r.previousText,e.previousText,!0),h=o.getAttributeValue(r.nextText,e.nextText,!0),d=o.getAttributeValue(r.lastText,e.lastText,!0),f=o.getAttributeValue(r.rotate,e.rotate);function p(t,e,n,i){return{number:t,text:e,active:n,disabled:i}}o.init(e.itemsPerPage),r.maxSize&&n.$parent.$watch(t(r.maxSize),function(t){s=parseInt(t,10),o.render()}),o.getPages=function(t,e){var n=[],i=1,r=e,g=angular.isDefined(s)&&s<e;g&&(f?(r=(i=Math.max(t-Math.floor(s/2),1))+s-1)>e&&(i=(r=e)-s+1):(i=(Math.ceil(t/s)-1)*s+1,r=Math.min(i+s-1,e)));for(var m=i;m<=r;m++){var v=p(m,m,o.isActive(m),!1);n.push(v)}if(g&&!f){if(i>1){var y=p(i-1,"...",!1,!1);n.unshift(y)}if(r<e){var b=p(r+1,"...",!1,!1);n.push(b)}}if(l){var w=p(t-1,c,!1,o.noPrevious());n.unshift(w);var x=p(t+1,h,!1,o.noNext());n.push(x)}if(a){var C=p(1,u,!1,o.noPrevious());n.unshift(C);var k=p(e,d,!1,o.noNext());n.push(k)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,i,r){var o=r.getAttributeValue(i.previousText,t.previousText,!0),s=r.getAttributeValue(i.nextText,t.nextText,!0),a=r.getAttributeValue(i.align,t.align);function l(t,e,n,i,r){return{number:t,text:e,disabled:n,previous:a&&i,next:a&&r}}r.init(t.itemsPerPage),r.getPages=function(t){return[l(t-1,o,r.noPrevious(),!0,!1),l(t+1,s,r.noNext(),!1,!0)]}}}}]),angular.module("mm.foundation.tooltip",["mm.foundation.position","mm.foundation.bindHtml"]).provider("$tooltip",function(){var t={placement:"top",animation:!0,popupDelay:0},e={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(t){angular.extend(n,t)},this.setTriggers=function(t){angular.extend(e,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,r,o,s,a,l,u){return function(i,c,h){var d=angular.extend({},t,n);function f(t){var n=t||d.trigger||h;return{show:n,hide:e[n]||n}}var p=i.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),g=u.startSymbol(),m=u.endSymbol(),v="<div "+p+'-popup title="'+g+"tt_title"+m+'" content="'+g+"tt_content"+m+'" placement="'+g+"tt_placement"+m+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(t,e){var n=r(v);return function(t,e,r){var u,h,p,g=!!angular.isDefined(d.appendToBody)&&d.appendToBody,m=f(void 0),v=!1,y=angular.isDefined(r[c+"Enable"]),b=function(){var n,i,r,o;switch(n=g?l.offset(e):l.position(e),i=u.prop("offsetWidth"),r=u.prop("offsetHeight"),t.tt_placement){case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width+10};break;case"bottom":o={top:n.top+n.height+10,left:n.left};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i-10};break;default:o={top:n.top-r-10,left:n.left}}o.top+="px",o.left+="px",u.css(o)};function w(){t.tt_isOpen?C():x()}function x(){y&&!t.$eval(r[c+"Enable"])||(t.tt_popupDelay?(p=o(k,t.tt_popupDelay,!1)).then(function(t){t()}):k()())}function C(){t.$apply(function(){_()})}function k(){return t.tt_content?(function(){u&&S();u=n(t,function(){}),t.$digest()}(),h&&o.cancel(h),u.css({top:0,left:0,display:"block"}),g?a.find("body").append(u):e.after(u),b(),t.tt_isOpen=!0,t.$digest(),b):angular.noop}function _(){t.tt_isOpen=!1,o.cancel(p),t.tt_animation?h=o(S,500):S()}function S(){u&&(u.remove(),u=null)}t.tt_isOpen=!1,r.$observe(i,function(e){t.tt_content=e,!e&&t.tt_isOpen&&_()}),r.$observe(c+"Title",function(e){t.tt_title=e}),r.$observe(c+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement}),r.$observe(c+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?d.popupDelay:n});var $=function(){v&&(e.unbind(m.show,x),e.unbind(m.hide,C))},E=function(){};r[c+"Trigger"]=r[c+"Trigger"]||null,r.$observe(c+"Trigger",function(n){$(),E(),m=f(n),angular.isFunction(m.show)?E=t.$watch(function(){return m.show(t,e,r)},function(t){return o(t?k:_)}):m.show===m.hide?e.bind(m.show,w):(e.bind(m.show,x),e.bind(m.hide,C)),v=!0});var T=t.$eval(r[c+"Animation"]);t.tt_animation=angular.isDefined(T)?!!T:d.animation,r.$observe(c+"AppendToBody",function(e){g=angular.isDefined(e)?s(e)(t):g}),g&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&_()}),t.$on("$destroy",function(){o.cancel(h),o.cancel(p),$(),E(),S()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("mm.foundation.popover",["mm.foundation.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("mm.foundation.progressbar",["mm.foundation.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(t,e,n,i){var r=this,o=[],s=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,a=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.addBar=function(t,e){var n=0,i=t.$parent.$index;angular.isDefined(i)&&o[i]&&(n=o[i].value),o.push(t),this.update(e,t.value,n),t.$watch("value",function(t,n){t!==n&&r.update(e,t,n)}),t.$on("$destroy",function(){r.removeBar(t)})},this.update=function(t,e,n){var r=this.getPercentage(e);a?(t.css("width",this.getPercentage(n)+"%"),i(t,{width:r+"%"})):t.css({transition:"none",width:r+"%"})},this.removeBar=function(t){o.splice(o.indexOf(t),1)},this.getPercentage=function(t){return Math.round(100*t/s)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("mm.foundation.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(t,e,n,i){this.maxRange=angular.isDefined(e.max)?t.$parent.$eval(e.max):i.max,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):i.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):i.stateOff,this.createRateObjects=function(t){for(var e={stateOn:this.stateOn,stateOff:this.stateOff},n=0,i=t.length;n<i;n++)t[n]=angular.extend({index:n},e,t[n]);return t},t.range=angular.isDefined(e.ratingStates)?this.createRateObjects(angular.copy(t.$parent.$eval(e.ratingStates))):this.createRateObjects(new Array(this.maxRange)),t.rate=function(e){t.value===e||t.readonly||(t.value=e)},t.enter=function(e){t.readonly||(t.val=e),t.onHover({value:e})},t.reset=function(){t.val=angular.copy(t.value),t.onLeave()},t.$watch("value",function(e){t.val=e}),t.readonly=!1,e.readonly&&t.$parent.$watch(n(e.readonly),function(e){t.readonly=!!e})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("mm.foundation.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(t){t.active=!1}),t.active=!0},e.addTab=function(t){n.push(t),(1===n.length||t.active)&&e.select(t)},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1){var r=i==n.length-1?i-1:i+1;e.select(n[r])}n.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified),t.type=angular.isDefined(n.type)?t.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,i){return function(e,n,r,o){var s,a;r.active?(s=t(r.active),a=s.assign,e.$parent.$watch(s,function(t,n){t!==n&&(e.active=!!t)}),e.active=s(e.$parent)):a=s=angular.noop,e.$watch("active",function(t){a(e.$parent,t),t?(o.select(e),e.onSelect()):e.onDeselect()}),e.disabled=!1,r.disabled&&e.$parent.$watch(t(r.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e,n,i){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(t,e,n){var i=t.$eval(n.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){!function(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}(t)?e.append(t):i.headingElement=t})})}}}),angular.module("mm.foundation.topbar",[]).factory("closest",[function(){return function(t,e){for(var n=function(t,e){for(var n=(t.parentNode||t.document).querySelectorAll(e),i=-1;n[++i]&&n[i]!=t;);return!!n[i]},i=t[0];i;){if(n(i,e))return angular.element(i);i=i.parentElement}return!1}}]).directive("topBar",["$timeout","$compile","$window","$document",function(t,e,n,i){var r=angular.element(n),o=angular.element(i[0].querySelector("head"));o.append('<meta class="foundation-mq-topbar" />'),o.append('<meta class="foundation-mq-small" />'),o.append('<meta class="foundation-mq-medium" />'),o.append('<meta class="foundation-mq-large" />');var s,a,l,u,c,h,d=n.matchMedia||(s=i[0],l=s.documentElement,u=l.firstElementChild||l.firstChild,c=s.createElement("body"),(h=s.createElement("div")).id="mq-test-1",h.style.cssText="position:absolute;top:-100em",c.style.background="none",c.appendChild(h),function(t){return h.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',l.insertBefore(c,u),a=42===h.offsetWidth,l.removeChild(c),{matches:a,media:t}});return{scope:{stickyClass:"@",backText:"@",stickyOn:"=",customBackText:"=",isHover:"=",mobileShowParentLink:"=",scrolltop:"="},restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar.html",transclude:!0,link:function(t,e,s){var a=t.topbar=e,l=a.parent(),u=/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,c=(t.mediaQueries={topbar:getComputedStyle(o[0].querySelector("meta.foundation-mq-topbar")).fontFamily.replace(u,""),small:getComputedStyle(o[0].querySelector("meta.foundation-mq-small")).fontFamily.replace(u,""),medium:getComputedStyle(o[0].querySelector("meta.foundation-mq-medium")).fontFamily.replace(u,""),large:getComputedStyle(o[0].querySelector("meta.foundation-mq-large")).fontFamily.replace(u,"")},angular.element(i[0].querySelector("body"))),h=t.isSticky=function(){var e=l.hasClass(t.settings.stickyClass);return!(!e||"all"!==t.settings.stickyOn)||(!(!e||!small()||"small"!==t.settings.stickyOn)||(!(!e||!medium()||"medium"!==t.settings.stickyOn)||!(!e||!large()||"large"!==t.settings.stickyOn)))},d=function(){if(t.stickyTopbar&&t.isSticky()){var e=angular.element(i[0].querySelector("."+t.settings.stickyClass)),n=f;r.scrollTop()>n&&!e.hasClass("fixed")?(e.addClass("fixed"),c.css("padding-top",t.originalHeight+"px")):r.scrollTop()<=n&&e.hasClass("fixed")&&(e.removeClass("fixed"),c.css("padding-top",""))}};if(t.toggle=function(e){if(!t.breakpoint())return!1;var i=void 0===e?!a.hasClass("expanded"):e;i?a.addClass("expanded"):a.removeClass("expanded"),t.settings.scrolltop?!i&&a.hasClass("fixed")?(a.parent().addClass("fixed"),a.removeClass("fixed"),c.css("padding-top",t.originalHeight+"px")):i&&a.parent().hasClass("fixed")&&(a.parent().removeClass("fixed"),a.addClass("fixed"),c.css("padding-top",""),n.scrollTo(0,0)):(h()&&a.parent().addClass("fixed"),a.parent().hasClass("fixed")&&(i?(a.addClass("fixed"),a.parent().addClass("expanded"),c.css("padding-top",t.originalHeight+"px")):(a.removeClass("fixed"),a.parent().removeClass("expanded"),d())))},l.hasClass("fixed")||h()){t.stickyTopbar=!0,t.height=l[0].offsetHeight;var f=l[0].getBoundingClientRect().top}else t.height=a[0].offsetHeight;t.originalHeight=t.height,t.$watch("height",function(t){t?a.css("height",t+"px"):a.css("height","")}),r.bind("resize",function(){var e=angular.element(a[0].querySelectorAll("section"));angular.forEach(e,function(t){angular.element(t.querySelectorAll("li.moved")).removeClass("moved")}),a.removeClass("expanded"),t.height="",t.$apply()}),r.bind("scroll",function(){d(),t.$apply()}),t.$on("$destroy",function(){r.unbind("scroll"),r.unbind("resize")}),l.hasClass("fixed")&&c.css("padding-top",t.originalHeight+"px")},controller:["$window","$scope","closest",function(e,n,r){n.settings={},n.settings.stickyClass=n.stickyClass||"sticky",n.settings.backText=n.backText||"Back",n.settings.stickyOn=n.stickyOn||"all",n.settings.customBackText=void 0===n.customBackText||n.customBackText,n.settings.isHover=void 0===n.isHover||n.isHover,n.settings.mobileShowParentLink=void 0===n.mobileShowParentLink||n.mobileShowParentLink,n.settings.scrolltop=void 0===n.scrolltop||n.scrolltop,this.settings=n.settings,n.index=0;var o=function(t){var e=t.offsetHeight,n=t.currentStyle||getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},s=n.breakpoint=this.breakpoint=function(){return!d(n.mediaQueries.topbar).matches},a=[];this.addSection=function(t){a.push(t)},this.removeSection=function(t){var e=a.indexOf(t);e>-1&&a.splice(e,1)};var l=/rtl/i.test(i.find("html").attr("dir"))?"right":"left";n.$watch("index",function(t){for(var e=0;e<a.length;e++)a[e].move(l,t)}),this.toggle=function(t){n.toggle(t);for(var e=0;e<a.length;e++)a[e].reset();n.index=0,n.height="",n.$apply()},this.back=function(e){if(!(n.index<1)&&s()){var i=angular.element(e.currentTarget),a=r(i,"li.moved"),l=a.parent();n.index=n.index-1,0===n.index?n.height="":n.height=n.originalHeight+o(l[0]),t(function(){a.removeClass("moved")},300)}},this.forward=function(t){if(!s())return!1;var e=angular.element(t.currentTarget);r(e,"li").addClass("moved"),n.height=n.originalHeight+o(e.parent()[0].querySelector("ul")),n.index=n.index+1,n.$apply()}}]}}]).directive("toggleTopBar",["closest",function(t){return{scope:{},require:"^topBar",restrict:"A",replace:!0,templateUrl:"template/topbar/toggle-top-bar.html",transclude:!0,link:function(e,n,i,r){n.bind("click",function(e){var n=t(angular.element(e.currentTarget),"li");n.hasClass("back")||n.hasClass("has-dropdown")||r.toggle()}),e.$on("$destroy",function(){n.unbind("click")})}}}]).directive("topBarSection",["$compile","closest",function(t,e){return{scope:{},require:"^topBar",restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar-section.html",transclude:!0,link:function(t,n,i,r){var o=n;t.reset=function(){angular.element(o[0].querySelectorAll("li.moved")).removeClass("moved")},t.move=function(t,e){"left"===t?o.css({left:-100*e+"%"}):o.css({right:-100*e+"%"})},r.addSection(t),t.$on("$destroy",function(){r.removeSection(t)});var s=o[0].querySelectorAll("li>a");angular.forEach(s,function(n){var i=angular.element(n),o=e(i,"li");o.hasClass("has-dropdown")||o.hasClass("back")||o.hasClass("title")||(i.bind("click",function(){r.toggle(!1)}),t.$on("$destroy",function(){i.bind("click")}))})}}}]).directive("hasDropdown",[function(){return{scope:{},require:["^topBar"],restrict:"A",templateUrl:"template/topbar/has-dropdown.html",replace:!0,transclude:!0,link:function(t,e,n,i){var r=i[0];i[1];t.triggerLink=e.children("a")[0];var o=angular.element(t.triggerLink);o.bind("click",function(t){r.forward(t)}),t.$on("$destroy",function(){o.unbind("click")}),e.bind("mouseenter",function(){r.settings.isHover&&!r.breakpoint()&&e.addClass("not-click")}),e.bind("click",function(t){r.settings.isHover||r.breakpoint()||(was_clicked_twice=e[0].className.indexOf("not-click"),$("#main").click(function(){$(".not-click").toggleClass("not-click"),$("#main").unbind("click")}),0!=$(".not-click").size()&&$(".not-click").toggleClass("not-click"),-1!=was_clicked_twice&&e.toggleClass("not-click"),e.toggleClass("not-click"))}),e.bind("mouseleave",function(){r.settings.isHover&&e.removeClass("not-click")}),t.$on("$destroy",function(){e.unbind("click"),e.unbind("mouseenter"),e.unbind("mouseleave")})},controller:["$window","$scope",function(t,e){this.triggerLink=e.triggerLink}]}}]).directive("topBarDropdown",["$compile",function(t){return{scope:{},require:["^topBar","^hasDropdown"],restrict:"A",replace:!0,templateUrl:"template/topbar/top-bar-dropdown.html",transclude:!0,link:function(e,n,i,r){var o,s=r[0],a=r[1],l=angular.element(a.triggerLink),u=l.attr("href");e.linkText=l.text(),e.back=function(t){s.back(t)},s.settings.customBackText?e.backText=s.settings.backText:e.backText="&laquo; "+l.html(),o=s.settings.mobileShowParentLink&&u&&u.length>1?angular.element('<li class="title back js-generated"><h5><a href="#" ng-click="back($event);">{{backText}}</a></h5></li><li><a class="parent-link js-generated" href="'+u+'">{{linkText}}</a></li>'):angular.element('<li class="title back js-generated"><h5><a href="" ng-click="back($event);">{{backText}}</a></h5></li>'),t(o)(e),n.prepend(o)}}}]),angular.module("mm.foundation.tour",["mm.foundation.position","mm.foundation.tooltip"]).service("$tour",["$window","$rootScope",function(t,e){var n=parseInt(t.localStorage.getItem("mm.tour.step"),10),i={};function r(e){n=e,t.localStorage.setItem("mm.tour.step",e)}this.add=function(t,e){i[t]=e},this.has=function(t){return!!i[t]},this.isActive=function(){return n>0},this.current=function(t){if(!t)return n;r(n)},this.start=function(){r(1)},this.next=function(){r(n+1)},this.end=function(){e.$emit("tour_ended"),r(0)}}]).directive("stepTextPopup",["$tour",function(t){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tour/tour.html",link:function(e,n){e.isLastStep=function(){return!t.has(t.current()+1)},e.endTour=function(){n.remove(),t.end()},e.nextStep=function(){n.remove(),t.next()}}}}]).directive("stepText",["$position","$tooltip","$tour","$window","Page",function(t,e,n,i,r){return e("stepText","step",function(e,o,s){var a=parseInt(s.stepIndex,10);if(s.pageName)var l=s.pageName.replace(".","_");if(n.isActive()&&a&&l==r.pageName()&&(n.add(a,s),a===n.current())){if(!function(t){var e=t[0].getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=i.innerHeight-80&&e.right<=i.innerWidth}(o)){var u=t.offset(o);i.scrollTo(0,u.top-i.innerHeight/2)}return!0}return!1})}]),angular.module("mm.foundation.typeahead",["mm.foundation.position","mm.foundation.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,i,r,o,s){var a=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,h){var d,f=l.$eval(c.typeaheadMinLength)||1,p=l.$eval(c.typeaheadWaitMs)||0,g=!1!==l.$eval(c.typeaheadEditable),m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,b=!!c.typeaheadAppendToBody&&e(c.typeaheadAppendToBody),w=e(c.ngModel).assign,x=s.parse(c.typeahead),C=angular.element("<div typeahead-popup></div>");C.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&C.attr("template-url",c.typeaheadTemplateUrl);var k=l.$new();l.$on("$destroy",function(){k.$destroy()});var _,S=function(){k.matches=[],k.activeIdx=-1},$=function(t){var e={$viewValue:t};m(l,!0),n.when(x.source(l,e)).then(function(n){if(t===h.$viewValue&&d){if(n.length>0){k.activeIdx=0,k.matches.length=0;for(var i=0;i<n.length;i++)e[x.itemName]=n[i],k.matches.push({label:x.viewMapper(k,e),model:n[i]});k.query=t,k.position=b?o.offset(u):o.position(u),k.position.top=k.position.top+u.prop("offsetHeight")}else S();m(l,!1)}},function(){S(),m(l,!1)})};S(),k.query=void 0,h.$parsers.unshift(function(t){return d=!0,t&&t.length>=f?p>0?(_&&i.cancel(_),_=i(function(){$(t)},p)):$(t):(m(l,!1),S()),g?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),t)}),h.$formatters.push(function(t){var e,n={};return y?(n.$model=t,y(l,n)):(n[x.itemName]=t,e=x.viewMapper(l,n),n[x.itemName]=void 0,e!==x.viewMapper(l,n)?e:t)}),k.select=function(t){var e,n,i={};i[x.itemName]=n=k.matches[t].model,e=x.modelMapper(l,i),w(l,e),h.$setValidity("editable",!0),v(l,{$item:n,$model:e,$label:x.viewMapper(l,i)}),S(),u[0].focus()},u.bind("keydown",function(t){0!==k.matches.length&&-1!==a.indexOf(t.which)&&(t.preventDefault(),40===t.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===t.which?(k.activeIdx=(k.activeIdx?k.activeIdx:k.matches.length)-1,k.$digest()):13===t.which||9===t.which?k.$apply(function(){k.select(k.activeIdx)}):27===t.which&&(t.stopPropagation(),S(),k.$digest()))}),u.bind("blur",function(t){d=!1});var E=function(t){u[0]!==t.target&&(S(),k.$digest())};r.bind("click",E),l.$on("$destroy",function(){r.unbind("click",E)});var T=t(C)(k);b?r.find("body").append(T):u.after(T)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,o,s){var a=i(s.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";t.get(a,{cache:e}).success(function(t){o.replaceWith(n(t.trim())(r))})}}}]).filter("typeaheadHighlight",function(){return function(t,e){return e?t.replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t}}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n||t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(t,e){for(;t&&t.nodeType!==i;){if(t.matches(e))return t;t=t.parentNode}}},{}],2:[function(t,e,n){function i(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}var r=t("./closest");e.exports=function(t,e,n,r,o){var s=i.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){var i=t("./is"),r=t("delegate");e.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(i.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}(t,e,n);if(i.string(t))return function(t,e,n){return r(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(t,e,n){e.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}},{}],6:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],7:[function(t,e,n){!function(i,r){if(void 0!==n)r(e,t("select"));else{var o={exports:{}};r(o,i.select),i.clipboardAction=o.exports}}(this,function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.resolveOptions(e),this.initSelection()}return r(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=o})},{select:5}],8:[function(t,e,n){!function(i,r){if(void 0!==n)r(e,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};r(o,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports}}(this,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=r(e),a=r(n),l=r(i),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),u(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,l.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return o("action",t)}},{key:"defaultTarget",value:function(t){var e=o("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return o("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),e}();t.exports=c})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(){"use strict";var t,e,n="ngclipboard";"object"==typeof module&&module.exports?(t=require("angular"),e=require("clipboard"),module.exports=n):(t=window.angular,e=window.Clipboard),t.module(n,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(t,n){var i=new e(n[0]);i.on("success",function(e){t.$apply(function(){t.ngclipboardSuccess({e:e})})}),i.on("error",function(e){t.$apply(function(){t.ngclipboardError({e:e})})}),n.on("$destroy",function(){i.destroy()})}}})}(),angular.module("ngTextTruncate",[]).directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function(t,e,n,i){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"@ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:["$scope","$element","$attrs",function(t,e,n){t.toggleShow=function(){t.open=!t.open},t.useToggling=void 0===n.ngTtNoToggling}],link:function(t,r,o){t.open=!1,e.failIfWrongThreshouldConfig(t.charsThreshould,t.wordsThreshould);var s=parseInt(t.charsThreshould),a=parseInt(t.wordsThreshould);s?t.text&&n.truncationApplies(t,s)?n.applyTruncation(s,t,r):r.append(t.text):t.text&&i.truncationApplies(t,a)?i.applyTruncation(a,t,r):r.append(t.text)}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(t,e){if(!t&&!e||t&&e)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function(t){return{truncationApplies:function(t,e){return t.text.length>e},applyTruncation:function(e,n,i){if(n.useToggling){var r=angular.element("<span>"+n.text.substr(0,e)+"<span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(n.customMoreLabel?n.customMoreLabel:"More")+"</span><span ng-show='open'>"+n.text.substring(e)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(n.customLessLabel?n.customLessLabel:"Less")+"</span></span></span>");t(r)(n),i.append(r)}else i.append(n.text.substr(0,e)+"...")}}}]).factory("WordBasedTruncation",["$compile",function(t){return{truncationApplies:function(t,e){return t.text.split(" ").length>e},applyTruncation:function(e,n,i){var r=n.text.split(" ");if(n.useToggling){var o=angular.element("<span>"+r.slice(0,e).join(" ")+" <span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> More</span><span ng-show='open'>"+r.slice(e,r.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> Less</span></span></span>");t(o)(n),i.append(o)}else i.append(r.slice(0,e).join(" ")+"...")}}}]),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(t){!n&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},i._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(jQuery),function(t,e){"undefined"!=typeof module&&module.exports?module.exports="undefined"==typeof angular?e(require("angular")):e(angular):"function"==typeof define&&define.amd?define(["angular"],e):e(t.angular)}(this,function(t){"use strict";var e=t.module("ngDialog",[]),n=t.element,i=t.isDefined,r=(document.body||document.documentElement).style,o=i(r.animation)||i(r.WebkitAnimation)||i(r.MozAnimation)||i(r.MsAnimation)||i(r.OAnimation),s="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",a={html:!1,body:!1},l={},u=[],c=!1;return e.provider("ngDialog",function(){var e=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceHtmlReload=function(t){a.html=t||!1},this.setForceBodyReload=function(t){a.body=t||!1},this.setDefaults=function(n){t.extend(e,n)};var i,r=0,h=0,d={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(f,p,g,m,v,y,b,w,x,C){var k=[];t.forEach(["html","body"],function(t){if(k[t]=f.find(t),a[t]){var e=_.getRouterLocationEventName();y.$on(e,function(){k[t]=f.find(t)})}});var _={onDocumentKeydown:function(t){27===t.keyCode&&S.close("$escape")},activate:function(t){t.data("$ngDialogOptions").trapFocus&&(t.on("keydown",_.onTrapFocusKeydown),k.body.on("keydown",_.onTrapFocusKeydown))},deactivate:function(t){t.off("keydown",_.onTrapFocusKeydown),k.body.off("keydown",_.onTrapFocusKeydown)},deactivateAll:function(){t.forEach(function(e){var n=t.element(e);_.deactivate(n)})},setBodyPadding:function(t){var e=parseInt(k.body.css("padding-right")||0,10);k.body.css("padding-right",e+t+"px"),k.body.data("ng-dialog-original-padding",e)},resetBodyPadding:function(){var t=k.body.data("ng-dialog-original-padding");t?k.body.css("padding-right",t+"px"):k.body.css("padding-right","")},performCloseDialog:function(t,e){var n=t.data("$ngDialogOptions"),r=t.attr("id"),a=l[r];if(a){if(void 0!==w.Hammer){var f=a.hammerTime;f.off("tap",i),f.destroy&&f.destroy(),delete a.hammerTime}else t.unbind("click");1===h&&k.body.unbind("keydown",_.onDocumentKeydown),t.hasClass("ngdialog-closing")||(h-=1);var p=t.data("$ngDialogPreviousFocus");p&&p.focus(),y.$broadcast("ngDialog.closing",t,e),h=0>h?0:h,o&&!n.disableAnimation?(a.$destroy(),t.unbind(s).bind(s,function(){_.closeDialogElement(t,e)}).addClass("ngdialog-closing")):(a.$destroy(),_.closeDialogElement(t,e)),d[r]&&(d[r].resolve({id:r,value:e,$dialog:t,remainingDialogs:h}),delete d[r]),l[r]&&delete l[r],u.splice(u.indexOf(r),1),u.length||(k.body.unbind("keydown",_.onDocumentKeydown),c=!1)}},closeDialogElement:function(t,e){t.remove(),0===h&&(k.html.removeClass("ngdialog-open"),k.body.removeClass("ngdialog-open"),_.resetBodyPadding()),y.$broadcast("ngDialog.closed",t,e)},closeDialog:function(e,n){var i=e.data("$ngDialogPreCloseCallback");if(i&&t.isFunction(i)){var r=i.call(e,n);t.isObject(r)?r.closePromise?r.closePromise.then(function(){_.performCloseDialog(e,n)}):r.then(function(){_.performCloseDialog(e,n)},function(){}):!1!==r&&_.performCloseDialog(e,n)}else _.performCloseDialog(e,n)},onTrapFocusKeydown:function(e){var n,i=t.element(e.currentTarget);if(i.hasClass("ngdialog"))n=i;else if(null===(n=_.getActiveDialog()))return;var r=9===e.keyCode,o=!0===e.shiftKey;r&&_.handleTab(n,e,o)},handleTab:function(t,e,n){var i=_.getFocusableElements(t);if(0!==i.length){var r=document.activeElement,o=Array.prototype.indexOf.call(i,r),s=-1===o,a=0===o,l=o===i.length-1,u=!1;n?(s||a)&&(i[i.length-1].focus(),u=!0):(s||l)&&(i[0].focus(),u=!0),u&&(e.preventDefault(),e.stopPropagation())}else document.activeElement&&document.activeElement.blur()},autoFocus:function(t){var e=t[0],i=e.querySelector("*[autofocus]");if(null===i||(i.focus(),document.activeElement!==i)){var r=_.getFocusableElements(t);if(r.length>0)return void r[0].focus();var o=_.filterVisibleElements(e.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(o.length>0){var s=o[0];n(s).attr("tabindex","-1").css("outline","0"),s.focus()}}},getFocusableElements:function(t){var e=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=_.filterTabbableElements(e);return _.filterVisibleElements(n)},filterTabbableElements:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];"-1"!==n(r).attr("tabindex")&&e.push(r)}return e},filterVisibleElements:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];(i.offsetWidth>0||i.offsetHeight>0)&&e.push(i)}return e},getActiveDialog:function(){var t=document.querySelectorAll(".ngdialog");return 0===t.length?null:n(t[t.length-1])},applyAriaAttributes:function(t,e){if(e.ariaAuto){if(!e.ariaRole){var n=_.getFocusableElements(t).length>0?"dialog":"alertdialog";e.ariaRole=n}e.ariaLabelledBySelector||(e.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),e.ariaDescribedBySelector||(e.ariaDescribedBySelector="article,section,p")}e.ariaRole&&t.attr("role",e.ariaRole),_.applyAriaAttribute(t,"aria-labelledby",e.ariaLabelledById,e.ariaLabelledBySelector),_.applyAriaAttribute(t,"aria-describedby",e.ariaDescribedById,e.ariaDescribedBySelector)},applyAriaAttribute:function(t,e,i,r){if(i&&t.attr(e,i),r){var o=t.attr("id"),s=t[0].querySelector(r);if(!s)return;var a=o+"-"+e;return n(s).attr("id",a),t.attr(e,a),a}},detectUIRouter:function(){try{return t.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return _.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},S={open:function(o){function s(t,e){return y.$broadcast("ngDialog.templateLoading",t),v.get(t,e||{}).then(function(e){return y.$broadcast("ngDialog.templateLoaded",t),e.data||""})}var a,f,$=t.copy(e),E=++r,T="ngdialog"+E;u.push(T),o=o||{},t.extend($,o),d[T]=a=m.defer(),l[T]=f=t.isObject($.scope)?$.scope.$new():y.$new();var D,M,A=t.extend({},$.resolve);return t.forEach(A,function(e,n){A[n]=t.isString(e)?C.get(e):C.invoke(e,null,null,n)}),m.all({template:function(e){return e?t.isString(e)&&$.plain?e:"boolean"!=typeof $.cache||$.cache?s(e,{cache:p}):s(e,{cache:!1}):"Empty template"}($.template||$.templateUrl),locals:m.all(A)}).then(function(e){var r,o=e.template,s=e.locals;if($.showClose&&(o+='<div class="ngdialog-close"></div>'),(D=n('<div id="ngdialog'+E+'" class="ngdialog"></div>')).html($.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+o+"</div>":'<div class="ngdialog-content" role="document">'+o+"</div>"),D.data("$ngDialogOptions",$),f.ngDialogId=T,$.data&&t.isString($.data)){var a=$.data.replace(/^\s*/,"")[0];f.ngDialogData="{"===a||"["===a?t.fromJson($.data):$.data,f.ngDialogData.ngDialogId=T}else $.data&&t.isObject($.data)&&(f.ngDialogData=$.data,f.ngDialogData.ngDialogId=T);if($.controller&&(t.isString($.controller)||t.isArray($.controller)||t.isFunction($.controller))){var l;$.controllerAs&&t.isString($.controllerAs)&&(l=$.controllerAs);var u=x($.controller,t.extend(s,{$scope:f,$element:D}),null,l);D.data("$ngDialogControllerController",u)}($.className&&D.addClass($.className),$.disableAnimation&&D.addClass("ngdialog-disabled-animation"),M=$.appendTo&&t.isString($.appendTo)?t.element(document.querySelector($.appendTo)):k.body,_.applyAriaAttributes(D,$),$.preCloseCallback)&&(t.isFunction($.preCloseCallback)?r=$.preCloseCallback:t.isString($.preCloseCallback)&&f&&(t.isFunction(f[$.preCloseCallback])?r=f[$.preCloseCallback]:f.$parent&&t.isFunction(f.$parent[$.preCloseCallback])?r=f.$parent[$.preCloseCallback]:y&&t.isFunction(y[$.preCloseCallback])&&(r=y[$.preCloseCallback])),r&&D.data("$ngDialogPreCloseCallback",r));if(f.closeThisDialog=function(t){_.closeDialog(D,t)},b(function(){var t=document.querySelectorAll(".ngdialog");_.deactivateAll(t),g(D)(f);var e=w.innerWidth-k.body.prop("clientWidth");k.html.addClass("ngdialog-open"),k.body.addClass("ngdialog-open");var n=e-(w.innerWidth-k.body.prop("clientWidth"));n>0&&_.setBodyPadding(n),M.append(D),_.activate(D),$.trapFocus&&_.autoFocus(D),$.name?y.$broadcast("ngDialog.opened",{dialog:D,name:$.name}):y.$broadcast("ngDialog.opened",D)}),c||(k.body.bind("keydown",_.onDocumentKeydown),c=!0),$.closeByNavigation){var d=_.getRouterLocationEventName();y.$on(d,function(){_.closeDialog(D)})}($.preserveFocus&&D.data("$ngDialogPreviousFocus",document.activeElement),i=function(t){var e=!!$.closeByDocument&&n(t.target).hasClass("ngdialog-overlay"),i=n(t.target).hasClass("ngdialog-close");(e||i)&&S.close(D.attr("id"),i?"$closeButton":"$document")},void 0!==w.Hammer)?(f.hammerTime=w.Hammer(D[0])).on("tap",i):D.bind("click",i);return h+=1,S}),{id:T,closePromise:a.promise,close:function(t){_.closeDialog(D,t)}}},openConfirm:function(e){var i=m.defer(),r={closeByEscape:!1,closeByDocument:!1};t.extend(r,e),r.scope=t.isObject(r.scope)?r.scope.$new():y.$new(),r.scope.confirm=function(t){i.resolve(t);var e=n(document.getElementById(o.id));_.performCloseDialog(e,t)};var o=S.open(r);return o.closePromise.then(function(t){return t?i.reject(t.value):i.reject()}),i.promise},isOpen:function(t){return n(document.getElementById(t)).length>0},close:function(t,e){var i=n(document.getElementById(t));if(i.length)_.closeDialog(i,e);else if("$escape"===t){var r=u[u.length-1];(i=n(document.getElementById(r))).data("$ngDialogOptions").closeByEscape&&_.closeDialog(i,e)}else S.closeAll(e);return S},closeAll:function(t){for(var e=document.querySelectorAll(".ngdialog"),i=e.length-1;i>=0;i--){var r=e[i];_.closeDialog(n(r),t)}},getOpenDialogs:function(){return u},getDefaults:function(){return e}};return S}]}),e.directive("ngDialog",["ngDialog",function(e){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,i,r){i.on("click",function(i){i.preventDefault();var o=t.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";t.isDefined(r.ngDialogClosePrevious)&&e.close(r.ngDialogClosePrevious);var s=e.getDefaults();e.open({template:r.ngDialog,className:r.ngDialogClass||s.className,controller:r.ngDialogController,controllerAs:r.ngDialogControllerAs,bindToController:r.ngDialogBindToController,scope:o,data:r.ngDialogData,showClose:"false"!==r.ngDialogShowClose&&("true"===r.ngDialogShowClose||s.showClose),closeByDocument:"false"!==r.ngDialogCloseByDocument&&("true"===r.ngDialogCloseByDocument||s.closeByDocument),closeByEscape:"false"!==r.ngDialogCloseByEscape&&("true"===r.ngDialogCloseByEscape||s.closeByEscape),overlay:"false"!==r.ngDialogOverlay&&("true"===r.ngDialogOverlay||s.overlay),preCloseCallback:r.ngDialogPreCloseCallback||s.preCloseCallback})})}}}]),e});var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=t.URL||t.webkitURL||t,r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!t.externalHost&&"download"in r,s=t.webkitRequestFileSystem,a=t.requestFileSystem||s||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=0,h=[],d=function(){for(var t=h.length;t--;){var e=h[t];"string"==typeof e?i.revokeObjectURL(e):e.remove()}h.length=0},f=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){l(t)}}},p=function(i,l){var d,p,g,m=this,v=i.type,y=!1,b=function(){var t=n().createObjectURL(i);return h.push(t),t},w=function(){f(m,"writestart progress write writeend".split(" "))},x=function(){!y&&d||(d=b()),p?p.location.href=d:window.open(d,"_blank"),m.readyState=m.DONE,w()},C=function(t){return function(){if(m.readyState!==m.DONE)return t.apply(this,arguments)}},k={create:!0,exclusive:!1};if(m.readyState=m.INIT,l||(l="download"),o){d=b(),e=t.document,(r=e.createElementNS("http://www.w3.org/1999/xhtml","a")).href=d,r.download=l;var _=e.createEvent("MouseEvents");return _.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(_),m.readyState=m.DONE,void w()}t.chrome&&v&&v!==u&&(g=i.slice||i.webkitSlice,i=g.call(i,0,i.size,u),y=!0),s&&"download"!==l&&(l+=".download"),(v===u||s)&&(p=t),a?(c+=i.size,a(t.TEMPORARY,c,C(function(t){t.root.getDirectory("saved",k,C(function(t){var e=function(){t.getFile(l,k,C(function(t){t.createWriter(C(function(e){e.onwriteend=function(e){p.location.href=t.toURL(),h.push(t),m.readyState=m.DONE,f(m,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=m["on"+t]}),e.write(i),m.abort=function(){e.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),x)}),x)};t.getFile(l,{create:!1},C(function(t){t.remove(),e()}),C(function(t){t.code===t.NOT_FOUND_ERR?e():x()}))}),x)}),x)):x()},g=p.prototype,m=function(t,e){return new p(t,e)};return g.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,t.addEventListener("unload",d,!1),m.unload=function(){d(),t.removeEventListener("unload",d,!1)},m}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);if("undefined"!=typeof module&&(module.exports=saveAs),"function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof URL)if("function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof webkitURL)var Blob=function(t){"use strict";var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,h=c.createObjectURL,d=c.revokeObjectURL,f=c,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array;for(i.fake=o.fake=!0;u--;)a.prototype[l[u]]=u+1;return c.createObjectURL||(f=t.URL={}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(c,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(c,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),l=0,u=o.length;l<u;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var c=new s;n.push(c.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},n}(t);return function(t,n){var i=n&&n.type||"",r=new e;if(t)for(var o=0,s=t.length;o<s;o++)r.append(t[o]);return r.getBlob(i)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);else self.URL=webkitURL;var ics=function(){"use strict";if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){var t=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",e=[],n=["BEGIN:VCALENDAR","VERSION:2.0"].join(t),i=t+"END:VCALENDAR";return{events:function(){return e},calendar:function(){return n+t+e.join(t)+i},addEvent:function(n,i,r,o,s){if(void 0===n||void 0===i||void 0===r||void 0===o||void 0===s)return!1;var a=new Date(o),l=new Date(s),u=("0000"+a.getFullYear().toString()).slice(-4),c=("00"+(a.getMonth()+1).toString()).slice(-2),h=("00"+a.getDate().toString()).slice(-2),d=("00"+a.getHours().toString()).slice(-2),f=("00"+a.getMinutes().toString()).slice(-2),p=("00"+a.getMinutes().toString()).slice(-2),g=("0000"+l.getFullYear().toString()).slice(-4),m=("00"+(l.getMonth()+1).toString()).slice(-2),v=("00"+l.getDate().toString()).slice(-2),y=("00"+l.getHours().toString()).slice(-2),b=("00"+l.getMinutes().toString()).slice(-2),w=("00"+l.getMinutes().toString()).slice(-2),x="",C="";f+p+b+w!=0&&(x="T"+d+f+p,C="T"+y+b+w);var k=["BEGIN:VEVENT","CLASS:PUBLIC","DESCRIPTION:"+i,"DTSTART;VALUE=DATE:"+(u+c+h+x),"DTEND;VALUE=DATE:"+(g+m+v+C),"LOCATION:"+r,"SUMMARY;LANGUAGE=en-us:"+n,"TRANSP:TRANSPARENT","END:VEVENT"].join(t);return e.push(k),k},download:function(r,o){if(e.length<1)return!1;o=void 0!==o?o:".ics",r=void 0!==r?r:"calendar";var s,a=n+t+e.join(t)+i;if(-1===navigator.userAgent.indexOf("MSIE 10"))s=new Blob([a]);else{var l=new BlobBuilder;l.append(a),s=l.getBlob("text/x-vCalendar;charset="+document.characterSet)}return saveAs(s,r+o),a}}}console.log("Unsupported Browser")};function wizardButtonDirective(t){angular.module("mgo-angular-wizard").directive(t,function(){return{restrict:"A",replace:!1,require:"^wizard",link:function(e,n,i,r){n.on("click",function(n){n.preventDefault(),e.$apply(function(){e.$eval(i[t]),r[t.replace("wz","").toLowerCase()]()})})}}})}angular.module("templates-angularwizard",["step.html","wizard.html"]),angular.module("step.html",[]).run(["$templateCache",function(t){t.put("step.html",'<section ng-show="selected" ng-class="{current: selected, done: completed}" class="step" ng-transclude>\n</section>')}]),angular.module("wizard.html",[]).run(["$templateCache",function(t){t.put("wizard.html",'<div>\n    <div class="steps" ng-if="indicatorsPosition === \'bottom\'" ng-transclude></div>\n    <ul class="steps-indicator steps-{{getEnabledSteps().length}}" ng-if="!hideIndicators">\n      <li ng-class="{default: !step.completed && !step.selected, current: step.selected && !step.completed, done: step.completed && !step.selected, editing: step.selected && step.completed}" ng-repeat="step in getEnabledSteps()">\n        <a ng-click="goTo(step)">{{step.title || step.wzTitle}}</a>\n      </li>\n    </ul>\n    <div class="steps" ng-if="indicatorsPosition === \'top\'" ng-transclude></div>\n</div>\n')}]),angular.module("mgo-angular-wizard",["templates-angularwizard"]),angular.module("mgo-angular-wizard").directive("wzStep",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{wzTitle:"@",canenter:"=",canexit:"=",disabled:"@?wzDisabled",description:"@",wzData:"=",wzOrder:"@?"},require:"^wizard",templateUrl:function(t,e){return e.template||"step.html"},link:function(t,e,n,i){n.$observe("wzTitle",function(e){t.title=t.wzTitle}),t.title=t.wzTitle,i.addStep(t),t.$on("$destroy",function(){i.removeStep(t)})}}}),angular.module("mgo-angular-wizard").directive("wizard",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{currentStep:"=",onFinish:"&",hideIndicators:"=",editMode:"=",name:"@",indicatorsPosition:"@?"},templateUrl:function(t,e){return e.template||"wizard.html"},controller:["$scope","$element","$log","WizardHandler","$q","$timeout",function(t,e,n,i,r,o){function s(){angular.forEach(t.getEnabledSteps(),function(t){t.selected=!1}),t.selectedStep=null}void 0==t.indicatorsPosition&&(t.indicatorsPosition="bottom");var a=!0;i.addWizard(t.name||i.defaultName,this),t.$on("$destroy",function(){i.removeWizard(t.name||i.defaultName)}),t.steps=[];var l=function(e){var n=0,i=-1;return angular.forEach(t.getEnabledSteps(),function(t){t===e&&(i=n),n++}),i},u=function(e){var n=null;return angular.forEach(t.getEnabledSteps(),function(t){t.wzTitle===e&&(n=t)}),n};t.context={},t.$watch("currentStep",function(e){if(e){var n=t.selectedStep.wzTitle;t.selectedStep&&n!==t.currentStep&&t.goTo(u(t.currentStep))}}),t.$watch("[editMode, steps.length]",function(){var e=t.editMode;if(!angular.isUndefined(e)&&null!==e)if(e)angular.forEach(t.getEnabledSteps(),function(t){t.completed=!0});else{var n=t.currentStepNumber()-1;angular.forEach(t.getEnabledSteps(),function(t,e){e>=n&&(t.completed=!1)})}},!0),this.addStep=function(e){var n=e.wzOrder>=0&&!t.steps[e.wzOrder]?e.wzOrder:t.steps.length;t.steps[n]=e,t.getEnabledSteps()[0]===e&&t.goTo(t.getEnabledSteps()[0])},this.removeStep=function(e){var n=t.steps.indexOf(e);n>0&&t.steps.splice(n,1)},this.context=t.context,t.getStepNumber=function(t){return l(t)+1},t.goTo=function(e){var n;a?(s(),t.selectedStep=e,angular.isUndefined(t.currentStep)||(t.currentStep=e.wzTitle),e.selected=!0,t.$emit("wizard:stepChanged",{step:e,index:l(e)}),a=!1):(t.currentStepNumber()>0?n=t.currentStepNumber()-1:0===t.currentStepNumber()&&(n=0),r.all([function(e,n){var i,o;return void 0===e.canexit||t.getStepNumber(n)<t.currentStepNumber()||("boolean"==typeof e.canexit?e.canexit:(o=e.canexit(t.context),angular.isFunction(o.then)?(i=r.defer(),o.then(function(t){i.resolve(t)}),i.promise):!0===o))}(t.getEnabledSteps()[n],e),function(e){var n,i;return void 0===e.canenter||("boolean"==typeof e.canenter?e.canenter:(i=e.canenter(t.context),angular.isFunction(i.then)?(n=r.defer(),i.then(function(t){n.resolve(t)}),n.promise):!0===i))}(e)]).then(function(n){n[0]&&n[1]&&(s(),t.selectedStep=e,angular.isUndefined(t.currentStep)||(t.currentStep=e.wzTitle),e.selected=!0,t.$emit("wizard:stepChanged",{step:e,index:l(e)}))}))},t.currentStepNumber=function(){return l(t.selectedStep)+1},t.getEnabledSteps=function(){return t.steps.filter(function(t){return t&&"true"!==t.disabled})},this.currentStepTitle=function(){return t.selectedStep.wzTitle},this.currentStepDescription=function(){return t.selectedStep.description},this.currentStep=function(){return t.selectedStep},this.totalStepCount=function(){return t.getEnabledSteps().length},this.getEnabledSteps=function(){return t.getEnabledSteps()},this.currentStepNumber=function(){return t.currentStepNumber()},this.next=function(e){var n=t.getEnabledSteps(),i=l(t.selectedStep);if(angular.isFunction(e)){if(!e())return;i===n.length-1?this.finish():t.goTo(n[i+1])}e||(t.selectedStep.completed=!0),i===n.length-1?this.finish():t.goTo(n[i+1])},this.goTo=function(e){o(function(){var n,i=t.getEnabledSteps();n=angular.isNumber(e)?i[e]:u(e),t.goTo(n)})},this.finish=function(){t.onFinish&&t.onFinish()},this.previous=function(){var e=l(t.selectedStep);if(0===e)throw new Error("Can't go back. It's already in step 0");t.goTo(t.getEnabledSteps()[e-1])},this.cancel=function(){if(0===l(t.selectedStep))throw new Error("Can't go back. It's already in step 0");t.goTo(t.getEnabledSteps()[0])},this.reset=function(){angular.forEach(t.getEnabledSteps(),function(t){t.completed=!1}),this.goTo(0)}}]}}),wizardButtonDirective("wzNext"),wizardButtonDirective("wzPrevious"),wizardButtonDirective("wzFinish"),wizardButtonDirective("wzCancel"),wizardButtonDirective("wzReset"),angular.module("mgo-angular-wizard").factory("WizardHandler",function(){var t={},e={};return t.defaultName="defaultWizard",t.addWizard=function(t,n){e[t]=n},t.removeWizard=function(t){delete e[t]},t.wizard=function(n){var i=n;return n||(i=t.defaultName),e[i]},t}),"classList"in document.createElement("_")||function(t){"use strict";if("Element"in t){var e=t.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},a=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=a.prototype=[],u=function(){return new a(this)};if(o.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return-1!==s(this,t+="")},l.add=function(){var t,e=arguments,n=0,i=e.length,r=!1;do{t=e[n]+"",-1===s(this,t)&&(this.push(t),r=!0)}while(++n<i);r&&this._updateClassName()},l.remove=function(){var t,e,n=arguments,i=0,r=n.length,o=!1;do{for(t=n[i]+"",e=s(this,t);-1!==e;)this.splice(e,1),o=!0,e=s(this,t)}while(++i<r);o&&this._updateClassName()},l.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var c={get:u,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",c)}catch(t){-2146823252===t.number&&(c.enumerable=!1,n.defineProperty(e,"classList",c))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",u)}}(self),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,h=c.createObjectURL,d=c.revokeObjectURL,f=c,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;u--;)a.prototype[l[u]]=u+1;return c.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(c,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(c,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),l=0,u=o.length;l<u;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var c=new s;n.push(c.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var i=n&&n.type||"",r=new e;if(t)for(var o=0,s=t.length;o<s;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var a=r.getBlob(i);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t,e){"use strict";"object"==typeof module?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.MediumEditor=e}(this,function(){"use strict";function t(t,e){return this.init(t,e)}var e,n,i,r,o,s,a,l,u,c,h;return t.extensions={},function(e){function n(t,e){var n,i=Array.prototype.slice.call(arguments,2);e=e||{};for(var r=0;r<i.length;r++){var o=i[r];if(o)for(n in o)o.hasOwnProperty(n)&&void 0!==o[n]&&(t||!1===e.hasOwnProperty(n))&&(e[n]=o[n])}return e}var i=!1;try{var r=document.createElement("div"),o=document.createTextNode(" ");r.appendChild(o),i=r.contains(o)}catch(t){}var s={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:e.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(t){return!!(s.isMac&&t.metaKey||!s.isMac&&t.ctrlKey)},isKey:function(t,e){var n=s.getKeyCode(t);return!1===Array.isArray(e)?n===e:-1!==e.indexOf(n)},getKeyCode:function(t){var e=t.which;return null===e&&(e=null!==t.charCode?t.charCode:t.keyCode),e},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var t=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,t)},defaults:function(){var t=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,t)},createLink:function(t,e,n,i){var r=t.createElement("a");return s.moveTextRangeIntoElement(e[0],e[e.length-1],r),r.setAttribute("href",n),i&&r.setAttribute("target",i),r},findOrCreateMatchingTextNodes:function(t,e,n){for(var i=t.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),r=[],o=0,a=!1,l=null,u=null;null!==(l=i.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!a&&n.start<o+l.nodeValue.length&&(a=!0,u=s.splitStartNodeIfNeeded(l,n.start,o)),a&&s.splitEndNodeIfNeeded(l,u,n.end,o),a&&o===n.end)break;if(a&&o>n.end+1)throw new Error("PerformLinking overshot the target!");a&&r.push(u||l),o+=l.nodeValue.length,null!==u&&(o+=u.nodeValue.length,i.nextNode()),u=null}else"img"===l.tagName.toLowerCase()&&(!a&&n.start<=o&&(a=!0),a&&r.push(l));return r},splitStartNodeIfNeeded:function(t,e,n){return e!==n?t.splitText(e-n):null},splitEndNodeIfNeeded:function(t,e,n,i){var r,o;r=i+(e||t).nodeValue.length+(e?t.nodeValue.length:0)-1,o=(e||t).nodeValue.length-(r+1-n),r>=n&&i!==r&&0!==o&&(e||t).splitText(o)},splitByBlockElements:function(e){if(3!==e.nodeType&&1!==e.nodeType)return[];var n=[],i=t.util.blockContainerElementNames.join(",");if(3===e.nodeType||0===e.querySelectorAll(i).length)return[e];for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];if(3===o.nodeType)n.push(o);else if(1===o.nodeType){0===o.querySelectorAll(i).length?n.push(o):n=n.concat(t.util.splitByBlockElements(o))}}return n},findAdjacentTextNodeWithContent:function(t,e,n){var i,r=!1,o=n.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);for(i=o.nextNode();i;){if(i===e)r=!0;else if(r&&3===i.nodeType&&i.nodeValue&&i.nodeValue.trim().length>0)break;i=o.nextNode()}return i},findPreviousSibling:function(t){if(!t||s.isMediumEditorElement(t))return!1;for(var e=t.previousSibling;!e&&!s.isMediumEditorElement(t.parentNode);)e=(t=t.parentNode).previousSibling;return e},isDescendant:function(t,e,n){if(!t||!e)return!1;if(t===e)return!!n;if(1!==t.nodeType)return!1;if(i||3!==e.nodeType)return t.contains(e);for(var r=e.parentNode;null!==r;){if(r===t)return!0;r=r.parentNode}return!1},isElement:function(t){return!(!t||1!==t.nodeType)},throttle:function(t,e){var n,i,r,o=null,s=0,a=function(){s=Date.now(),o=null,r=t.apply(n,i),o||(n=i=null)};return e||0===e||(e=50),function(){var l=Date.now(),u=e-(l-s);return n=this,i=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),s=l,r=t.apply(n,i),o||(n=i=null)):o||(o=setTimeout(a,u)),r}},traverseUp:function(t,e){if(!t)return!1;do{if(1===t.nodeType){if(e(t))return t;if(s.isMediumEditorElement(t))return!1}t=t.parentNode}while(t);return!1},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(e,n){var i,r,o,a,l,u,c,h=!1,d=["insertHTML",!1,n];if(!t.util.isEdge&&e.queryCommandSupported("insertHTML"))try{return e.execCommand.apply(e,d)}catch(t){}if((i=e.getSelection()).rangeCount){if(c=(r=i.getRangeAt(0)).commonAncestorContainer,s.isMediumEditorElement(c)&&!c.firstChild)r.selectNode(c.appendChild(e.createTextNode("")));else if(3===c.nodeType&&0===r.startOffset&&r.endOffset===c.nodeValue.length||3!==c.nodeType&&c.innerHTML===r.toString()){for(;!s.isMediumEditorElement(c)&&c.parentNode&&1===c.parentNode.childNodes.length&&!s.isMediumEditorElement(c.parentNode);)c=c.parentNode;r.selectNode(c)}for(r.deleteContents(),(o=e.createElement("div")).innerHTML=n,a=e.createDocumentFragment();o.firstChild;)l=o.firstChild,u=a.appendChild(l);r.insertNode(a),u&&((r=r.cloneRange()).setStartAfter(u),r.collapse(!0),t.selection.selectRange(e,r)),h=!0}return e.execCommand.callListeners&&e.execCommand.callListeners(d,h),h},execFormatBlock:function(e,n){var i=s.getTopBlockContainer(t.selection.getSelectionStart(e));if("blockquote"===n){if(i&&Array.prototype.slice.call(i.childNodes).some(function(t){return s.isBlockContainer(t)}))return e.execCommand("outdent",!1,null);if(s.isIE)return e.execCommand("indent",!1,n)}if(i&&n===i.nodeName.toLowerCase()&&(n="p"),s.isIE&&(n="<"+n+">"),i&&"blockquote"===i.nodeName.toLowerCase()){if(s.isIE&&"<p>"===n)return e.execCommand("outdent",!1,n);if((s.isFF||s.isEdge)&&"p"===n)return Array.prototype.slice.call(i.childNodes).some(function(t){return!s.isBlockContainer(t)})&&e.execCommand("formatBlock",!1,n),e.execCommand("outdent",!1,n)}return e.execCommand("formatBlock",!1,n)},setTargetBlank:function(t,e){var n,i=e||!1;if("a"===t.nodeName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)!1!==i&&i!==t[n].attributes.href.value||(t[n].target="_blank")},removeTargetBlank:function(t,e){var n;if("a"===t.nodeName.toLowerCase())t.removeAttribute("target");else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)e===t[n].attributes.href.value&&t[n].removeAttribute("target")},addClassToAnchors:function(t,e){var n,i,r=e.split(" ");if("a"===t.nodeName.toLowerCase())for(i=0;i<r.length;i+=1)t.classList.add(r[i]);else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)for(i=0;i<r.length;i+=1)t[n].classList.add(r[i])},isListItem:function(t){if(!t)return!1;if("li"===t.nodeName.toLowerCase())return!0;for(var e=t.parentNode,n=e.nodeName.toLowerCase();"li"===n||!s.isBlockContainer(e)&&"div"!==n;){if("li"===n)return!0;if(!(e=e.parentNode))return!1;n=e.nodeName.toLowerCase()}return!1},cleanListDOM:function(e,n){if("li"===n.nodeName.toLowerCase()){var i=n.parentElement;"p"===i.parentElement.nodeName.toLowerCase()&&(s.unwrap(i.parentElement,e),t.selection.moveCursor(e,n.firstChild,n.firstChild.textContent.length))}},splitOffDOMTree:function(t,e,n){for(var i=e,r=null,o=!n;i!==t;){var s,a=i.parentNode,l=a.cloneNode(!1),u=o?i:a.firstChild;for(r&&(o?l.appendChild(r):s=r),r=l;u;){var c=u.nextSibling;u===i?(u.hasChildNodes()?u=u.cloneNode(!1):u.parentNode.removeChild(u),u.textContent&&r.appendChild(u),u=o?c:null):(u.parentNode.removeChild(u),(u.hasChildNodes()||u.textContent)&&r.appendChild(u),u=c)}s&&r.appendChild(s),i=a}return r},moveTextRangeIntoElement:function(t,e,n){if(!t||!e)return!1;var i=s.findCommonRoot(t,e);if(!i)return!1;if(e===t){var r=t.parentNode,o=t.nextSibling;return r.removeChild(t),n.appendChild(t),o?r.insertBefore(n,o):r.appendChild(n),n.hasChildNodes()}for(var a,l,u,c=[],h=0;h<i.childNodes.length;h++)if(u=i.childNodes[h],a){if(s.isDescendant(u,e,!0)){l=u;break}c.push(u)}else s.isDescendant(u,t,!0)&&(a=u);var d=l.nextSibling,f=i.ownerDocument.createDocumentFragment();return a===t?(a.parentNode.removeChild(a),f.appendChild(a)):f.appendChild(s.splitOffDOMTree(a,t)),c.forEach(function(t){t.parentNode.removeChild(t),f.appendChild(t)}),l===e?(l.parentNode.removeChild(l),f.appendChild(l)):f.appendChild(s.splitOffDOMTree(l,e,!0)),n.appendChild(f),l.parentNode===i?i.insertBefore(n,l):d?i.insertBefore(n,d):i.appendChild(n),n.hasChildNodes()},depthOfNode:function(t){for(var e=0,n=t;null!==n.parentNode;)n=n.parentNode,e++;return e},findCommonRoot:function(t,e){for(var n=s.depthOfNode(t),i=s.depthOfNode(e),r=t,o=e;n!==i;)n>i?(r=r.parentNode,n-=1):(o=o.parentNode,i-=1);for(;r!==o;)r=r.parentNode,o=o.parentNode;return r},isElementAtBeginningOfBlock:function(t){for(var e;!s.isBlockContainer(t)&&!s.isMediumEditorElement(t);){for(e=t;e=e.previousSibling;)if((3===e.nodeType?e.nodeValue:e.textContent).length>0)return!1;t=t.parentNode}return!0},isMediumEditorElement:function(t){return t&&t.getAttribute&&!!t.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(t){return s.traverseUp(t,function(t){return s.isMediumEditorElement(t)})},isBlockContainer:function(t){return t&&3!==t.nodeType&&-1!==s.blockContainerElementNames.indexOf(t.nodeName.toLowerCase())},getClosestBlockContainer:function(t){return s.traverseUp(t,function(t){return s.isBlockContainer(t)||s.isMediumEditorElement(t)})},getTopBlockContainer:function(t){var e=!!s.isBlockContainer(t)&&t;return s.traverseUp(t,function(t){return s.isBlockContainer(t)&&(e=t),!(e||!s.isMediumEditorElement(t))&&(e=t,!0)}),e},getFirstSelectableLeafNode:function(t){for(;t&&t.firstChild;)t=t.firstChild;if("table"===(t=s.traverseUp(t,function(t){return-1===s.emptyElementNames.indexOf(t.nodeName.toLowerCase())})).nodeName.toLowerCase()){var e=t.querySelector("th, td");e&&(t=e)}return t},getFirstTextNode:function(t){return s.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),s._getFirstTextNode(t)},_getFirstTextNode:function(t){if(3===t.nodeType)return t;for(var e=0;e<t.childNodes.length;e++){var n=s._getFirstTextNode(t.childNodes[e]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(t){return-1===t.indexOf("://")?"http://"+t:t},warn:function(){void 0!==e.console&&"function"==typeof e.console.warn&&e.console.warn.apply(e.console,arguments)},deprecated:function(t,e,n){var i=t+" is deprecated, please use "+e+" instead.";n&&(i+=" Will be removed in "+n),s.warn(i)},deprecatedMethod:function(t,e,n,i){s.deprecated(t,e,i),"function"==typeof this[e]&&this[e].apply(this,n)},cleanupAttrs:function(t,e){e.forEach(function(e){t.removeAttribute(e)})},cleanupTags:function(t,e){e.forEach(function(e){t.nodeName.toLowerCase()===e&&t.parentNode.removeChild(t)})},getClosestTag:function(t,e){return s.traverseUp(t,function(t){return t.nodeName.toLowerCase()===e.toLowerCase()})},unwrap:function(t,e){for(var n=e.createDocumentFragment(),i=Array.prototype.slice.call(t.childNodes),r=0;r<i.length;r++)n.appendChild(i[r]);n.childNodes.length?t.parentNode.replaceChild(n,t):t.parentNode.removeChild(t)},guid:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}};t.util=s}(window),(e=function(e){t.util.extend(this,e)}).extend=function(e){var n,i=this;n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return i.apply(this,arguments)},t.util.extend(n,i);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&t.util.extend(n.prototype,e),n},e.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(t){return this.base.options[t]}},["execAction","on","off","subscribe","trigger"].forEach(function(t){e.prototype[t]=function(){return this.base[t].apply(this.base,arguments)}}),t.Extension=e,function(){function e(e){return t.util.isBlockContainer(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(e,n){var i,r=n.getSelection();return 0!==r.rangeCount&&(i=r.getRangeAt(0).commonAncestorContainer,t.util.traverseUp(i,e))},getSelectionElement:function(e){return this.findMatchingSelectionParent(function(e){return t.util.isMediumEditorElement(e)},e)},exportSelection:function(t,e){if(!t)return null;var n=null,i=e.getSelection();if(i.rangeCount>0){var r,o=i.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(t),s.setEnd(o.startContainer,o.startOffset),n={start:r=s.toString().length,end:r+o.toString().length},this.doesRangeStartWithImages(o,e)&&(n.startsWithImage=!0);var a=this.getTrailingImageCount(t,n,o.endContainer,o.endOffset);if(a&&(n.trailingImageCount=a),0!==r){var l=this.getIndexRelativeToAdjacentEmptyBlocks(e,t,o.startContainer,o.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(t,e,n,i){if(t&&e){var r=n.createRange();r.setStart(e,0),r.collapse(!0);var o,s=e,a=[],l=0,u=!1,c=!1,h=0,d=!1,f=!1,p=null;for((i||t.startsWithImage||void 0!==t.emptyBlocksIndex)&&(f=!0);!d&&s;)if(s.nodeType>3)s=a.pop();else{if(3!==s.nodeType||c){if(t.trailingImageCount&&c&&("img"===s.nodeName.toLowerCase()&&h++,h===t.trailingImageCount)){for(var g=0;s.parentNode.childNodes[g]!==s;)g++;r.setEnd(s.parentNode,g+1),d=!0}if(!d&&1===s.nodeType)for(var m=s.childNodes.length-1;m>=0;)a.push(s.childNodes[m]),m-=1}else o=l+s.length,!u&&t.start>=l&&t.start<=o&&(f||t.start<o?(r.setStart(s,t.start-l),u=!0):p=s),u&&t.end>=l&&t.end<=o&&(t.trailingImageCount?c=!0:(r.setEnd(s,t.end-l),d=!0)),l=o;d||(s=a.pop())}!u&&p&&(r.setStart(p,p.length),r.setEnd(p,p.length)),void 0!==t.emptyBlocksIndex&&(r=this.importSelectionMoveCursorPastBlocks(n,e,t.emptyBlocksIndex,r)),i&&(r=this.importSelectionMoveCursorPastAnchor(t,r)),this.selectRange(n,r)}},importSelectionMoveCursorPastAnchor:function(e,n){if(e.start===e.end&&3===n.startContainer.nodeType&&n.startOffset===n.startContainer.nodeValue.length&&t.util.traverseUp(n.startContainer,function(t){return"a"===t.nodeName.toLowerCase()})){for(var i=n.startContainer,r=n.startContainer.parentNode;null!==r&&"a"!==r.nodeName.toLowerCase();)r.childNodes[r.childNodes.length-1]!==i?r=null:(i=r,r=r.parentNode);if(null!==r&&"a"===r.nodeName.toLowerCase()){for(var o=null,s=0;null===o&&s<r.parentNode.childNodes.length;s++)r.parentNode.childNodes[s]===r&&(o=s);n.setStart(r.parentNode,o+1),n.collapse(!0)}}return n},importSelectionMoveCursorPastBlocks:function(n,i,r,o){var s,a,l=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,e,!1),u=o.startContainer,c=0;for(r=r||1,s=3===u.nodeType&&t.util.isBlockContainer(u.previousSibling)?u.previousSibling:t.util.getClosestBlockContainer(u);l.nextNode();)if(a){if(a=l.currentNode,++c===r)break;if(a.textContent.length>0)break}else s===l.currentNode&&(a=l.currentNode);return a||(a=s),o.setStart(t.util.getFirstSelectableLeafNode(a),0),o},getIndexRelativeToAdjacentEmptyBlocks:function(n,i,r,o){if(r.textContent.length>0&&o>0)return-1;var s=r;if(3!==s.nodeType&&(s=r.childNodes[o]),s){if(!t.util.isElementAtBeginningOfBlock(s))return-1;var a=t.util.findPreviousSibling(s);if(!a)return-1;if(a.nodeValue)return-1}for(var l=t.util.getClosestBlockContainer(r),u=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,e,!1),c=0;u.nextNode();){var h=""===u.currentNode.textContent;if((h||c>0)&&(c+=1),u.currentNode===l)return c;h||(c=0)}return c},doesRangeStartWithImages:function(t,e){if(0!==t.startOffset||1!==t.startContainer.nodeType)return!1;if("img"===t.startContainer.nodeName.toLowerCase())return!0;var n=t.startContainer.querySelector("img");if(!n)return!1;for(var i=e.createTreeWalker(t.startContainer,NodeFilter.SHOW_ALL,null,!1);i.nextNode();){var r=i.currentNode;if(r===n)break;if(r.nodeValue)return!1}return!0},getTrailingImageCount:function(t,e,n,i){if(0===i||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var r=n.childNodes[i-1];r.hasChildNodes();)r=r.lastChild;for(var o,s=t,a=[],l=0,u=!1,c=!1,h=!1,d=0;!h&&s;)if(s.nodeType>3)s=a.pop();else{if(3!==s.nodeType||c){if("img"===s.nodeName.toLowerCase()&&d++,s===r)h=!0;else if(1===s.nodeType)for(var f=s.childNodes.length-1;f>=0;)a.push(s.childNodes[f]),f-=1}else d=0,o=l+s.length,!u&&e.start>=l&&e.start<=o&&(u=!0),u&&e.end>=l&&e.end<=o&&(c=!0),l=o;h||(s=a.pop())}return d},selectionContainsContent:function(t){var e=t.getSelection();if(!e||e.isCollapsed||!e.rangeCount)return!1;if(""!==e.toString().trim())return!0;var n=this.getSelectedParentElement(e.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(t){var e,n=this.findMatchingSelectionParent(function(t){var n=t&&t.getAttribute("contenteditable");return"true"===n&&(e=!0),"#text"!==t.nodeName&&"false"===n},t);return!e&&n},getSelectionHtml:function(t){var e,n,i,r="",o=t.getSelection();if(o.rangeCount){for(i=t.createElement("div"),e=0,n=o.rangeCount;e<n;e+=1)i.appendChild(o.getRangeAt(e).cloneContents());r=i.innerHTML}return r},getCaretOffsets:function(t,e){var n,i;return e||(e=window.getSelection().getRangeAt(0)),n=e.cloneRange(),i=e.cloneRange(),n.selectNodeContents(t),n.setEnd(e.endContainer,e.endOffset),i.selectNodeContents(t),i.setStart(e.endContainer,e.endOffset),{left:n.toString().length,right:i.toString().length}},rangeSelectsSingleNode:function(t){var e=t.startContainer;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===t.startOffset+1},getSelectedParentElement:function(t){return t?this.rangeSelectsSingleNode(t)&&3!==t.startContainer.childNodes[t.startOffset].nodeType?t.startContainer.childNodes[t.startOffset]:3===t.startContainer.nodeType?t.startContainer.parentNode:t.startContainer:null},getSelectedElements:function(t){var e,n,i,r=t.getSelection();if(!r.rangeCount||r.isCollapsed||!r.getRangeAt(0).commonAncestorContainer)return[];if(3===(e=r.getRangeAt(0)).commonAncestorContainer.nodeType){for(n=[],i=e.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)n.push(i.parentNode),i=i.parentNode;return n}return[].filter.call(e.commonAncestorContainer.getElementsByTagName("*"),function(t){return"function"!=typeof r.containsNode||r.containsNode(t,!0)})},selectNode:function(t,e){var n=e.createRange();n.selectNodeContents(t),this.selectRange(e,n)},select:function(t,e,n,i,r){var o=t.createRange();return o.setStart(e,n),i?o.setEnd(i,r):o.collapse(!0),this.selectRange(t,o),o},clearSelection:function(t,e){e?t.getSelection().collapseToStart():t.getSelection().collapseToEnd()},moveCursor:function(t,e,n){this.select(t,e,n)},getSelectionRange:function(t){var e=t.getSelection();return 0===e.rangeCount?null:e.getRangeAt(0)},selectRange:function(t,e){var n=t.getSelection();n.removeAllRanges(),n.addRange(e)},getSelectionStart:function(t){var e=t.getSelection().anchorNode;return e&&3===e.nodeType?e.parentNode:e}};t.selection=n}(),function(){function e(e,n){return e.some(function(e){if("function"!=typeof e.getInteractionElements)return!1;var i=e.getInteractionElements();return!!i&&(Array.isArray(i)||(i=[i]),i.some(function(e){return t.util.isDescendant(e,n,!0)}))})}var n=function(t){this.base=t,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!t.util.isIE&&!t.util.isEdge,attachDOMEvent:function(e,n,i,r){e=t.util.isElement(e)||[window,document].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(t){t.addEventListener(n,i,r),this.events.push([t,n,i,r])}.bind(this))},detachDOMEvent:function(e,n,i,r){var o,s;e=t.util.isElement(e)||[window,document].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(t){-1!==(o=this.indexOfListener(t,n,i,r))&&(s=this.events.splice(o,1)[0])[0].removeEventListener(s[1],s[2],s[3])}.bind(this))},indexOfListener:function(t,e,n,i){var r,o,s;for(r=0,o=this.events.length;r<o;r+=1)if((s=this.events[r])[0]===t&&s[1]===e&&s[2]===n&&s[3]===i)return r;return-1},detachAllDOMEvents:function(){for(var t=this.events.pop();t;)t[0].removeEventListener(t[1],t[2],t[3]),t=this.events.pop()},detachAllEventsFromElement:function(t){for(var e=this.events.filter(function(e){return e&&e[0].getAttribute&&e[0].getAttribute("medium-editor-index")===t.getAttribute("medium-editor-index")}),n=0,i=e.length;n<i;n++){var r=e[n];this.detachDOMEvent(r[0],r[1],r[2],r[3])}},attachAllEventsToElement:function(t){this.listeners.editableInput&&(this.contentCache[t.getAttribute("medium-editor-index")]=t.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(e){this.attachDOMEvent(t,e.name,e.handler.bind(this))},this)},enableCustomEvent:function(t){void 0!==this.disabledEvents[t]&&delete this.disabledEvents[t]},disableCustomEvent:function(t){this.disabledEvents[t]=!0},attachCustomEvent:function(t,e){this.setupListener(t),this.customEvents[t]||(this.customEvents[t]=[]),this.customEvents[t].push(e)},detachCustomEvent:function(t,e){var n=this.indexOfCustomListener(t,e);-1!==n&&this.customEvents[t].splice(n,1)},indexOfCustomListener:function(t,e){return this.customEvents[t]&&this.customEvents[t].length?this.customEvents[t].indexOf(e):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(t,e,n){this.customEvents[t]&&!this.disabledEvents[t]&&this.customEvents[t].forEach(function(t){t(e,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(t){t.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(t){this.handleDocumentExecCommand(t)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var t=this.options.ownerDocument;if(this.execCommandListener&&t.execCommand.listeners){var e=t.execCommand.listeners.indexOf(this.execCommandListener);-1!==e&&t.execCommand.listeners.splice(e,1),t.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var t=this.options.ownerDocument;if(!t.execCommand.listeners){var e=function(e,n){t.execCommand.listeners&&t.execCommand.listeners.forEach(function(t){t({command:e[0],value:e[2],args:e,result:n})})},n=function(){var n=t.execCommand.orig.apply(this,arguments);if(!t.execCommand.listeners)return n;var i=Array.prototype.slice.call(arguments);return e(i,n),n};n.orig=t.execCommand,n.listeners=[],n.callListeners=e,t.execCommand=n}},unwrapExecCommand:function(){var t=this.options.ownerDocument;t.execCommand.orig&&(t.execCommand=t.execCommand.orig)},setupListener:function(t){if(!this.listeners[t]){switch(t){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(t){this.contentCache[t.getAttribute("medium-editor-index")]=t.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[t]=!0}},attachToEachElement:function(t,e){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(n){this.attachDOMEvent(n,t,e.bind(this))},this),this.eventsCache.push({name:t,handler:e})},cleanupElement:function(t){var e=t.getAttribute("medium-editor-index");e&&(this.detachAllEventsFromElement(t),this.contentCache&&delete this.contentCache[e])},focusElement:function(t){t.focus(),this.updateFocus(t,{target:t,type:"focus"})},updateFocus:function(n,i){var r,o=this.base.getFocusedElement();o&&"click"===i.type&&this.lastMousedownTarget&&(t.util.isDescendant(o,this.lastMousedownTarget,!0)||e(this.base.extensions,this.lastMousedownTarget))&&(r=o),r||this.base.elements.some(function(e){return!r&&t.util.isDescendant(e,n,!0)&&(r=e),!!r},this);var s=!t.util.isDescendant(o,n,!0)&&!e(this.base.extensions,n);r!==o&&(o&&s&&(o.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,o)),r&&(r.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,r))),s&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(t,e){if(this.contentCache){var n=t.getAttribute("medium-editor-index"),i=t.innerHTML;i!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",e,t),this.contentCache[n]=i}},handleDocumentSelectionChange:function(e){if(e.currentTarget&&e.currentTarget.activeElement){var n,i=e.currentTarget.activeElement;this.base.elements.some(function(e){return!!t.util.isDescendant(e,i,!0)&&(n=e,!0)},this),n&&this.updateInput(n,{target:i,currentTarget:n})}},handleDocumentExecCommand:function(){var t=this.base.getFocusedElement();t&&this.updateInput(t,{target:t,currentTarget:t})},handleBodyClick:function(t){this.updateFocus(t.target,t)},handleBodyFocus:function(t){this.updateFocus(t.target,t)},handleBodyMousedown:function(t){this.lastMousedownTarget=t.target},handleInput:function(t){this.updateInput(t.currentTarget,t)},handleClick:function(t){this.triggerCustomEvent("editableClick",t,t.currentTarget)},handleBlur:function(t){this.triggerCustomEvent("editableBlur",t,t.currentTarget)},handleKeypress:function(t){if(this.triggerCustomEvent("editableKeypress",t,t.currentTarget),this.keypressUpdateInput){var e={target:t.target,currentTarget:t.currentTarget};setTimeout(function(){this.updateInput(e.currentTarget,e)}.bind(this),0)}},handleKeyup:function(t){this.triggerCustomEvent("editableKeyup",t,t.currentTarget)},handleMouseover:function(t){this.triggerCustomEvent("editableMouseover",t,t.currentTarget)},handleDragging:function(t){this.triggerCustomEvent("editableDrag",t,t.currentTarget)},handleDrop:function(t){this.triggerCustomEvent("editableDrop",t,t.currentTarget)},handlePaste:function(t){this.triggerCustomEvent("editablePaste",{currentTarget:t.currentTarget,target:t.target},t.currentTarget)},handleKeydown:function(e){return this.triggerCustomEvent("editableKeydown",e,e.currentTarget),t.util.isKey(e,t.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",e,e.currentTarget):t.util.isKey(e,t.util.keyCode.ENTER)||e.ctrlKey&&t.util.isKey(e,t.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",e,e.currentTarget):t.util.isKey(e,t.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",e,e.currentTarget):t.util.isKey(e,[t.util.keyCode.DELETE,t.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",e,e.currentTarget):void 0}},t.Events=n}(),(n=t.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(e){n.isBuiltInButton(e)?t.Extension.call(this,this.defaults[e]):t.Extension.call(this,e)},init:function(){t.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var t=this.document.createElement("button"),e=this.contentDefault,n=this.getAria(),i=this.getEditorOption("buttonLabels");return t.classList.add("medium-editor-action"),t.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(e){t.classList.add(e)}),t.setAttribute("data-action",this.getAction()),n&&(t.setAttribute("title",n),t.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(e){t.setAttribute(e,this.attrs[e])},this),"fontawesome"===i&&this.contentFA&&(e=this.contentFA),t.innerHTML=e,t},handleClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.getAction();e&&this.execAction(e)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var t=null;return this.useQueryState&&(t=this.base.queryCommandState(this.getAction())),t},isAlreadyApplied:function(t){var e,n,i=!1,r=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(r&&r.length>0&&(i=-1!==r.indexOf(t.nodeName.toLowerCase())),!i&&this.style&&(e=this.style.value.split("|"),n=this.window.getComputedStyle(t,null).getPropertyValue(this.style.prop),e.forEach(function(t){this.knownState||((i=-1!==n.indexOf(t))||"text-decoration"!==this.style.prop)&&(this.knownState=i)},this)),i)}})).isBuiltInButton=function(e){return"string"==typeof e&&t.extensions.button.prototype.defaults.hasOwnProperty(e)},t.extensions.button=n,t.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}},i=t.extensions.button.extend({init:function(){t.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.hideToolbarDefaultActions()},setToolbarPosition:function(){var t=this.base.getExtensionByName("toolbar");t&&t.setToolbarPosition()}}),t.extensions.form=i,r=t.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(e){e.preventDefault(),e.stopPropagation();var n=t.selection.getSelectionRange(this.document);return"a"===n.startContainer.nodeName.toLowerCase()||"a"===n.endContainer.nodeName.toLowerCase()||t.util.getClosestTag(t.selection.getSelectedParentElement(n),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(e){t.util.isKey(e,t.util.keyCode.K)&&t.util.isMetaCtrlKey(e)&&!e.shiftKey&&this.handleClick(e)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var t=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return t.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),t.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),t.join("")},isDisplayed:function(){return t.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){t.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(e){var n=this.getInput(),i=this.getAnchorTargetCheckbox(),r=this.getAnchorButtonCheckbox();if("string"==typeof(e=e||{value:""})&&(e={value:e}),this.base.saveSelection(),this.hideToolbarDefaultActions(),t.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),n.value=e.value,n.focus(),i&&(i.checked="_blank"===e.target),r){var o=e.buttonClass?e.buttonClass.split(" "):[];r.checked=-1!==o.indexOf(this.customClassOption)}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var t=this.getAnchorTargetCheckbox(),e=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",t&&t.checked&&(n.target="_blank"),e&&e.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var t=this.getFormOpts();this.completeFormSave(t)},completeFormSave:function(t){this.base.restoreSelection(),this.execAction(this.action,t),this.base.checkSelection()},checkLinkFormat:function(t){return/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/.test(t)?"tel:"+t:(/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i.test(t)?"":"http://")+encodeURI(t)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(t){var e=t.querySelector(".medium-editor-toolbar-close"),n=t.querySelector(".medium-editor-toolbar-save"),i=t.querySelector(".medium-editor-toolbar-input");this.on(t,"click",this.handleFormClick.bind(this)),this.on(i,"keyup",this.handleTextboxKeyup.bind(this)),this.on(e,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var t=this.document.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(e){if(e.keyCode===t.util.keyCode.ENTER)return e.preventDefault(),void this.doFormSave();e.keyCode===t.util.keyCode.ESCAPE&&(e.preventDefault(),this.doFormCancel())},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),t.extensions.anchor=r,o=t.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var t=this.document.createElement("div");return t.id="medium-editor-anchor-preview-"+this.getEditorId(),t.className="medium-editor-anchor-preview",t.innerHTML=this.getTemplate(),this.on(t,"click",this.handleClick.bind(this)),t},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(t){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!t.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=t.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=t.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=t,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(t){t=t||this.activeAnchor;var e,n,i=this.anchorPreview.offsetHeight,r=t.getBoundingClientRect(),o=(r.left+r.right)/2,s=this.diffLeft,a=this.diffTop;e=this.anchorPreview.offsetWidth/2;var l=this.base.getExtensionByName("toolbar");l&&(s=l.diffLeft,a=l.diffTop),n=s-e,this.anchorPreview.style.top=Math.round(i+r.bottom-a+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",this.anchorPreview.style.right="initial",o<e?(this.anchorPreview.style.left=n+e+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-o<e?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+o+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(t){var e=this.base.getExtensionByName("anchor"),n=this.activeAnchor;e&&n&&(t.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var t={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};e.showForm(t),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var n=t.util.getClosestTag(e.target,"a");if(!1!==n){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(n.outerHTML)||/href=["']#\S+["']/.test(n.outerHTML)))return!0;var i=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(t){t.relatedTarget&&/anchor-preview/.test(t.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),t.extensions.anchorPreview=o,function(){var e,n,i,r;e=[" ","\t","\n","\r"," "," "," "," "," ","\u2028","\u2029"],i="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+(n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw")+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+n+"))",r=new RegExp("^("+n+")$","i");var o=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var t=0,e=0;e<this.window._mediumEditors.length;e++){var n=this.window._mediumEditors[e];null!==n&&void 0!==n.getExtensionByName("autoLink")&&t++}return 1===t},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(t,e){this.performLinking(e)},onKeypress:function(e){this.disableEventHandling||t.util.isKey(e,[t.util.keyCode.SPACE,t.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var t=this.base.exportSelection();this.performLinking(e.target)&&this.base.importSelection(t,!0)}catch(t){window.console&&window.console.error("Failed to perform linking",t),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(e){var n=t.util.splitByBlockElements(e),i=!1;0===n.length&&(n=[e]);for(var r=0;r<n.length;r++)i=this.removeObsoleteAutoLinkSpans(n[r])||i,i=this.performLinkingWithinElement(n[r])||i;return this.base.events.updateInput(e,{target:e,currentTarget:e}),i},removeObsoleteAutoLinkSpans:function(e){if(!e||3===e.nodeType)return!1;for(var n,i=e.querySelectorAll('span[data-auto-link="true"]'),r=!1,o=0;o<i.length;o++){var s=i[o].textContent;if(-1===s.indexOf("://")&&(s=t.util.ensureUrlHasProtocol(s)),i[o].getAttribute("data-href")!==s&&(n=i[o],!t.util.getClosestTag(n,"a"))){r=!0;var a=s.replace(/\s+$/,"");if(i[o].getAttribute("data-href")===a){var l=s.length-a.length,u=t.util.splitOffDOMTree(i[o],this.splitTextBeforeEnd(i[o],l));i[o].parentNode.insertBefore(u,i[o].nextSibling)}else t.util.unwrap(i[o],this.document)}}return r},splitTextBeforeEnd:function(t,e){for(var n,i,r,o=this.document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),s=!0;s;)s=null!==o.lastChild();for(;e>0&&null!==r;)(i=(n=o.currentNode).nodeValue).length>e?(r=n.splitText(i.length-e),e=0):(r=o.previousNode(),e-=i.length);return r},performLinkingWithinElement:function(e){for(var n=this.findLinkableText(e),i=0;i<n.length;i++){var r=t.util.findOrCreateMatchingTextNodes(this.document,e,n[i]);this.shouldNotLink(r)||this.createAutoLink(r,n[i].href)}return!1},shouldNotLink:function(e){for(var n=!1,i=0;i<e.length&&!1===n;i++)n=!!t.util.traverseUp(e[i],function(t){return"a"===t.nodeName.toLowerCase()||t.getAttribute&&"true"===t.getAttribute("data-auto-link")});return n},findLinkableText:function(t){for(var n=new RegExp(i,"gi"),o=t.textContent,s=null,a=[];null!==(s=n.exec(o));){var l=s.index+s[0].length;!(0!==s.index&&-1===e.indexOf(o[s.index-1])||l!==o.length&&-1===e.indexOf(o[l]))&&(-1!==s[0].indexOf("/")||r.test(s[0].split(".").pop().split("?").shift()))&&a.push({href:s[0],start:s.index,end:l})}return a},createAutoLink:function(e,n){n=t.util.ensureUrlHasProtocol(n);var i=t.util.createLink(this.document,e,n,this.getEditorOption("targetBlank")?"_blank":null),r=this.document.createElement("span");for(r.setAttribute("data-auto-link","true"),r.setAttribute("data-href",n),i.insertBefore(r,i.firstChild);i.childNodes.length>1;)r.appendChild(i.childNodes[1])}});t.extensions.autoLink=o}(),function(){var e="medium-editor-dragover";function n(n){var i=t.util.getContainerEditorElement(n);Array.prototype.slice.call(i.parentElement.querySelectorAll("."+e)).forEach(function(t){t.classList.remove(e)})}var i=t.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var i=t.target.classList?t.target:t.target.parentElement;n(i),"dragover"===t.type&&i.classList.add(e)},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),this.base.selectElement(t.target);var e=this.base.exportSelection();e.start=e.end,this.base.importSelection(e),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files).forEach(function(t){this.isAllowedFile(t)&&t.type.match("image")&&this.insertImageFile(t)},this),n(t.target)},isAllowedFile:function(t){return this.allowedTypes.some(function(e){return!!t.type.match(e)})},insertImageFile:function(e){if("function"==typeof FileReader){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",function(e){var n=this.document.createElement("img");n.src=e.target.result,t.util.insertHTMLCommand(this.document,n.outerHTML)}.bind(this))}}});t.extensions.fileDragging=i}(),s=t.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(t){var e=t.key.charCodeAt(0);this.keys[e]||(this.keys[e]=[]),this.keys[e].push(t)},this)},handleKeydown:function(e){var n=t.util.getKeyCode(e);if(this.keys[n]){var i=t.util.isMetaCtrlKey(e),r=!!e.shiftKey,o=!!e.altKey;this.keys[n].forEach(function(t){t.meta!==i||t.shift!==r||t.alt!==o&&void 0!==t.alt||(e.preventDefault(),e.stopPropagation(),"function"==typeof t.command?t.command.apply(this):!1!==t.command&&this.execAction(t.command))},this)}}}),t.extensions.keyboardCommands=s,a=t.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontName")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(t){var e=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var t,e=this.document,n=e.createElement("div"),i=e.createElement("select"),r=e.createElement("a"),o=e.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var s=0;s<this.fonts.length;s++)(t=e.createElement("option")).innerHTML=this.fonts[s],t.value=this.fonts[s],i.appendChild(t);return i.className="medium-editor-toolbar-select",n.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){t.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("face")&&t.removeAttribute("face")})},handleFontChange:function(){var t=this.getSelect().value;""===t?this.clearFontName():this.execAction("fontName",{value:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),t.extensions.fontName=a,l=t.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontSize")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(t){var e=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var t=this.document,e=t.createElement("div"),n=t.createElement("input"),i=t.createElement("a"),r=t.createElement("a");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",e.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),r.setAttribute("href","#"),r.className="medium-editor-toobar-save",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(r),this.on(r,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",e.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){t.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("size")&&t.removeAttribute("size")})},handleSliderChange:function(){var t=this.getInput().value;"4"===t?this.clearFontSize():this.execAction("fontSize",{value:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),t.extensions.fontSize=l,function(){var e=null,n=null,i=function(t){t.stopPropagation()};function r(t,e,n){var i=t.clipboardData||e.clipboardData||n.dataTransfer,r={};if(!i)return r;if(i.getData){var o=i.getData("Text");o&&o.length>0&&(r["text/plain"]=o)}if(i.types)for(var s=0;s<i.types.length;s++){var a=i.types[s];r[a]=i.getData(a)}return r}var o=t.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){t.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editablePaste",this.handlePaste.bind(this)),this.subscribe("editableKeydown",this.handleKeydown.bind(this)))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(t,e){if(!t.defaultPrevented){var n=r(t,this.window,this.document),i=n["text/html"],o=n["text/plain"];this.window.clipboardData&&void 0===t.clipboardData&&!i&&(i=o),(i||o)&&(t.preventDefault(),this.doPaste(i,o,e))}},doPaste:function(e,n,i){var r,o,s="";if(this.cleanPastedHTML&&e)return this.cleanPaste(e);if(this.getEditorOption("disableReturn")||i&&i.getAttribute("data-disable-return"))s=t.util.htmlEntities(n);else if((r=n.split(/[\r\n]+/g)).length>1)for(o=0;o<r.length;o+=1)""!==r[o]&&(s+="<p>"+t.util.htmlEntities(r[o])+"</p>");else s=t.util.htmlEntities(r[0]);t.util.insertHTMLCommand(this.document,s)},handlePasteBinPaste:function(t){if(t.defaultPrevented)this.removePasteBin();else{var e=r(t,this.window,this.document),i=e["text/html"],o=e["text/plain"],s=n;if(!this.cleanPastedHTML||i)return t.preventDefault(),this.removePasteBin(),this.doPaste(i,o,s),void this.trigger("editablePaste",{currentTarget:s,target:s},s);setTimeout(function(){this.cleanPastedHTML&&(i=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(i,o,s),this.trigger("editablePaste",{currentTarget:s,target:s},s)}.bind(this),0)}},handleKeydown:function(e,n){t.util.isKey(e,t.util.keyCode.V)&&t.util.isMetaCtrlKey(e)&&(e.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(n))},createPasteBin:function(r){var o,s=t.selection.getSelectionRange(this.document),a=this.window.pageYOffset;n=r,s&&((o=s.getClientRects()).length?a+=o[0].top:a+=s.startContainer.getBoundingClientRect().top),e=s;var l=this.document.createElement("div");l.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),l.setAttribute("style","border: 1px red solid; position: absolute; top: "+a+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),l.setAttribute("contentEditable",!0),l.innerHTML="%ME_PASTEBIN%",this.document.body.appendChild(l),this.on(l,"focus",i),this.on(l,"focusin",i),this.on(l,"focusout",i),l.focus(),t.selection.selectNode(l,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(l,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==e&&(t.selection.selectRange(this.document,e),e=null),null!==n&&(n=null);var r=this.getPasteBin();r&&r&&(this.off(r,"focus",i),this.off(r,"focusin",i),this.off(r,"focusout",i),this.off(r,"paste",this.boundHandlePaste),r.parentElement.removeChild(r))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var t=this.getPasteBin();if(!t)return!1;if(t.firstChild&&"mcepastebin"===t.firstChild.id)return!1;var e=t.innerHTML;return!(!e||"%ME_PASTEBIN%"===e)&&e},cleanPaste:function(t){var e,n,i,r,o=/<p|<br|<div/.test(t),s=[].concat(this.preCleanReplacements||[],[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]],this.cleanReplacements||[]);for(e=0;e<s.length;e+=1)t=t.replace(s[e][0],s[e][1]);if(!o)return this.pasteHTML(t);for((i=this.document.createElement("div")).innerHTML="<p>"+t.split("<br><br>").join("</p><p>")+"</p>",n=i.querySelectorAll("a,p,div,br"),e=0;e<n.length;e+=1)switch((r=n[e]).innerHTML=r.innerHTML.replace(/\n/gi," "),r.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(r);break;case"br":this.filterLineBreak(r)}this.pasteHTML(i.innerHTML)},pasteHTML:function(e,n){n=t.util.defaults({},n,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var i,r,o,s,a=this.document.createDocumentFragment();for(a.appendChild(this.document.createElement("body")),(s=a.querySelector("body")).innerHTML=e,this.cleanupSpans(s),i=s.querySelectorAll("*"),o=0;o<i.length;o+=1)"a"===(r=i[o]).nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&t.util.setTargetBlank(r),t.util.cleanupAttrs(r,n.cleanAttrs),t.util.cleanupTags(r,n.cleanTags);t.util.insertHTMLCommand(this.document,s.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(t){return t&&("p"===t.nodeName.toLowerCase()||"div"===t.nodeName.toLowerCase())},filterCommonBlocks:function(t){/^\s*$/.test(t.textContent)&&t.parentNode&&t.parentNode.removeChild(t)},filterLineBreak:function(t){this.isCommonBlock(t.previousElementSibling)?this.removeWithParent(t):!this.isCommonBlock(t.parentNode)||t.parentNode.firstChild!==t&&t.parentNode.lastChild!==t?t.parentNode&&1===t.parentNode.childElementCount&&""===t.parentNode.textContent&&this.removeWithParent(t):this.removeWithParent(t)},removeWithParent:function(t){t&&t.parentNode&&(t.parentNode.parentNode&&1===t.parentNode.childElementCount?t.parentNode.parentNode.removeChild(t.parentNode):t.parentNode.removeChild(t))},cleanupSpans:function(e){var n,i,r,o=e.querySelectorAll(".replace-with"),s=function(t){return t&&"#text"!==t.nodeName&&"false"===t.getAttribute("contenteditable")};for(n=0;n<o.length;n+=1)i=o[n],r=this.document.createElement(i.classList.contains("bold")?"b":"i"),i.classList.contains("bold")&&i.classList.contains("italic")?r.innerHTML="<i>"+i.innerHTML+"</i>":r.innerHTML=i.innerHTML,i.parentNode.replaceChild(r,i);for(o=e.querySelectorAll("span"),n=0;n<o.length;n+=1){if(i=o[n],t.util.traverseUp(i,s))return!1;t.util.unwrap(i,this.document)}}});t.extensions.paste=o}(),u=t.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")||t.setAttribute("data-placeholder",this.text),this.updatePlaceholder(t)},this)},destroy:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")===this.text&&t.removeAttribute("data-placeholder")},this)},showPlaceholder:function(e){e&&(t.util.isFF&&0===e.childNodes.length?(e.classList.add("medium-editor-placeholder-relative"),e.classList.remove("medium-editor-placeholder")):(e.classList.add("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(t){t&&(t.classList.remove("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(t,e){if(t.querySelector("img, blockquote, ul, ol")||""!==t.textContent.replace(/^\s+|\s+$/g,""))return this.hidePlaceholder(t);e||this.showPlaceholder(t)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(t,e){var n=this.hideOnClick&&e===this.base.getFocusedElement();this.updatePlaceholder(e,n)},handleFocus:function(t,e){this.hidePlaceholder(e)},handleBlur:function(t,e){this.updatePlaceholder(e)}}),t.extensions.placeholder=u,c=t.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(t,e){return this.base.extensions.forEach(function(n){if(n!==this)return t.apply(e||this,arguments)},this)},createToolbar:function(){var t=this.document.createElement("div");return t.id="medium-editor-toolbar-"+this.getEditorId(),t.className="medium-editor-toolbar",this.static?t.className+=" static-toolbar":this.relativeContainer?t.className+=" medium-editor-relative-toolbar":t.className+=" medium-editor-stalker-toolbar",t.appendChild(this.createToolbarButtons()),this.forEachExtension(function(e){e.hasForm&&t.appendChild(e.getForm())}),this.attachEventHandlers(),t},createToolbarButtons:function(){var e,n,i,r,o,s,a=this.document.createElement("ul");return a.id="medium-editor-toolbar-actions"+this.getEditorId(),a.className="medium-editor-toolbar-actions",a.style.display="block",this.buttons.forEach(function(i){"string"==typeof i?(o=i,s=null):(o=i.name,s=i),(r=this.base.addBuiltInExtension(o,s))&&"function"==typeof r.getButton&&(n=r.getButton(this.base),e=this.document.createElement("li"),t.util.isElement(n)?e.appendChild(n):e.innerHTML=n,a.appendChild(e))},this),(i=a.querySelectorAll("button")).length>0&&(i[0].classList.add(this.firstButtonClass),i[i.length-1].classList.add(this.lastButtonClass)),a},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=t.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(e){if(e&&e.target&&t.util.isDescendant(this.getToolbarElement(),e.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(t){t.hasForm&&t.isDisplayed()&&t.hideForm()})},multipleBlockElementsSelected:function(){var e=new RegExp("<("+t.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=t.selection.getSelectionHtml(this.document).replace(/<[^\/>][^>]*><\/[^>]+>/gim,"").match(e);return!!n&&n.length>1},modifySelection:function(){var e=this.window.getSelection().getRangeAt(0);if(this.standardizeSelectionStart&&e.startContainer.nodeValue&&e.startOffset===e.startContainer.nodeValue.length){var n=t.util.findAdjacentTextNodeWithContent(t.selection.getSelectionElement(this.window),e.startContainer,this.document);if(n){for(var i=0;0===n.nodeValue.substr(i,1).trim().length;)i+=1;e=t.selection.select(this.document,n,i,e.endContainer,e.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||t.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var e=t.selection.getSelectionElement(this.window);return!e||-1===this.getEditorElements().indexOf(e)||e.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!t.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(t){"function"==typeof t.isActive&&"function"==typeof t.setInactive&&t.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var e,n=[],i=null,r=t.selection.getSelectionRange(this.document),o=function(t){"function"==typeof t.checkState?t.checkState(e):"function"==typeof t.isActive&&"function"==typeof t.isAlreadyApplied&&"function"==typeof t.setActive&&!t.isActive()&&t.isAlreadyApplied(e)&&t.setActive()};if(r&&(this.forEachExtension(function(t){"function"!=typeof t.queryCommandState||null===(i=t.queryCommandState())?n.push(t):i&&"function"==typeof t.setActive&&t.setActive()}),e=t.selection.getSelectedParentElement(r),this.getEditorElements().some(function(n){return t.util.isDescendant(n,e,!0)})))for(;e&&(n.forEach(o),!t.util.isMediumEditorElement(e));)e=e.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var t=this.base.getFocusedElement(),e=this.window.getSelection();if(!t)return this;!this.static&&e.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(t):this.positionToolbar(e)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(t){this.getToolbarElement().style.left="0";var e,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,r=this.getToolbarElement(),o=t.getBoundingClientRect(),s=o.top+n,a=o.left+o.width/2,l=r.offsetHeight,u=r.offsetWidth,c=u/2;switch(this.sticky?n>s+t.offsetHeight-l-this.stickyTopOffset?(r.style.top=s+t.offsetHeight-l+"px",r.classList.remove("medium-editor-sticky-toolbar")):n>s-l-this.stickyTopOffset?(r.classList.add("medium-editor-sticky-toolbar"),r.style.top=this.stickyTopOffset+"px"):(r.classList.remove("medium-editor-sticky-toolbar"),r.style.top=s-l+"px"):r.style.top=s-l+"px",this.align){case"left":e=o.left;break;case"right":e=o.right-u;break;case"center":e=a-c}e<0?e=0:e+u>i&&(e=i-Math.ceil(u)-1),r.style.left=e+"px"},positionToolbar:function(t){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var e=t.getRangeAt(0),n=e.getBoundingClientRect();(!n||0===n.height&&0===n.width&&e.startContainer===e.endContainer)&&(n=1===e.startContainer.nodeType&&e.startContainer.querySelector("img")?e.startContainer.querySelector("img").getBoundingClientRect():e.startContainer.getBoundingClientRect());var i=this.window.innerWidth,r=(n.left+n.right)/2,o=this.getToolbarElement(),s=o.offsetHeight,a=o.offsetWidth/2,l=this.diffLeft-a;n.top<50?(o.classList.add("medium-toolbar-arrow-over"),o.classList.remove("medium-toolbar-arrow-under"),o.style.top=50+n.bottom-this.diffTop+this.window.pageYOffset-s+"px"):(o.classList.add("medium-toolbar-arrow-under"),o.classList.remove("medium-toolbar-arrow-over"),o.style.top=n.top+this.diffTop+this.window.pageYOffset-s+"px"),r<a?(o.style.left=l+a+"px",o.style.right="initial"):i-r<a?(o.style.left="auto",o.style.right=0):(o.style.left=l+r+"px",o.style.right="initial")}}),t.extensions.toolbar=c,h=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy","dragover"===t.type?t.target.classList.add("medium-editor-dragover"):"dragleave"===t.type&&t.target.classList.remove("medium-editor-dragover")},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files,0).some(function(e){var n,i;e.type.match("image")&&((n=new FileReader).readAsDataURL(e),i="medium-img-"+ +new Date,t.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+i+'" />'),n.onload=function(){var t=this.document.getElementById(i);t&&(t.removeAttribute("id"),t.removeAttribute("class"),t.src=n.result)}.bind(this))}.bind(this)),e.target.classList.remove("medium-editor-dragover")}}),t.extensions.imageDragging=h,function(){function e(e,n){if(this.options.disableReturn||n.getAttribute("data-disable-return"))e.preventDefault();else if(this.options.disableDoubleReturn||n.getAttribute("data-disable-double-return")){var i=t.selection.getSelectionStart(this.options.ownerDocument);(i&&""===i.textContent.trim()&&"li"!==i.nodeName.toLowerCase()||i.previousElementSibling&&"br"!==i.previousElementSibling.nodeName.toLowerCase()&&""===i.previousElementSibling.textContent.trim())&&e.preventDefault()}}function n(e){var n,i=t.selection.getSelectionStart(this.options.ownerDocument),r=i.nodeName.toLowerCase(),o=/^(\s+|<br\/?>)?$/i,s=/h\d/i;t.util.isKey(e,[t.util.keyCode.BACKSPACE,t.util.keyCode.ENTER])&&i.previousElementSibling&&s.test(r)&&0===t.selection.getCaretOffsets(i).left?t.util.isKey(e,t.util.keyCode.BACKSPACE)&&o.test(i.previousElementSibling.innerHTML)?(i.previousElementSibling.parentNode.removeChild(i.previousElementSibling),e.preventDefault()):!this.options.disableDoubleReturn&&t.util.isKey(e,t.util.keyCode.ENTER)&&((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",i.previousElementSibling.parentNode.insertBefore(n,i),e.preventDefault()):t.util.isKey(e,t.util.keyCode.DELETE)&&i.nextElementSibling&&i.previousElementSibling&&!s.test(r)&&o.test(i.innerHTML)&&s.test(i.nextElementSibling.nodeName.toLowerCase())?(t.selection.moveCursor(this.options.ownerDocument,i.nextElementSibling),i.previousElementSibling.parentNode.removeChild(i),e.preventDefault()):t.util.isKey(e,t.util.keyCode.BACKSPACE)&&"li"===r&&o.test(i.innerHTML)&&!i.previousElementSibling&&!i.parentElement.previousElementSibling&&i.nextElementSibling&&"li"===i.nextElementSibling.nodeName.toLowerCase()?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",i.parentElement.parentElement.insertBefore(n,i.parentElement),t.selection.moveCursor(this.options.ownerDocument,n),i.parentElement.removeChild(i),e.preventDefault()):t.util.isKey(e,t.util.keyCode.BACKSPACE)&&!1!==t.util.getClosestTag(i,"blockquote")&&0===t.selection.getCaretOffsets(i).left&&(e.preventDefault(),t.util.execFormatBlock(this.options.ownerDocument,"p"))}function i(e,n,i){var r=[];if(e||(e=[]),"string"==typeof e&&(e=n.querySelectorAll(e)),t.util.isElement(e)&&(e=[e]),i)for(var o=0;o<e.length;o++){var s=e[o];!t.util.isElement(s)||s.getAttribute("data-medium-editor-element")||s.getAttribute("medium-editor-textarea-id")||r.push(s)}else r=Array.prototype.slice.apply(e);return r}function r(t){var e=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');e&&(e.classList.remove("medium-editor-hidden"),e.removeAttribute("medium-editor-textarea-id")),t.parentNode&&t.parentNode.removeChild(t)}function o(t,e,n){return"function"==typeof(t=function(t,e){return Object.keys(e).forEach(function(n){void 0===t[n]&&(t[n]=e[n])}),t}(t,{window:n.options.contentWindow,document:n.options.ownerDocument,base:n})).init&&t.init(),t.name||(t.name=e),t}function s(){return!this.elements.every(function(t){return!!t.getAttribute("data-disable-toolbar")})&&!1!==this.options.toolbar}function a(n,i){if(!n.getAttribute("data-medium-editor-element")){"textarea"===n.nodeName.toLowerCase()&&(n=function(t){for(var e=this.options.ownerDocument.createElement("div"),n=Date.now(),i="medium-editor-"+n,r=t.attributes;this.options.ownerDocument.getElementById(i);)i="medium-editor-"+ ++n;e.className=t.className,e.id=i,e.innerHTML=t.value,t.setAttribute("medium-editor-textarea-id",i);for(var o=0,s=r.length;o<s;o++)e.hasAttribute(r[o].nodeName)||e.setAttribute(r[o].nodeName,r[o].nodeValue);return t.form&&this.on(t.form,"reset",function(t){t.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(i))}.bind(this)),t.classList.add("medium-editor-hidden"),t.parentNode.insertBefore(e,t),e}.call(this,n),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=function(t,e){var n=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=e.innerHTML.trim())}.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||n.getAttribute("data-disable-editing")||(n.setAttribute("contentEditable",!0),n.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(n.getAttribute("data-disable-return")||n.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=e.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||n.getAttribute("data-disable-return")||this.on(n,"keyup",function(e){var n=t.selection.getSelectionStart(this.options.ownerDocument);n&&(t.util.isMediumEditorElement(n)&&0===n.children.length&&!t.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!t.util.isKey(e,t.util.keyCode.ENTER)||t.util.isListItem(n)||t.util.isBlockContainer(n)||("a"===n.nodeName.toLowerCase()?this.options.ownerDocument.execCommand("unlink",!1,null):e.shiftKey||e.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}.bind(this));var r=t.util.guid();n.setAttribute("data-medium-editor-element",!0),n.classList.add("medium-editor-element"),n.setAttribute("role","textbox"),n.setAttribute("aria-multiline",!0),n.setAttribute("data-medium-editor-editor-index",i),n.setAttribute("medium-editor-index",r),h[r]=n.innerHTML,this.events.attachAllEventsToElement(n)}return n}function l(){this.subscribe("editableKeydownTab",function(e){var n=t.selection.getSelectionStart(this.options.ownerDocument);"pre"===(n&&n.nodeName.toLowerCase())&&(e.preventDefault(),t.util.insertHTMLCommand(this.options.ownerDocument,"    ")),t.util.isListItem(n)&&(e.preventDefault(),e.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}.bind(this)),this.subscribe("editableKeydownDelete",n.bind(this)),this.subscribe("editableKeydownEnter",n.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",function(e){var n=t.selection.getSelectionStart(this.options.ownerDocument),i=n.textContent,r=t.selection.getCaretOffsets(n);(void 0===i[r.left-1]||""===i[r.left-1].trim()||void 0!==i[r.left]&&""===i[r.left].trim())&&e.preventDefault()}.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=e.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function u(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(t){"toolbar"!==t&&this.options.extensions[t]&&this.extensions.push(o(this.options.extensions[t],t,this))},this),function(){return!this.options.extensions.imageDragging}.call(this)){var e=this.options.fileDragging;e||(e={},function(){return!1!==this.options.imageDragging}.call(this)||(e.allowedTypes=[])),this.addBuiltInExtension("fileDragging",e)}var n={paste:!0,"anchor-preview":function(){return!!s.call(this)&&!1!==this.options.anchorPreview}.call(this),autoLink:function(){return!1!==this.options.autoLink}.call(this),keyboardCommands:function(){return!1!==this.options.keyboardCommands}.call(this),placeholder:function(){return!1!==this.options.placeholder}.call(this)};Object.keys(n).forEach(function(t){n[t]&&this.addBuiltInExtension(t)},this);var i=this.options.extensions.toolbar;if(!i&&s.call(this)){var r=t.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});i=new t.extensions.toolbar(r)}i&&this.extensions.push(o(i,"toolbar",this))}function c(e,n){var i,r;if(i=/^append-(.+)$/gi.exec(e))return t.util.execFormatBlock(this.options.ownerDocument,i[1]);if("fontSize"===e)return n.size&&t.util.deprecated(".size option for fontSize command",".value","6.0.0"),r=n.value||n.size,this.options.ownerDocument.execCommand("fontSize",!1,r);if("fontName"===e)return n.name&&t.util.deprecated(".name option for fontName command",".value","6.0.0"),r=n.value||n.name,this.options.ownerDocument.execCommand("fontName",!1,r);if("createLink"===e)return this.createLink(n);if("image"===e){var o=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,o)}if(/justify([A-Za-z]*)$/g.exec(e)){var s=this.options.ownerDocument.execCommand(e,!1,null),a=t.selection.getSelectedParentElement(t.selection.getSelectionRange(this.options.ownerDocument));return a&&function(e){if(!e)return;var n,i=Array.prototype.slice.call(e.childNodes).filter(function(t){var e="div"===t.nodeName.toLowerCase();return e&&!n&&(n=t.style.textAlign),e});i.length&&(this.saveSelection(),i.forEach(function(e){if(e.style.textAlign===n){var i=e.lastChild;if(i){t.util.unwrap(e,this.options.ownerDocument);var r=this.options.ownerDocument.createElement("BR");i.parentNode.insertBefore(r,i.nextSibling)}}},this),e.style.textAlign=n,this.restoreSelection())}.call(this,t.util.getTopBlockContainer(a)),s}return r=n&&n.value,this.options.ownerDocument.execCommand(e,!1,r)}var h={};t.prototype={init:function(e,n){return this.options=function(e,n){return n&&[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]].forEach(function(e){n.hasOwnProperty(e[0])&&void 0!==n[e[0]]&&t.util.deprecated(e[0],e[1],"v6.0.0")}),t.util.defaults({},n,e)}.call(this,this.defaults,n),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(function(t){t._mediumEditors||(t._mediumEditors=[null]),this.id||(this.id=t._mediumEditors.length),t._mediumEditors[this.id]=this}.call(this,this.options.contentWindow),this.events=new t.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,u.call(this),l.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(t){"function"==typeof t.destroy&&t.destroy()},this),this.events.destroy(),this.elements.forEach(function(t){this.options.spellcheck&&(t.innerHTML=t.innerHTML),t.removeAttribute("contentEditable"),t.removeAttribute("spellcheck"),t.removeAttribute("data-medium-editor-element"),t.classList.remove("medium-editor-element"),t.removeAttribute("role"),t.removeAttribute("aria-multiline"),t.removeAttribute("medium-editor-index"),t.removeAttribute("data-medium-editor-editor-index"),t.getAttribute("medium-editor-textarea-id")&&r(t)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,function(t){t._mediumEditors&&t._mediumEditors[this.id]&&(t._mediumEditors[this.id]=null)}.call(this,this.options.contentWindow))},on:function(t,e,n,i){return this.events.attachDOMEvent(t,e,n,i),this},off:function(t,e,n,i){return this.events.detachDOMEvent(t,e,n,i),this},subscribe:function(t,e){return this.events.attachCustomEvent(t,e),this},unsubscribe:function(t,e){return this.events.detachCustomEvent(t,e),this},trigger:function(t,e,n){return this.events.triggerCustomEvent(t,e,n),this},delay:function(t){var e=this;return setTimeout(function(){e.isActive&&t()},this.options.delay)},serialize:function(){var t,e={},n=this.elements.length;for(t=0;t<n;t+=1)e[""!==this.elements[t].id?this.elements[t].id:"element-"+t]={value:this.elements[t].innerHTML.trim()};return e},getExtensionByName:function(t){var e;return this.extensions&&this.extensions.length&&this.extensions.some(function(n){return n.name===t&&(e=n,!0)}),e},addBuiltInExtension:function(e,n){var i,r=this.getExtensionByName(e);if(r)return r;switch(e){case"anchor":i=t.util.extend({},this.options.anchor,n),r=new t.extensions.anchor(i);break;case"anchor-preview":r=new t.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":r=new t.extensions.autoLink;break;case"fileDragging":r=new t.extensions.fileDragging(n);break;case"fontname":r=new t.extensions.fontName(this.options.fontName);break;case"fontsize":r=new t.extensions.fontSize(n);break;case"keyboardCommands":r=new t.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":r=new t.extensions.paste(this.options.paste);break;case"placeholder":r=new t.extensions.placeholder(this.options.placeholder);break;default:t.extensions.button.isBuiltInButton(e)&&(n?(i=t.util.defaults({},n,t.extensions.button.prototype.defaults[e]),r=new t.extensions.button(i)):r=new t.extensions.button(e))}return r&&this.extensions.push(o(r,e,this)),r},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var t=this.getExtensionByName("toolbar");return t&&t.checkState(),this},queryCommandState:function(t){var e,n=null;(e=/^full-(.+)$/gi.exec(t))&&(t=e[1]);try{n=this.options.ownerDocument.queryCommandState(t)}catch(t){n=null}return n},execAction:function(e,n){var i,r;return(i=/^full-(.+)$/gi.exec(e))?(this.saveSelection(),this.selectAllContents(),r=c.call(this,i[1],n),this.restoreSelection()):r=c.call(this,e,n),"insertunorderedlist"!==e&&"insertorderedlist"!==e||t.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),r},getSelectedParentElement:function(e){return void 0===e&&(e=this.options.contentWindow.getSelection().getRangeAt(0)),t.selection.getSelectedParentElement(e)},selectAllContents:function(){var e=t.selection.getSelectionElement(this.options.contentWindow);if(e){for(;1===e.children.length;)e=e.children[0];this.selectElement(e)}},selectElement:function(e){t.selection.selectNode(e,this.options.ownerDocument);var n=t.selection.getSelectionElement(this.options.contentWindow);n&&this.events.focusElement(n)},getFocusedElement:function(){var t;return this.elements.some(function(e){return!t&&e.getAttribute("data-medium-focused")&&(t=e),!!t},this),t},exportSelection:function(){var e=t.selection.getSelectionElement(this.options.contentWindow),n=this.elements.indexOf(e),i=null;return n>=0&&(i=t.selection.exportSelection(e,this.options.ownerDocument)),null!==i&&0!==n&&(i.editableElementIndex=n),i},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(e,n){if(e){var i=this.elements[e.editableElementIndex||0];t.selection.importSelection(e,i,this.options.ownerDocument,n)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(e){var n,i=t.selection.getSelectionElement(this.options.contentWindow),r={};if(-1!==this.elements.indexOf(i)){try{if(this.events.disableCustomEvent("editableInput"),e.url&&t.util.deprecated(".url option for createLink",".value","6.0.0"),(n=e.url||e.value)&&n.trim().length>0){var o=this.options.contentWindow.getSelection();if(o){var s,a,l,u,c=o.getRangeAt(0),h=c.commonAncestorContainer;if(3===c.endContainer.nodeType&&3!==c.startContainer.nodeType&&0===c.startOffset&&c.startContainer.firstChild===c.endContainer&&(h=c.endContainer),a=t.util.getClosestBlockContainer(c.startContainer),l=t.util.getClosestBlockContainer(c.endContainer),3!==h.nodeType&&0!==h.textContent.length&&a===l){var d=a||i,f=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),s=this.exportSelection(),f.appendChild(d.cloneNode(!0)),i===d?t.selection.select(this.options.ownerDocument,d.firstChild,0,d.lastChild,3===d.lastChild.nodeType?d.lastChild.nodeValue.length:d.lastChild.childNodes.length):t.selection.select(this.options.ownerDocument,d,0,d,d.childNodes.length);var p=this.exportSelection();0===(u=t.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,f,{start:s.start-p.start,end:s.end-p.start,editableElementIndex:s.editableElementIndex})).length&&((f=this.options.ownerDocument.createDocumentFragment()).appendChild(h.cloneNode(!0)),u=[f.firstChild.firstChild,f.firstChild.lastChild]),t.util.createLink(this.options.ownerDocument,u,n.trim());var g=(f.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;t.util.insertHTMLCommand(this.options.ownerDocument,f.firstChild.innerHTML.replace(/^\s+/,"")),s.start-=g,s.end-=g,this.importSelection(s)}else this.options.ownerDocument.execCommand("createLink",!1,n);this.options.targetBlank||"_blank"===e.target?t.util.setTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),n):t.util.removeTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),n),e.buttonClass&&t.util.addClassToAnchors(t.selection.getSelectionStart(this.options.ownerDocument),e.buttonClass)}}if(this.options.targetBlank||"_blank"===e.target||e.buttonClass){(r=this.options.ownerDocument.createEvent("HTMLEvents")).initEvent("input",!0,!0,this.options.contentWindow);for(var m=0,v=this.elements.length;m<v;m+=1)this.elements[m].dispatchEvent(r)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",r,i)}},cleanPaste:function(t){this.getExtensionByName("paste").cleanPaste(t)},pasteHTML:function(t,e){this.getExtensionByName("paste").pasteHTML(t,e)},setContent:function(t,e){if(e=e||0,this.elements[e]){var n=this.elements[e];n.innerHTML=t,this.checkContentChanged(n)}},getContent:function(t){return t=t||0,this.elements[t]?this.elements[t].innerHTML.trim():null},checkContentChanged:function(e){e=e||t.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(e,{target:e,currentTarget:e})},resetContent:function(t){if(t){var e=this.elements.indexOf(t);-1!==e&&this.setContent(h[t.getAttribute("medium-editor-index")],e)}else this.elements.forEach(function(t,e){this.setContent(h[t.getAttribute("medium-editor-index")],e)},this)},addElements:function(t){var e=i(t,this.options.ownerDocument,!0);if(0===e.length)return!1;e.forEach(function(t){t=a.call(this,t,this.id),this.elements.push(t)},this)},removeElements:function(t){var e=i(t,this.options.ownerDocument).map(function(t){return t.getAttribute("medium-editor-textarea-id")&&t.parentNode?t.parentNode.querySelector('div[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]'):t});this.elements=this.elements.filter(function(t){return-1===e.indexOf(t)||(this.events.cleanupElement(t),t.getAttribute("medium-editor-textarea-id")&&r(t),!1)},this)}},t.getEditorFromElement=function(t){var e=t.getAttribute("data-medium-editor-editor-index"),n=t&&t.ownerDocument&&(t.ownerDocument.defaultView||t.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[e]?n._mediumEditors[e]:null}}(),t.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0},t.parseVersionString=function(t){var e=t.split("-"),n=e[0].split("."),i=e.length>1?e[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:i,toString:function(){return[n[0],n[1],n[2]].join(".")+(i?"-"+i:"")}}},t.version=t.parseVersionString.call(this,"5.20.2"),t}()),angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{require:"ngModel",restrict:"AE",scope:{bindOptions:"&"},link:function(t,e,n,i){angular.element(e).addClass("angular-medium-editor"),i.editor=new MediumEditor(e,t.bindOptions()),i.$render=function(){var t=e;"textarea"===e[0].tagName.toLowerCase()&&(t=e.parent().find(".medium-editor-element")),t.html(i.$viewValue||"");var n=i.editor.getExtensionByName("placeholder");n&&n.updatePlaceholder(t[0])},i.$isEmpty=function(t){return/[<>]/.test(t)?0===function(t){var e=document.createElement("div");return e.innerHTML=t,(e.textContent||"").trim()}(t).length&&!function(t){return/[<>]img/.test(t)}(t):!t||0===t.length},i.editor.subscribe("editableInput",function(e,n){t.$apply(function(){var t=$(n);""===t.text().trim()&&0==t.find("img").length&&t.html(""),t.find("p").addClass("medium-editor-p"),i.$setViewValue(t.html().trim())})}),t.$on("$destroy",function(){i.editor.destroy()})}}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";var n={beforeShow:c,move:c,change:c,show:c,hide:c,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),a=function(){var t="";if(r)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(e,n,i,r){for(var s=[],a=0;a<e.length;a++){var l=e[a];if(l){var u=tinycolor(l),c=u.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,l)?" sp-thumb-active":"";var h=u.toString(r.preferredFormat||"rgb"),d=o?"background-color:"+u.toRgbString():"filter:"+u.toFilter();s.push('<span title="'+h+'" data-color="'+u.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{s.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+s.join("")+"</div>"}function u(u,c){var g,m,v,y,b=function(e,i){var r=t.extend({},n,e);return r.callbacks={move:d(r.move,i),change:d(r.change,i),show:d(r.show,i),hide:d(r.hide,i),beforeShow:d(r.beforeShow,i)},r}(c,u),w=b.flat,x=b.showSelectionPalette,C=b.localStorageKey,k=b.theme,_=b.callbacks,S=(g=Wt,m=10,function(){var t=this,e=arguments;v&&clearTimeout(y),!v&&y||(y=setTimeout(function(){y=null,g.apply(t,e)},m))}),$=!1,E=!1,T=0,D=0,M=0,A=0,P=0,O=0,N=0,I=0,L=0,R=0,H=1,F=[],z=[],B={},j=b.selectionPalette.slice(0),W=b.maxSelectionSize,V="sp-dragging",U=null,q=u.ownerDocument,Y=(q.body,t(u)),G=!1,X=t(a,q).addClass(k),K=X.find(".sp-picker-container"),Z=X.find(".sp-color"),Q=X.find(".sp-dragger"),J=X.find(".sp-hue"),tt=X.find(".sp-slider"),et=X.find(".sp-alpha-inner"),nt=X.find(".sp-alpha"),it=X.find(".sp-alpha-handle"),rt=X.find(".sp-input"),ot=X.find(".sp-palette"),st=X.find(".sp-initial"),at=X.find(".sp-cancel"),lt=X.find(".sp-clear"),ut=X.find(".sp-choose"),ct=X.find(".sp-palette-toggle"),ht=Y.is("input"),dt=ht&&"color"===Y.attr("type")&&p(),ft=ht&&!w,pt=ft?t(s).addClass(k).addClass(b.className).addClass(b.replacerClassName):t([]),gt=ft?pt:Y,mt=pt.find(".sp-preview-inner"),vt=b.color||ht&&Y.val(),yt=!1,bt=b.preferredFormat,wt=!b.showButtons||b.clickoutFiresChange,xt=!vt,Ct=b.allowEmpty&&!dt;function kt(){if(b.showPaletteOnly&&(b.showPalette=!0),ct.text(b.showPaletteOnly?b.togglePaletteMoreText:b.togglePaletteLessText),b.palette){F=b.palette.slice(0),z=t.isArray(F[0])?F:[F],B={};for(var e=0;e<z.length;e++)for(var n=0;n<z[e].length;n++){var i=tinycolor(z[e][n]).toRgbString();B[i]=!0}}X.toggleClass("sp-flat",w),X.toggleClass("sp-input-disabled",!b.showInput),X.toggleClass("sp-alpha-enabled",b.showAlpha),X.toggleClass("sp-clear-enabled",Ct),X.toggleClass("sp-buttons-disabled",!b.showButtons),X.toggleClass("sp-palette-buttons-disabled",!b.togglePaletteOnly),X.toggleClass("sp-palette-disabled",!b.showPalette),X.toggleClass("sp-palette-only",b.showPaletteOnly),X.toggleClass("sp-initial-disabled",!b.showInitial),X.addClass(b.className).addClass(b.containerClassName),Wt()}function _t(){if(C&&window.localStorage){try{var e=window.localStorage[C].split(",#");e.length>1&&(delete window.localStorage[C],t.each(e,function(t,e){St(e)}))}catch(t){}try{j=window.localStorage[C].split(";")}catch(t){}}}function St(e){if(x){var n=tinycolor(e).toRgbString();if(!B[n]&&-1===t.inArray(n,j))for(j.push(n);j.length>W;)j.shift();if(C&&window.localStorage)try{window.localStorage[C]=j.join(";")}catch(t){}}}function $t(){var e=Ht(),n=t.map(z,function(t,n){return l(t,e,"sp-palette-row sp-palette-row-"+n,b)});_t(),j&&n.push(l(function(){var t=[];if(b.showPalette)for(var e=0;e<j.length;e++){var n=tinycolor(j[e]).toRgbString();B[n]||t.push(j[e])}return t.reverse().slice(0,b.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",b)),ot.html(n.join(""))}function Et(){if(b.showInitial){var t=yt,e=Ht();st.html(l([t,e],e,"sp-palette-row-initial",b))}}function Tt(){(D<=0||T<=0||A<=0)&&Wt(),E=!0,X.addClass(V),U=null,Y.trigger("dragstart.spectrum",[Ht()])}function Dt(){E=!1,X.removeClass(V),Y.trigger("dragstop.spectrum",[Ht()])}function Mt(){var t=rt.val();if(null!==t&&""!==t||!Ct){var e=tinycolor(t);e.isValid()?(Rt(e),jt(!0)):rt.addClass("sp-validation-error")}else Rt(null),jt(!0)}function At(){$?It():Pt()}function Pt(){var e=t.Event("beforeShow.spectrum");$?Wt():(Y.trigger(e,[Ht()]),!1===_.beforeShow(Ht())||e.isDefaultPrevented()||(!function(){for(var t=0;t<i.length;t++)i[t]&&i[t].hide()}(),$=!0,t(q).bind("keydown.spectrum",Ot),t(q).bind("click.spectrum",Nt),t(window).bind("resize.spectrum",S),pt.addClass("sp-active"),X.removeClass("sp-hidden"),Wt(),zt(),yt=Ht(),Et(),_.show(yt),Y.trigger("show.spectrum",[yt])))}function Ot(t){27===t.keyCode&&It()}function Nt(t){2!=t.button&&(E||(wt?jt(!0):Lt(),It()))}function It(){$&&!w&&($=!1,t(q).unbind("keydown.spectrum",Ot),t(q).unbind("click.spectrum",Nt),t(window).unbind("resize.spectrum",S),pt.removeClass("sp-active"),X.addClass("sp-hidden"),_.hide(Ht()),Y.trigger("hide.spectrum",[Ht()]))}function Lt(){Rt(yt,!0)}function Rt(t,e){var n,i;tinycolor.equals(t,Ht())?zt():(!t&&Ct?xt=!0:(xt=!1,i=(n=tinycolor(t)).toHsv(),I=i.h%360/360,L=i.s,R=i.v,H=i.a),zt(),n&&n.isValid()&&!e&&(bt=b.preferredFormat||n.getFormat()))}function Ht(t){return t=t||{},Ct&&xt?null:tinycolor.fromRatio({h:I,s:L,v:R,a:Math.round(100*H)/100},{format:t.format||bt})}function Ft(){zt(),_.move(Ht()),Y.trigger("move.spectrum",[Ht()])}function zt(){rt.removeClass("sp-validation-error"),Bt();var t=tinycolor.fromRatio({h:I,s:1,v:1});Z.css("background-color",t.toHexString());var e=bt;H<1&&(0!==H||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Ht({format:e}),i="";if(mt.removeClass("sp-clear-display"),mt.css("background-color","transparent"),!n&&Ct)mt.addClass("sp-clear-display");else{var s=n.toHexString(),a=n.toRgbString();if(o||1===n.alpha?mt.css("background-color",a):(mt.css("background-color","transparent"),mt.css("filter",n.toFilter())),b.showAlpha){var l=n.toRgb();l.a=0;var u=tinycolor(l).toRgbString(),c="linear-gradient(left, "+u+", "+s+")";r?et.css("filter",tinycolor(u).toFilter({gradientType:1},s)):(et.css("background","-webkit-"+c),et.css("background","-moz-"+c),et.css("background","-ms-"+c),et.css("background","linear-gradient(to right, "+u+", "+s+")"))}i=n.toString(e)}b.showInput&&rt.val(i),b.showPalette&&$t(),Et()}function Bt(){var t=L,e=R;if(Ct&&xt)it.hide(),tt.hide(),Q.hide();else{it.show(),tt.show(),Q.show();var n=t*T,i=D-e*D;n=Math.max(-M,Math.min(T-M,n-M)),i=Math.max(-M,Math.min(D-M,i-M)),Q.css({top:i+"px",left:n+"px"});var r=H*P;it.css({left:r-O/2+"px"});var o=I*A;tt.css({top:o-N+"px"})}}function jt(t){var e=Ht(),n="",i=!tinycolor.equals(e,yt);e&&(n=e.toString(bt),St(e)),ht&&Y.val(n),t&&i&&(_.change(e),Y.trigger("change",[e]))}function Wt(){var e,n,i,r,o,s,a,l,u,c;$&&(T=Z.width(),D=Z.height(),M=Q.height(),J.width(),A=J.height(),N=tt.height(),P=nt.width(),O=it.width(),w||(X.css("position","absolute"),b.offset?X.offset(b.offset):X.offset((n=gt,i=(e=X).outerWidth(),r=e.outerHeight(),o=n.outerHeight(),s=e[0].ownerDocument,a=s.documentElement,l=a.clientWidth+t(s).scrollLeft(),u=a.clientHeight+t(s).scrollTop(),(c=n.offset()).top+=o,c.left-=Math.min(c.left,c.left+i>l&&l>i?Math.abs(c.left+i-l):0),c.top-=Math.min(c.top,c.top+r>u&&u>r?Math.abs(r+o-0):0),c))),Bt(),b.showPalette&&$t(),Y.trigger("reflow.spectrum"))}function Vt(){It(),G=!0,Y.attr("disabled",!0),gt.addClass("sp-disabled")}!function(){if(r&&X.find("*:not(input)").attr("unselectable","on"),kt(),ft&&Y.after(pt).hide(),Ct||lt.hide(),w)Y.after(X).hide();else{var e="parent"===b.appendTo?Y.parent():t(b.appendTo);1!==e.length&&(e=t("body")),e.append(X)}function n(e){return e.data&&e.data.ignore?(Rt(t(e.target).closest(".sp-thumb-el").data("color")),Ft()):(Rt(t(e.target).closest(".sp-thumb-el").data("color")),Ft(),jt(!0),b.hideAfterPaletteSelect&&It()),!1}_t(),gt.bind("click.spectrum touchstart.spectrum",function(e){G||At(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(Y.is(":disabled")||!0===b.disabled)&&Vt(),X.click(h),rt.change(Mt),rt.bind("paste",function(){setTimeout(Mt,1)}),rt.keydown(function(t){13==t.keyCode&&Mt()}),at.text(b.cancelText),at.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Lt(),It()}),lt.attr("title",b.clearText),lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),xt=!0,Ft(),w&&jt(!0)}),ut.text(b.chooseText),ut.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),r&&rt.is(":focus")&&rt.trigger("change"),rt.hasClass("sp-validation-error")||(jt(!0),It())}),ct.text(b.showPaletteOnly?b.togglePaletteMoreText:b.togglePaletteLessText),ct.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),b.showPaletteOnly=!b.showPaletteOnly,b.showPaletteOnly||w||X.css("left","-="+(K.outerWidth(!0)+5)),kt()}),f(nt,function(t,e,n){H=t/P,xt=!1,n.shiftKey&&(H=Math.round(10*H)/10),Ft()},Tt,Dt),f(J,function(t,e){I=parseFloat(e/A),xt=!1,b.showAlpha||(H=1),Ft()},Tt,Dt),f(Z,function(t,e,n){if(n.shiftKey){if(!U){var i=L*T,r=D-R*D,o=Math.abs(t-i)>Math.abs(e-r);U=o?"x":"y"}}else U=null;var s=!U||"y"===U;(!U||"x"===U)&&(L=parseFloat(t/T)),s&&(R=parseFloat((D-e)/D)),xt=!1,b.showAlpha||(H=1),Ft()},Tt,Dt),vt?(Rt(vt),zt(),bt=b.preferredFormat||tinycolor(vt).format,St(vt)):zt(),w&&Pt();var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ot.delegate(".sp-thumb-el",i,n),st.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},n)}();var Ut={show:Pt,hide:It,toggle:At,reflow:Wt,option:function(n,i){return n===e?t.extend({},b):i===e?b[n]:(b[n]=i,"preferredFormat"===n&&(bt=b.preferredFormat),void kt())},enable:function(){G=!1,Y.attr("disabled",!1),gt.removeClass("sp-disabled")},disable:Vt,offset:function(t){b.offset=t,Wt()},set:function(t){Rt(t),jt()},get:Ht,destroy:function(){Y.show(),gt.unbind("click.spectrum touchstart.spectrum"),X.remove(),pt.remove(),i[Ut.id]=null},container:X};return Ut.id=i.push(Ut)-1,Ut}function c(){}function h(t){t.stopPropagation()}function d(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function f(e,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var s=document,a=!1,l={},u=0,c=0,h="ontouchstart"in window,d={};function f(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function p(t){if(a){if(r&&s.documentMode<9&&!t.button)return g();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],o=i&&i.pageX||t.pageX,d=i&&i.pageY||t.pageY,p=Math.max(0,Math.min(o-l.left,c)),m=Math.max(0,Math.min(d-l.top,u));h&&f(t),n.apply(e,[p,m,t])}}function g(){a&&(t(s).unbind(d),t(s.body).removeClass("sp-dragging"),setTimeout(function(){o.apply(e,arguments)},0)),a=!1}d.selectstart=f,d.dragstart=f,d["touchmove mousemove"]=p,d["touchend mouseup"]=g,t(e).bind("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||a||!1!==i.apply(e,arguments)&&(a=!0,u=t(e).height(),c=t(e).width(),l=t(e).offset(),t(s).bind(d),t(s.body).addClass("sp-dragging"),p(n),f(n))})}function p(){return t.fn.spectrum.inputTypeColorSupport()}t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=i[t(this).data("spectrum.id")];if(n){var s=n[e];if(!s)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,o):"destroy"==e?(n.destroy(),t(this).removeData("spectrum.id")):s.apply(n,o)}}),r}return this.spectrum("destroy").each(function(){var n=u(this,t.extend({},e,t(this).data()));t(this).data("spectrum.id",n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=f,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!p()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,i=Math,r=i.round,o=i.min,s=i.max,a=i.random,l=function(a,u){if(a=a||"",u=u||{},a instanceof l)return a;if(!(this instanceof l))return new l(a,u);var c=function(n){var r={r:0,g:0,b:0},a=1,l=!1,u=!1;"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var i,r=!1;if($[n])n=$[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(i=R.rgb.exec(n))return{r:i[1],g:i[2],b:i[3]};if(i=R.rgba.exec(n))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=R.hsl.exec(n))return{h:i[1],s:i[2],l:i[3]};if(i=R.hsla.exec(n))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=R.hsv.exec(n))return{h:i[1],s:i[2],v:i[3]};if(i=R.hsva.exec(n))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=R.hex8.exec(n))return{a:(o=i[1],A(o)/255),r:A(i[2]),g:A(i[3]),b:A(i[4]),format:r?"name":"hex8"};var o;if(i=R.hex6.exec(n))return{r:A(i[1]),g:A(i[2]),b:A(i[3]),format:r?"name":"hex"};if(i=R.hex3.exec(n))return{r:A(i[1]+""+i[1]),g:A(i[2]+""+i[2]),b:A(i[3]+""+i[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(c=n.r,h=n.g,d=n.b,r={r:255*D(c,255),g:255*D(h,255),b:255*D(d,255)},l=!0,u="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=O(n.s),n.v=O(n.v),r=function(t,e,n){t=6*D(t,360),e=D(e,100),n=D(n,100);var r=i.floor(t),o=t-r,s=n*(1-e),a=n*(1-o*e),l=n*(1-(1-o)*e),u=r%6;return{r:255*[n,a,s,s,l,n][u],g:255*[l,n,n,a,s,s][u],b:255*[s,s,l,n,n,a][u]}}(n.h,n.s,n.v),l=!0,u="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=O(n.s),n.l=O(n.l),r=function(t,e,n){var i,r,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=D(t,360),e=D(e,100),n=D(n,100),0===e)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s(l,a,t+1/3),r=s(l,a,t),o=s(l,a,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(n.h,n.s,n.l),l=!0,u="hsl"),n.hasOwnProperty("a")&&(a=n.a));var c,h,d;return a=T(a),{ok:l,format:n.format||u,r:o(255,s(r.r,0)),g:o(255,s(r.g,0)),b:o(255,s(r.b,0)),a:a}}(a);this._originalInput=a,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=r(100*this._a)/100,this._format=u.format||c.format,this._gradientType=u.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=c.ok,this._tc_id=n++};function u(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),u=(a+l)/2;if(a==l)i=r=0;else{var c=a-l;switch(r=u>.5?c/(2-a-l):c/(a+l),a){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:u}}function c(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),u=a,c=a-l;if(r=0===a?0:c/a,a==l)i=0;else{switch(a){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:u}}function h(t,e,n,i){var o=[P(r(t).toString(16)),P(r(e).toString(16)),P(r(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function d(t,e,n,i){var o;return[P((o=i,Math.round(255*parseFloat(o)).toString(16))),P(r(t).toString(16)),P(r(e).toString(16)),P(r(n).toString(16))].join("")}function f(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=M(n.s),l(n)}function p(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=M(n.s),l(n)}function g(t){return l(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=M(n.l),l(n)}function v(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=s(0,o(255,n.r-r(-e/100*255))),n.g=s(0,o(255,n.g-r(-e/100*255))),n.b=s(0,o(255,n.b-r(-e/100*255))),l(n)}function y(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=M(n.l),l(n)}function b(t,e){var n=l(t).toHsl(),i=(r(n.h)+e)%360;return n.h=i<0?360+i:i,l(n)}function w(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function x(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function C(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function k(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function _(t,e,n){e=e||6,n=n||30;var i=l(t).toHsl(),r=360/n,o=[l(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(l(i));return o}function S(t,e){e=e||6;for(var n=l(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(l({h:i,s:r,v:o})),o=(o+a)%1;return s}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=T(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return d(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*D(this._r,255))+"%",g:r(100*D(this._g,255))+"%",b:r(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%)":"rgba("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=l(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:O(t[i]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:a(),g:a(),b:a()})},l.mix=function(t,e,n){n=0===n?0:n||50;var i,r=l(t).toRgb(),o=l(e).toRgb(),s=n/100,a=2*s-1,u=o.a-r.a,c=1-(i=((i=a*u==-1?a:(a+u)/(1+a*u))+1)/2),h={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*s+r.a*(1-s)};return l(h)},l.readability=function(t,e){var n=l(t),i=l(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),u=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:u}},l.isReadable=function(t,e){var n=l.readability(t,e);return n.brightness>125&&n.color>500},l.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=l.readability(t,e[o]),a=s.brightness>125&&s.color>500,u=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&u>i||!a&&!r&&u>i)&&(r=a,i=u,n=l(e[o]))}return n};var $=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}($);function T(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function D(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=o(e,s(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return o(1,s(0,t))}function A(t){return parseInt(t,16)}function P(t){return 1==t.length?"0"+t:""+t}function O(t){return t<=1&&(t=100*t+"%"),t}var N,I,L,R=(I="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",L="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+L),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),function(t,e){"use strict";t.module("smart-table",[]).run(["$templateCache",function(t){t.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="#" ng-click="selectPage(page); $event.preventDefault(); $event.stopPropagation();">{{page}}</a></li></ul></nav>')}]),t.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input",trimSearch:!1},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),t.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(n,i,r,o){function s(t){return t?[].concat(t):[]}function a(){m=s(l(n)),!0===y&&b.pipe()}var l,u,c,h=o.stTable,d=i(h),f=d.assign,p=r("orderBy"),g=r("filter"),m=s(d(n)),v={sort:{},search:{},pagination:{start:0,totalItemCount:0}},y=!0,b=this;o.stSafeSrc&&(l=i(o.stSafeSrc),n.$watch(function(){var t=l(n);return t&&t.length?t[0]:e},function(t,e){t!==e&&a()}),n.$watch(function(){var t=l(n);return t?t.length:0},function(t,e){t!==m.length&&a()}),n.$watch(function(){return l(n)},function(t,e){t!==e&&(v.pagination.start=0,a())})),this.sortBy=function(e,n){return v.sort.predicate=e,v.sort.reverse=!0===n,t.isFunction(e)?v.sort.functionName=e.name:delete v.sort.functionName,v.pagination.start=0,this.pipe()},this.search=function(t,e,n){var r=v.search.predicateObject||{},o=e||"$";return i(o).assign(r,t),t||function t(e,n){if(-1!=n.indexOf(".")){var r=n.split("."),o=r.pop(),s=r.join("."),a=i(s)(e);delete a[o],0==Object.keys(a).length&&t(e,s)}else delete e[n]}(r,o),v.search.predicateObject=r,v.pagination.start=0,this.pipe()},this.pipe=function(){var t,i=v.pagination;u=v.search.predicateObject?g(m,v.search.predicateObject):m,v.sort.predicate&&(u=p(u,v.sort.predicate,v.sort.reverse)),i.totalItemCount=u.length,i.number!==e&&(i.numberOfPages=u.length>0?Math.ceil(u.length/i.number):1,i.start=i.start>=u.length?(i.numberOfPages-1)*i.number:i.start,t=u.slice(i.start,i.start+parseInt(i.number))),f(n,t||u)},this.select=function(t,i){var r=s(d(n)),o=r.indexOf(t);-1!==o&&("single"===i?(t.isSelected=!0!==t.isSelected,c&&(c.isSelected=!1),c=!0===t.isSelected?t:e):r[o].isSelected=!r[o].isSelected)},this.slice=function(t,e){return v.pagination.start=t,v.pagination.number=e,this.pipe()},this.tableState=function(){return v},this.getFilteredCollection=function(){return u||m},this.setFilterFunction=function(t){g=r(t)},this.setSortFunction=function(t){p=r(t)},this.preventPipeOnWatch=function(){y=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(t,e,n,i){n.stSetFilter&&i.setFilterFunction(n.stSetFilter),n.stSetSort&&i.setSortFunction(n.stSetSort)}}}),t.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(e,n,i){return{require:"^stTable",link:function(r,o,s,a){var l=a,u=null,c=s.stDelay||e.search.delay,h=s.stInputEvent||e.search.inputEvent,d=s.trimSearch||e.search.trimSearch;s.$observe("stSearch",function(e,n){var i=o[0].value;e!==n&&i&&(a.tableState().search={},i=t.isString(i)&&d?i.trim():i,l.search(i,e))}),r.$watch(function(){return a.tableState().search},function(t,e){var n=s.stSearch||"$";t.predicateObject&&i(n)(t.predicateObject)!==o[0].value&&(o[0].value=i(n)(t.predicateObject)||"")},!0),o.bind(h,function(e){e=e.originalEvent||e,null!==u&&n.cancel(u),u=n(function(){var n=e.target.value;n=t.isString(n)&&d?n.trim():n,l.search(n,s.stSearch||""),u=null},c)})}}}]),t.module("smart-table").directive("stSelectRow",["stConfig",function(t){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(e,n,i,r){var o=i.stSelectMode||t.select.mode;n.bind("click",function(){e.$apply(function(){r.select(e.row,o)})}),e.$watch("row.isSelected",function(e){!0===e?n.addClass(t.select.selectedClass):n.removeClass(t.select.selectedClass)})}}}]),t.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(n,i,r){return{restrict:"A",require:"^stTable",link:function(o,s,a,l){function u(){var e;y?f=0===f?2:f-1:f++,h=t.isFunction(d(o))||t.isArray(d(o))?d(o):a.stSort,f%3==0&&1!=!!v?(f=0,l.tableState().sort={},l.tableState().pagination.start=0,e=l.pipe.bind(l)):e=l.sortBy.bind(l,h,f%2==0),null!==b&&r.cancel(b),w<0?e():b=r(function(){e()},w)}var c,h=a.stSort,d=i(h),f=0,p=a.stClassAscent||n.sort.ascentClass,g=a.stClassDescent||n.sort.descentClass,m=[p,g],v=a.stSkipNatural!==e?a.stSkipNatural:n.sort.skipNatural,y=a.stDescendingFirst!==e?a.stDescendingFirst:n.sort.descendingFirst,b=null,w=a.stDelay||n.sort.delay,x="aria-sort";s.attr("role","columnheader").attr(x,"none"),a.stSortDefault&&(c=o.$eval(a.stSortDefault)!==e?o.$eval(a.stSortDefault):a.stSortDefault),s.bind("click",function(){h&&o.$apply(u)}),c&&(f="reverse"===c?1:0,u()),o.$watch(function(){return l.tableState().sort},function(t){t.predicate!==h?(f=0,s.removeClass(p).removeClass(g).attr(x,"none")):(f=!0===t.reverse?2:1,s.removeClass(m[f%2]).addClass(m[f-1]).attr(x,t.reverse?"ascending":"descending"))},!0)}}}]),t.module("smart-table").directive("stPagination",["stConfig",function(t){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(e,n){return n.stTemplate?n.stTemplate:t.pagination.template},link:function(e,n,i,r){function o(){var t,n,i=r.tableState().pagination,o=1,s=e.currentPage;for(e.totalItemCount=i.totalItemCount,e.currentPage=Math.floor(i.start/i.number)+1,(t=(o=Math.max(o,e.currentPage-Math.abs(Math.floor(e.stDisplayedPages/2))))+e.stDisplayedPages)>i.numberOfPages&&(t=i.numberOfPages+1,o=Math.max(1,t-e.stDisplayedPages)),e.pages=[],e.numPages=i.numberOfPages,n=o;n<t;n++)e.pages.push(n);s!==e.currentPage&&e.stPageChange({newPage:e.currentPage})}e.stItemsByPage=e.stItemsByPage?+e.stItemsByPage:t.pagination.itemsByPage,e.stDisplayedPages=e.stDisplayedPages?+e.stDisplayedPages:t.pagination.displayedPages,e.currentPage=1,e.pages=[],e.$watch(function(){return r.tableState().pagination},o,!0),e.$watch("stItemsByPage",function(t,n){t!==n&&e.selectPage(1)}),e.$watch("stDisplayedPages",o),e.selectPage=function(t){t>0&&t<=e.numPages&&r.slice((t-1)*e.stItemsByPage,e.stItemsByPage)},r.tableState().pagination.number||r.slice(0,e.stItemsByPage)}}}]),t.module("smart-table").directive("stPipe",["stConfig","$timeout",function(e,n){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(i,r,o,s){var a=null;t.isFunction(i.stPipe)&&(s.preventPipeOnWatch(),s.pipe=function(){return null!==a&&n.cancel(a),a=n(function(){i.stPipe(s.tableState(),s)},e.pipe.delay)})},post:function(t,e,n,i){i.pipe()}}}}])}(angular),function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.VimeoUpload=e()}):"object"==typeof module&&module.exports?module.exports=e():t.VimeoUpload=e()}(this,function(){var t=function(){this.interval=1e3,this.maxInterval=6e4};t.prototype.retry=function(t){setTimeout(t,this.interval),this.interval=this.nextInterval_()},t.prototype.reset=function(){this.interval=1e3},t.prototype.nextInterval_=function(){var t=2*this.interval+this.getRandomInt_(0,1e3);return Math.min(t,this.maxInterval)},t.prototype.getRandomInt_=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)};var e={api_url:"https://api.vimeo.com",name:"Default name",description:"Default description",contentType:"application/octet-stream",token:null,file:{},metadata:[],upgrade_to_1080:!1,offset:0,chunkSize:0,retryHandler:new t,xhr:0,upload_details:{complete_url:"",ticket_id:0,upload_link_secure:"",video_id:0,video_url:""},cancelTranscoding:!1,deleteCompleteLink:function(){},updateVideoData:function(){},onUploadComplete:function(){},onTranscodComplete:function(){},onUploadProgress:function(){},onError:function(){},watch:function(){}},n=function(t){for(var n in e)this[n]=void 0!==t[n]?t[n]:e[n];if(this.contentType=t.contentType||this.file.type||e.contentType,this.httpMethod=t.fileId?"PUT":"POST",this.videoData={name:t.name>""?t.name:e.name,description:t.description>""?t.description:e.description},!(this.url=t.url)){var i=t.params||{};this.url=this.buildUrl_(t.fileId,i,t.baseUrl)}};return n.prototype.defaults=function(t){return e},n.prototype.upload=function(){var t=this.upload_details;this.url=t.upload_link_secure,this.ticket_id=t.ticket_id,this.complete_url=t.complete_url,this.xhr=this.sendFile_()},n.prototype.sendFile_=function(){var t=this.file,e=this.file.size;(this.offset||this.chunkSize)&&(this.chunkSize&&(e=Math.min(this.offset+this.chunkSize,this.file.size)),t=t.slice(this.offset,e));var n=new XMLHttpRequest;return n.open("PUT",this.url,!0),n.setRequestHeader("Content-Type",this.contentType),n.setRequestHeader("Content-Range","bytes "+this.offset+"-"+(e-1)+"/"+this.file.size),n.upload&&n.upload.addEventListener("progress",this.onUploadProgress),n.onload=this.onContentUploadSuccess_.bind(this),n.onerror=this.onContentUploadError_.bind(this),n.send(t),n},n.prototype.resume_=function(){var t=new XMLHttpRequest;t.open("PUT",this.url,!0),t.setRequestHeader("Content-Range","bytes */"+this.file.size),t.setRequestHeader("X-Upload-Content-Type",this.file.type),t.upload&&t.upload.addEventListener("progress",this.onUploadProgress),t.onload=this.onContentUploadSuccess_.bind(this),t.onerror=this.onContentUploadError_.bind(this),t.send()},n.prototype.extractRange_=function(t){var e=t.getResponseHeader("Range");e&&(this.offset=parseInt(e.match(/\d+/g).pop(),10)+1)},n.prototype.complete_=function(t){var e=this.upload_details.video_id;onUpdateVideoData_=this.onUpdateVideoData_,onCompleteError_=this.onCompleteError_;var n=this;this.deleteCompleteLink(this.complete_url).then(function(){n.onUpdateVideoData_(e)}).catch(function(t){n.onCompleteError_()})},n.prototype.onUpdateVideoData_=function(t){meThis=this,this.updateVideoData(t,{name:this.name}).then(function(){meThis.onUploadComplete(t),meThis.getTranscodingData_(t)}).catch(function(t){meThis.onCompleteError_(t)})},n.prototype.onGetMetadata_=function(t,e){if(t.target.status<400)if(t.target.response){var n=JSON.parse(t.target.response);this.metadata.push(n);this.onUploadComplete(e)}else this.onCompleteError_(t)},n.prototype.onContentUploadSuccess_=function(t){200==t.target.status||201==t.target.status?this.complete_():308==t.target.status&&(this.extractRange_(t.target),this.retryHandler.reset(),this.sendFile_())},n.prototype.getTranscodingData_=function(t,e){var i=void 0===e?this:e,r=i.upload_details.video_info_access_token,o=new XMLHttpRequest,s="https://api.vimeo.com/videos/"+t+"?fields=transcode.status";o.open("GET",s,!0),o.setRequestHeader("Authorization","Bearer "+r),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){if("complete"==JSON.parse(o.response).transcode.status)i.onTranscodComplete();else{if(i.cancelTranscoding)return;setTimeout(function(){n.prototype.getTranscodingData_(t,i)},2e3)}},o.send()},n.prototype.onContentUploadError_=function(t){t.target.status&&t.target.status<500?this.onError(t.target.response):this.retryHandler.retry(this.resume_())},n.prototype.onCompleteError_=function(t){this.onError(t.target.response)},n.prototype.onUploadError_=function(t){this.onError(t.target.response)},n.prototype.buildQuery_=function(t){return t=t||{},Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},n.prototype.buildUrl_=function(t,n,i){var r=i||e.api_url+"/me/videos";t&&(r+=t);var o=this.buildQuery_(n);return o&&(r+="?"+o),r},n}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(t,e,n){function i(i){function r(t){u.notify&&u.notify(t),c.progressFunc&&n(function(){c.progressFunc(t)})}function a(t){return null!=i._start&&s?{loaded:t.loaded+i._start,total:i._file&&i._file.size||t.total,type:t.type,config:i,lengthComputable:!0,target:t.target}:t}function l(){t(i).then(function(t){if(s&&i._chunkSize&&!i._finished&&i._file){var e=i._file&&i._file.size||0;r({loaded:Math.min(i._end,e),total:e,config:i,type:"progress"}),o.upload(i,!0)}else i._finished&&delete i._finished,u.resolve(t)},function(t){u.reject(t)},function(t){u.notify(t)})}i.method=i.method||"POST",i.headers=i.headers||{};var u=i._deferred=i._deferred||e.defer(),c=u.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,r(a(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,r(a(t)))},!1))}}),s?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,l()):i.resumeSizeUrl?t.get(i.resumeSizeUrl).then(function(t){i._start=i.resumeSizeResponseReader?i.resumeSizeResponseReader(t.data):parseInt((null==t.data.size?t.data:t.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(t){throw t}):i.resumeSize?i.resumeSize().then(function(t){i._start=t,i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(t){throw t}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),l()):l(),c.success=function(t){return c.then(function(e){t(e.data,e.status,e.headers,i)}),c},c.error=function(t){return c.then(null,function(e){t(e.data,e.status,e.headers,i)}),c},c.progress=function(t){return c.progressFunc=t,c.then(null,null,function(e){t(e)}),c},c.abort=c.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),c},c.xhr=function(t){return i.xhrFn=(e=i.xhrFn,function(){e&&e.apply(c,arguments),t.apply(c,arguments)}),c;var e},o.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally(function(){o.promisesCount--}),c}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(t,e){return t.ngfName=e,t},this.jsonBlob=function(t){null==t||angular.isString(t)||(t=JSON.stringify(t));var e=new window.Blob([t],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(t){return angular.toJson(t)},this.isFile=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)},this.upload=function(t,e){function n(e,n){if(e._ngfBlob)return e;if(t._file=t._file||e,null!=t._start&&s){t._end&&t._end>=e.size&&(t._finished=!0,t._end=e.size);var i=e.slice(t._start,t._end||e.size);return i.name=e.name,i.ngfName=e.ngfName,t._chunkSize&&(n.append("_chunkSize",t._chunkSize),n.append("_currentChunkSize",t._end-t._start),n.append("_chunkNumber",Math.floor(t._start/t._chunkSize)),n.append("_totalSize",t._file.size)),i}return e}function a(e,i,r){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))e.append(r,i);else if(o.isFile(i)){var s=n(i,e),l=r.split(",");l[1]&&(s.ngfName=l[1].replace(/^\s+|\s+$/g,""),r=l[0]),t._fileKey=t._fileKey||r,e.append(r,s,s.ngfName||s.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+r;i.$$ngfCircularDetection=!0;try{for(var u in i)if(i.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==t.objectKey?"[i]":t.objectKey;i.length&&parseInt(u)>-1&&(c=null==t.arrayKey?c:t.arrayKey),a(e,i[u],r+c.replace(/[ik]/g,u))}}finally{delete i.$$ngfCircularDetection}}else e.append(r,i)}return e||(t=r(t)),t._isDigested||(t._isDigested=!0,t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n,i=new window.FormData;for(n in e=e||t.fields||{},t.file&&(e.file=t.file),e)if(e.hasOwnProperty(n)){var r=e[n];t.formDataAppender?t.formDataAppender(i,n,r):a(i,r,n)}return i})),i(t)},this.http=function(e){return(e=r(e)).transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,i(e)},this.translateScalars=function(t){if(angular.isString(t)){if(t.search(/kb/i)===t.length-2)return parseFloat(1024*t.substring(0,t.length-2));if(t.search(/mb/i)===t.length-2)return parseFloat(1048576*t.substring(0,t.length-2));if(t.search(/gb/i)===t.length-2)return parseFloat(1073741824*t.substring(0,t.length-2));if(t.search(/b/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/s/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/m/i)===t.length-1)return parseFloat(60*t.substring(0,t.length-1));if(t.search(/h/i)===t.length-1)return parseFloat(3600*t.substring(0,t.length-1))}return t},this.urlToBlob=function(n){var i=e.defer();return t({url:n,method:"get",responseType:"arraybuffer"}).then(function(t){var e=new Uint8Array(t.data),r=t.headers("content-type")||"image/WebP",o=new window.Blob([e],{type:r}),s=n.match(/.*\/(.+?)(\?.*)?$/);s.length>1&&(o.name=s[1]),i.resolve(o)},function(t){i.reject(t)}),i.promise},this.setDefaults=function(t){this.defaults=t||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(t,e,n,i,r){function o(t,e,n){var r=[l.emptyPromise()];return angular.forEach(t,function(i,o){0===i.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",e,n,{$file:i})&&r.push(l.happyPromise(l.applyExifRotation(i),i).then(function(e){t.splice(o,1,e)}))}),i.all(r)}function s(t,e,n,r){var o=l.attrGetter("ngfResize",e,n);if(!o||!l.isResizeSupported()||!t.length)return l.emptyPromise();if(o instanceof Function){var s=i.defer();return o(t).then(function(i){a(i,t,e,n,r).then(function(t){s.resolve(t)},function(t){s.reject(t)})},function(t){s.reject(t)})}return a(o,t,e,n,r)}function a(t,e,n,r,o){function s(i,s){if(0===i.type.indexOf("image")){if(t.pattern&&!l.validatePattern(i,t.pattern))return;t.resizeIf=function(t,e){return l.attrGetter("ngfResizeIf",n,r,{$width:t,$height:e,$file:i})};var u=l.resize(i,t);a.push(u),u.then(function(t){e.splice(s,1,t)},function(t){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(t?(t.message?t.message:t)+": ":"")+(i&&i.name),o.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(o,e)})}}for(var a=[l.emptyPromise()],u=0;u<e.length;u++)s(e[u],u);return i.all(a)}var l=r;return l.getAttrWithDefaults=function(t,e){if(null!=t[e])return t[e];var n=l.defaults[e];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(e,n,i,r){var o=this.getAttrWithDefaults(n,e);if(!i)return o;try{return r?t(o)(i,r):t(o)(i)}catch(t){if(e.search(/min|max|pattern/i))return o;throw t}},l.shouldUpdateOn=function(t,e,n){var i=l.attrGetter("ngfModelOptions",e,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(t)>-1},l.emptyPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.resolve.apply(t,n)}),t.promise},l.rejectPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.reject.apply(t,n)}),t.promise},l.happyPromise=function(t,n){var r=i.defer();return t.then(function(t){r.resolve(t)},function(t){e(function(){throw t}),r.resolve(n)}),r.promise},l.updateModel=function(n,i,r,a,u,c,h){function d(o,s,u,h,d){i.$$ngfPrevValidFiles=o,i.$$ngfPrevInvalidFiles=s;var f=o&&o.length?o[0]:null,p=s&&s.length?s[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(d?f:o)),a&&t(a)(r,{$files:o,$file:f,$newFiles:u,$duplicateFiles:h,$invalidFiles:s,$invalidFile:p,$event:c});var g=l.attrGetter("ngfModelInvalid",i);g&&e(function(){t(g).assign(r,d?p:s)}),e(function(){})}function f(){function t(){e(function(){d(w?g.concat(b):b,w?m.concat(y):y,u,v,x)},k&&k.debounce?k.debounce.change||k.debounce:0)}var o=C?p:b;s(o,i,r,n).then(function(){C?l.validate(p,w?g.length:0,n,i,r).then(function(e){b=e.validsFiles,y=e.invalidsFiles,t()}):t()},function(){for(var e=0;e<o.length;e++){var n=o[e];if("resize"===n.$error){var i=b.indexOf(n);i>-1&&(b.splice(i,1),y.push(n)),t()}}})}var p,g,m,v=[],y=[],b=[];g=i.$$ngfPrevValidFiles||[],m=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(t){return angular.isArray(t)?t:[t]}(n.$modelValue));var w=l.attrGetter("ngfKeep",i,r);p=(u||[]).slice(0),("distinct"===w||!0===l.attrGetter("ngfKeepDistinct",i,r))&&function(){function t(t,e){return t.name===e.name&&(t.$ngfOrigSize||t.size)===(e.$ngfOrigSize||e.size)&&t.type===e.type}function e(e){var n;for(n=0;n<g.length;n++)if(t(e,g[n]))return!0;for(n=0;n<m.length;n++)if(t(e,m[n]))return!0;return!1}if(u){p=[],v=[];for(var n=0;n<u.length;n++)e(u[n])?v.push(u[n]):p.push(u[n])}}();var x=!w&&!l.attrGetter("ngfMultiple",i,r)&&!l.attrGetter("multiple",i);if(!w||p.length){l.attrGetter("ngfBeforeModelChange",i,r,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:p,$duplicateFiles:v,$event:c});var C=l.attrGetter("ngfValidateAfterResize",i,r),k=l.attrGetter("ngfModelOptions",i,r);l.validate(p,w?g.length:0,n,i,r).then(function(t){h?d(p,[],u,v,x):(k&&k.allowInvalid||C?b=p:(b=t.validFiles,y=t.invalidFiles),l.attrGetter("ngfFixOrientation",i,r)&&l.isExifSupported()?o(b,i,r).then(function(){f()}):f())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,e,n,i){function r(t){var e=t.match(/Android[^\d]*(\d+)\.(\d+)/);if(e&&e.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(e[1])<4||parseInt(e[1])===n&&parseInt(e[2])<n}return-1===t.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(t)}function o(t,e,n,i,o,a,l,u){function c(){return"input"===e[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function h(){return g("ngfChange")||g("ngfSelect")}function d(e){if(u.shouldUpdateOn("change",n,t)){var r=e.__files_||e.target&&e.target.files,o=[];if(!r)return;for(var s=0;s<r.length;s++)o.push(r[s]);u.updateModel(i,n,t,h(),o.length?o:null,e)}}function f(t,i){function r(e){t.attr("id","ngf-"+e),i.attr("id","ngf-label-"+e)}for(var o=0;o<e[0].attributes.length;o++){var s=e[0].attributes[o];"type"!==s.name&&"class"!==s.name&&"style"!==s.name&&("id"===s.name?(r(s.value),m.push(n.$observe("id",r))):t.attr(s.name,s.value||"required"!==s.name&&"multiple"!==s.name?s.value:s.name))}}function p(e){u.shouldUpdateOn("click",n,t)&&b.val()&&(b.val(null),u.updateModel(i,n,t,h(),null,e,!0))}var g=function(t,e){return u.attrGetter(t,n,e)};u.registerModelChangeValidator(i,n,t);var m=[];g("ngfMultiple")&&m.push(t.$watch(g("ngfMultiple"),function(){b.attr("multiple",g("ngfMultiple",t))})),g("ngfCapture")&&m.push(t.$watch(g("ngfCapture"),function(){b.attr("capture",g("ngfCapture",t))})),g("ngfAccept")&&m.push(t.$watch(g("ngfAccept"),function(){b.attr("accept",g("ngfAccept",t))})),m.push(n.$observe("accept",function(){b.attr("accept",g("accept"))}));var v=0,y=0,b=e;c()||(b=function(){if(c())return e;var t=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),f(t,n),s.push({el:e,ref:n}),document.body.appendChild(n.append(t)[0]),t}()),b.bind("change",d),c()?e.bind("click",p):e.bind("click touchstart touchend",function(n){if(e.attr("disabled"))return!1;if(!g("ngfSelectDisabled",t)){var i=function(t){var e=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(e){if("touchstart"===t.type)return y=e[0].clientX,v=e[0].clientY,!0;if("touchend"===t.type){var n=e[0].clientX,i=e[0].clientY;if(Math.abs(n-y)>20||Math.abs(i-v)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}(n);if(null!=i)return i;p(n);try{c()||document.body.contains(b[0])||(s.push({el:e,ref:b.parent()}),document.body.appendChild(b.parent()[0]),b.bind("change",d))}catch(t){}return r(navigator.userAgent)?setTimeout(function(){b[0].click()},0):b[0].click(),!1}}),-1!==navigator.appVersion.indexOf("MSIE 10")&&b.bind("click",function t(e){if(b&&!b.attr("__ngf_ie10_Fix_")){if(!b[0].parentNode)return void(b=null);e.preventDefault(),e.stopPropagation(),b.unbind("click");var n=b.clone();return b.replaceWith(n),(b=n).attr("__ngf_ie10_Fix_","true"),b.bind("change",d),b.bind("click",t),b[0].click(),!1}b.removeAttr("__ngf_ie10_Fix_")}),i&&i.$formatters.push(function(t){return(null==t||0===t.length)&&b.val()&&b.val(null),t}),t.$on("$destroy",function(){c()||b.parent().remove(),angular.forEach(m,function(t){t()})}),a(function(){for(var t=0;t<s.length;t++){var e=s[t];document.body.contains(e.el[0])||(s.splice(t,1),e.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,b,d)}var s=[];return{restrict:"AEC",require:"?ngModel",link:function(t,n,r,s){o(t,n,r,s,0,e,0,i)}}}]),function(){function t(t,e,n,i,r,o,s,a){function l(o){var s=t.attrGetter("ngfNoObjectUrl",r,n);t.dataUrl(o,s).finally(function(){e(function(){var t=(s?o.$ngfDataUrl:o.$ngfBlobUrl)||o.$ngfDataUrl;a?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}e(function(){var e=n.$watch(r[o],function(e){var u=s;if("ngfThumbnail"===o&&(u||(u={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===u.width&&window.getComputedStyle)){var c=getComputedStyle(i[0]);c.width&&c.width.indexOf("px")>-1&&c.height&&c.height.indexOf("px")>-1&&(u={width:parseInt(c.width.slice(0,-2)),height:parseInt(c.height.slice(0,-2))})}return angular.isString(e)?(i.removeClass("ng-hide"),a?i.css("background-image","url('"+e+"')"):i.attr("src",e)):void(!e||!e.type||0!==e.type.search(function(t){return"img"===t.tagName.toLowerCase()?"image":"audio"===t.tagName.toLowerCase()?"audio":"video"===t.tagName.toLowerCase()?"video":/./}(i[0]))||a&&0!==e.type.indexOf("image")?i.addClass("ng-hide"):u&&t.isResizeSupported()?(u.resizeIf=function(i,o){return t.attrGetter("ngfResizeIf",r,n,{$width:i,$height:o,$file:e})},t.resize(e,u).then(function(t){l(t)},function(t){throw t})):l(e))});n.$on("$destroy",function(){e()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(t,e,n){var i=t;return i.base64DataUrl=function(t){if(angular.isArray(t)){var e=n.defer(),r=0;return angular.forEach(t,function(n){i.dataUrl(n,!0).finally(function(){if(++r===t.length){var n=[];angular.forEach(t,function(t){n.push(t.$ngfDataUrl)}),e.resolve(n,t)}})}),e.promise}return i.dataUrl(t,!0)},i.dataUrl=function(t,r){if(!t)return i.emptyPromise(t,t);if(r&&null!=t.$ngfDataUrl||!r&&null!=t.$ngfBlobUrl)return i.emptyPromise(r?t.$ngfDataUrl:t.$ngfBlobUrl,t);var o=r?t.$$ngfDataUrlPromise:t.$$ngfBlobUrlPromise;if(o)return o;var s=n.defer();return e(function(){if(window.FileReader&&t&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||t.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||t.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var o;try{o=n.createObjectURL(t)}catch(n){return void e(function(){t.$ngfBlobUrl="",s.reject()})}e(function(){if(t.$ngfBlobUrl=o,o){s.resolve(o,t),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:o,size:t.size}),i.blobUrlsTotalSize+=t.size||0;for(var e=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>e||i.blobUrls.length>r)&&i.blobUrls.length>1;){var a=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(a.url),i.blobUrlsTotalSize-=a.size}}})}else{var a=new FileReader;a.onload=function(n){e(function(){t.$ngfDataUrl=n.target.result,s.resolve(n.target.result,t),e(function(){delete t.$ngfDataUrl},1e3)})},a.onerror=function(){e(function(){t.$ngfDataUrl="",s.reject()})},a.readAsDataURL(t)}}else e(function(){t[r?"$ngfDataUrl":"$ngfBlobUrl"]="",s.reject()})}),(o=r?t.$$ngfDataUrlPromise=s.promise:t.$$ngfBlobUrlPromise=s.promise).finally(function(){delete t[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){t(e,n,i,r,o,"ngfSrc",e.attrGetter("ngfResize",o,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){t(e,n,i,r,o,"ngfBackground",e.attrGetter("ngfResize",o,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){var s=e.attrGetter("ngfSize",o,i);t(e,n,i,r,o,"ngfThumbnail",s,e.attrGetter("ngfAsBackground",o,i))}}}]),ngFileUpload.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist&&t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),t.aHrefSanitizationWhitelist&&t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(t,e){return function(n,i,r){if(angular.isString(n))return e.trustAsResourceUrl(n);var o=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,t.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?r?e.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(t,e,n){var i=t;return i.validatePattern=function(t,e){if(!e)return!0;var n=function t(e){var n="",i=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])n=e.substring(1,e.length-1);else{var r=e.split(",");if(r.length>1)for(var o=0;o<r.length;o++){var s=t(r[o]);s.regexp?(n+="("+s.regexp+")",o<r.length-1&&(n+="|")):i=i.concat(s.excludes)}else 0===e.indexOf("!")?i.push("^((?!"+t(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),n=(n="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:n,excludes:i}}(e),i=!0;if(n.regexp&&n.regexp.length){var r=new RegExp(n.regexp,"i");i=null!=t.type&&r.test(t.type)||null!=t.name&&r.test(t.name)}for(var o=n.excludes.length;o--;){var s=new RegExp(n.excludes[o],"i");i=i&&(null==t.type||s.test(t.type))&&(null==t.name||s.test(t.name))}return i},i.ratioToFloat=function(t){var e=t.toString(),n=e.search(/[x:]/i);return n>-1?parseFloat(e.substring(0,n))/parseFloat(e.substring(n+1)):parseFloat(e)},i.registerModelChangeValidator=function(t,e,n){t&&t.$formatters.push(function(r){if(t.$dirty){var o=r;r&&!angular.isArray(r)&&(o=[r]),i.validate(o,0,t,e,n).then(function(){i.applyModelValidation(t,o)})}return r})},i.applyModelValidation=function(t,e){(function(t,e){null==e||t.$dirty||(t.$setDirty?t.$setDirty():t.$dirty=!0)})(t,e),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},i.getValidationAttr=function(t,e,n,r,o){var s="ngf"+n[0].toUpperCase()+n.substr(1),a=i.attrGetter(s,t,e,{$file:o});if(null==a&&(a=i.attrGetter("ngfValidate",t,e,{$file:o}))){var l=(r||n).split(".");a=a[l[0]],l.length>1&&(a=a&&a[l[1]])}return a},i.validate=function(t,n,r,o,s){function a(e,n,a){if(t){for(var l=t.length,u=null;l--;){var f=t[l];if(f){var p=i.getValidationAttr(o,s,e,n,f);null!=p&&(a(f,p,l)||(-1===c.indexOf(e)?(f.$error=e,(f.$errorMessages=f.$errorMessages||{})[e]=!0,f.$errorParam=p,-1===d.indexOf(f)&&d.push(f),h||t.splice(l,1),u=!1):t.splice(l,1)))}}null!==u&&r.$ngfValidations.push({name:e,valid:u})}}function l(n,a,l,f,p){function g(e,i,r){function o(o){if(o())if(-1===c.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,-1===d.indexOf(i)&&d.push(i),!h){var s=t.indexOf(i);s>-1&&t.splice(s,1)}e.resolve(!1)}else{var a=t.indexOf(i);a>-1&&t.splice(a,1),e.resolve(!0)}else e.resolve(!0)}null!=r?f(i,r).then(function(t){o(function(){return!p(t,r)})},function(){o(function(){return u("ngfValidateForce",{$file:i})})}):e.resolve(!0)}var m=[i.emptyPromise(!0)];t&&(t=void 0===t.length?[t]:t,angular.forEach(t,function(t){var r=e.defer();return m.push(r.promise),!l||null!=t.type&&0===t.type.search(l)?void("dimensions"===n&&null!=i.attrGetter("ngfDimensions",o)?i.imageDimensions(t).then(function(e){g(r,t,u("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){r.resolve(!1)}):"duration"===n&&null!=i.attrGetter("ngfDuration",o)?i.mediaDuration(t).then(function(e){g(r,t,u("ngfDuration",{$file:t,$duration:e}))},function(){r.resolve(!1)}):g(r,t,i.getValidationAttr(o,s,n,a,t))):void r.resolve(!0)}));var v=e.defer();return e.all(m).then(function(t){for(var e=!0,i=0;i<t.length;i++)if(!t[i]){e=!1;break}r.$ngfValidations.push({name:n,valid:e}),v.resolve(e)}),v.promise}(r=r||{}).$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(t){t.valid=!0});var u=function(t,e){return i.attrGetter(t,o,s,e)},c=(i.attrGetter("ngfIgnoreInvalid",o,s)||"").split(" "),h=i.attrGetter("ngfRunAllValidations",o,s);if(null==t||0===t.length)return i.emptyPromise({validFiles:t,invalidFiles:[]});t=void 0===t.length?[t]:t.slice(0);var d=[];a("pattern",null,i.validatePattern),a("minSize","size.min",function(t,e){return t.size+.1>=i.translateScalars(e)}),a("maxSize","size.max",function(t,e){return t.size-.1<=i.translateScalars(e)});var f=0;if(a("maxTotalSize",null,function(e,n){return!((f+=e.size)>i.translateScalars(n))||(t.splice(0,t.length),!1)}),a("validateFn",null,function(t,e){return!0===e||null===e||""===e}),!t.length)return i.emptyPromise({validFiles:[],invalidFiles:d});var p=e.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(t,e){return t.height<=e})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(t,e){return t.height>=e})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(t,e){return t.width<=e})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(t,e){return t.width>=e})),g.push(l("dimensions",null,/image/,function(t,e){return i.emptyPromise(e)},function(t){return t})),g.push(l("ratio",null,/image/,this.imageDimensions,function(t,e){for(var n=e.toString().split(","),r=!1,o=0;o<n.length;o++)Math.abs(t.width/t.height-i.ratioToFloat(n[o]))<.01&&(r=!0);return r})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(t,e){return t.width/t.height-i.ratioToFloat(e)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(t,e){return t.width/t.height-i.ratioToFloat(e)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(t,e){return t<=i.translateScalars(e)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(t,e){return t>=i.translateScalars(e)})),g.push(l("duration",null,/audio|video/,function(t,e){return i.emptyPromise(e)},function(t){return t})),g.push(l("validateAsyncFn",null,null,function(t,e){return e},function(t){return!0===t||null===t||""===t})),e.all(g).then(function(){if(h)for(var e=0;e<t.length;e++){t[e].$error&&t.splice(e--,1)}h=!1,a("maxFiles",null,function(t,e,i){return e>n+i}),p.resolve({validFiles:t,invalidFiles:d})}),p.promise},i.imageDimensions=function(t){if(t.$ngfWidth&&t.$ngfHeight){var r=e.defer();return n(function(){r.resolve({width:t.$ngfWidth,height:t.$ngfHeight})}),r.promise}if(t.$ngfDimensionPromise)return t.$ngfDimensionPromise;var o=e.defer();return n(function(){return 0!==t.type.indexOf("image")?void o.reject("not image"):void i.dataUrl(t).then(function(e){function i(){var e=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),t.$ngfWidth=e,t.$ngfHeight=n,o.resolve({width:e,height:n})}function r(){s.remove(),o.reject("load error")}var s=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",i),s.on("error",r);var a=0;(function t(){n(function(){s[0].parentNode&&(s[0].clientWidth?i():a++>10?r():t())},1e3)})(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){o.reject("load error")})}),t.$ngfDimensionPromise=o.promise,t.$ngfDimensionPromise.finally(function(){delete t.$ngfDimensionPromise}),t.$ngfDimensionPromise},i.mediaDuration=function(t){if(t.$ngfDuration){var r=e.defer();return n(function(){r.resolve(t.$ngfDuration)}),r.promise}if(t.$ngfDurationPromise)return t.$ngfDurationPromise;var o=e.defer();return n(function(){return 0!==t.type.indexOf("audio")&&0!==t.type.indexOf("video")?void o.reject("not media"):void i.dataUrl(t).then(function(e){function i(){var e=s[0].duration;t.$ngfDuration=e,s.remove(),o.resolve(e)}function r(){s.remove(),o.reject("load error")}var s=angular.element(0===t.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");s.on("loadedmetadata",i),s.on("error",r);var a=0;(function t(){n(function(){s[0].parentNode&&(s[0].duration?i():a>10?r():t())},1e3)})(),angular.element(document.body).append(s)},function(){o.reject("load error")})}),t.$ngfDurationPromise=o.promise,t.$ngfDurationPromise.finally(function(){delete t.$ngfDurationPromise}),t.$ngfDurationPromise},i}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(t,e){var n=t,i=function(t,i,r,o,s,a,l,u){var c=e.defer(),h=document.createElement("canvas"),d=document.createElement("img");return d.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(d),d.onload=function(){var t=d.width,e=d.height;if(d.parentNode.removeChild(d),null==u||!1!==u(t,e))try{if(a){var f=n.ratioToFloat(a);f>t/e?r=(i=t)/f:i=(r=e)*f}i||(i=t),r||(r=e);var p=function(t,e,n,i,r){var o=r?Math.max(n/t,i/e):Math.min(n/t,i/e);return{width:t*o,height:e*o,marginX:t*o-n,marginY:e*o-i}}(t,e,i,r,l);h.width=Math.min(p.width,i),h.height=Math.min(p.height,r),h.getContext("2d").drawImage(d,Math.min(0,-p.marginX/2),Math.min(0,-p.marginY/2),p.width,p.height),c.resolve(h.toDataURL(s||"image/WebP",o||.934))}catch(t){c.reject(t)}else c.reject("resizeIf")},d.onerror=function(){d.parentNode.removeChild(d),c.reject()},d.src=t,c.promise};return n.dataUrltoBlob=function(t,e,n){for(var i=t.split(","),r=i[0].match(/:(.*?);/)[1],o=atob(i[1]),s=o.length,a=new Uint8Array(s);s--;)a[s]=o.charCodeAt(s);var l=new window.Blob([a],{type:r});return l.name=e,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var t=document.createElement("canvas");return window.atob&&t.getContext&&t.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(t){this.$ngfName=t},configurable:!0}),n.resize=function(t,r){if(0!==t.type.indexOf("image"))return n.emptyPromise(t);var o=e.defer();return n.dataUrl(t,!0).then(function(e){i(e,r.width,r.height,r.quality,r.type||t.type,r.ratio,r.centerCrop,r.resizeIf).then(function(i){if("image/jpeg"===t.type&&!1!==r.restoreExif)try{i=n.restoreExif(e,i)}catch(t){setTimeout(function(){throw t},1)}try{var s=n.dataUrltoBlob(i,t.name,t.size);o.resolve(s)}catch(t){o.reject(t)}},function(e){"resizeIf"===e&&o.resolve(t),o.reject(e)})},function(t){o.reject(t)}),o.promise},n}]),function(){function t(t,n,i,r,o,s,a,l,u,c){function h(){return n.attr("disabled")||v("ngfDropDisabled",t)}function d(e,n,i){if(e){var r;try{r=e&&e.getData&&e.getData("text/html")}catch(t){}g(e.items,e.files,!1!==v("ngfAllowDir",t),v("multiple")||v("ngfMultiple",t)).then(function(t){t.length?f(t,n):p(i,r).then(function(t){f(t,n)})})}}function f(e,n){l.updateModel(r,i,t,v("ngfChange")||v("ngfDrop"),e,n)}function p(e,n){if(!l.shouldUpdateOn(e,i,t)||"string"!=typeof n)return l.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(t,e,n){r.push(n)});var o=[],s=[];if(r.length){angular.forEach(r,function(t){o.push(l.urlToBlob(t).then(function(t){s.push(t)}))});var a=c.defer();return c.all(o).then(function(){a.resolve(s)},function(t){a.reject(t)}),a.promise}return l.emptyPromise()}function g(e,n,r,o){function s(t,e){var n=c.defer();if(null!=t)if(t.isDirectory){var i=[l.emptyPromise()];if(d){var r={type:"directory"};r.name=r.path=(e||"")+t.name,f.push(r)}var o=t.createReader(),a=[],g=function(){o.readEntries(function(r){try{r.length?(a=a.concat(Array.prototype.slice.call(r||[],0)),g()):(angular.forEach(a.slice(0),function(n){f.length<=u&&h>=p&&i.push(s(n,(e||"")+t.name+"/"))}),c.all(i).then(function(){n.resolve()},function(t){n.reject(t)}))}catch(t){n.reject(t)}},function(t){n.reject(t)})};g()}else t.file(function(t){try{t.path=(e||"")+t.name,d&&(t=l.rename(t,t.path)),f.push(t),p+=t.size,n.resolve()}catch(t){n.reject(t)}},function(t){n.reject(t)});return n.promise}var u=l.getValidationAttr(i,t,"maxFiles");null==u&&(u=Number.MAX_VALUE);var h=l.getValidationAttr(i,t,"maxTotalSize");null==h&&(h=Number.MAX_VALUE);var d=v("ngfIncludeDir",t),f=[],p=0,g=[l.emptyPromise()];if(e&&e.length>0&&"file:"!==a.location.protocol)for(var m=0;m<e.length;m++){if(e[m].webkitGetAsEntry&&e[m].webkitGetAsEntry()&&e[m].webkitGetAsEntry().isDirectory){var y=e[m].webkitGetAsEntry();if(y.isDirectory&&!r)continue;null!=y&&g.push(s(y))}else{var b=e[m].getAsFile();null!=b&&(f.push(b),p+=b.size)}if(f.length>u||p>h||!o&&f.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var x=n.item(w);if((x.type||x.size>0)&&(f.push(x),p+=x.size),f.length>u||p>h||!o&&f.length>0)break}var C=c.defer();return c.all(g).then(function(){if(o||d||!f.length)C.resolve(f);else{for(var t=0;f[t]&&"directory"===f[t].type;)t++;C.resolve([f[t]])}},function(t){C.reject(t)}),C.promise}var m=e(),v=function(t,e,n){return l.attrGetter(t,i,e,n)};if(v("dropAvailable")&&s(function(){t[v("dropAvailable")]?t[v("dropAvailable")].value=m:t[v("dropAvailable")]=m}),m){null==v("ngfSelect")&&l.registerModelChangeValidator(r,i,t);var y,b=null,w=o(v("ngfStopPropagation")),x=1;n[0].addEventListener("dragover",function(e){if(!h()&&l.shouldUpdateOn("drop",i,t)){if(e.preventDefault(),w(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}s.cancel(b),y||(y="C",function(t,e,n,i){var r=v("ngfDragOverClass",t,{$event:n}),o="dragover";if(angular.isString(r))o=r;else if(r&&(r.delay&&(x=r.delay),r.accept||r.reject)){var s=n.dataTransfer.items;if(null!=s&&s.length)for(var a=r.pattern||v("ngfPattern",t,{$event:n}),u=s.length;u--;){if(!l.validatePattern(s[u],a)){o=r.reject;break}o=r.accept}else o=r.accept}i(o)}(t,0,e,function(i){y=i,n.addClass(y),v("ngfDrag",t,{$isDragging:!0,$class:y,$event:e})}))}},!1),n[0].addEventListener("dragenter",function(e){!h()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),w(t)&&e.stopPropagation())},!1),n[0].addEventListener("dragleave",function(e){!h()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),w(t)&&e.stopPropagation(),b=s(function(){y&&n.removeClass(y),y=null,v("ngfDrag",t,{$isDragging:!1,$event:e})},x||100))},!1),n[0].addEventListener("drop",function(e){!h()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),w(t)&&e.stopPropagation(),y&&n.removeClass(y),y=null,d(e.dataTransfer,e,"dropUrl"))},!1),n[0].addEventListener("paste",function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!h()&&l.shouldUpdateOn("paste",i,t)&&d(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",t)&&(n.attr("contenteditable",!0),n.on("keypress",function(t){t.metaKey||t.ctrlKey||t.preventDefault()}))}else!0===v("ngfHideOnDropNotAvailable",t)&&n.css("display","none")}function e(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,n,i,r,o,s){return{restrict:"AEC",require:"?ngModel",link:function(o,a,l,u){t(o,a,l,u,e,n,i,r,0,s)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,n){e()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,n,i){return function(r,o,s){if(e()){var a=t(i.attrGetter("ngfDropAvailable",s));n(function(){a(r),a.assign&&a.assign(r,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(t,e){var n=t;return n.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&n.isResizeSupported()},n.readOrientation=function(t){var n=e.defer(),i=new FileReader,r=t.slice?t.slice(0,65536):t;return i.readAsArrayBuffer(r),i.onerror=function(t){return n.reject(t)},i.onload=function(t){var e={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(e);for(var r=i.byteLength,o=2;r>o;){var s=i.getUint16(o,!1);if(o+=2,65505===s){if(1165519206!==i.getUint32(o+=2,!1))return n.resolve(e);var a=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,a);var l=i.getUint16(o,a);o+=2;for(var u=0;l>u;u++)if(274===i.getUint16(o+12*u,a)){var c=i.getUint16(o+12*u+8,a);return c>=2&&8>=c&&(i.setUint16(o+12*u+8,1,a),e.fixedArrayBuffer=t.target.result),e.orientation=c,n.resolve(e)}}else{if(65280!=(65280&s))break;o+=i.getUint16(o,!1)}}return n.resolve(e)},n.promise},n.applyExifRotation=function(t){if(0!==t.type.indexOf("image/jpeg"))return n.emptyPromise(t);var i=e.defer();return n.readOrientation(t).then(function(e){return e.orientation<2||e.orientation>8?i.resolve(t):void n.dataUrl(t,!0).then(function(r){var o=document.createElement("canvas"),s=document.createElement("img");s.onload=function(){try{o.width=e.orientation>4?s.height:s.width,o.height=e.orientation>4?s.width:s.height;var r=o.getContext("2d");(function(t,e,n,i){switch(e){case 2:return t.transform(-1,0,0,1,n,0);case 3:return t.transform(-1,0,0,-1,n,i);case 4:return t.transform(1,0,0,-1,0,i);case 5:return t.transform(0,1,1,0,0,0);case 6:return t.transform(0,1,-1,0,i,0);case 7:return t.transform(0,-1,-1,0,i,n);case 8:t.transform(0,-1,1,0,0,n)}})(r,e.orientation,s.width,s.height),r.drawImage(s,0,0);var a=o.toDataURL(t.type||"image/WebP",.934);a=n.restoreExif(function(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;i>r;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}(e.fixedArrayBuffer),a);var l=n.dataUrltoBlob(a,t.name);i.resolve(l)}catch(t){return i.reject(t)}},s.onerror=function(){i.reject()},s.src=r},function(t){i.reject(t)})},function(t){i.reject(t)}),i.promise},n.restoreExif=function(t,e){var n={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(t){var e,n,i,r,o,s="",a="",l="",u=0;do{i=(e=t[u++])>>2,r=(3&e)<<4|(n=t[u++])>>4,o=(15&n)<<2|(a=t[u++])>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),e=n=a="",i=r=o=l=""}while(u<t.length);return s},restore:function(t,e){t.match("data:image/jpeg;base64,")&&(t=t.replace("data:image/jpeg;base64,",""));var n=this.decode64(t),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(r)},exifManipulation:function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)},getExifArray:function(t){for(var e,n=0;n<t.length;n++)if(255===(e=t[n])[0]&225===e[1])return e;return[]},insertExif:function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),s=i.slice(r),a=o;return(a=a.concat(e)).concat(s)},slice2Segments:function(t){for(var e=0,n=[];!(255===t[e]&218===t[e+1]);){if(255===t[e]&216===t[e+1])e+=2;else{var i=e+(256*t[e+2]+t[e+3])+2,r=t.slice(e,i);n.push(r),e=i}if(e>t.length)break}return n},decode64:function(t){var e,n,i,r,o="",s="",a=0,l=[];/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=this.KEY_STR.indexOf(t.charAt(a++))<<2|(i=this.KEY_STR.indexOf(t.charAt(a++)))>>4,n=(15&i)<<4|(r=this.KEY_STR.indexOf(t.charAt(a++)))>>2,o=(3&r)<<6|(s=this.KEY_STR.indexOf(t.charAt(a++))),l.push(e),64!==r&&l.push(n),64!==s&&l.push(o),e=n=o="",i=r=s=""}while(a<t.length);return l}};return n.restore(t,e)},n}]);