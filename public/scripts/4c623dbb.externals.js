!function(){"use strict";function t(e,i){var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,a=0,l=o.length;a<l;a++)s[o[a]]=c(s[o[a]],s);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}function c(t,e){return function(){return t.apply(e,arguments)}}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if((o=window.getSelection()).rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=t.changedTouches[0],(u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=u.tagName.toLowerCase())){if(e=this.findControl(u)){if(this.focus(u),n)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-s>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),i&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!i||r||!(l=u.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,r;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){var n=[],i=t.document,r=n.slice,o=n.concat,s=n.push,a=n.indexOf,l={},c=l.toString,u=l.hasOwnProperty,h={},d=function(t,e){return new d.fn.init(t,e)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,g=/-([\da-z])/gi,m=function(t,e){return e.toUpperCase()};function v(t){var e=!!t&&"length"in t&&t.length,n=d.type(t);return"function"!==n&&!d.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}d.fn=d.prototype={jquery:"2.2.4",constructor:d,selector:"",length:0,toArray:function(){return r.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:r.call(this)},pushStack:function(t){var e=d.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return d.each(this,t)},map:function(t){return this.pushStack(d.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||d.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(c&&i&&(d.isPlainObject(i)||(r=d.isArray(i)))?(r?(r=!1,o=n&&d.isArray(n)?n:[]):o=n&&d.isPlainObject(n)?n:{},s[e]=d.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},d.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===d.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!d.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==d.type(t)||t.nodeType||d.isWindow(t))return!1;if(t.constructor&&!u.call(t,"constructor")&&!u.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||u.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[c.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=d.trim(t))&&(1===t.indexOf("use strict")?((e=i.createElement("script")).text=t,i.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(p,"ms-").replace(g,m)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(v(t))for(n=t.length;n>i&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(f,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(v(Object(t))?d.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;o>r;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,s=0,a=[];if(v(t))for(i=t.length;i>s;s++)null!=(r=e(t[s],s,n))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,n))&&a.push(r);return o.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),d.isFunction(t)?(i=r.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(r.call(arguments)))}).guid=t.guid=t.guid||d.guid++,o):void 0},now:Date.now,support:h}),"function"==typeof Symbol&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){l["[object "+e+"]"]=e.toLowerCase()});var y=function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w="sizzle"+1*new Date,x=t.document,C=0,k=0,_=ot(),S=ot(),$=ot(),E=function(t,e){return t===e&&(h=!0),0},T=1<<31,D={}.hasOwnProperty,M=[],A=M.pop,P=M.push,O=M.push,N=M.slice,I=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+H+"*("+R+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+H+"*\\]",z=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(H+"+","g"),j=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),W=new RegExp("^"+H+"*,"+H+"*"),V=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),q=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),Y=new RegExp(z),U=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=function(){d()};try{O.apply(M=N.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(t){O={apply:M.length?function(t,e){P.apply(t,N.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function rt(t,e,i,r){var o,a,c,u,h,p,v,y,C=e&&e.ownerDocument,k=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==k&&9!==k&&11!==k)return i;if(!r&&((e?e.ownerDocument||e:x)!==f&&d(e),e=e||f,g)){if(11!==k&&(p=Q.exec(t)))if(o=p[1]){if(9===k){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(C&&(c=C.getElementById(o))&&b(e,c)&&c.id===o)return i.push(c),i}else{if(p[2])return O.apply(i,e.getElementsByTagName(t)),i;if((o=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!$[t+" "]&&(!m||!m.test(t))){if(1!==k)C=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(tt,"\\$&"):e.setAttribute("id",u=w),a=(v=s(t)).length,h=U.test(u)?"#"+u:"[id='"+u+"']";a--;)v[a]=h+" "+gt(v[a]);y=v.join(","),C=J.test(t)&&ft(e.parentNode)||e}if(y)try{return O.apply(i,C.querySelectorAll(y)),i}catch(t){}finally{u===w&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,i,r)}function ot(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[w]=!0,t}function at(t){var e=f.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||T)-(~t.sourceIndex||T);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ut(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=rt.support={},o=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=rt.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=at(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=at(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(f.getElementsByClassName),n.getById=at(function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}},i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete i.find.ID,i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&g?e.getElementsByClassName(t):void 0},v=[],m=[],(n.qsa=Z.test(f.querySelectorAll))&&(at(function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+H+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),at(function(t){var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+H+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&at(function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",z)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(p.compareDocumentPosition),b=e||Z.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===x&&b(x,t)?-1:e===f||e.ownerDocument===x&&b(x,e)?1:u?I(u,t)-I(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:u?I(u,t)-I(u,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},f):f},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),e=e.replace(q,"='$1']"),n.matchesSelector&&g&&!$[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return rt(e,f,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),b(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(E),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=rt.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=rt.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&_(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=rt.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(f=(c=(u=(h=(d=m)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&c[1])&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[C,f,b];break}}else if(y&&(b=f=(c=(u=(h=(d=e)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&c[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[C,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=I(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=a(t.replace(j,"$1"));return i[w]?st(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return rt(t,e).length>0}}),contains:st(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return U.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[0>n?n+e:n]}),even:dt(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ht(e);function pt(){}function gt(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=k++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c,u=[C,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=(c=e[w]||(e[w]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&a[0]===C&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function vt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function yt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function bt(t,e,n,i,r,o){return i&&!i[w]&&(i=bt(i)),r&&!r[w]&&(r=bt(r,o)),st(function(o,s,a,l){var c,u,h,d=[],f=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;r>i;i++)rt(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:yt(g,d,t,a,l),v=n?r||(o?t:p||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(c=yt(v,f),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(v[f[u]]=!(m[f[u]]=h));if(o){if(r||t){if(r){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(m[u]=h);r(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=r?I(o,h):d[u])>-1&&(o[c]=!(s[c]=h))}}else v=yt(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):O.apply(s,v)})}function wt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,u=mt(function(t){return t===e},a,!0),h=mt(function(t){return I(e,t)>-1},a,!0),d=[function(t,n,i){var r=!s&&(i||n!==c)||((e=n).nodeType?u(t,n,i):h(t,n,i));return e=null,r}];o>l;l++)if(n=i.relative[t[l].type])d=[mt(vt(d),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[w]){for(r=++l;o>r&&!i.relative[t[r].type];r++);return bt(l>1&&vt(d),l>1&&gt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),n,r>l&&wt(t.slice(l,r)),o>r&&wt(t=t.slice(r)),o>r&&gt(t))}d.push(n)}return vt(d)}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,s=rt.tokenize=function(t,e){var n,r,o,s,a,l,c,u=S[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=V.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),i.filter)!(r=G[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?rt.error(t):S(t,l).slice(0)},a=rt.compile=function(t,e){var n,r,o,a,l,u,h=[],p=[],m=$[t+" "];if(!m){for(e||(e=s(t)),n=e.length;n--;)(m=wt(e[n]))[w]?h.push(m):p.push(m);(m=$(t,(r=p,a=(o=h).length>0,l=r.length>0,u=function(t,e,n,s,u){var h,p,m,v=0,y="0",b=t&&[],w=[],x=c,k=t||l&&i.find.TAG("*",u),_=C+=null==x?1:Math.random()||.1,S=k.length;for(u&&(c=e===f||e||u);y!==S&&null!=(h=k[y]);y++){if(l&&h){for(p=0,e||h.ownerDocument===f||(d(h),n=!g);m=r[p++];)if(m(h,e||f,n)){s.push(h);break}u&&(C=_)}a&&((h=!m&&h)&&v--,t&&b.push(h))}if(v+=y,a&&y!==v){for(p=0;m=o[p++];)m(b,w,e,n);if(t){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=A.call(s));w=yt(w)}O.apply(s,w),u&&!t&&w.length>0&&v+o.length>1&&rt.uniqueSort(s)}return u&&(C=_,c=x),b},a?st(u):u))).selector=t}return m},l=rt.select=function(t,e,r,o){var l,c,u,h,d,f="function"==typeof t&&t,p=!o&&s(t=f.selector||t);if(r=r||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===e.nodeType&&g&&i.relative[c[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return r;f&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=G.needsContext.test(t)?0:c.length;l--&&(u=c[l],!i.relative[h=u.type]);)if((d=i.find[h])&&(o=d(u.matches[0].replace(et,nt),J.test(c[0].type)&&ft(e.parentNode)||e))){if(c.splice(l,1),!(t=o.length&&gt(c)))return O.apply(r,o),r;break}}return(f||a(t,p))(o,e,!g,r,!e||J.test(t)&&ft(e.parentNode)||e),r},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=at(function(t){return 1&t.compareDocumentPosition(f.createElement("div"))}),at(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&at(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),at(function(t){return null==t.getAttribute("disabled")})||lt(L,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),rt}(t);d.find=y,d.expr=y.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=y.uniqueSort,d.text=y.getText,d.isXMLDoc=y.isXML,d.contains=y.contains;var b=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&d(t).is(n))break;i.push(t)}return i},w=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},x=d.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,k=/^.[^:#\[\.,]*$/;function _(t,e,n){if(d.isFunction(e))return d.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return d.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(k.test(e))return d.filter(e,t,n);e=d.filter(e,t)}return d.grep(t,function(t){return a.call(e,t)>-1!==n})}d.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?d.find.matchesSelector(i,t)?[i]:[]:d.find.matches(t,d.grep(e,function(t){return 1===t.nodeType}))},d.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(d(t).filter(function(){for(e=0;n>e;e++)if(d.contains(r[e],this))return!0}));for(e=0;n>e;e++)d.find(t,r[e],i);return(i=this.pushStack(n>1?d.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(_(this,t||[],!1))},not:function(t){return this.pushStack(_(this,t||[],!0))},is:function(t){return!!_(this,"string"==typeof t&&x.test(t)?d(t):t||[],!1).length}});var S,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(d.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||S,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:$.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof d?e[0]:e,d.merge(this,d.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:i,!0)),C.test(r[1])&&d.isPlainObject(e))for(r in e)d.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=i.getElementById(r[2]))&&o.parentNode&&(this.length=1,this[0]=o),this.context=i,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):d.isFunction(t)?void 0!==n.ready?n.ready(t):t(d):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),d.makeArray(t,this))}).prototype=d.fn,S=d(i);var E=/^(?:parents|prev(?:Until|All))/,T={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}d.fn.extend({has:function(t){var e=d(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(d.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=x.test(t)||"string"!=typeof t?d(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&d.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?d.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?a.call(d(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),d.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return b(t,"parentNode")},parentsUntil:function(t,e,n){return b(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return b(t,"nextSibling")},prevAll:function(t){return b(t,"previousSibling")},nextUntil:function(t,e,n){return b(t,"nextSibling",n)},prevUntil:function(t,e,n){return b(t,"previousSibling",n)},siblings:function(t){return w((t.parentNode||{}).firstChild,t)},children:function(t){return w(t.firstChild)},contents:function(t){return t.contentDocument||d.merge([],t.childNodes)}},function(t,e){d.fn[t]=function(n,i){var r=d.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=d.filter(i,r)),this.length>1&&(T[t]||d.uniqueSort(r),E.test(t)&&r.reverse()),this.pushStack(r)}});var M,A=/\S+/g;function P(){i.removeEventListener("DOMContentLoaded",P),t.removeEventListener("load",P),d.ready()}d.Callbacks=function(t){var e,n;t="string"==typeof t?(e=t,n={},d.each(e.match(A)||[],function(t,e){n[e]=!0}),n):d.extend({},t);var i,r,o,s,a=[],l=[],c=-1,u=function(){for(s=t.once,o=i=!0;l.length;c=-1)for(r=l.shift();++c<a.length;)!1===a[c].apply(r[0],r[1])&&t.stopOnFalse&&(c=a.length,r=!1);t.memory||(r=!1),i=!1,s&&(a=r?[]:"")},h={add:function(){return a&&(r&&!i&&(c=a.length-1,l.push(r)),function e(n){d.each(n,function(n,i){d.isFunction(i)?t.unique&&h.has(i)||a.push(i):i&&i.length&&"string"!==d.type(i)&&e(i)})}(arguments),r&&!i&&u()),this},remove:function(){return d.each(arguments,function(t,e){for(var n;(n=d.inArray(e,a,n))>-1;)a.splice(n,1),c>=n&&c--}),this},has:function(t){return t?d.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=r="",this},disabled:function(){return!a},lock:function(){return s=l=[],r||(a=r=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),i||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},d.extend({Deferred:function(t){var e=[["resolve","done",d.Callbacks("once memory"),"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return d.Deferred(function(n){d.each(e,function(e,o){var s=d.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&d.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?d.extend(t,i):i}},r={};return i.pipe=i.then,d.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,o=0,s=r.call(arguments),a=s.length,l=1!==a||t&&d.isFunction(t.promise)?a:0,c=1===l?t:d.Deferred(),u=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?r.call(arguments):o,i===e?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)s[o]&&d.isFunction(s[o].promise)?s[o].promise().progress(u(o,n,e)).done(u(o,i,s)).fail(c.reject):--l;return l||c.resolveWith(i,s),c.promise()}}),d.fn.ready=function(t){return d.ready.promise().done(t),this},d.extend({isReady:!1,readyWait:1,holdReady:function(t){t?d.readyWait++:d.ready(!0)},ready:function(t){(!0===t?--d.readyWait:d.isReady)||(d.isReady=!0,!0!==t&&--d.readyWait>0||(M.resolveWith(i,[d]),d.fn.triggerHandler&&(d(i).triggerHandler("ready"),d(i).off("ready"))))}}),d.ready.promise=function(e){return M||(M=d.Deferred(),"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(d.ready):(i.addEventListener("DOMContentLoaded",P),t.addEventListener("load",P))),M.promise(e)},d.ready.promise();var O=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===d.type(n))for(a in r=!0,n)O(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,d.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(d(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},N=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function I(){this.expando=d.expando+I.uid++}I.uid=1,I.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!N(t))return{};var e=t[this.expando];return e||(e={},N(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,d.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{d.isArray(e)?i=e.concat(e.map(d.camelCase)):(r=d.camelCase(e),e in o?i=[e,r]:i=(i=r)in o?[i]:i.match(A)||[]),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||d.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!d.isEmptyObject(e)}};var L=new I,H=new I,R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/[A-Z]/g;function z(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(F,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?d.parseJSON(n):n)}catch(t){}H.set(t,e,n)}else n=void 0;return n}d.extend({hasData:function(t){return H.hasData(t)||L.hasData(t)},data:function(t,e,n){return H.access(t,e,n)},removeData:function(t,e){H.remove(t,e)},_data:function(t,e,n){return L.access(t,e,n)},_removeData:function(t,e){L.remove(t,e)}}),d.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=H.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(0===(i=s[n].name).indexOf("data-")&&(i=d.camelCase(i.slice(5)),z(o,i,r[i])));L.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){H.set(this,t)}):O(this,function(e){var n,i;if(o&&void 0===e){if(void 0!==(n=H.get(o,t)||H.get(o,t.replace(F,"-$&").toLowerCase())))return n;if(i=d.camelCase(t),void 0!==(n=H.get(o,i)))return n;if(void 0!==(n=z(o,i,void 0)))return n}else i=d.camelCase(t),this.each(function(){var n=H.get(this,i);H.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&H.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){H.remove(this,t)})}}),d.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=L.get(t,e),n&&(!i||d.isArray(n)?i=L.access(t,e,d.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=d.queue(t,e),i=n.length,r=n.shift(),o=d._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){d.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return L.get(t,n)||L.access(t,n,{empty:d.Callbacks("once memory").add(function(){L.remove(t,[e+"queue",n])})})}}),d.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?d.queue(this[0],t):void 0===e?this:this.each(function(){var n=d.queue(this,t,e);d._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&d.dequeue(this,t)})},dequeue:function(t){return this.each(function(){d.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=d.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=L.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,j=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),W=["Top","Right","Bottom","Left"],V=function(t,e){return t=e||t,"none"===d.css(t,"display")||!d.contains(t.ownerDocument,t)};function q(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return d.css(t,e,"")},l=a(),c=n&&n[3]||(d.cssNumber[e]?"":"px"),u=(d.cssNumber[e]||"px"!==c&&+l)&&j.exec(d.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",d.style(t,e,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,U=/<([\w:-]+)/,G=/^$|\/(?:java|ecma)script/i,X={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function K(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&d.nodeName(t,e)?d.merge([t],n):n}function Z(t,e){for(var n=0,i=t.length;i>n;n++)L.set(t[n],"globalEval",!e||L.get(e[n],"globalEval"))}X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td;var Q,J,tt=/<|&#?\w+;/;function et(t,e,n,i,r){for(var o,s,a,l,c,u,h=e.createDocumentFragment(),f=[],p=0,g=t.length;g>p;p++)if((o=t[p])||0===o)if("object"===d.type(o))d.merge(f,o.nodeType?[o]:o);else if(tt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(U.exec(o)||["",""])[1].toLowerCase(),l=X[a]||X._default,s.innerHTML=l[1]+d.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;d.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&d.inArray(o,i)>-1)r&&r.push(o);else if(c=d.contains(o.ownerDocument,o),s=K(h.appendChild(o),"script"),c&&Z(s),n)for(u=0;o=s[u++];)G.test(o.type||"")&&n.push(o);return h}Q=i.createDocumentFragment().appendChild(i.createElement("div")),(J=i.createElement("input")).setAttribute("type","radio"),J.setAttribute("checked","checked"),J.setAttribute("name","t"),Q.appendChild(J),h.checkClone=Q.cloneNode(!0).cloneNode(!0).lastChild.checked,Q.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!Q.cloneNode(!0).lastChild.defaultValue;var nt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function st(){return!1}function at(){try{return i.activeElement}catch(t){}}function lt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)lt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=st;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return d().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=d.guid++)),t.each(function(){d.event.add(this,e,r,i,n)})}d.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,f,p,g,m,v=L.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=d.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==d&&d.event.triggered!==e.type?d.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(A)||[""]).length;c--;)p=m=(a=rt.exec(e[c])||[])[1],g=(a[2]||"").split(".").sort(),p&&(h=d.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=d.event.special[p]||{},u=d.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&d.expr.match.needsContext.test(r),namespace:g.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,g,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),d.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,f,p,g,m,v=L.hasData(t)&&L.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(A)||[""]).length;c--;)if(p=m=(a=rt.exec(e[c])||[])[1],g=(a[2]||"").split(".").sort(),p){for(h=d.event.special[p]||{},f=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)u=f[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(t,u));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,g,v.handle)||d.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)d.event.remove(t,p+e[c],n,i,!0);d.isEmptyObject(l)&&L.remove(t,"handle events")}},dispatch:function(t){t=d.event.fix(t);var e,n,i,o,s,a=[],l=r.call(arguments),c=(L.get(this,"events")||{})[t.type]||[],u=d.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=d.event.handlers.call(this,t,c),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(s.namespace)||(t.handleObj=s,t.data=s.data,void 0!==(i=((d.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;a>n;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?d(r,this).index(l)>-1:d.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||i).documentElement,o=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[d.expando])return t;var e,n,r,o=t.type,s=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=it.test(o)?this.mouseHooks:nt.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new d.Event(s),e=r.length;e--;)t[n=r[e]]=s[n];return t.target||(t.target=i),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==at()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&d.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return d.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},d.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},d.Event=function(t,e){return this instanceof d.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?ot:st):this.type=t,e&&d.extend(this,e),this.timeStamp=t&&t.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(t,e)},d.Event.prototype={constructor:d.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){d.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||d.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),d.fn.extend({on:function(t,e,n,i){return lt(this,t,e,n,i)},one:function(t,e,n,i){return lt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,d(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=st),this.each(function(){d.event.remove(this,t,n,e)})}});var ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ut=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^true\/(.*)/,ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pt(t,e){return d.nodeName(t,"table")&&d.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function gt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function mt(t){var e=dt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function vt(t,e){var n,i,r,o,s,a,l,c;if(1===e.nodeType){if(L.hasData(t)&&(o=L.access(t),s=L.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;i>n;n++)d.event.add(e,r,c[r][n]);H.hasData(t)&&(a=H.access(t),l=d.extend({},a),H.set(e,l))}}function yt(t,e,n,i){e=o.apply([],e);var r,s,a,l,c,u,f=0,p=t.length,g=p-1,m=e[0],v=d.isFunction(m);if(v||p>1&&"string"==typeof m&&!h.checkClone&&ht.test(m))return t.each(function(r){var o=t.eq(r);v&&(e[0]=m.call(this,r,o.html())),yt(o,e,n,i)});if(p&&(s=(r=et(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(l=(a=d.map(K(r,"script"),gt)).length;p>f;f++)c=r,f!==g&&(c=d.clone(c,!0,!0),l&&d.merge(a,K(c,"script"))),n.call(t[f],c,f);if(l)for(u=a[a.length-1].ownerDocument,d.map(a,mt),f=0;l>f;f++)c=a[f],G.test(c.type||"")&&!L.access(c,"globalEval")&&d.contains(u,c)&&(c.src?d._evalUrl&&d._evalUrl(c.src):d.globalEval(c.textContent.replace(ft,"")))}return t}function bt(t,e,n){for(var i,r=e?d.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||d.cleanData(K(i)),i.parentNode&&(n&&d.contains(i.ownerDocument,i)&&Z(K(i,"script")),i.parentNode.removeChild(i));return t}d.extend({htmlPrefilter:function(t){return t.replace(ct,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l,c,u=t.cloneNode(!0),f=d.contains(t.ownerDocument,t);if(!(h.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||d.isXMLDoc(t)))for(s=K(u),i=0,r=(o=K(t)).length;r>i;i++)a=o[i],l=s[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&Y.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(n)for(o=o||K(t),s=s||K(u),i=0,r=o.length;r>i;i++)vt(o[i],s[i]);else vt(t,u);return(s=K(u,"script")).length>0&&Z(s,!f&&K(t,"script")),u},cleanData:function(t){for(var e,n,i,r=d.event.special,o=0;void 0!==(n=t[o]);o++)if(N(n)){if(e=n[L.expando]){if(e.events)for(i in e.events)r[i]?d.event.remove(n,i):d.removeEvent(n,i,e.handle);n[L.expando]=void 0}n[H.expando]&&(n[H.expando]=void 0)}}}),d.fn.extend({domManip:yt,detach:function(t){return bt(this,t,!0)},remove:function(t){return bt(this,t)},text:function(t){return O(this,function(t){return void 0===t?d.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return yt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pt(this,t).appendChild(t)})},prepend:function(){return yt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(d.cleanData(K(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return d.clone(this,t,e)})},html:function(t){return O(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ut.test(t)&&!X[(U.exec(t)||["",""])[1].toLowerCase()]){t=d.htmlPrefilter(t);try{for(;i>n;n++)1===(e=this[n]||{}).nodeType&&(d.cleanData(K(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return yt(this,arguments,function(e){var n=this.parentNode;d.inArray(this,t)<0&&(d.cleanData(K(this)),n&&n.replaceChild(e,this))},t)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){d.fn[t]=function(t){for(var n,i=[],r=d(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),d(r[a])[e](n),s.apply(i,n.get());return this.pushStack(i)}});var wt,xt={HTML:"block",BODY:"block"};function Ct(t,e){var n=d(e.createElement(t)).appendTo(e.body),i=d.css(n[0],"display");return n.detach(),i}function kt(t){var e=i,n=xt[t];return n||("none"!==(n=Ct(t,e))&&n||((e=(wt=(wt||d("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=Ct(t,e),wt.detach()),xt[t]=n),n}var _t=/^margin/,St=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Et=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},Tt=i.documentElement;function Dt(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||$t(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||d.contains(t.ownerDocument,t)||(s=d.style(t,e)),n&&!h.pixelMarginRight()&&St.test(s)&&_t.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function Mt(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){var e,n,r,o,s=i.createElement("div"),a=i.createElement("div");if(a.style){function l(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Tt.appendChild(s);var i=t.getComputedStyle(a);e="1%"!==i.top,o="2px"===i.marginLeft,n="4px"===i.width,a.style.marginRight="50%",r="4px"===i.marginRight,Tt.removeChild(s)}a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),d.extend(h,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==n&&l(),n},pixelMarginRight:function(){return null==n&&l(),r},reliableMarginLeft:function(){return null==n&&l(),o},reliableMarginRight:function(){var e,n=a.appendChild(i.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Tt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Tt.removeChild(s),a.removeChild(n),e}})}}();var At=/^(none|table(?!-c[ea]).+)/,Pt={position:"absolute",visibility:"hidden",display:"block"},Ot={letterSpacing:"0",fontWeight:"400"},Nt=["Webkit","O","Moz","ms"],It=i.createElement("div").style;function Lt(t){if(t in It)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Nt.length;n--;)if((t=Nt[n]+e)in It)return t}function Ht(t,e,n){var i=j.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Rt(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=d.css(t,n+W[o],!0,r)),i?("content"===n&&(s-=d.css(t,"padding"+W[o],!0,r)),"margin"!==n&&(s-=d.css(t,"border"+W[o]+"Width",!0,r))):(s+=d.css(t,"padding"+W[o],!0,r),"padding"!==n&&(s+=d.css(t,"border"+W[o]+"Width",!0,r)));return s}function Ft(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=$t(t),s="border-box"===d.css(t,"boxSizing",!1,o);if(0>=r||null==r){if((0>(r=Dt(t,e,o))||null==r)&&(r=t.style[e]),St.test(r))return r;i=s&&(h.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Rt(t,e,n||(s?"border":"content"),i,o)+"px"}function zt(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)(i=t[s]).style&&(o[s]=L.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&V(i)&&(o[s]=L.access(i,"olddisplay",kt(i.nodeName)))):(r=V(i),"none"===n&&r||L.set(i,"olddisplay",r?n:d.css(i,"display"))));for(s=0;a>s;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function Bt(t,e,n,i,r){return new Bt.prototype.init(t,e,n,i,r)}d.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Dt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=d.camelCase(e),l=t.style;return e=d.cssProps[a]||(d.cssProps[a]=Lt(a)||a),s=d.cssHooks[e]||d.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:("string"===(o=typeof n)&&(r=j.exec(n))&&r[1]&&(n=q(t,e,r),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(d.cssNumber[a]?"":"px")),h.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=d.camelCase(e);return e=d.cssProps[a]||(d.cssProps[a]=Lt(a)||a),(s=d.cssHooks[e]||d.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Dt(t,e,i)),"normal"===r&&e in Ot&&(r=Ot[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),d.each(["height","width"],function(t,e){d.cssHooks[e]={get:function(t,n,i){return n?At.test(d.css(t,"display"))&&0===t.offsetWidth?Et(t,Pt,function(){return Ft(t,e,i)}):Ft(t,e,i):void 0},set:function(t,n,i){var r,o=i&&$t(t),s=i&&Rt(t,e,i,"border-box"===d.css(t,"boxSizing",!1,o),o);return s&&(r=j.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=d.css(t,e)),Ht(0,n,s)}}}),d.cssHooks.marginLeft=Mt(h.reliableMarginLeft,function(t,e){return e?(parseFloat(Dt(t,"marginLeft"))||t.getBoundingClientRect().left-Et(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),d.cssHooks.marginRight=Mt(h.reliableMarginRight,function(t,e){return e?Et(t,{display:"inline-block"},Dt,[t,"marginRight"]):void 0}),d.each({margin:"",padding:"",border:"Width"},function(t,e){d.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+W[i]+e]=o[i]||o[i-2]||o[0];return r}},_t.test(t)||(d.cssHooks[t+e].set=Ht)}),d.fn.extend({css:function(t,e){return O(this,function(t,e,n){var i,r,o={},s=0;if(d.isArray(e)){for(i=$t(t),r=e.length;r>s;s++)o[e[s]]=d.css(t,e[s],!1,i);return o}return void 0!==n?d.style(t,e,n):d.css(t,e)},t,e,arguments.length>1)},show:function(){return zt(this,!0)},hide:function(){return zt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){V(this)?d(this).show():d(this).hide()})}}),d.Tween=Bt,Bt.prototype={constructor:Bt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||d.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(d.cssNumber[n]?"":"px")},cur:function(){var t=Bt.propHooks[this.prop];return t&&t.get?t.get(this):Bt.propHooks._default.get(this)},run:function(t){var e,n=Bt.propHooks[this.prop];return this.options.duration?this.pos=e=d.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Bt.propHooks._default.set(this),this}},Bt.prototype.init.prototype=Bt.prototype,Bt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=d.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){d.fx.step[t.prop]?d.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[d.cssProps[t.prop]]&&!d.cssHooks[t.prop]?t.elem[t.prop]=t.now:d.style(t.elem,t.prop,t.now+t.unit)}}},Bt.propHooks.scrollTop=Bt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},d.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},d.fx=Bt.prototype.init,d.fx.step={};var jt,Wt,Vt,qt,Yt,Ut=/^(?:toggle|show|hide)$/,Gt=/queueHooks$/;function Xt(){return t.setTimeout(function(){jt=void 0}),jt=d.now()}function Kt(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)r["margin"+(n=W[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Zt(t,e,n){for(var i,r=(Qt.tweeners[e]||[]).concat(Qt.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function Qt(t,e,n){var i,r,o=0,s=Qt.prefilters.length,a=d.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=jt||Xt(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;s>o;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),1>i&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:d.extend({},e),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},n),originalProperties:e,originalOptions:n,startTime:jt||Xt(),duration:n.duration,tweens:[],createTween:function(e,n){var i=d.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=d.camelCase(n)],o=t[n],d.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=d.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);s>o;o++)if(i=Qt.prefilters[o].call(c,t,u,c.opts))return d.isFunction(i.stop)&&(d._queueHooks(c.elem,c.opts.queue).stop=d.proxy(i.stop,i)),i;return d.map(u,Zt,c),d.isFunction(c.opts.start)&&c.opts.start.call(t,c),d.fx.timer(d.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}d.Animation=d.extend(Qt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return q(n.elem,t,j.exec(e),n),n}]},tweener:function(t,e){d.isFunction(t)?(e=t,t=["*"]):t=t.match(A);for(var n,i=0,r=t.length;r>i;i++)n=t[i],Qt.tweeners[n]=Qt.tweeners[n]||[],Qt.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,c,u=this,h={},f=t.style,p=t.nodeType&&V(t),g=L.get(t,"fxshow");for(i in n.queue||(null==(a=d._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,d.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(c=d.css(t,"display"))?L.get(t,"olddisplay")||kt(t.nodeName):c)&&"none"===d.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(r=e[i],Ut.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||d.style(t,i)}else c=void 0;if(d.isEmptyObject(h))"inline"===("none"===c?kt(t.nodeName):c)&&(f.display=c);else for(i in g?"hidden"in g&&(p=g.hidden):g=L.access(t,"fxshow",{}),o&&(g.hidden=!p),p?d(t).show():u.done(function(){d(t).hide()}),u.done(function(){var e;for(e in L.remove(t,"fxshow"),h)d.style(t,e,h[e])}),h)s=Zt(p?g[i]:0,i,u),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Qt.prefilters.unshift(t):Qt.prefilters.push(t)}}),d.speed=function(t,e,n){var i=t&&"object"==typeof t?d.extend({},t):{complete:n||!n&&e||d.isFunction(t)&&t,duration:t,easing:n&&e||e&&!d.isFunction(e)&&e};return i.duration=d.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in d.fx.speeds?d.fx.speeds[i.duration]:d.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){d.isFunction(i.old)&&i.old.call(this),i.queue&&d.dequeue(this,i.queue)},i},d.fn.extend({fadeTo:function(t,e,n,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=d.isEmptyObject(t),o=d.speed(e,n,i),s=function(){var e=Qt(this,d.extend({},t),o);(r||L.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=d.timers,s=L.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Gt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||d.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=L.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=d.timers,s=i?i.length:0;for(n.finish=!0,d.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),d.each(["toggle","show","hide"],function(t,e){var n=d.fn[e];d.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Kt(e,!0),t,i,r)}}),d.each({slideDown:Kt("show"),slideUp:Kt("hide"),slideToggle:Kt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){d.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),d.timers=[],d.fx.tick=function(){var t,e=0,n=d.timers;for(jt=d.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||d.fx.stop(),jt=void 0},d.fx.timer=function(t){d.timers.push(t),t()?d.fx.start():d.timers.pop()},d.fx.interval=13,d.fx.start=function(){Wt||(Wt=t.setInterval(d.fx.tick,d.fx.interval))},d.fx.stop=function(){t.clearInterval(Wt),Wt=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(e,n){return e=d.fx&&d.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},Vt=i.createElement("input"),qt=i.createElement("select"),Yt=qt.appendChild(i.createElement("option")),Vt.type="checkbox",h.checkOn=""!==Vt.value,h.optSelected=Yt.selected,qt.disabled=!0,h.optDisabled=!Yt.disabled,(Vt=i.createElement("input")).value="t",Vt.type="radio",h.radioValue="t"===Vt.value;var Jt,te=d.expr.attrHandle;d.fn.extend({attr:function(t,e){return O(this,d.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){d.removeAttr(this,t)})}}),d.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?d.prop(t,e,n):(1===o&&d.isXMLDoc(t)||(e=e.toLowerCase(),r=d.attrHooks[e]||(d.expr.match.bool.test(e)?Jt:void 0)),void 0!==n?null===n?void d.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=d.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!h.radioValue&&"radio"===e&&d.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(A);if(o&&1===t.nodeType)for(;n=o[r++];)i=d.propFix[n]||n,d.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Jt={set:function(t,e,n){return!1===e?d.removeAttr(t,n):t.setAttribute(n,n),n}},d.each(d.expr.match.bool.source.match(/\w+/g),function(t,e){var n=te[e]||d.find.attr;te[e]=function(t,e,i){var r,o;return i||(o=te[e],te[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,te[e]=o),r}});var ee=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;d.fn.extend({prop:function(t,e){return O(this,d.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[d.propFix[t]||t]})}}),d.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&d.isXMLDoc(t)||(e=d.propFix[e]||e,r=d.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=d.find.attr(t,"tabindex");return e?parseInt(e,10):ee.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(d.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;function re(t){return t.getAttribute&&t.getAttribute("class")||""}d.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(d.isFunction(t))return this.each(function(e){d(this).addClass(t.call(this,e,re(this)))});if("string"==typeof t&&t)for(e=t.match(A)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=d.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(d.isFunction(t))return this.each(function(e){d(this).removeClass(t.call(this,e,re(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(A)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=d.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):d.isFunction(t)?this.each(function(n){d(this).toggleClass(t.call(this,n,re(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=d(this),o=t.match(A)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=re(this))&&L.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":L.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+re(n)+" ").replace(ie," ").indexOf(e)>-1)return!0;return!1}});var oe=/\r/g,se=/[\x20\t\r\n\f]+/g;d.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=d.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,d(this).val()):t)?r="":"number"==typeof r?r+="":d.isArray(r)&&(r=d.map(r,function(t){return null==t?"":t+""})),(e=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=d.valHooks[r.type]||d.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(oe,""):null==n?"":n:void 0}}),d.extend({valHooks:{option:{get:function(t){var e=d.find.attr(t,"value");return null!=e?e:d.trim(d.text(t)).replace(se," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(((n=i[l]).selected||l===r)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!d.nodeName(n.parentNode,"optgroup"))){if(e=d(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=d.makeArray(e),s=r.length;s--;)((i=r[s]).selected=d.inArray(d.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(t,e){return d.isArray(e)?t.checked=d.inArray(d(t).val(),e)>-1:void 0}},h.checkOn||(d.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ae=/^(?:focusinfocus|focusoutblur)$/;d.extend(d.event,{trigger:function(e,n,r,o){var s,a,l,c,h,f,p,g=[r||i],m=u.call(e,"type")?e.type:e,v=u.call(e,"namespace")?e.namespace.split("."):[];if(a=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!ae.test(m+d.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),h=m.indexOf(":")<0&&"on"+m,(e=e[d.expando]?e:new d.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:d.makeArray(n,[e]),p=d.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(r,n))){if(!o&&!p.noBubble&&!d.isWindow(r)){for(c=p.delegateType||m,ae.test(c+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(r.ownerDocument||i)&&g.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=g[s++])&&!e.isPropagationStopped();)e.type=s>1?c:p.bindType||m,(f=(L.get(a,"events")||{})[e.type]&&L.get(a,"handle"))&&f.apply(a,n),(f=h&&a[h])&&f.apply&&N(a)&&(e.result=f.apply(a,n),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),n)||!N(r)||h&&d.isFunction(r[m])&&!d.isWindow(r)&&((l=r[h])&&(r[h]=null),d.event.triggered=m,r[m](),d.event.triggered=void 0,l&&(r[h]=l)),e.result}},simulate:function(t,e,n){var i=d.extend(new d.Event,n,{type:t,isSimulated:!0});d.event.trigger(i,null,e)}}),d.fn.extend({trigger:function(t,e){return this.each(function(){d.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?d.event.trigger(t,e,n,!0):void 0}}),d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){d.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),d.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),h.focusin="onfocusin"in t,h.focusin||d.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){d.event.simulate(e,t.target,d.event.fix(t))};d.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=L.access(i,e);r||i.addEventListener(t,n,!0),L.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=L.access(i,e)-1;r?L.access(i,e,r):(i.removeEventListener(t,n,!0),L.remove(i,e))}}});var le=t.location,ce=d.now(),ue=/\?/;d.parseJSON=function(t){return JSON.parse(t+"")},d.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+e),n};var he=/#.*$/,de=/([?&])_=[^&]*/,fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:GET|HEAD)$/,ge=/^\/\//,me={},ve={},ye="*/".concat("*"),be=i.createElement("a");function we(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(A)||[];if(d.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function xe(t,e,n,i){var r={},o=t===ve;function s(a){var l;return r[a]=!0,d.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ce(t,e){var n,i,r=d.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&d.extend(!0,t,i),t}be.href=le.href,d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ce(Ce(t,d.ajaxSettings),e):Ce(d.ajaxSettings,t)},ajaxPrefilter:we(me),ajaxTransport:we(ve),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,c,u,h,f=d.ajaxSetup({},n),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?d(p):d.event,m=d.Deferred(),v=d.Callbacks("once memory"),y=f.statusCode||{},b={},w={},x=0,C="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=fe.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=w[n]=w[n]||t,b[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)y[e]=[y[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||C;return r&&r.abort(e),_(0,e),this}};if(m.promise(k).complete=v.add,k.success=k.done,k.error=k.fail,f.url=((e||f.url||le.href)+"").replace(he,"").replace(ge,le.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=d.trim(f.dataType||"*").toLowerCase().match(A)||[""],null==f.crossDomain){c=i.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=be.protocol+"//"+be.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=d.param(f.data,f.traditional)),xe(me,f,n,k),2===x)return k;for(h in(u=d.event&&f.global)&&0==d.active++&&d.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!pe.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(ue.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=de.test(o)?o.replace(de,"$1_="+ce++):o+(ue.test(o)?"&":"?")+"_="+ce++)),f.ifModified&&(d.lastModified[o]&&k.setRequestHeader("If-Modified-Since",d.lastModified[o]),d.etag[o]&&k.setRequestHeader("If-None-Match",d.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ye+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,k,f)||2===x))return k.abort();for(h in C="abort",{success:1,error:1,complete:1})k[h](f[h]);if(r=xe(ve,f,n,k)){if(k.readyState=1,u&&g.trigger("ajaxSend",[k,f]),2===x)return k;f.async&&f.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},f.timeout));try{x=1,r.send(b,_)}catch(t){if(!(2>x))throw t;_(-1,t)}}else _(-1,"No Transport");function _(e,n,i,a){var c,h,b,w,C,_=n;2!==x&&(x=2,l&&t.clearTimeout(l),r=void 0,s=a||"",k.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(w=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(f,k,i)),w=function(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,w,k,c),c?(f.ifModified&&((C=k.getResponseHeader("Last-Modified"))&&(d.lastModified[o]=C),(C=k.getResponseHeader("etag"))&&(d.etag[o]=C)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=w.state,h=w.data,c=!(b=w.error))):(b=_,!e&&_||(_="error",0>e&&(e=0))),k.status=e,k.statusText=(n||_)+"",c?m.resolveWith(p,[h,_,k]):m.rejectWith(p,[k,_,b]),k.statusCode(y),y=void 0,u&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?h:b]),v.fireWith(p,[k,_]),u&&(g.trigger("ajaxComplete",[k,f]),--d.active||d.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return d.get(t,e,n,"json")},getScript:function(t,e){return d.get(t,void 0,e,"script")}}),d.each(["get","post"],function(t,e){d[e]=function(t,n,i,r){return d.isFunction(n)&&(r=r||i,i=n,n=void 0),d.ajax(d.extend({url:t,type:e,dataType:r,data:n,success:i},d.isPlainObject(t)&&t))}}),d._evalUrl=function(t){return d.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},d.fn.extend({wrapAll:function(t){var e;return d.isFunction(t)?this.each(function(e){d(this).wrapAll(t.call(this,e))}):(this[0]&&(e=d(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return d.isFunction(t)?this.each(function(e){d(this).wrapInner(t.call(this,e))}):this.each(function(){var e=d(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=d.isFunction(t);return this.each(function(n){d(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()}}),d.expr.filters.hidden=function(t){return!d.expr.filters.visible(t)},d.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var ke=/%20/g,_e=/\[\]$/,Se=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,i){var r;if(d.isArray(e))d.each(e,function(e,r){n||_e.test(t)?i(t,r):Te(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==d.type(e))i(t,e);else for(r in e)Te(t+"["+r+"]",e[r],n,i)}d.param=function(t,e){var n,i=[],r=function(t,e){e=d.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=d.ajaxSettings&&d.ajaxSettings.traditional),d.isArray(t)||t.jquery&&!d.isPlainObject(t))d.each(t,function(){r(this.name,this.value)});else for(n in t)Te(n,t[n],e,r);return i.join("&").replace(ke,"+")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=d.prop(this,"elements");return t?d.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!d(this).is(":disabled")&&Ee.test(this.nodeName)&&!$e.test(t)&&(this.checked||!Y.test(t))}).map(function(t,e){var n=d(this).val();return null==n?null:d.isArray(n)?d.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}}),d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var De={0:200,1223:204},Me=d.ajaxSettings.xhr();h.cors=!!Me&&"withCredentials"in Me,h.ajax=Me=!!Me,d.ajaxTransport(function(e){var n,i;return h.cors||Me&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(De[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}:void 0}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return d.globalEval(t),t}}}),d.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),d.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,o){e=d("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ae=[],Pe=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ae.pop()||d.expando+"_"+ce++;return this[t]=!0,t}}),d.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(Pe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=d.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Pe,"$1"+r):!1!==e.jsonp&&(e.url+=(ue.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||d.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?d(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ae.push(r)),s&&d.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),d.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||i;var r=C.exec(t),o=!n&&[];return r?[e.createElement(r[1])]:(r=et([t],e,o),o&&o.length&&d(o).remove(),d.merge([],r.childNodes))};var Oe=d.fn.load;function Ne(t){return d.isWindow(t)?t:9===t.nodeType&&t.defaultView}d.fn.load=function(t,e,n){if("string"!=typeof t&&Oe)return Oe.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=d.trim(t.slice(a)),t=t.slice(0,a)),d.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&d.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?d("<div>").append(d.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){d.fn[e]=function(t){return this.on(e,t)}}),d.expr.filters.animated=function(t){return d.grep(d.timers,function(e){return t===e.elem}).length},d.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=d.css(t,"position"),u=d(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=d.css(t,"top"),l=d.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),d.isFunction(e)&&(e=e.call(t,n,d.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},d.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){d.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,d.contains(e,i)?(r=i.getBoundingClientRect(),n=Ne(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===d.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),d.nodeName(t[0],"html")||(i=t.offset()),i.top+=d.css(t[0],"borderTopWidth",!0),i.left+=d.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-d.css(n,"marginTop",!0),left:e.left-i.left-d.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===d.css(t,"position");)t=t.offsetParent;return t||Tt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;d.fn[t]=function(i){return O(this,function(t,i,r){var o=Ne(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),d.each(["top","left"],function(t,e){d.cssHooks[e]=Mt(h.pixelPosition,function(t,n){return n?(n=Dt(t,e),St.test(n)?d(t).position()[e]+"px":n):void 0})}),d.each({Height:"height",Width:"width"},function(t,e){d.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){d.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return O(this,function(e,n,i){var r;return d.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?d.css(e,n,s):d.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),d.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),d.fn.andSelf=d.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return d});var Ie=t.jQuery,Le=t.$;return d.noConflict=function(e){return t.$===d&&(t.$=Le),e&&t.jQuery===d&&(t.jQuery=Ie),d},e||(t.jQuery=t.$=d),d}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){t.datepicker._isDisabledDatepicker(y.inline?y.dpDiv.parent()[0]:y.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}function o(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var s,a,l=0,c=Array.prototype.slice;t.cleanData=(a=t.cleanData,function(e){var n,i,r;for(r=0;null!=(i=e[r]);r++)try{(n=t._data(i,"events"))&&n.remove&&t(i).triggerHandler("remove")}catch(t){}a(e)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(a[e]=i)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,r=c.call(arguments,1),o=0,s=r.length;s>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=c.call(arguments,1),a=this;return o?this.length||"instance"!==r?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):a=void 0:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var s,a;for(a=0;n.length>a;a++)s=r.classesElementLookup[n[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget,function(){function e(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}var i,r=Math.max,o=Math.abs,s=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),e=o.offsetWidth,r.css("overflow","scroll"),e===(n=o.offsetWidth)&&(n=r[0].clientWidth),r.remove(),i=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:!i&&!r?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return h.apply(this,arguments);i=t.extend({},i);var u,d,f,p,g,m,v,y,b=t(i.of),w=t.position.getWithinInfo(i.within),x=t.position.getScrollInfo(w),C=(i.collision||"flip").split(" "),k={};return m=9===(y=(v=b)[0]).nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:t.isWindow(y)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:y.preventDefault?{width:0,height:0,offset:{top:y.pageY,left:y.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},b[0].preventDefault&&(i.at="left top"),d=m.width,f=m.height,p=m.offset,g=t.extend({},p),t.each(["my","at"],function(){var t,e,n=(i[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),k[this]=[t?t[0]:0,e?e[0]:0],i[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===i.at[0]?g.left+=d:"center"===i.at[0]&&(g.left+=d/2),"bottom"===i.at[1]?g.top+=f:"center"===i.at[1]&&(g.top+=f/2),u=e(k.at,d,f),g.left+=u[0],g.top+=u[1],this.each(function(){var s,a,l=t(this),c=l.outerWidth(),h=l.outerHeight(),m=n(this,"marginLeft"),v=n(this,"marginTop"),y=c+m+n(this,"marginRight")+x.width,_=h+v+n(this,"marginBottom")+x.height,S=t.extend({},g),$=e(k.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?S.left-=c:"center"===i.my[0]&&(S.left-=c/2),"bottom"===i.my[1]?S.top-=h:"center"===i.my[1]&&(S.top-=h/2),S.left+=$[0],S.top+=$[1],s={marginLeft:m,marginTop:v},t.each(["left","top"],function(e,n){t.ui.position[C[e]]&&t.ui.position[C[e]][n](S,{targetWidth:d,targetHeight:f,elemWidth:c,elemHeight:h,collisionPosition:s,collisionWidth:y,collisionHeight:_,offset:[u[0]+$[0],u[1]+$[1]],my:i.my,at:i.at,within:w,elem:l})}),i.using&&(a=function(t){var e=p.left-S.left,n=e+d-c,s=p.top-S.top,a=s+f-h,u={target:{element:b,left:p.left,top:p.top,width:d,height:f},element:{element:l,left:S.left,top:S.top,width:c,height:h},horizontal:0>n?"left":e>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};c>d&&d>o(e+n)&&(u.horizontal="center"),h>f&&f>o(s+a)&&(u.vertical="middle"),u.important=r(o(e),o(n))>r(o(s),o(a))?"horizontal":"vertical",i.using.call(this,t,u)}),l.offset(t.extend(S,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,c=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&0>=c?(n=t.left+l+e.collisionWidth-s-o,t.left+=l-n):t.left=c>0&&0>=l?o:l>c?o+s-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=r(t.left-a,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,c=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&0>=c?(n=t.top+l+e.collisionHeight-s-o,t.top+=l-n):t.top=c>0&&0>=l?o:l>c?o+s-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(0>(n=t.left+d+f+p+e.collisionWidth-a-s)||o(u)>n)&&(t.left+=d+f+p):h>0&&(((i=t.left-e.collisionPosition.marginLeft+d+f+p-l)>0||h>o(i))&&(t.left+=d+f+p))},top:function(t,e){var n,i,r=e.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-a-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];0>u?(0>(i=t.top+d+f+p+e.collisionHeight-a-s)||o(u)>i)&&(t.top+=d+f+p):h>0&&(((n=t.top-e.collisionPosition.marginTop+d+f+p-l)>0||h>o(n))&&(t.top+=d+f+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:(s="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(s+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var u,h="ui-effects-",d="ui-effects-style",f="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=u[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=l(),r=i._rgba=[];return n=n.toLowerCase(),f(a,function(t,o){var s,a=o.re.exec(n),l=a&&o.parse(a),u=o.space||"rgba";return l?(s=i[u](l),i[c[u].cache]=s[c[u].cache],r=i._rgba=s._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),i):o[n]}function r(t,e,n){return 1>6*(n=(n+1)%1)?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},d=t("<p>")[0],f=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(r,s,a,u){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,d=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,u],d="array"),"string"===d?this.parse(i(r)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===d?(f(c,r instanceof l?function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}:function(e,i){var o=i.cache;f(i.props,function(t,e){if(!h[o]&&i.to){if("alpha"===t||null==r[t])return;h[o]=i.to(h._rgba)}h[o][e.idx]=n(r[t],e,!0)}),h[o]&&0>t.inArray(null,h[o].slice(0,3))&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):e},is:function(t){var n=l(t),i=!0,r=this;return f(c,function(t,o){var s,a=n[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],f(o.props,function(t,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return f(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=l(t),r=i._space(),o=c[r],s=0===this.alpha()?l("transparent"):this,a=s[o.cache]||o.to(s._rgba),h=a.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],l=i[o],c=u[r.type]||{};null!==l&&(null===s?h[o]=l:(c.mod&&(l-s>c.mod/2?s+=c.mod:s-l>c.mod/2&&(s-=c.mod)),h[o]=n((l-s)*e+s,r)))}),this[r](h)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(e)._rgba;return l(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(c,function(i,r){var o=r.props,a=r.cache,c=r.to,u=r.from;l.fn[i]=function(i){if(c&&!this[a]&&(this[a]=c(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),h="array"===s||"object"===s?i:arguments,d=this[a].slice();return f(o,function(t,e){var i=h["object"===s?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=n(i,e)}),u?((r=l(u(d)))[a]=d,r):l(d)},f(o,function(e,n){l.fn[e]||(l.fn[e]=function(r){var o,a=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===a?u:("function"===a&&(r=r.call(this,u),a=t.type(r)),null==r&&n.empty?this:("string"===a&&((o=s.exec(r))&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),l.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=l(o||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}var n,i,r,o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,i,r,a){var l=t.speed(i,r,a);return this.queue(function(){var i,r=t(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){return{el:t(this),start:e(this)}}),(i=function(){t.each(o,function(t,e){n[e]&&r[e+"Class"](n[e])})})(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=function(e,n){var i,r,o={};for(i in n)r=n[i],e[i]!==r&&(s[i]||(t.fx.step[i]||!isNaN(parseFloat(r)))&&(o[i]=r));return o}(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){i(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(r[0])})})},t.fn.extend({addClass:(r=t.fn.addClass,function(e,n,i,o){return n?t.effects.animateClass.call(this,{add:e},n,i,o):r.apply(this,arguments)}),removeClass:(i=t.fn.removeClass,function(e,n,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:e},n,r,o):i.apply(this,arguments)}),toggleClass:(n=t.fn.toggleClass,function(e,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:e}:{remove:e},r,o,s):n.apply(this,arguments):t.effects.animateClass.call(this,{toggle:e},i,r,o)}),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}var r,o,s,a;t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(a=t.expr.filters.animated,function(e){return!!t(e).data(f)||a(e)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;i>n;n++)null!==e[n]&&t.data(h+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;r>i;i++)null!==e[i]&&(n=t.data(h+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(d,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(d)||"",t.removeData(d)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(h+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=h+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(l)&&l.call(s[0]),t.isFunction(e)&&e()}var s=t(this);i.mode=u.shift(),!1===t.uiBackCompat||o?"none"===i.mode?(s[c](),n()):r.call(s[0],i,function(){s.removeData(f),t.effects.cleanUp(s),"hide"===i.mode&&s.hide(),n()}):(s.is(":hidden")?"hide"===c:"show"===c)?(s[c](),n()):r.call(s[0],i,n)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,s=i.queue,a=s||"fx",l=i.complete,c=i.mode,u=[],h=function(e){var n=t(this),i=t.effects.mode(n,c)||o;n.data(f,!0),u.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?c?this[c](i.duration,l):this.each(function(){l&&l.call(this)}):!1===s?this.each(h).each(n):this.queue(a,h).queue(a,n)},show:(s=t.fn.show,function(t){if(n(t))return s.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}),hide:(o=t.fn.hide,function(t){if(n(t))return o.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}),toggle:(r=t.fn.toggle,function(t){if(n(t)||"boolean"==typeof t)return r.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),u={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){u[e]=function(e){return Math.pow(e,t+2)}}),t.extend(u,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(u,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}});var g,m;t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,c="show"===a,u=e.direction||"up",h=e.distance,d=e.times||5,f=2*d+(c||l?1:0),p=e.duration/f,g=e.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=0,b=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(m),h||(h=s["top"===m?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[m]=o,s.css("opacity",0).css(m,v?2*-h:2*h).animate(r,p,g)),l&&(h/=Math.pow(2,d-1)),(r={})[m]=o;d>y;y++)(i={})[m]=(v?"-=":"+=")+h,s.animate(i,p,g).animate(r,p,g),h=l?2*h:h/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+h,s.animate(i,p,g)),s.queue(n),t.effects.unshift(s,b,f+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,c=a||"vertical"===s;i=o.cssClip(),r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o="show"===e.mode,s=e.direction||"left",a="up"===s||"down"===s?"top":"left",l="up"===s||"left"===s?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===a?"outerHeight":"outerWidth"](!0)/2,u[a]=l+i,o&&(r.css(u),u[a]=c+i,u.opacity=1),r.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){v.push(this),v.length===u*h&&(d.css({visibility:"visible"}),t(v).remove(),n())}var r,o,s,a,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=u,d=t(this),f="show"===e.mode,p=d.show().css("visibility","hidden").offset(),g=Math.ceil(d.outerWidth()/h),m=Math.ceil(d.outerHeight()/u),v=[];for(r=0;u>r;r++)for(a=p.top+r*m,c=r-(u-1)/2,o=0;h>o;o++)s=p.left+o*g,l=o-(h-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:s+(f?l*g:0),top:a+(f?c*m:0),opacity:f?0:1}).animate({left:s+(f?0:l*g),top:a+(f?0:c*m),opacity:f?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),c=!!e.horizFirst?["right","bottom"]:["bottom","right"],u=e.duration/2,h=t.effects.createPlaceholder(i),d=i.cssClip(),f={clip:t.extend({},d)},p={clip:t.extend({},d)},g=[d[c[0]],d[c[1]]],m=i.queue().length;l&&(a=parseInt(l[1],10)/100*g[s?0:1]),f.clip[c[0]]=a,p.clip[c[0]]=a,p.clip[c[1]]=0,o&&(i.cssClip(p.clip),h&&h.css(t.effects.clipToBox(p)),p.clip=d),i.queue(function(n){h&&h.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(p),u,e.easing),n()}).animate(f,u,e.easing).animate(p,u,e.easing).queue(n),t.effects.unshift(i,m,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,h="effect"!==u,d=e.scale||"both",f=e.origin||["middle","center"],p=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,y=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===u&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},("box"===d||"both"===d)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,l,r.from.y,v),y=t.effects.setTransition(s,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,c,r.from.x,v),y=t.effects.setTransition(s,c,r.to.x,y))),("content"===d||"both"===d)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),y=t.effects.setTransition(s,a,r.to.y,y)),f&&(i=t.effects.getBaseline(f,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),s.css(v),("content"===d||"both"===d)&&(l=l.concat(["marginTop","marginBottom"]).concat(a),c=c.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),s=t.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,c,r.from.x,o),s=t.effects.setTransition(n,c,r.to.x,s)),h&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===y.opacity&&s.css("opacity",v.opacity),h||(s.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(s)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s=o||"hide"===r,a=2*(e.times||5)+(s?1:0),l=e.duration/a,c=0,u=1,h=i.queue().length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),c=1);a>u;u++)i.animate({opacity:c},l,e.easing),c=1-c;i.animate({opacity:c},l,e.easing),i.queue(n),t.effects.unshift(i,h,a+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,c=Math.round(e.duration/l),u="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,d={},f={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[u]=(h?"-=":"+=")+s,f[u]=(h?"+=":"-=")+2*s,p[u]=(h?"-=":"+=")+2*s,r.animate(d,c,e.easing);a>i;i++)r.animate(f,c,e.easing).animate(p,c,e.easing);r.animate(f,c,e.easing).animate(d,c/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[c],d[c]=(u?-1:1)*h+r,d.clip=o.cssClip(),d.clip[s[l][1]]=d.clip[s[l][0]],"show"===a&&(o.cssClip(d.clip),o.css(c,d[c]),d.clip=i,d[c]=r),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}),t.ui.focusable=function(e,n){var i,r,o,s,a,l=e.nodeName.toLowerCase();return"area"===l?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&((o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(s=!e.disabled)&&((a=t(e).closest("fieldset")[0])&&(s=!a.disabled)):s="a"===l&&e.href||n,s&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(m=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(m,"\\$1")}),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:(g=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,c=l?t():s.next(),u={oldHeader:o,oldPanel:o.next(),newHeader:l?t():s,newPanel:c};e.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",e,u)||(r.active=!l&&this.headers.index(s),this.active=a?t():s,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},h=c&&u.down||u,d=function(){s._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,o=o||h.duration||u.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o=this,s=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),r=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(n=t(this)).offset().top-i-r}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),void((i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var v,y,b=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,s={};return r?"controlgroupLabel"===i?((o=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(l[0])}}))):void 0}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(b,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=(v=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?v.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;r="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;t.length>r;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,s){var a,l,c,u,h,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),y===r&&(y=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,s,a,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null:(o=n||{},"string"==typeof n&&((o={})[n]=i),void(c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(c.settings.minDate=this._formatDate(c,a)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,o,s,a,l,c;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(r(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return!(s|="fixed"===t(this).css("position"))}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),a=t.datepicker._checkOffset(n,a,s),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(l=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,y=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,r=this._getNumberOfMonths(e),o=r[1],s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&i.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?""+n:n+""))return null;var r,o,s,a,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},x=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=n.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},C=function(e,i,r){var o=-1,s=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;e.length>r;r++)if(b)"'"!==e.charAt(r)||w("'")?k():b=!1;else switch(e.charAt(r)){case"d":v=x("d");break;case"D":C("D",h,d);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=C("M",f,p);break;case"y":g=x("y");break;case"@":g=(a=new Date(x("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?k():b=!0;break;default:k()}if(n.length>l&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),y>-1)for(m=1,v=y;!((o=this._getDaysInMonth(g,m-1))>=v);)m++,v-=o;if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},c=function(t,e,n){var i=""+e;if(l(t))for(;n>i.length;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;t.length>i;i++)if(d)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=t.length>e+1&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;t.length>e;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r,o,s=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:(r=n,(o=new Date).setDate(o.getDate()+r),o):new Date(n.getTime());return(s=s&&"Invalid Date"==""+s?i:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,C,k,_,S,$,E,T,D,M,A,P,O,N,I,L,H,R,F,z=new Date,B=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),j=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-U,tt=t.drawYear;if(0>J&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-Y[0]*Y[1]+1,Q.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)0>--J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=q?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:B,s=q?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",C=0;Y[0]>C;C++){for(k="",this.maxRows=4,_=0;Y[1]>_;_++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),$=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",Y[1]>1)switch(_){case 0:E+=" ui-datepicker-group-first",$=" ui-corner-"+(j?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",$=" ui-corner-"+(j?"left":"right");break;default:E+=" ui-datepicker-group-middle",$=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+$+"'>"+(/all|left/.test($)&&0===C?j?o:i:"")+(/all|right/.test($)&&0===C?j?i:o:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,C>0||_>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)D=(x+u)%7,T+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D]+"'>"+f[D]+"</span></th>";for(E+=T+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(tt,J)-u+7)%7,P=Math.ceil((A+M)/7),O=X&&this.maxRows>P?this.maxRows:P,this.maxRows=O,N=this._daylightSavingAdjust(new Date(tt,J,1-A)),I=0;O>I;I++){for(E+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",x=0;7>x;x++)H=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],F=(R=N.getMonth()!==J)&&!y||!H[0]||Z&&Z>N||Q&&N>Q,L+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+H[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===B.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);E+=L+"</tr>"}++J>11&&(J=0,tt++),k+=E+="</tbody></table>"+(X?"</div>"+(Y[0]>0&&_===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=k}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,c,u,h,d,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=i.getMonth())&&(!c||r.getMonth()>=u)&&(w+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),g=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+"</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new e,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var w=!1;t(document).on("mouseup",function(){w=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!w){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),w=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,w=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((i=(n=t(r.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,h,d,f,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)c=(l=i.snapElements[d].left-i.margins.left)+i.snapElements[d].width,h=(u=i.snapElements[d].top-i.margins.top)+i.snapElements[d].height,l-g>v||m>c+g||u-g>b||y>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(u-b),o=g>=Math.abs(h-y),s=g>=Math.abs(l-v),a=g>=Math.abs(c-m),r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),f=r||o||s||a,"outer"!==p.snapMode&&(r=g>=Math.abs(u-y),o=g>=Math.abs(h-b),s=g>=Math.abs(l-m),a=g>=Math.abs(c-v),r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||o||s||a||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||s||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;i.length>n;n++)r="ui-resizable-"+(e=t.trim(i[n])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,d=Math.round((r.height-o.height)/u)*u,f=o.width+h,p=o.height+d,g=i.maxWidth&&f>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>f,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=c),y&&(p+=u),g&&(f-=c),m&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-h):((0>=p-u||0>=f-c)&&(e=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=s.top-d):(p=u-e.height,n.size.height=p,n.position.top=s.top+o.height-p),f-c>0?(n.size.width=f,n.position.left=s.left-h):(f=c-e.width,n.size.width=f,n.position.left=s.left+o.width-f))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&C(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var x,C=t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return o>=c&&h>=a&&s>=u&&d>=l;case"intersect":return o+e.helperProportions.width/2>c&&h>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&d>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&d>=s||l>=u&&d>=l||u>s&&l>d)&&(o>=c&&h>=o||a>=c&&h>=a||c>o&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&C(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=C(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?c=!(u.left>a||o>u.right||u.top>l||s>u.bottom):"fit"===r.tolerance&&(c=u.left>o&&a>u.right&&u.top>s&&l>u.bottom),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;n>e;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-c.values(e));(r>n||r===n&&(e===c._lastChangedValue||c.values(e)===u.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&(!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&l>i+c,d="y"===this.options.axis||e+u>o&&s>e+u,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!!(i&&r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(r=(o=t(c[i],this.document[0])).length-1;r>=0;r--)(s=t.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],i=0,c=(a=h[n][0]).length;c>i;i++)(l=t(a[i])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&i.min>t?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:o(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:o(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:o(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:o(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void o(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(x=/#.*$/,function(t){var e,n;e=t.href.replace(x,""),n=location.href.replace(x,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){return t(r).attr("aria-controls")===i?(e=n,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&(-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0)),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),0>e&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),c=l.attr("aria-controls");e._isLocal(i)?(s=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(s=l.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:l,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,c)||(n.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),i._trigger("load",n,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):void((n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}))&&this._open(e,t,n))},_open:function(e,n,i){function r(t){c.of=t,s.is(":hidden")||s.position(c)}var o,s,a,l,c=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(l=t("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(c.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip}),function(t,e,n){"use strict";function i(t){return function(){var e,n=arguments[0];for(e="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.4.14/"+(t?t+"/":"")+n,n=1;n<arguments.length;n++){var i;e=e+(1==n?"?":"&")+"p"+(n-1)+"=",e+=encodeURIComponent(i="function"==typeof(i=arguments[n])?i.toString().replace(/ \{[\s\S]*$/,""):void 0===i?"undefined":"string"!=typeof i?JSON.stringify(i):i)}return Error(e)}}function r(t){if(null==t||$(t))return!1;if(Wn(t)||x(t)||En&&t instanceof En)return!0;var e="length"in Object(t)&&t.length;return C(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var i,s;if(t)if(_(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Wn(t)||r(t)){var a="object"!=typeof t;for(i=0,s=t.length;i<s;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(w(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Pn.call(t,i)&&e.call(n,t[i],i,t);return t}function s(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function a(t){return function(e,n){t(n,e)}}function l(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var s=e[r];if(b(s)||_(s))for(var a=Object.keys(s),c=0,u=a.length;c<u;c++){var h=a[c],d=s[h];n&&b(d)?k(d)?t[h]=new Date(d.valueOf()):S(d)?t[h]=new RegExp(d):d.nodeName?t[h]=d.cloneNode(!0):M(d)?t[h]=d.clone():(b(t[h])||(t[h]=Wn(d)?[]:{}),l(t[h],[d],!0)):t[h]=d}}return i?t.$$hashKey=i:delete t.$$hashKey,t}function c(t){return l(t,Nn.call(arguments,1),!1)}function u(t){return l(t,Nn.call(arguments,1),!0)}function h(t){return parseInt(t,10)}function d(t,e){return c(Object.create(t),e)}function f(){}function p(t){return t}function g(t){return function(){return t}}function m(t){return _(t.toString)&&t.toString!==Hn}function v(t){return void 0===t}function y(t){return void 0!==t}function b(t){return null!==t&&"object"==typeof t}function w(t){return null!==t&&"object"==typeof t&&!Rn(t)}function x(t){return"string"==typeof t}function C(t){return"number"==typeof t}function k(t){return"[object Date]"===Hn.call(t)}function _(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Hn.call(t)}function $(t){return t&&t.window===t}function E(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"boolean"==typeof t}function D(t){return t&&C(t.length)&&Vn.test(Hn.call(t))}function M(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function A(t){return An(t.nodeName||t[0]&&t[0].nodeName)}function P(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function O(t,e){function n(t,e){var n,r=e.$$hashKey;if(Wn(t)){n=0;for(var o=t.length;n<o;n++)e.push(i(t[n]))}else if(w(t))for(n in t)e[n]=i(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));else for(n in t)Pn.call(t,n)&&(e[n]=i(t[n]));return r?e.$$hashKey=r:delete e.$$hashKey,e}function i(t){if(!b(t))return t;if(-1!==(i=r.indexOf(t)))return s[i];if($(t)||E(t))throw Fn("cpws");var e,i=!1;return Wn(t)?(e=[],i=!0):D(t)?e=new t.constructor(t):k(t)?e=new Date(t.getTime()):S(t)?(e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0])).lastIndex=t.lastIndex:"[object Blob]"===Hn.call(t)?e=new t.constructor([t],{type:t.type}):_(t.cloneNode)?e=t.cloneNode(!0):(e=Object.create(Rn(t)),i=!0),r.push(t),s.push(e),i?n(t,e):e}var r=[],s=[];if(e){if(D(e))throw Fn("cpta");if(t===e)throw Fn("cpi");return Wn(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),r.push(t),s.push(e),n(t,e)}return i(t)}function N(t,e){if(Wn(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(b(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function I(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i=typeof t;if(i==typeof e&&"object"==i){if(!Wn(t)){if(k(t))return!!k(e)&&I(t.getTime(),e.getTime());if(S(t))return!!S(e)&&t.toString()==e.toString();if(E(t)||E(e)||$(t)||$(e)||Wn(e)||k(e)||S(e))return!1;for(n in i=ot(),t)if("$"!==n.charAt(0)&&!_(t[n])){if(!I(t[n],e[n]))return!1;i[n]=!0}for(n in e)if(!(n in i)&&"$"!==n.charAt(0)&&y(e[n])&&!_(e[n]))return!1;return!0}if(!Wn(e))return!1;if((i=t.length)==e.length){for(n=0;n<i;n++)if(!I(t[n],e[n]))return!1;return!0}}return!1}function L(t,e,n){return t.concat(Nn.call(e,n))}function H(t,e){var n=2<arguments.length?Nn.call(arguments,2):[];return!_(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,L(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function R(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:$(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":E(i)&&(r="$SCOPE"),r}function F(t,e){return v(t)?n:(C(e)||(e=e?2:null),JSON.stringify(t,R,e))}function z(t){return x(t)?JSON.parse(t):t}function B(t,e){t=t.replace(Xn,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function j(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return n*=(e=B(e,i))-i,(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}function W(t){t=En(t).clone();try{t.empty()}catch(t){}var e=En("<div>").append(t).html();try{return t[0].nodeType===Jn?An(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+An(e)})}catch(t){return An(e)}}function V(t){try{return decodeURIComponent(t)}catch(t){}}function q(t){var e={};return o((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(i=t.substring(0,n),r=t.substring(n+1)),y(i=V(i))&&(r=!y(r)||V(r),Pn.call(e,i)?Wn(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function Y(t){var e=[];return o(t,function(t,n){Wn(t)?o(t,function(t){e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}):e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}),e.length?e.join("&"):""}function U(t){return G(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function X(t,e){var n,i,r={};o(Kn,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,i=t.getAttribute(e))}),o(Kn,function(e){var r;e+="app",!n&&(r=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(e))}),n&&(r.strictDi=null!==function(t,e){var n,i,r=Kn.length;for(i=0;i<r;++i)if(n=Kn[i]+e,x(n=t.getAttribute(n)))return n;return null}(n,"strict-di"),e(n,i?[i]:[],r))}function K(n,i,r){b(r)||(r={}),r=c({strictDi:!1},r);var s=function(){if((n=En(n)).injector()){var t=n[0]===e?"document":W(n);throw Fn("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng"),(t=At(i,r.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},a=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!l.test(t.name))return s();t.name=t.name.replace(l,""),zn.resumeBootstrap=function(t){return o(t,function(t){i.push(t)}),s()},_(zn.resumeDeferredBootstrap)&&zn.resumeDeferredBootstrap()}function Z(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function Q(t){if(!(t=zn.element(t).injector()))throw Fn("test");return t.get("$$testability")}function J(t,e){return e=e||"_",t.replace(Zn,function(t,n){return(n?e:"")+t.toLowerCase()})}function tt(t,e,n){if(!t)throw Fn("areq",e||"?",n||"required");return t}function et(t,e,n){return n&&Wn(t)&&(t=t[t.length-1]),tt(_(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function nt(t,e){if("hasOwnProperty"===t)throw Fn("badname",e)}function it(t,e,n){if(!e)return t;for(var i,r=t,o=(e=e.split(".")).length,s=0;s<o;s++)i=e[s],t&&(t=(r=t)[i]);return!n&&_(t)?H(r,t):t}function rt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=En(Nn.call(t,0,r))),e.push(n));return e||t}function ot(){return Object.create(null)}function st(t){return t.replace(ii,function(t,e,n,i){return i?n.toUpperCase():n}).replace(ri,"Moz$1")}function at(t){return 1===(t=t.nodeType)||!t||9===t}function lt(t,e){var n,i,r=e.createDocumentFragment(),s=[];if(li.test(t)){for(n=n||r.appendChild(e.createElement("div")),i=(ci.exec(t)||["",""])[1].toLowerCase(),i=hi[i]||hi._default,n.innerHTML=i[1]+t.replace(ui,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=L(s,n.childNodes),(n=r.firstChild).textContent=""}else s.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",o(s,function(t){r.appendChild(t)}),r}function ct(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function ut(t){if(t instanceof ut)return t;var n,i;if(x(t)&&(t=qn(t),n=!0),!(this instanceof ut)){if(n&&"<"!=t.charAt(0))throw si("nosel");return new ut(t)}n&&(n=e,t=(i=ai.exec(t))?[n.createElement(i[1])]:(i=lt(t,n))?i.childNodes:[]);wt(this,t)}function ht(t){return t.cloneNode(!0)}function dt(t,e){if(e||pt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)pt(n[i])}function ft(t,e,n,i){if(y(i))throw si("offargs");var r=(i=gt(t))&&i.events,s=i&&i.handle;if(s)if(e){var a=function(e){var i=r[e];y(n)&&P(i||[],n),y(n)&&i&&0<i.length||(t.removeEventListener(e,s,!1),delete r[e])};o(e.split(" "),function(t){a(t),oi[t]&&a(oi[t])})}else for(e in r)"$destroy"!==e&&t.removeEventListener(e,s,!1),delete r[e]}function pt(t,e){var i=t.ng339,r=i&&ei[i];r&&(e?delete r.data[e]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ft(t)),delete ei[i],t.ng339=n))}function gt(t,e){var i=(i=t.ng339)&&ei[i];return e&&!i&&(t.ng339=i=++ni,i=ei[i]={events:{},data:{},handle:n}),i}function mt(t,e,n){if(at(t)){var i=y(n),r=!i&&e&&!b(e),o=!e;if(t=(t=gt(t,!r))&&t.data,i)t[e]=n;else{if(o)return t;if(r)return t&&t[e];c(t,e)}}}function vt(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function yt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",qn((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+qn(e)+" "," ")))})}function bt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=qn(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",qn(n))}}function wt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function xt(t,e){return Ct(t,"$"+(e||"ngController")+"Controller")}function Ct(t,e,n){for(9==t.nodeType&&(t=t.documentElement),e=Wn(e)?e:[e];t;){for(var i=0,r=e.length;i<r;i++)if(y(n=En.data(t,e[i])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function kt(t){for(dt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function _t(t,e){e||dt(t);var n=t.parentNode;n&&n.removeChild(t)}function St(t,e){var n=pi[e.toLowerCase()];return n&&gi[A(t)]&&n}function $t(t,e,n){n.call(t,e)}function Et(t,e,n){var i=e.relatedTarget;i&&(i===t||di.call(t,i))||n.call(t,e)}function Tt(){this.$get=function(){return c(ut,{hasClass:function(t,e){return t.attr&&(t=t[0]),vt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),bt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),yt(t,e)}})}}function Dt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):"function"==(n=typeof t)||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||function(){return++Bn})():n+":"+t}function Mt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function At(t,e){function i(t){return function(e,n){if(!b(e))return t(e,n);o(e,a(t))}}function r(t,e){if(nt(t,"service"),(_(e)||Wn(e))&&(e=f.instantiate(e)),!e.$get)throw Ci("pget",t);return d[t+"Provider"]=e}function s(t,e,n){return r(t,{$get:!1!==n?(i=t,o=e,function(){var t=m.invoke(o,this);if(v(t))throw Ci("undef",i);return t}):e});var i,o}function l(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===c)throw Ci("cdep",e+" <- "+u.join(" <- "));return t[e]}try{return u.unshift(e),t[e]=c,t[e]=n(e,i)}catch(n){throw t[e]===c&&delete t[e],n}finally{u.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,l,c=[],u=At.$$annotate(t,e,o);for(a=0,s=u.length;a<s;a++){if("string"!=typeof(l=u[a]))throw Ci("itkn",l);c.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return Wn(t)&&(t=t[s]),t.apply(n,c)}return{invoke:r,instantiate:function(t,e,n){var i=Object.create((Wn(t)?t[t.length-1]:t).prototype||null);return b(t=r(t,i,e,n))||_(t)?t:i},get:i,annotate:At.$$annotate,has:function(e){return d.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var c={},u=[],h=new Mt([],!0),d={$provide:{provider:i(r),factory:i(s),service:i(function(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}),value:i(function(t,e){return s(t,g(e),!1)}),constant:i(function(t,e){nt(t,"constant"),d[t]=e,p[t]=e}),decorator:function(t,e){var n=f.get(t+"Provider"),i=n.$get;n.$get=function(){var t=m.invoke(i,n);return m.invoke(e,null,{$delegate:t})}}}},f=d.$injector=l(d,function(t,e){throw zn.isString(e)&&u.push(e),Ci("unpr",u.join(" <- "))}),p={},m=p.$injector=l(p,function(t,e){var i=f.get(t+"Provider",e);return m.invoke(i.$get,i,n,t)});return o(function t(e){tt(v(e)||Wn(e),"modulesToLoad","not an array");var n,i=[];return o(e,function(e){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=f.get(i[0]);r[i[1]].apply(r,i[2])}}if(!h.get(e)){h.put(e,!0);try{x(e)?(n=Dn(e),i=i.concat(t(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):_(e)?i.push(f.invoke(e)):Wn(e)?i.push(f.invoke(e)):et(e,"module")}catch(t){throw Wn(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Ci("modulerr",e,t.stack||t.message||t)}}}),i}(t),function(t){t&&m.invoke(t)}),m}function Pt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){function o(t){var e;t?(t.scrollIntoView(),_(e=s.yOffset)?e=e():M(e)?(e=e[0],e="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom):C(e)||(e=0),e&&(t=t.getBoundingClientRect().top,n.scrollBy(0,t-e))):n.scrollTo(0,0)}function s(t){var e,n,r;(t=x(t)?t:i.hash())?(e=a.getElementById(t))?o(e):(n=a.getElementsByName(t),r=null,Array.prototype.some.call(n,function(t){if("a"===A(t))return r=t,!0}),(e=r)?o(e):"top"===t&&o(null)):o(null)}var a=n.document;return e&&r.$watch(function(){return i.hash()},function(e,n){var i,o;e===n&&""===e||(i=function(){r.$evalAsync(s)},"complete"===(o=o||t).document.readyState?o.setTimeout(i):En(o).on("load",i))}),s}]}function Ot(t,e){return t||e?t?e?(Wn(t)&&(t=t.join(" ")),Wn(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Nt(t){return b(t)?t:{}}function It(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new function(t,e,n,i){function r(t){try{t.apply(null,Nn.call(arguments,1))}finally{if(0==--m)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function s(){k=null,a(),l()}function a(){t:{try{b=h.state;break t}catch(t){}b=void 0}I(b=v(b)?null:b,$)&&(b=$),$=b}function l(){x===c.url()&&w===b||(x=c.url(),w=b,o(_,function(t){t(c.url(),b)}))}var c=this,u=t.location,h=t.history,d=t.setTimeout,p=t.clearTimeout,g={};c.isMock=!1;var m=0,y=[];c.$$completeOutstandingRequest=r,c.$$incOutstandingRequestCount=function(){m++},c.notifyWhenNoOutstandingRequests=function(t){0===m?t():y.push(t)};var b,w,x=u.href,C=e.find("base"),k=null;a(),w=b,c.url=function(e,n,r){if(v(r)&&(r=null),u!==t.location&&(u=t.location),h!==t.history&&(h=t.history),e){var o=w===r;if(x===e&&(!i.history||o))return c;var s=x&&ae(x)===ae(e);return x=e,w=r,!i.history||s&&o?(s&&!k||(k=e),n?u.replace(e):s?(n=u,r=-1===(r=e.indexOf("#"))?"":e.substr(r),n.hash=r):u.href=e,u.href!==e&&(k=e)):(h[n?"replaceState":"pushState"](r,"",e),a(),w=b),c}return k||u.href.replace(/%27/g,"'")},c.state=function(){return b};var _=[],S=!1,$=null;c.onUrlChange=function(e){return S||(i.history&&En(t).on("popstate",s),En(t).on("hashchange",s),S=!0),_.push(e),e},c.$$applicationDestroyed=function(){En(t).off("hashchange popstate",s)},c.$$checkUrlChange=l,c.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return m++,n=d(function(){delete g[n],r(t)},e||0),g[n]=!0,n},c.defer.cancel=function(t){return!!g[t]&&(delete g[t],p(t),r(f),!0)}}(t,i,e,n)}]}function Lt(){this.$get=function(){function t(t,n){function r(t){t!=d&&(f?f==t&&(f=t.n):f=t,o(t.n,t.p),o(t,d),(d=t).n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid",t);var s=0,a=c({},n,{id:t}),l=ot(),u=n&&n.capacity||Number.MAX_VALUE,h=ot(),d=null,f=null;return e[t]={put:function(t,e){if(!v(e)){if(u<Number.MAX_VALUE)r(h[t]||(h[t]={key:t}));return t in l||s++,l[t]=e,s>u&&this.remove(f.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=h[t];if(!e)return;e==d&&(d=e.p),e==f&&(f=e.n),o(e.n,e.p),delete h[t]}t in l&&(delete l[t],s--)},removeAll:function(){l=ot(),s=0,h=ot(),d=f=null},destroy:function(){h=a=l=null,delete e[t]},info:function(){return c({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ht(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Rt(t,i){function r(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r=ot();return o(t,function(t,o){if(t in C)r[o]=C[t];else{var s=t.match(i);if(!s)throw Mi("iscp",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(C[t]=r[o])}}),r}var s={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=function(t){var e,n={};for(t=t.split(","),e=0;e<t.length;e++)n[t[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,C=ot();this.directive=function e(n,i){return nt(n,"directive"),x(n)?(function(t){var e=t.charAt(0);if(!e||e!==An(e))throw Mi("baddir",t);if(t!==t.trim())throw Mi("baddir",t)}(n),tt(i,"directiveFactory"),s.hasOwnProperty(n)||(s[n]=[],t.factory(n+"Directive",["$injector","$exceptionHandler",function(t,e){var i=[];return o(s[n],function(r,o){try{var s=t.invoke(r);_(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",s.$$moduleName=r.$$moduleName,i.push(s)}catch(t){e(t)}}),i}])),s[n].push(i)):o(n,a(e)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(t){return y(t)?(k=t,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,i,a,g,C,S,$,D,M,O){function N(t,e){try{t.addClass(e)}catch(t){}}function L(t,n,i,r,o){t instanceof En||(t=En(t));for(var s=/\S+/,a=0,l=t.length;a<l;a++){var c=t[a];c.nodeType===Jn&&c.nodeValue.match(s)&&ct(c,t[a]=e.createElement("span"))}var u=H(t,n,t,i,r,o);L.$$addScopeClass(t);var h=null;return function(e,n,i){tt(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new());var r=(i=i||{}).parentBoundTranscludeFn,s=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),h||(h=(i=i&&i[0])&&"foreignobject"!==A(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==h?En(Z(h,En("<div>").append(t).html())):n?fi.clone.call(t):t,s)for(var a in s)i.data("$"+a+"Controller",s[a].instance);return L.$$addScopeInfo(i,e),n&&n(i,e),u&&u(e,i,i,r),i}}function H(t,e,i,r,o,s){for(var a,l,c,u,h,d=[],f=0;f<t.length;f++)a=new st,(s=(l=F(t[f],[],a,0===f?r:n,o)).length?j(l,t[f],a,e,i,null,[],[],s):null)&&s.scope&&L.$$addScopeClass(a.$$element),a=s&&s.terminal||!(c=t[f].childNodes)||!c.length?null:H(c,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:e),(s||a)&&(d.push(f,s,a),u=!0,h=h||s),s=null;return u?function(t,i,r,o){var s,a,l,c,u,f;if(h)for(f=Array(i.length),c=0;c<d.length;c+=3)f[s=d[c]]=i[s];else f=i;for(c=0,u=d.length;c<u;)a=f[d[c++]],i=d[c++],s=d[c++],i?(i.scope?(l=t.$new(),L.$$addScopeInfo(En(a),l)):l=t,i(s,l,a,r,i.transcludeOnThisElement?R(t,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&e?R(t,e):null)):s&&s(t,a.childNodes,n,o)}:null}function R(t,e,n){return function(i,r,o,s,a){return i||((i=t.$new(!1,a)).$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function F(t,e,n,r,o){var s,a,c,h,d=n.$attr;switch(t.nodeType){case 1:q(e,Ft(s=A(t)),"E",r,o);for(var f,p,g,m,v=t.attributes,y=0,w=v&&v.length;y<w;y++){var C=!1,k=!1;p=(f=v[y]).name,g=qn(f.value),f=Ft(p),(m=dt.test(f))&&(p=p.replace(Ai,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})),(f=f.match(ft))&&Y(f[1])&&(C=p,k=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),d[f=Ft(p.toLowerCase())]=p,!m&&n.hasOwnProperty(f)||(n[f]=g,St(t,f)&&(n[f]=!0)),Q(t,e,g,f,m),q(e,f,"A",r,o,C,k)}if("input"===s&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),b(t=t.className)&&(t=t.animVal),x(t)&&""!==t)for(;s=u.exec(t);)q(e,f=Ft(s[2]),"C",r,o)&&(n[f]=qn(s[3])),t=t.substr(s.index+s[0].length);break;case Jn:if(11===$n)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Jn;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);a=e,c=t.nodeValue,(h=i(c,!0))&&a.push({priority:0,compile:function(t){var e=!!(t=t.parent()).length;return e&&L.$$addBindingClass(t),function(t,n){var i=n.parent();e||L.$$addBindingClass(i),L.$$addBindingInfo(i,h.expressions),t.$watch(h,function(t){n[0].nodeValue=t})}}});break;case 8:try{(s=l.exec(t.nodeValue))&&(q(e,f=Ft(s[1]),"M",r,o)&&(n[f]=qn(s[2])))}catch(t){}}return e.sort(X),e}function z(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Mi("uterdir",e,n);1==t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r);else i.push(t);return En(i)}function B(t,e,n){return function(i,r,o,s,a){return r=z(r[0],e,n),t(i,r,o,s,a)}}function j(t,i,r,o,s,l,c,u,h){function d(t,e,n,i){t&&(n&&(t=B(t,n,i)),t.require=g.require,t.directiveName=v,(T===g||g.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=B(e,n,i)),e.require=g.require,e.directiveName=v,(T===g||g.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),u.push(e))}function f(t,e,n,i){var r;if(x(e)){var o=e.match(m);e=e.substring(o[0].length);var s=o[1]||o[3];o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[e])&&r.instance,r||(i="$"+e+"Controller",r=s?n.inheritedData(i):n.data(i)),!r&&!o)throw Mi("ctreq",e,t)}else if(Wn(e))for(r=[],s=0,o=e.length;s<o;s++)r[s]=f(t,e[s],n,i);return r||null}function p(t,e,o,s,a){var l,h,d,p,g,m,v;for(var y in i===o?(s=r,m=r.$$element):(m=En(o),s=new st(m,r)),d=e,T?h=e.$new(!0):k&&(d=e.$parent),a&&((g=function(t,e,i){var r;return E(t)||(i=e,e=t,t=n),O&&(r=p),i||(i=O?m.parent():m),a(t,e,r,i,C)}).$$boundTransclude=a),$&&(p=function(t,e,n,i,r,o){var s,a=ot();for(s in i){var l=i[s],c={$scope:l===T||l.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},u=l.controller;"@"==u&&(u=e[l.name]),c=S(u,c,!0,l.controllerAs),a[l.name]=c,t.data("$"+l.name+"Controller",c.instance)}return a}(m,s,g,$,h,e)),T&&(L.$$addScopeInfo(m,h,!0,!(D&&(D===T||D===T.$$originalDirective))),L.$$addScopeClass(m,!0),h.$$isolateBindings=T.$$isolateBindings,(v=rt(e,s,h,h.$$isolateBindings,T))&&h.$on("$destroy",v)),p){v=$[y];var b=p[y],w=v.$$bindings.bindToController;b.identifier&&w&&(l=rt(d,s,b.instance,w,v));var x=b();x!==b.instance&&(b.instance=x,m.data("$"+v.name+"Controller",x),l&&l(),l=rt(d,s,b.instance,w,v))}for(H=0,R=c.length;H<R;H++)it(l=c[H],l.isolateScope?h:e,m,s,l.require&&f(l.directiveName,l.require,m,p),g);var C=e;for(T&&(T.template||null===T.templateUrl)&&(C=h),t&&t(C,o.childNodes,n,a),H=u.length-1;0<=H;H--)it(l=u[H],l.isolateScope?h:e,m,s,l.require&&f(l.directiveName,l.require,m,p),g)}h=h||{};for(var g,v,y,w,C=-Number.MAX_VALUE,k=h.newScopeDirective,$=h.controllerDirectives,T=h.newIsolateScopeDirective,D=h.templateDirective,M=h.nonTlbTranscludeDirective,A=!1,P=!1,O=h.hasElementTranscludeDirective,N=r.$$element=En(i),I=o,H=0,R=t.length;H<R;H++){var j=(g=t[H]).$$start,q=g.$$end;if(j&&(N=z(i,j,q)),y=n,C>g.priority)break;if((y=g.scope)&&(g.templateUrl||(b(y)?(K("new/isolated scope",T||k,g,N),T=g):K("new/isolated scope",T,g,N)),k=k||g),v=g.name,!g.templateUrl&&g.controller&&(y=g.controller,$=$||ot(),K("'"+v+"' controller",$[v],g,N),$[v]=g),(y=g.transclude)&&(A=!0,g.$$tlb||(K("transclusion",M,g,N),M=g),"element"==y?(O=!0,C=g.priority,y=N,N=r.$$element=En(e.createComment(" "+v+": "+r[v]+" ")),i=N[0],et(s,Nn.call(y,0),i),I=L(y,o,C,l&&l.name,{nonTlbTranscludeDirective:M})):(y=En(ht(i)).contents(),N.empty(),I=L(y,o,n,n,{needsNewScope:g.$$isolateScope||g.$$newScope}))),g.template)if(P=!0,K("template",D,g,N),D=g,y=_(g.template)?g.template(N,r):g.template,y=ut(y),g.replace){if(l=g,y=li.test(y)?Bt(Z(g.templateNamespace,qn(y))):[],i=y[0],1!=y.length||1!==i.nodeType)throw Mi("tplrt",v,"");et(s,N,i);var Y=F(i,[],y={$attr:{}}),X=t.splice(H+1,t.length-(H+1));(T||k)&&V(Y,T,k),t=t.concat(Y).concat(X),U(r,y),R=t.length}else N.html(y);if(g.templateUrl)P=!0,K("template",D,g,N),D=g,g.replace&&(l=g),p=G(t.splice(H,t.length-H),N,r,s,A&&I,c,u,{controllerDirectives:$,newScopeDirective:k!==g&&k,newIsolateScopeDirective:T,templateDirective:D,nonTlbTranscludeDirective:M}),R=t.length;else if(g.compile)try{_(w=g.compile(N,r,I))?d(null,w,j,q):w&&d(w.pre,w.post,j,q)}catch(t){a(t,W(N))}g.terminal&&(p.terminal=!0,C=Math.max(C,g.priority))}return p.scope=k&&!0===k.scope,p.transcludeOnThisElement=A,p.templateOnThisElement=P,p.transclude=I,h.hasElementTranscludeDirective=O,p}function V(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=d(t[i],{$$isolateScope:e,$$newScope:n})}function q(e,n,i,o,l,c,u){if(n===l)return null;if(l=null,s.hasOwnProperty(n))for(var h,f=0,p=(n=t.get(n+"Directive")).length;f<p;f++)try{if(h=n[f],(v(o)||o>h.priority)&&-1!=h.restrict.indexOf(i)){if(c&&(h=d(h,{$$start:c,$$end:u})),!h.$$bindings){var g=h,m=h,y=h.name,w={isolateScope:null,bindToController:null};if(b(m.scope)&&(!0===m.bindToController?(w.bindToController=r(m.scope,y,!0),w.isolateScope={}):w.isolateScope=r(m.scope,y,!1)),b(m.bindToController)&&(w.bindToController=r(m.bindToController,y,!0)),b(w.bindToController)){var C,k=m.controller,_=m.controllerAs;if(!k)throw Mi("noctrl",y);t:{m=k;var S=_;if(S&&x(S))C=S;else{if(x(m)){var $=Oi.exec(m);if($){C=$[3];break t}}C=void 0}}if(!C)throw Mi("noident",y)}var E=g.$$bindings=w;b(E.isolateScope)&&(h.$$isolateBindings=E.isolateScope)}e.push(h),l=h}}catch(t){a(t)}return l}function Y(e){if(s.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;i<r;i++)if((e=n[i]).multiElement)return!0;return!1}function U(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(N(r,e),t.class=(t.class?t.class+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function G(t,e,n,i,r,s,a,l){var c,u,h=[],f=e[0],p=t.shift(),m=d(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),v=_(p.templateUrl)?p.templateUrl(e,n):p.templateUrl,y=p.templateNamespace;return e.empty(),g(v).then(function(d){var g,w;if(d=ut(d),p.replace){if(d=li.test(d)?Bt(Z(y,qn(d))):[],g=d[0],1!=d.length||1!==g.nodeType)throw Mi("tplrt",p.name,v);d={$attr:{}},et(i,e,g);var x=F(g,[],d);b(p.scope)&&V(x,!0),t=x.concat(t),U(n,d)}else g=f,e.html(d);for(t.unshift(m),c=j(t,g,n,r,e,p,s,a,l),o(i,function(t,n){t==g&&(i[n]=e[0])}),u=H(e[0].childNodes,r);h.length;){d=h.shift(),w=h.shift();var C=h.shift(),k=h.shift();x=e[0];if(!d.$$destroyed){if(w!==f){var _=w.className;l.hasElementTranscludeDirective&&p.replace||(x=ht(g)),et(C,En(w),x),N(En(x),_)}w=c.transcludeOnThisElement?R(d,c.transclude,k):k,c(u,d,x,i,w)}}h=null}),function(t,e,n,i,r){t=r,e.$$destroyed||(h?h.push(e,n,i,t):(c.transcludeOnThisElement&&(t=R(e,c.transclude,r)),c(u,e,n,i,t)))}}function X(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function K(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Mi("multidir",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,W(i))}function Z(t,n){switch(t=An(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Q(t,e,n,r,o){var s=function(t,e){if("srcdoc"==e)return D.HTML;var n=A(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?D.RESOURCE_URL:void 0}(t,r);o=h[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===A(t))throw Mi("selmulti",W(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){if(e=l.$$observers||(l.$$observers=ot()),w.test(r))throw Mi("nodomevents");var c=l[r];c!==n&&(a=c&&i(c,!0,s,o),n=c),a&&(l[r]=a(t),(e[r]||(e[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function et(t,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]==s){t[r++]=i,o=r+a-1;for(var c=t.length;r<c;r++,o++)o<c?t[r]=t[o]:delete t[r];t.length-=a-1,t.context===s&&(t.context=i);break}for(l&&l.replaceChild(i,s),(t=e.createDocumentFragment()).appendChild(s),En.hasData(s)&&(En.data(i,En.data(s)),Tn?(jn=!0,Tn.cleanData([s])):delete En.cache[s[En.expando]]),s=1,a=n.length;s<a;s++)l=n[s],En(l).remove(),t.appendChild(l),delete n[s];n[0]=i,n.length=1}function nt(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function it(t,e,n,i,r,o){try{t(e,n,i,r,o)}catch(t){a(t,W(n))}}function rt(t,e,n,r,s){var a=[];return o(r,function(r,o){var l,c,u,h,d=r.attrName,p=r.optional;switch(r.mode){case"@":p||Pn.call(e,d)||(n[o]=e[d]=void 0),e.$observe(d,function(t){x(t)&&(n[o]=t)}),e.$$observers[d].$$scope=t,x(l=e[d])?n[o]=i(l)(t):T(l)&&(n[o]=l);break;case"=":if(!Pn.call(e,d)){if(p)break;e[d]=void 0}if(p&&!e[d])break;c=C(e[d]),h=c.literal?I:function(t,e){return t===e||t!=t&&e!=e},u=c.assign||function(){throw l=n[o]=c(t),Mi("nonassign",e[d],d,s.name)},l=n[o]=c(t),(p=function(e){return h(e,n[o])||(h(e,l)?u(t,e=n[o]):n[o]=e),l=e}).$stateful=!0,p=r.collection?t.$watchCollection(e[d],p):t.$watch(C(e[d],p),null,c.literal),a.push(p);break;case"&":if((c=e.hasOwnProperty(d)?C(e[d]):f)===f&&p)break;n[o]=function(e){return c(t,e)}}}),a.length&&function(){for(var t=0,e=a.length;t<e;++t)a[t]()}}var st=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=e[r]}else this.$attr={};this.$$element=t};st.prototype={$normalize:Ft,$addClass:function(t){t&&0<t.length&&M.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&M.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=zt(t,e);n&&n.length&&M.addClass(this.$$element,n),(n=zt(e,t))&&n.length&&M.removeClass(this.$$element,n)},$set:function(t,e,n,i){var r=St(this.$$element[0],t),s=mi[t],l=t;if(r?(this.$$element.prop(t,e),i=r):s&&(this[s]=e,l=s),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=J(t,"-")),"a"===(r=A(this.$$element))&&"href"===t||"img"===r&&"src"===t)this[t]=e=O(e,"src"===t);else if("img"===r&&"srcset"===t&&y(e)){r="",s=qn(e);for(var c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=(c=/\s/.test(s)?c:/(,)/,s=s.split(c),c=Math.floor(s.length/2),0);u<c;u++){var h=2*u;r=(r=r+O(qn(s[h]),!0))+" "+qn(s[h+1])}s=qn(s[2*u]).split(/\s/),r+=O(qn(s[0]),!0),2===s.length&&(r+=" "+qn(s[1])),this[t]=e=r}!1!==n&&(null===e||v(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e)),(t=this.$$observers)&&o(t[l],function(t){try{t(e)}catch(t){a(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=ot()),r=i[t]||(i[t]=[]);return r.push(e),$.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){P(r,e)}}};var at=i.startSymbol(),lt=i.endSymbol(),ut="{{"==at&&"}}"==lt?p:function(t){return t.replace(/\{\{/g,at).replace(/}}/g,lt)},dt=/^ngAttr[A-Z]/,ft=/^(.+)Start$/;return L.$$addBindingInfo=k?function(t,e){var n=t.data("$binding")||[];Wn(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,L.$$addBindingClass=k?function(t){N(t,"ng-binding")}:f,L.$$addScopeInfo=k?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:f,L.$$addScopeClass=k?function(t,e){N(t,e?"ng-isolate-scope":"ng-scope")}:f,L}]}function Ft(t){return st(t.replace(Ai,""))}function zt(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),o=0;t:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(0<n.length?" ":"")+s}return n}function Bt(t){var e=(t=En(t)).length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&In.call(t,e,1);return t}function jt(){var t={},e=!1;this.register=function(e,n){nt(e,"controller"),b(e)?c(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,o){function s(t,e,n,r){if(!t||!b(t.$scope))throw i("$controller")("noscp",r,e);t.$scope[e]=n}return function(i,a,l,u){var h,d,f;if(l=!0===l,u&&x(u)&&(f=u),x(i)){if(!(u=i.match(Oi)))throw Pi("ctrlfmt",i);d=u[1],f=f||u[3],et(i=t.hasOwnProperty(d)?t[d]:it(a.$scope,d,!0)||(e?it(o,d,!0):n),d,!0)}return l?(l=(Wn(i)?i[i.length-1]:i).prototype,h=Object.create(l||null),f&&s(a,f,h,d||i.name),c(function(){var t=r.invoke(i,h,a,d);return t!==h&&(b(t)||_(t))&&(h=t,f&&s(a,f,h,d||i.name)),h},{instance:h,identifier:f})):(h=r.instantiate(i,a,d),f&&s(a,f,h,d||i.name),h)}}]}function Wt(){this.$get=["$window",function(t){return En(t.document)}]}function Vt(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function qt(t){return b(t)?k(t)?t.toISOString():F(t):t}function Yt(){this.$get=function(){return function(t){if(!t)return"";var e=[];return s(t,function(t,n){null===t||v(t)||(Wn(t)?o(t,function(t,i){e.push(G(n)+"="+G(qt(t)))}):e.push(G(n)+"="+G(qt(t))))}),e.join("&")}}}function Ut(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(n,i,r){null===n||v(n)||(Wn(n)?o(n,function(e,n){t(e,i+"["+(b(e)?n:"")+"]")}):b(n)&&!k(n)?s(n,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):e.push(G(i)+"="+G(qt(n))))}(t,"",!0),e.join("&")}}}function Gt(t,e){if(x(t)){var n=t.replace(Fi,"").trim();if(n){var i=e("Content-Type");(i=i&&0===i.indexOf(Ii))||(i=(i=n.match(Hi))&&Ri[i[0]].test(n)),i&&(t=z(n))}}return t}function Xt(t){var e,n=ot();return x(t)?o(t.split("\n"),function(t){e=t.indexOf(":");var i=An(qn(t.substr(0,e)));t=qn(t.substr(e+1)),i&&(n[i]=n[i]?n[i]+", "+t:t)}):b(t)&&o(t,function(t,e){var i=An(e),r=qn(t);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function Kt(t){var e;return function(n){return e||(e=Xt(t)),n?(void 0===(n=e[An(n)])&&(n=null),n):e}}function Zt(t,e,n,i){return _(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Qt(){var t=this.defaults={transformResponse:[Gt],transformRequest:[function(t){return b(t)&&"[object File]"!==Hn.call(t)&&"[object Blob]"!==Hn.call(t)&&"[object FormData]"!==Hn.call(t)?F(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(Li),put:N(Li),patch:N(Li)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return y(t)?(e=!!t,this):e};var r=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(r=!!t,this):r};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,l,u,h,d,f){function p(s){function u(t){var e=c({},t);return e.data=Zt(t.data,t.headers,t.status,w.transformResponse),200<=(t=t.status)&&300>t?e:d.reject(e)}if(!zn.isObject(s))throw i("$http")("badreq",s);if(!x(s.url))throw i("$http")("badreq",s.url);var w=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},s);w.headers=function(e){var n,i,r,s,a,l,u,h=t.headers,d=c({},e.headers);h=c({},h.common,h[An(e.method)]);t:for(n in h){for(r in i=An(n),d)if(An(r)===i)continue t;d[n]=h[n]}return s=d,a=N(e),u={},o(s,function(t,e){_(t)?null!=(l=t(a))&&(u[e]=l):u[e]=t}),u}(s),w.method=On(w.method),w.paramSerializer=x(w.paramSerializer)?f.get(w.paramSerializer):w.paramSerializer;var C=[function(i){var r=i.headers,s=Zt(i.data,Kt(r),n,i.transformRequest);return v(s)&&o(r,function(t,e){"content-type"===An(e)&&delete r[e]}),v(i.withCredentials)&&!v(t.withCredentials)&&(i.withCredentials=t.withCredentials),function(i,r){function o(t,e,n,r){(200<=(e=-1<=e?e:0)&&300>e?m.resolve:m.reject)({data:t,status:e,headers:Kt(n),config:i,statusText:r})}function s(t){o(t.data,t.status,N(t.headers()),t.statusText)}function c(){var t=p.pendingRequests.indexOf(i);-1!==t&&p.pendingRequests.splice(t,1)}var u,f,m=d.defer(),w=m.promise,x=i.headers,C=(k=i.url,S=i.paramSerializer(i.params),0<S.length&&(k+=(-1==k.indexOf("?")?"?":"&")+S),k);var k,S;return p.pendingRequests.push(i),w.then(c,c),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(u=b(i.cache)?i.cache:b(t.cache)?t.cache:g),u&&(y(f=u.get(C))?f&&_(f.then)?f.then(s,s):Wn(f)?o(f[1],f[0],N(f[2]),f[3]):o(f,200,{},"OK"):u.put(C,w)),v(f)&&((f=Ue(i.url)?l()[i.xsrfCookieName||t.xsrfCookieName]:n)&&(x[i.xsrfHeaderName||t.xsrfHeaderName]=f),a(i.method,C,r,function(t,n,i,r){function s(){o(n,t,i,r)}u&&(200<=t&&300>t?u.put(C,[t,n,Xt(i),r]):u.remove(C)),e?h.$applyAsync(s):(s(),h.$$phase||h.$apply())},x,i.timeout,i.withCredentials,i.responseType)),w}(i,s).then(u,u)},n],k=d.when(w);for(o(m,function(t){(t.request||t.requestError)&&C.unshift(t.request,t.requestError),(t.response||t.responseError)&&C.push(t.response,t.responseError)});C.length;){s=C.shift();var S=C.shift();k=k.then(s,S)}return r?(k.success=function(t){return et(t,"fn"),k.then(function(e){t(e.data,e.status,e.headers,w)}),k},k.error=function(t){return et(t,"fn"),k.then(null,function(e){t(e.data,e.status,e.headers,w)}),k}):(k.success=Bi("success"),k.error=Bi("error")),k}var g=u("$http");t.paramSerializer=x(t.paramSerializer)?f.get(t.paramSerializer):t.paramSerializer;var m=[];return o(s,function(t){m.unshift(x(t)?f.get(t):f.invoke(t))}),p.pendingRequests=[],function(t){o(arguments,function(t){p[t]=function(e,n){return p(c({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){p[t]=function(e,n,i){return p(c({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function Jt(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function te(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return function(t,e,n,i,r){return function(s,a,l,c,u,h,d,p){function g(){w&&w(),x&&x.abort()}function m(e,i,r,o,s){y(T)&&n.cancel(T),w=x=null,e(i,r,o,s),t.$$completeOutstandingRequest(f)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==An(s)){var b="_"+(i.counter++).toString(36);i[b]=function(t){i[b].data=t,i[b].called=!0};var w=(C=a.replace("JSON_CALLBACK","angular.callbacks."+b),k=b,S=function(t,e){m(c,t,i[b].data,"",e),i[b]=f},$=r.createElement("script"),E=null,$.type="text/javascript",$.src=C,$.async=!0,E=function(t){$.removeEventListener("load",E,!1),$.removeEventListener("error",E,!1),r.body.removeChild($),$=null;var e=-1,n="unknown";t&&("load"!==t.type||i[k].called||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),S&&S(e,n)},$.addEventListener("load",E,!1),$.addEventListener("error",E,!1),r.body.appendChild($),E)}else{var x=e(s,a);if(x.open(s,a,!0),o(u,function(t,e){y(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==Ye(a).protocol?404:0),m(c,n,e,x.getAllResponseHeaders(),t)},s=function(){m(c,-1,null,null,"")},x.onerror=s,x.onabort=s,d&&(x.withCredentials=!0),p)try{x.responseType=p}catch(t){if("json"!==p)throw t}x.send(v(l)?null:l)}var C,k,S,$,E;if(0<h)var T=n(g,h);else h&&_(h.then)&&h.then(g)}}(t,i,t.defer,e.angular.callbacks,n[0])}]}function ee(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(n){return n.replace(h,t).replace(d,e)}function a(o,a,h,d){function f(t){try{var e,n=t;if(t=h?r.getTrusted(h,n):r.valueOf(n),d&&!y(t))e=t;else if(null==t)e="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=F(t)}e=t}return e}catch(t){i(ji.interr(o,t))}}d=!!d;for(var p,g,m=0,b=[],w=[],x=o.length,C=[],k=[];m<x;){if(-1==(p=o.indexOf(t,m))||-1==(g=o.indexOf(e,p+l))){m!==x&&C.push(s(o.substring(m)));break}m!==p&&C.push(s(o.substring(m,p))),m=o.substring(p+l,g),b.push(m),w.push(n(m,f)),m=g+u,k.push(C.length),C.push("")}if(h&&1<C.length&&ji.throwNoconcat(o),!a||b.length){var S=function(t){for(var e=0,n=b.length;e<n;e++){if(d&&v(t[e]))return;C[k[e]]=t[e]}return C.join("")};return c(function(t){var e=0,n=b.length,r=Array(n);try{for(;e<n;e++)r[e]=w[e](t);return S(r)}catch(t){i(ji.interr(o,t))}},{exp:o,expressions:b,$$watchDelegate:function(t,e){var n;return t.$watchGroup(w,function(i,r){var o=S(i);_(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var l=t.length,u=e.length,h=new RegExp(t.replace(/./g,o),"g"),d=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function ne(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,s,a,l){var c=4<arguments.length,u=c?Nn.call(arguments,4):[],h=e.setInterval,d=e.clearInterval,f=0,p=y(l)&&!l,g=(p?i:n).defer(),m=g.promise;return a=y(a)?a:0,m.then(null,null,c?function(){r.apply(null,u)}:r),m.$$intervalId=h(function(){g.notify(f++),0<a&&f>=a&&(g.resolve(f),d(m.$$intervalId),delete o[m.$$intervalId]),p||t.$apply()},s),o[m.$$intervalId]=g,m}var o={};return r.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},r}]}function ie(t){for(var e=(t=t.split("/")).length;e--;)t[e]=U(t[e]);return t.join("/")}function re(t,e){var n=Ye(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||Vi[n.protocol]||null}function oe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Ye(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=q(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function se(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function ae(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function le(t){return t.replace(/(#.+)|#$/,"$1")}function ce(t,e,n){this.$$html5=!0,n=n||"",re(t,this),this.$$parse=function(t){var n=se(e,t);if(!x(n))throw qi("ipthprfx",t,e);oe(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Y(this.$$search),n=this.$$hash?"#"+U(this.$$hash):"";this.$$url=ie(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(y(o=se(t,i))?(s=o,s=y(o=se(n,o))?e+(se("/",o)||o):t+s):y(o=se(e,i))?s=e+o:e==i+"/"&&(s=e),s&&this.$$parse(s),!!s);var o,s}}function ue(t,e,n){re(t,this),this.$$parse=function(i){var r;v(o=se(t,i)||se(e,i))||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",v(o)&&(t=i,this.replace())):v(r=se(n,o))&&(r=o),oe(r,this),i=this.$$path;var o=t,s=/^\/[A-Z]:(\/.*)/;0===r.indexOf(o)&&(r=r.replace(o,"")),s.exec(r)||(i=(r=s.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),i=this.$$hash?"#"+U(this.$$hash):"";this.$$url=ie(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return ae(t)==ae(e)&&(this.$$parse(e),!0)}}function he(t,e,n){this.$$html5=!0,ue.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(t==ae(i)?o=i:(s=se(e,i))?o=t+n+s:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o);var o,s},this.$$compose=function(){var e=Y(this.$$search),i=this.$$hash?"#"+U(this.$$hash):"";this.$$url=ie(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function de(t){return function(){return this[t]}}function fe(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function pe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return T(t)?(e.enabled=t,this):b(t)?(T(t.enabled)&&(e.enabled=t.enabled),T(t.requireBase)&&(e.requireBase=t.requireBase),T(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=c.url(),o=c.$$state;try{i.url(t,e,n),c.$$state=i.state()}catch(t){throw c.url(r),c.$$state=o,t}}function l(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,u;u=i.baseHref();var h,d=i.url();if(e.enabled){if(!u&&e.requireBase)throw qi("nobase");h=d.substring(0,d.indexOf("/",d.indexOf("//")+2))+(u||"/"),u=r.history?ce:he}else h=ae(d),u=ue;var f=h.substr(0,ae(h).lastIndexOf("/")+1);(c=new u(h,f,"#"+t)).$$parseLinkUrl(d,d),c.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=En(t.target);"a"!==A(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Ye(a.animVal).href),p.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||!c.$$parseLinkUrl(a,l)||(t.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),le(c.absUrl())!=le(d)&&i.url(c.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){v(se(f,t))?s.location.href=t:(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;t=le(t),c.$$parse(t),c.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,c.absUrl()===t&&(i?(c.$$parse(r),c.$$state=o,a(r,!1,o)):(g=!1,l(r,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var t=le(i.url()),e=le(c.absUrl()),o=i.state(),s=c.$$replace,u=t!==e||c.$$html5&&r.history&&o!==c.$$state;(g||u)&&(g=!1,n.$evalAsync(function(){var e=c.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(i?(c.$$parse(t),c.$$state=o):(u&&a(e,s,o===c.$$state?null:c.$$state),l(t,o)))})),c.$$replace=!1}),c}]}function ge(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){var e=n.console||{},i=e[t]||e.log||f;t=!1;try{t=!!i.apply}catch(t){}return t?function(){var t=[];return o(arguments,function(e){var n;t.push(((n=e)instanceof Error&&(n.stack?n=n.message&&-1===n.stack.indexOf(n.message)?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:(r=i("debug"),function(){t&&r.apply(e,arguments)})};var r}]}function me(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Ui("isecfld",e);return t}function ve(t,e){if(!x(t+=""))throw Ui("iseccst",e);return t}function ye(t,e){if(t){if(t.constructor===t)throw Ui("isecfn",e);if(t.window===t)throw Ui("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Ui("isecdom",e);if(t===Object)throw Ui("isecobj",e)}return t}function be(t,e){if(t){if(t.constructor===t)throw Ui("isecfn",e);if(t===Gi||t===Xi||t===Ki)throw Ui("isecff",e)}}function we(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw Ui("isecaf",e)}function xe(t,e){return void 0!==t?t:e}function Ce(t,e){return void 0===t?e:void 0===e?t:t+e}function ke(t,e){var n,i;switch(t.type){case tr.Program:n=!0,o(t.body,function(t){ke(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case tr.Literal:t.constant=!0,t.toWatch=[];break;case tr.UnaryExpression:ke(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case tr.BinaryExpression:ke(t.left,e),ke(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case tr.LogicalExpression:ke(t.left,e),ke(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case tr.ConditionalExpression:ke(t.test,e),ke(t.alternate,e),ke(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case tr.Identifier:t.constant=!1,t.toWatch=[t];break;case tr.MemberExpression:ke(t.object,e),t.computed&&ke(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case tr.CallExpression:n=!!t.filter&&!e(t.callee.name).$stateful,i=[],o(t.arguments,function(t){ke(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&!e(t.callee.name).$stateful?i:[t];break;case tr.AssignmentExpression:ke(t.left,e),ke(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case tr.ArrayExpression:n=!0,i=[],o(t.elements,function(t){ke(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case tr.ObjectExpression:n=!0,i=[],o(t.properties,function(t){ke(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case tr.ThisExpression:t.constant=!1,t.toWatch=[]}}function _e(t){if(1==t.length){var e=(t=t[0].expression).toWatch;return 1!==e.length?e:e[0]!==t?e:n}}function Se(t){return t.type===tr.Identifier||t.type===tr.MemberExpression}function $e(t){if(1===t.body.length&&Se(t.body[0].expression))return{type:tr.AssignmentExpression,left:t.body[0].expression,right:{type:tr.NGValueParameter},operator:"="}}function Ee(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===tr.Literal||t.body[0].expression.type===tr.ArrayExpression||t.body[0].expression.type===tr.ObjectExpression)}function Te(t,e){this.astBuilder=t,this.$filter=e}function De(t,e){this.astBuilder=t,this.$filter=e}function Me(t){return"constructor"==t}function Ae(t){return _(t.valueOf)?t.valueOf():nr.call(t)}function Pe(){var t=ot(),e=ot();this.$get=["$filter",function(i){function r(n,r,o){var s,d,v;switch(o=o||m,typeof n){case"string":v=n=n.trim();var y=o?e:t;if(!(s=y[v])){":"===n.charAt(0)&&":"===n.charAt(1)&&(d=!0,n=n.substring(2));var b=new Ji(s=o?g:p);(s=new er(b,i,s).parse(n)).constant?s.$$watchDelegate=u:d?s.$$watchDelegate=s.literal?c:l:s.inputs&&(s.$$watchDelegate=a),o&&(s=function t(e){function n(t,n,i,r){var o=m;m=!0;try{return e(t,n,i,r)}finally{m=o}}if(!e)return e;n.$$watchDelegate=e.$$watchDelegate;n.assign=t(e.assign);n.constant=e.constant;n.literal=e.literal;for(var i=0;e.inputs&&i<e.inputs.length;++i)e.inputs[i]=t(e.inputs[i]);n.inputs=e.inputs;return n}(s)),y[v]=s}return h(s,r);case"function":return h(n,r);default:return h(f,r)}}function s(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=Ae(t)))&&(t===e||t!=t&&e!=e)}function a(t,e,i,r,o){var a;if(1===(c=r.inputs).length){var l=s,c=c[0];return t.$watch(function(t){var e=c(t);return s(e,l)||(a=r(t,n,n,[e]),l=e&&Ae(e)),a},e,i,o)}for(var u=[],h=[],d=0,f=c.length;d<f;d++)u[d]=s,h[d]=null;return t.$watch(function(t){for(var e=!1,i=0,o=c.length;i<o;i++){var l=c[i](t);(e||(e=!s(l,u[i])))&&(h[i]=l,u[i]=l&&Ae(l))}return e&&(a=r(t,n,n,h)),a},e,i,o)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,_(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function c(t,e,n,i){function r(t){var e=!0;return o(t,function(t){y(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return i(t)},function(t,n,i){a=t,_(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(a)&&s()})},n)}function u(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(t,n,i){_(e)&&e.apply(this,arguments),r()},n)}function h(t,e){if(!e)return t;var n=!1,i=(i=t.$$watchDelegate)!==c&&i!==l?function(i,r,o,s){return o=n&&s?s[0]:t(i,r,o,s),e(o,i,r)}:function(n,i,r,o){return r=t(n,i,r,o),n=e(r,n,i),y(r)?n:r};return t.$$watchDelegate&&t.$$watchDelegate!==a?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=a,n=!t.inputs,i.inputs=t.inputs?t.inputs:[t]),i}var d=Un().noUnsafeEval,p={csp:d,expensiveChecks:!1},g={csp:d,expensiveChecks:!0},m=!1;return r.$$runningExpensiveChecks=function(){return m},r}]}function Oe(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ie(function(e){t.$evalAsync(e)},e)}]}function Ne(){this.$get=["$browser","$exceptionHandler",function(t,e){return Ie(function(e){t.defer(e)},e)}]}function Ie(t,e){function r(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function a(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,t(function(){var t,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var s=0,a=o.length;s<a;++s){r=o[s][0],t=o[s][i.status];try{_(t)?r.resolve(t(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(t){r.reject(t),e(t)}}}))}function l(){this.promise=new r,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var u=i("$q",TypeError);c(r.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&a(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return d(e,!0,t)},function(e){return d(e,!1,t)},e)}}),c(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(u("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=function(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}(this,this.$$resolve,this.$$reject);try{(b(t)||_(t))&&(n=t&&t.then),_(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,a(this.promise.$$state))}catch(t){i[1](t),e(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;o<s;o++){r=i[o][0],t=i[o][3];try{r.notify(_(t)?t(n):n)}catch(t){e(t)}}})}});var h=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},d=function(t,e,n){var i=null;try{_(n)&&(i=n())}catch(t){return h(t,!1)}return i&&_(i.then)?i.then(function(){return h(t,e)},function(t){return h(t,!1)}):h(t,e)},f=function(t,e,n,i){var r=new l;return r.resolve(t),r.promise.then(e,n,i)},p=function t(e){if(!_(e))throw u("norslvr",e);if(!(this instanceof t))return new t(e);var n=new l;return e(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise};return p.defer=function(){return new l},p.reject=function(t){var e=new l;return e.reject(t),e.promise},p.when=f,p.resolve=f,p.all=function(t){var e=new l,n=0,i=Wn(t)?[]:{};return o(t,function(t,r){n++,f(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise},p}function Le(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function He(){var t=10,e=i("$rootScope"),n=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,a,l,c){function u(t){t.currentScope.$$destroyed=!0}function h(){this.$id=++Bn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(w.$$phase)throw e("inprog",w.$$phase);w.$$phase=t}function p(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function g(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function m(){}function y(){for(;k.length;)try{k.shift()()}catch(t){a(t)}s=null}h.prototype={constructor:h,$new:function(t,e){var n;return e=e||this,t?(n=new h).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Bn,this.$$ChildScope=null}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!=this)&&n.$on("$destroy",u),n},$watch:function(t,e,i,r){var o=l(t);if(o.$$watchDelegate)return o.$$watchDelegate(this,e,i,o,t);var s=this,a=s.$$watchers,c={fn:e,last:m,get:o,exp:r||t,eq:!!i};return n=null,_(e)||(c.fn=f),a||(a=s.$$watchers=[]),a.unshift(c),p(this,1),function(){0<=P(a,c)&&p(s,-1),n=null}},$watchGroup:function(t,e){function n(){l=!1,c?(c=!1,e(r,r,a)):e(r,i,a)}var i=Array(t.length),r=Array(t.length),s=[],a=this,l=!1,c=!0;if(!t.length){var u=!0;return a.$evalAsync(function(){u&&e(r,r,a)}),function(){u=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){r[e]=t,i[e]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){var e,n,s;if(!v(i=t)){if(b(i))if(r(i))for(o!==d&&(g=(o=d).length=0,u++),t=i.length,g!==t&&(u++,o.length=g=t),e=0;e<t;e++)s=o[e],n=i[e],s!=s&&n!=n||s===n||(u++,o[e]=n);else{for(e in o!==f&&(o=f={},g=0,u++),t=0,i)Pn.call(i,e)&&(t++,n=i[e],s=o[e],e in o?s!=s&&n!=n||s===n||(u++,o[e]=n):(g++,o[e]=n,u++));if(g>t)for(e in u++,o)Pn.call(i,e)||(g--,delete o[e])}else o!==i&&(o=i,u++);return u}}n.$stateful=!0;var i,o,s,a=this,c=1<e.length,u=0,h=l(t,n),d=[],f={},p=!0,g=0;return this.$watch(h,function(){if(p?(p=!1,e(i,i,a)):e(i,s,a),c)if(b(i))if(r(i)){s=Array(i.length);for(var t=0;t<i.length;t++)s[t]=i[t]}else for(t in s={},i)Pn.call(i,t)&&(s[t]=i[t]);else s=i})},$digest:function(){var i,r,o,l,u,h,f,p,g,v=t,b=[];d("$digest"),c.$$checkUrlChange(),this===w&&null!==s&&(c.defer.cancel(s),y()),n=null;do{for(h=!1,f=this;x.length;){try{(g=x.shift()).scope.$eval(g.expression,g.locals)}catch(t){a(t)}n=null}t:do{if(l=f.$$watchers)for(u=l.length;u--;)try{if(i=l[u])if((r=(0,i.get)(f))===(o=i.last)||(i.eq?I(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){h=!1;break t}}else h=!0,n=i,i.last=i.eq?O(r,null):r,(0,i.fn)(r,o===m?r:o,f),5>v&&(b[p=4-v]||(b[p]=[]),b[p].push({msg:_(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:r,oldVal:o}))}catch(t){a(t)}if(!(l=f.$$watchersCount&&f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(l=f.$$nextSibling);)f=f.$parent}while(f=l);if((h||x.length)&&!v--)throw w.$$phase=null,e("infdig",t,b)}while(h||x.length);for(w.$$phase=null;C.length;)try{C.shift()()}catch(t){a(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===w&&c.$$applicationDestroyed(),p(this,-this.$$watchersCount),this.$$listenerCount)g(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,function t(e){9===$n&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){w.$$phase||x.length||c.defer(function(){x.length&&w.$digest()}),x.push({scope:this,expression:l(t),locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{w.$$phase=null}}catch(t){a(t)}finally{try{w.$digest()}catch(t){throw a(t),t}}},$applyAsync:function(t){var e=this;t&&k.push(function(){e.$eval(t)}),t=l(t),null===s&&(s=c.defer(function(){w.$apply(y)}))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,g(r,1,t))}},$emit:function(t,e){var n,i,r,o=[],s=this,l=!1,c={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=L([c],arguments,1);do{for(n=s.$$listeners[t]||o,c.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(t){a(t)}else n.splice(i,1),i--,r--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var o,s,l=L([r],arguments,1);n=i;){for(r.currentScope=n,o=0,s=(i=n.$$listeners[t]||[]).length;o<s;o++)if(i[o])try{i[o].apply(null,l)}catch(t){a(t)}else i.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var w=new h,x=w.$$asyncQueue=[],C=w.$$postDigestQueue=[],k=w.$$applyAsyncQueue=[];return w}]}function Re(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return""===(r=Ye(n).href)||r.match(o)?n:"unsafe:"+r}}}function Fe(t){var e=[];return y(t)&&o(t,function(t){e.push(function(t){if("self"===t)return t;if(x(t)){if(-1<t.indexOf("***"))throw ir("iwcard",t);return t=Yn(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw ir("imatcher")}(t))}),e}function ze(){this.SCE_CONTEXTS=rr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Fe(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Fe(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Ue(e):!!t.exec(e.href)}function r(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var o=function(t){throw ir("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var s=r(),a={};return a[rr.HTML]=r(s),a[rr.CSS]=r(s),a[rr.URL]=r(s),a[rr.JS]=r(s),a[rr.RESOURCE_URL]=r(a[rr.URL]),{trustAs:function(t,e){var n=a.hasOwnProperty(t)?a[t]:null;if(!n)throw ir("icontext",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw ir("itype",t);return new n(e)},getTrusted:function(n,r){if(null===r||v(r)||""===r)return r;if((c=a.hasOwnProperty(n)?a[n]:null)&&r instanceof c)return r.$$unwrapTrustedValue();if(n===rr.RESOURCE_URL){var s,l,c=Ye(r.toString()),u=!1;for(s=0,l=t.length;s<l;s++)if(i(t[s],c)){u=!0;break}if(u)for(s=0,l=e.length;s<l;s++)if(i(e[s],c)){u=!1;break}if(u)return r;throw ir("insecurl",r.toString())}if(n===rr.HTML)return o(r);throw ir("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function Be(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>$n)throw ir("iequirks");var i=N(rr);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=p),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(rr,function(t,e){var n=An(e);i[st("parse_as_"+n)]=function(e){return r(t,e)},i[st("get_trusted_"+n)]=function(e){return s(t,e)},i[st("trust_as_"+n)]=function(e){return a(t,e)}}),i}]}function je(){this.$get=["$window","$document",function(t,e){var n,i={},r=h((/android (\d+)/.exec(An((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,u=!1;if(l){for(var d in l)if(c=a.exec(d)){n=(n=c[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),u=!!("animation"in l||n+"Animation"in l),!r||c&&u||(c=x(l.webkitTransition),u=x(l.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>r||o),hasEvent:function(t){if("input"===t&&11>=$n)return!1;if(v(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:Un(),vendorPrefix:n,transitions:c,animations:u,android:r}}]}function We(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function r(o,s){r.totalPendingRequests++,x(o)&&!v(t.get(o))||(o=i.getTrustedResourceUrl(o));var a=e.defaults&&e.defaults.transformResponse;return Wn(a)?a=a.filter(function(t){return t!==Gt}):a===Gt&&(a=null),e.get(o,{cache:t,transformResponse:a}).finally(function(){r.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},function(t){if(!s)throw Mi("tpload",o,t.status,t.statusText);return n.reject(t)})}return r.totalPendingRequests=0,r}]}function Ve(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){var i=[];return o(t=t.getElementsByClassName("ng-binding"),function(t){var r=zn.element(t).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+Yn(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!=r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function qe(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,l){_(o)||(l=a,a=o,o=f);var c,u=Nn.call(arguments,3),h=y(l)&&!l,d=(h?i:n).defer(),p=d.promise;return c=e.defer(function(){try{d.resolve(o.apply(null,u))}catch(t){d.reject(t),r(t)}finally{delete s[p.$$timeoutId]}h||t.$apply()},a),p.$$timeoutId=c,s[c]=d,p}var s={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Ye(t){return $n&&(or.setAttribute("href",t),t=or.href),or.setAttribute("href",t),{href:or.href,protocol:or.protocol?or.protocol.replace(/:$/,""):"",host:or.host,search:or.search?or.search.replace(/^\?/,""):"",hash:or.hash?or.hash.replace(/^#/,""):"",hostname:or.hostname,port:or.port,pathname:"/"===or.pathname.charAt(0)?or.pathname:"/"+or.pathname}}function Ue(t){return(t=x(t)?Ye(t):t).protocol===sr.protocol&&t.host===sr.host}function Ge(){this.$get=g(t)}function Xe(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,s,a,l;if((t=n.cookie||"")!==r)for(t=(r=t).split("; "),i={},s=0;s<t.length;s++)0<(a=(o=t[s]).indexOf("="))&&(l=e(o.substring(0,a)),v(i[l])&&(i[l]=e(o.substring(a+1))));return i}}function Ke(){this.$get=Xe}function Ze(t){function e(n,i){if(b(n)){var r={};return o(n,function(t,n){r[n]=e(n,t)}),r}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",en),e("date",hn),e("filter",Qe),e("json",dn),e("limitTo",fn),e("lowercase",fr),e("number",nn),e("orderBy",pn),e("uppercase",pr)}function Qe(){return function(t,e,n){if(!r(t)){if(null==t)return t;throw i("filter")("notarray",t)}var o,s,a,l,c;switch(tn(e)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":a=n,l=o,c=b(s=e)&&"$"in s,!0===a?a=I:_(a)||(a=function(t,e){return!(v(t)||(null===t||null===e?t!==e:b(e)||b(t)&&!m(t)||(t=An(""+t),e=An(""+e),-1===t.indexOf(e))))}),e=function(t){return c&&!b(t)?Je(t,s.$,a,!1):Je(t,s,a,l)};break;default:return t}return Array.prototype.filter.call(t,e)}}function Je(t,e,n,i,r){var o=tn(t),s=tn(e);if("string"===s&&"!"===e.charAt(0))return!Je(t,e.substring(1),n,i);if(Wn(t))return t.some(function(t){return Je(t,e,n,i)});switch(o){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&Je(t[a],e,n,!0))return!0;return!r&&Je(t,e,n,!1)}if("object"===s){for(a in e)if(!_(r=e[a])&&!v(r)&&!Je((o="$"===a)?t:t[a],r,n,o,o))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function tn(t){return null===t?"null":typeof t}function en(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:rn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function nn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:rn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function rn(t,e,n,i,r){if(!x(t)&&!C(t)||isNaN(t))return"";var o=!isFinite(t),s=!1,a=Math.abs(t)+"",l="";if(o)l="";else{for(function(t,e,n,i){var r=t.d,o=r.length-t.i;if(i=r[n=(e=v(e)?Math.min(Math.max(n,o),i):+e)+t.i],0<n)r.splice(n);else{t.i=1,r.length=n=e+1;for(var s=0;s<n;s++)r[s]=0}for(5<=i&&r[n-1]++;o<e;o++)r.push(0);(e=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0))&&(r.unshift(e),t.i++)}(s=function(t){var e,n,i,r,o,s=0;for(-1<(n=t.indexOf(lr))&&(t=t.replace(lr,"")),0<(i=t.search(/e/i))?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)==cr;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==cr;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>ar&&(e=e.splice(0,ar-1),s=n-1,n=1),{d:e,e:s,i:n}}(a),r,e.minFrac,e.maxFrac),l=s.d,a=s.i,r=s.e,o=[],s=l.reduce(function(t,e){return t&&!e},!0);0>a;)l.unshift(0),a++;for(0<a?o=l.splice(a,l.length):(o=l,l=[0]),a=[],l.length>=e.lgSize&&a.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)a.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&a.unshift(l.join("")),l=a.join(n),o.length&&(l+=i+o.join("")),r&&(l+="e+"+r)}return 0>t&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function on(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t=cr+t;return n&&(t=t.substr(t.length-e)),i+t}function sn(t,e,n,i){return n=n||0,function(r){return r=r["get"+t](),(0<n||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),on(r,e,i)}}function an(t,e){return function(n,i){var r=n["get"+t]();return i[On(e?"SHORT"+t:t)][r]}}function ln(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function cn(t){return function(e){var n=ln(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,on(e=1+Math.round(e/6048e5),t)}}function un(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function hn(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,x(n)&&(n=dr.test(n)?h(n):function(t){var n;if(n=t.match(e)){t=new Date(0);var i=0,r=0,o=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(i=h(n[9]+n[10]),r=h(n[9]+n[11])),o.call(t,h(n[1]),h(n[2])-1,h(n[3])),i=h(n[4]||0)-i,r=h(n[5]||0)-r,o=h(n[6]||0),n=Math.round(1e3*parseFloat("0."+(n[7]||0))),s.call(t,i,r,o,n)}return t}(n)),C(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;i;)(a=hr.exec(i))?i=(c=L(c,a,1)).pop():(c.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=B(r,u),n=j(n,r,!0)),o(c,function(e){s=ur[e],l+=s?s(n,t.DATETIME_FORMATS,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function dn(){return function(t,e){return v(e)&&(e=2),F(t,e)}}function fn(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):h(e),isNaN(e)?t:(C(t)&&(t=t.toString()),Wn(t)||x(t)?(n=0>(n=!n||isNaN(n)?0:h(n))?Math.max(0,t.length+n):n,0<=e?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function pn(t){function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}return function(n,i,o){if(!r(n))return n;Wn(i)||(i=[i]),0===i.length&&(i=["+"]);var s,a=(s=(s=o)?-1:1,i.map(function(e){var n=1,i=p;if(_(e))i=e;else if(x(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e)).constant)){var r=i();i=function(t){return t[r]}}return{get:i,descending:n*s}}));return a.push({get:function(){return{}},descending:o?-1:1}),(n=Array.prototype.map.call(n,function(t,n){return{value:t,predicateValues:a.map(function(i){var r=i.get(t);return i=typeof r,null===r?(i="string",r="null"):"string"===i?r=r.toLowerCase():"object"===i&&("function"==typeof r.valueOf&&e(r=r.valueOf())||m(r)&&e(r=r.toString())||(r=n)),{value:r,type:i}})}})).sort(function(t,e){for(var n=0,i=0,r=a.length;i<r;++i){n=t.predicateValues[i];var o=e.predicateValues[i],s=0;if(n.type===o.type?n.value!==o.value&&(s=n.value<o.value?-1:1):s=n.type<o.type?-1:1,n=s*a[i].descending)break}return n}),n.map(function(t){return t.value})}}function gn(t){return _(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function mn(t,e,i,r,s){var a=this,l=[];a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=vr,a.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},a.$addControl=function(t){nt(t.$name,"input"),l.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),o(a.$$success,function(e,n){a.$setValidity(n,null,t)}),P(l,t),t.$$parentForm=vr},_n({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(P(i,n),0===i.length&&delete t[e])},$animate:r}),a.$setDirty=function(){r.removeClass(t,Jr),r.addClass(t,to),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(t,Jr,to+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(l,function(t){t.$setPristine()})},a.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,"ng-submitted"),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function vn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function yn(t,e,n,i,r,o){var s=An(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,c()})}var l,c=function(t){if(l&&(o.defer.cancel(l),l=null),!a){var r=e.val();t=t&&t.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=qn(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,t)}};if(r.hasEvent("input"))e.on("input",c);else{var u=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&19>e||37<=e&&40>=e||u(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",u)}e.on("change",c),Mr[s]&&i.$$hasNativeValidators&&s===n.type&&e.on("keydown wheel mousedown",function(t){if(!l){var e=this.validity,n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||c(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function bn(t,e){return function(n,i){var r,s;if(k(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),xr.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function wn(t,e,i,r){return function(o,s,a,l,c,u,h){function d(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function f(t){return y(t)&&!k(t)?i(t)||n:t}xn(o,s,a,l),yn(0,s,a,l,c,u);var p,g,m,b=l&&l.$options&&l.$options.timezone;(l.$$parserName=t,l.$parsers.push(function(t){return l.$isEmpty(t)?null:e.test(t)?(t=i(t,p),b&&(t=j(t,b)),t):n}),l.$formatters.push(function(t){if(t&&!k(t))throw no("datefmt",t);return d(t)?((p=t)&&b&&(p=j(p,b,!0)),h("date")(t,r,b)):(p=null,"")}),y(a.min)||a.ngMin)&&(l.$validators.min=function(t){return!d(t)||v(g)||i(t)>=g},a.$observe("min",function(t){g=f(t),l.$validate()}));(y(a.max)||a.ngMax)&&(l.$validators.max=function(t){return!d(t)||v(m)||i(t)<=m},a.$observe("max",function(t){m=f(t),l.$validate()}))}}function xn(t,e,i,r){(r.$$hasNativeValidators=b(e[0].validity))&&r.$parsers.push(function(t){var i=e.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:t})}function Cn(t,e,n,i,r){if(y(i)){if(!(t=t(i)).constant)throw no("constexpr",n,i);return t(e)}return r}function kn(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){var e=[];return Wn(t)?(o(t,function(t){e=e.concat(r(t))}),e):x(t)?t.split(" "):b(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,l){function c(t){t=u(t,1),l.$addClass(t)}function u(t,e){var n=a.data("$classCounts")||ot(),i=[];return o(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),a.data("$classCounts",n),i.join(" ")}function h(t){if(!0===e||s.$index%2===e){var o=r(t||[]);if(d){if(!I(t,d)){var l=r(d);p=i(f=o,h=l),g=i(h,f),p=u(p,1),g=u(g,-1),p&&p.length&&n.addClass(a,p),g&&g.length&&n.removeClass(a,g)}}else c(o)}var h,f,p,g;d=Wn(t)?t.map(function(t){return N(t)}):N(t)}var d;s.$watch(l[t],h,!0),l.$observe("class",function(e){h(s.$eval(l[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(l[t]));o===e?c(a):(o=u(a,-1),l.$removeClass(o))}})}}}]}function _n(t){function e(t,e){e&&!s[t]?(c.addClass(o,t),s[t]=!0):!e&&s[t]&&(c.removeClass(o,t),s[t]=!1)}function i(t,n){t=t?"-"+J(t,"-"):"",e(Zr+t,!0===n),e(Qr+t,!1===n)}var r=t.ctrl,o=t.$element,s={},a=t.set,l=t.unset,c=t.$animate;s[Qr]=!(s[Zr]=o.hasClass(Zr)),r.$setValidity=function(t,o,s){v(o)?(r.$pending||(r.$pending={}),a(r.$pending,t,s)):(r.$pending&&l(r.$pending,t,s),Sn(r.$pending)&&(r.$pending=n)),T(o)?o?(l(r.$error,t,s),a(r.$$success,t,s)):(a(r.$error,t,s),l(r.$$success,t,s)):(l(r.$error,t,s),l(r.$$success,t,s)),r.$pending?(e(eo,!0),r.$valid=r.$invalid=n,i("",null)):(e(eo,!1),r.$valid=Sn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),i(t,o=r.$pending&&r.$pending[t]?n:!r.$error[t]&&(!!r.$$success[t]||null)),r.$$parentForm.$setValidity(t,o,r)}}function Sn(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var $n,En,Tn,Dn,Mn=/^\/(.+)\/([a-z]*)$/,An=function(t){return x(t)?t.toLowerCase():t},Pn=Object.prototype.hasOwnProperty,On=function(t){return x(t)?t.toUpperCase():t},Nn=[].slice,In=[].splice,Ln=[].push,Hn=Object.prototype.toString,Rn=Object.getPrototypeOf,Fn=i("ng"),zn=t.angular||(t.angular={}),Bn=0;$n=e.documentMode,f.$inject=[],p.$inject=[];var jn,Wn=Array.isArray,Vn=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,qn=function(t){return x(t)?t.trim():t},Yn=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Un=function(){if(!y(Un.rules)){var t=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Un.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=Un;try{new Function(""),n=!1}catch(t){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return Un.rules},Gn=function(){if(y(Gn.name_))return Gn.name_;var t,n,i,r,o=Kn.length;for(n=0;n<o;++n)if(i=Kn[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Gn.name_=r},Xn=/:/g,Kn=["ng-","data-ng-","ng:","x-ng-"],Zn=/[A-Z]/g,Qn=!1,Jn=3,ti={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};ut.expando="ng339";var ei=ut.cache={},ni=1;ut._data=function(t){return this.cache[t[this.expando]]||{}};var ii=/([\:\-\_]+(.))/g,ri=/^moz([A-Z])/,oi={mouseleave:"mouseout",mouseenter:"mouseover"},si=i("jqLite"),ai=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,li=/<|&#?\w+;/,ci=/<([\w:-]+)/,ui=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,hi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hi.optgroup=hi.option,hi.tbody=hi.tfoot=hi.colgroup=hi.caption=hi.thead,hi.th=hi.td;var di=Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},fi=ut.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ut(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return En(0<=t?this[t]:this[this.length+t])},length:0,push:Ln,sort:[].sort,splice:[].splice},pi={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){pi[An(t)]=t});var gi={};o("input select option textarea button form details".split(" "),function(t){gi[t]=!0});var mi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:mt,removeData:pt,hasData:function(t){for(var e in ei[t.ng339])return!0;return!1}},function(t,e){ut[e]=t}),o({data:mt,inheritedData:Ct,scope:function(t){return En.data(t,"$scope")||Ct(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return En.data(t,"$isolateScope")||En.data(t,"$isolateScopeNoTemplate")},controller:xt,injector:function(t){return Ct(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:vt,css:function(t,e,n){if(e=st(e),!y(n))return t.style[e];t.style[e]=n},attr:function(t,e,i){var r=t.nodeType;if(r!==Jn&&2!==r&&8!==r)if(r=An(e),pi[r]){if(!y(i))return t[e]||(t.attributes.getNamedItem(e)||f).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(y(i))t.setAttribute(e,i);else if(t.getAttribute)return null===(t=t.getAttribute(e,2))?n:t},prop:function(t,e,n){if(!y(n))return t[e];t[e]=n},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return 1===n||n===Jn?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===A(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(v(e))return t.innerHTML;dt(t,!0),t.innerHTML=e},empty:kt},function(t,e){ut.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==kt&&v(2==t.length&&t!==vt&&t!==xt?e:n)){if(b(e)){for(i=0;i<o;i++)if(t===mt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(o=v(i=t.$dv)?Math.min(o,1):o,r=0;r<o;r++){var s=t(this[r],e,n);i=i?i+s:s}return i}for(i=0;i<o;i++)t(this[i],e,n);return this}}),o({removeData:pt,on:function(t,e,i,r){if(y(r))throw si("onargs");if(at(t)){var o=(r=gt(t,!0)).events,s=r.handle;s||(s=r.handle=(u=o,(h=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=u[e||t.type],i=n?n.length:0;if(i){if(v(t.immediatePropagationStopped)){var r=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),r&&r.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var o=n.specialHandlerWrapper||$t;1<i&&(n=N(n));for(var s=0;s<i;s++)t.isImmediatePropagationStopped()||o(c,t,n[s])}}).elem=c=t,h));for(var a=(r=0<=e.indexOf(" ")?e.split(" "):[e]).length,l=function(e,n,r){var a=o[e];a||((a=o[e]=[]).specialHandlerWrapper=n,"$destroy"===e||r||t.addEventListener(e,s,!1)),a.push(i)};a--;)e=r[a],oi[e]?(l(oi[e],Et),l(e,n,!0)):l(e)}var c,u,h},off:ft,one:function(t,e,n){(t=En(t)).on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;dt(t),o(new ut(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){if(1===(n=t.nodeType)||11===n)for(var n=0,i=(e=new ut(e)).length;n<i;n++)t.appendChild(e[n])},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;o(new ut(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){ct(t,En(e).eq(0).clone()[0])},remove:_t,detach:function(t){_t(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,r=0,o=(e=new ut(e)).length;r<o;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:bt,removeClass:yt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;v(i)&&(i=!vt(t,e)),(i?bt:yt)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ht,triggerHandler:function(t,e,n){var i,r,s=e.type||e,a=gt(t);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:s,target:t},e.type&&(i=c(i,e)),e=N(a),r=n?[i].concat(n):[i],o(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){ut.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;o<s;o++)v(r)?y(r=t(this[o],e,n,i))&&(r=En(r)):wt(r,t(this[o],e,n,i));return y(r)?r:this},ut.prototype.bind=ut.prototype.on,ut.prototype.unbind=ut.prototype.off}),Mt.prototype={put:function(t,e){this[Dt(t,this.nextUid)]=e},get:function(t){return this[Dt(t,this.nextUid)]},remove:function(t){var e=this[t=Dt(t,this.nextUid)];return delete this[t],e}};var vi=[function(){this.$get=[function(){return Mt}]}],yi=/^[^\(]*\(\s*([^\)]*)\)/m,bi=/,/,wi=/^\s*(_?)(\S+?)\1\s*$/,xi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ci=i("$injector");At.$$annotate=function(t,e,n){var i,r;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw x(n)&&n||(n=t.name||((r=(r=t).toString().replace(xi,"").match(yi))?"function("+(r[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Ci("strictdi",n);o((e=(e=t.toString().replace(xi,"")).match(yi))[1].split(bi),function(t){t.replace(wi,function(t,e,n){i.push(n)})})}t.$inject=i}}else Wn(t)?(et(t[e=t.length-1],"fn"),i=t.slice(0,e)):et(t,"fn",!0);return i};var ki=i("$animate"),_i=function(){this.$get=function(){}},Si=function(){var t=new Mt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&o(e=x(e)?e.split(" "):Wn(e)?e:[],function(e){e&&(i=!0,t[e]=n)}),i}function s(){o(e,function(e){var n=t.get(e);if(n){var i=function(t){x(t)&&(t=t.split(" "));var e=ot();return o(t,function(t){t.length&&(e[t]=!0)}),e}(e.attr("class")),r="",s="";o(n,function(t,e){t!==!!i[e]&&(t?r+=(r.length?" ":"")+e:s+=(s.length?" ":"")+e)}),o(e,function(t){r&&bt(t,r),s&&yt(t,s)}),t.remove(e)}}),e.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(o,a,l,c){return c&&c(),(l=l||{}).from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&(a=l.addClass,c=l.removeClass,a=r(l=t.get(o)||{},a,!0),c=r(l,c,!1),(a||c)&&(t.put(o,l),e.push(o),1===e.length&&i.$$postDigest(s))),(o=new n).complete(),o}}}]},$i=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw ki("notcsel",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw ki("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i;t:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break t}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&En(i),r=r&&En(r),e(n,i=i||r.parent(),r),t.push(n,"enter",Nt(o))},move:function(n,i,r,o){return i=i&&En(i),r=r&&En(r),e(n,i=i||r.parent(),r),t.push(n,"move",Nt(o))},leave:function(e,n){return t.push(e,"leave",Nt(n),function(){e.remove()})},addClass:function(e,n,i){return(i=Nt(i)).addClass=Ot(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return(i=Nt(i)).removeClass=Ot(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return(r=Nt(r)).addClass=Ot(r.addClass,n),r.removeClass=Ot(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return(o=Nt(o)).from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,i):i,o.tempClasses=Ot(o.tempClasses,r||"ng-inline-animate"),t.push(e,"animate",o)}}}]}],Ei=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),1<n.length||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Ti=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,i,r){function s(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){var n=i[0];n&&n.hidden?r(t,0,!1):e(t)},this._state=0}return s.chain=function(t,e){var n=0;!function i(){n===t.length?e(!0):t[n](function(t){!1===t?e(!1):(n++,i())})}()},s.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;o(t,function(t){t.done(n)})},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},s}]},Di=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o.addClass&&(e.addClass(o.addClass),o.addClass=null),o.removeClass&&(e.removeClass(o.removeClass),o.removeClass=null),o.to&&(e.css(o.to),o.to=null),s||a.complete(),s=!0}),a}var o=i||{};o.$$prepared||(o=O(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(e.css(o.from),o.from=null);var s,a=new n;return{start:r,end:r}}}]},Mi=i("$compile");Rt.$inject=["$provide","$$sanitizeUriProvider"];var Ai=/^((?:x|data)[\:\-_])/i,Pi=i("$controller"),Oi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ni=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof En&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Ii="application/json",Li={"Content-Type":Ii+";charset=utf-8"},Hi=/^\[|^\{(?!\{)/,Ri={"[":/]$/,"{":/}$/},Fi=/^\)\]\}',?\n/,zi=i("$http"),Bi=function(t){return function(){throw zi("legacy",t)}},ji=zn.$interpolateMinErr=i("$interpolate");ji.throwNoconcat=function(t){throw ji("noconcat",t)},ji.interr=function(t,e){return ji("interr",t,e.toString())};var Wi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Vi={http:80,https:443,ftp:21},qi=i("$location"),Yi={$$html5:!1,$$replace:!1,absUrl:de("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=Wi.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:de("$$protocol"),host:de("$$host"),port:de("$$port"),path:fe("$$path",function(t){return"/"==(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||C(t))t=t.toString(),this.$$search=q(t);else{if(!b(t))throw qi("isrcharg");o(t=O(t,{}),function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:fe("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([he,ue,ce],function(t){t.prototype=Object.create(Yi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==ce||!this.$$html5)throw qi("nostate");return this.$$state=v(e)?null:e,this}});var Ui=i("$parse"),Gi=Function.prototype.call,Xi=Function.prototype.apply,Ki=Function.prototype.bind,Zi=ot();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Zi[t]=!0});var Qi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ji=function(t){this.options=t};Ji.prototype={constructor:Ji,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(t=this.text.charAt(this.index))||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=Zi[e],r=Zi[n];Zi[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdent:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Ui("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=An(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);i=i+o;if(r)"u"===o?((r=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Qi[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var tr=function(t,e){this.lexer=t,this.options=e};tr.Program="Program",tr.ExpressionStatement="ExpressionStatement",tr.AssignmentExpression="AssignmentExpression",tr.ConditionalExpression="ConditionalExpression",tr.LogicalExpression="LogicalExpression",tr.BinaryExpression="BinaryExpression",tr.UnaryExpression="UnaryExpression",tr.CallExpression="CallExpression",tr.MemberExpression="MemberExpression",tr.Identifier="Identifier",tr.Literal="Literal",tr.ArrayExpression="ArrayExpression",tr.Property="Property",tr.ObjectExpression="ObjectExpression",tr.ThisExpression="ThisExpression",tr.NGValueParameter="NGValueParameter",tr.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:tr.Program,body:t}},expressionStatement:function(){return{type:tr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:tr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:tr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:tr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:tr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:tr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:tr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=O(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:tr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:tr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:tr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:tr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.expression())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:tr.Identifier,name:t.text}},constant:function(){return{type:tr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:tr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:tr.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:tr.ObjectExpression,properties:e}},throwError:function(t,e){throw Ui("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Ui("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Ui("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=(t=this.tokens[t]).text;if(o===e||o===n||o===i||o===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return!!(t=this.peek(t,e,n,i))&&(this.tokens.shift(),t)},constants:{true:{type:tr.Literal,value:!0},false:{type:tr.Literal,value:!1},null:{type:tr.Literal,value:null},undefined:{type:tr.Literal,value:n},this:{type:tr.ThisExpression}}},Te.prototype={compile:function(t,e){var i=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},ke(r,i.$filter);var s,a="";return this.stage="assign",(s=$e(r))&&(this.state.computing="assign",a=this.nextId(),this.recurse(s,a),this.return_(a),a="fn.assign="+this.generateFunction("assign","s,v,l")),s=_e(r.body),i.stage="inputs",o(s,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",a)(this.$filter,me,ye,be,ve,we,xe,Ce,t),this.state=this.stage=n,a.literal=Ee(r),a.constant=r.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,s,a){var l,c,u,h,d=this;if(r=r||f,!a&&y(t.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,s,!0));else switch(t.type){case tr.Program:o(t.body,function(e,i){d.recurse(e.expression,n,n,function(t){c=t}),i!==t.body.length-1?d.current().body.push(c,";"):d.return_(c)});break;case tr.Literal:h=this.escape(t.value),this.assign(e,h),r(h);break;case tr.UnaryExpression:this.recurse(t.argument,n,n,function(t){c=t}),h=t.operator+"("+this.ifDefined(c,0)+")",this.assign(e,h),r(h);break;case tr.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){c=t}),h="+"===t.operator?this.plus(l,c):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(c,0):"("+l+")"+t.operator+"("+c+")",this.assign(e,h),r(h);break;case tr.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),r(e);break;case tr.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),r(e);break;case tr.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),me(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),function(){d.if_("inputs"===d.stage||"s",function(){s&&1!==s&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||Me(t.name))&&d.addEnsureSafeObject(e),r(e);break;case tr.MemberExpression:l=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,l,n,function(){d.if_(d.notNull(l),function(){s&&1!==s&&d.addEnsureSafeAssignContext(l),t.computed?(c=d.nextId(),d.recurse(t.property,c),d.getStringValue(c),d.addEnsureSafeMemberName(c),s&&1!==s&&d.if_(d.not(d.computedMember(l,c)),d.lazyAssign(d.computedMember(l,c),"{}")),h=d.ensureSafeObject(d.computedMember(l,c)),d.assign(e,h),i&&(i.computed=!0,i.name=c)):(me(t.property.name),s&&1!==s&&d.if_(d.not(d.nonComputedMember(l,t.property.name)),d.lazyAssign(d.nonComputedMember(l,t.property.name),"{}")),h=d.nonComputedMember(l,t.property.name),(d.state.expensiveChecks||Me(t.property.name))&&(h=d.ensureSafeObject(h)),d.assign(e,h),i&&(i.computed=!1,i.name=t.property.name))},function(){d.assign(e,"undefined")}),r(e)},!!s);break;case tr.CallExpression:e=e||this.nextId(),t.filter?(c=d.filter(t.callee.name),u=[],o(t.arguments,function(t){var e=d.nextId();d.recurse(t,e),u.push(e)}),h=c+"("+u.join(",")+")",d.assign(e,h),r(e)):(c=d.nextId(),l={},u=[],d.recurse(t.callee,c,l,function(){d.if_(d.notNull(c),function(){d.addEnsureSafeFunction(c),o(t.arguments,function(t){d.recurse(t,d.nextId(),n,function(t){u.push(d.ensureSafeObject(t))})}),l.name?(d.state.expensiveChecks||d.addEnsureSafeObject(l.context),h=d.member(l.context,l.name,l.computed)+"("+u.join(",")+")"):h=c+"("+u.join(",")+")",h=d.ensureSafeObject(h),d.assign(e,h)},function(){d.assign(e,"undefined")}),r(e)}));break;case tr.AssignmentExpression:if(c=this.nextId(),l={},!Se(t.left))throw Ui("lval");this.recurse(t.left,n,l,function(){d.if_(d.notNull(l.context),function(){d.recurse(t.right,c),d.addEnsureSafeObject(d.member(l.context,l.name,l.computed)),d.addEnsureSafeAssignContext(l.context),h=d.member(l.context,l.name,l.computed)+t.operator+c,d.assign(e,h),r(e||h)})},1);break;case tr.ArrayExpression:u=[],o(t.elements,function(t){d.recurse(t,d.nextId(),n,function(t){u.push(t)})}),h="["+u.join(",")+"]",this.assign(e,h),r(h);break;case tr.ObjectExpression:u=[],o(t.properties,function(t){d.recurse(t.value,d.nextId(),n,function(e){u.push(d.escape(t.key.type===tr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+u.join(",")+"}",this.assign(e,h),r(h);break;case tr.ThisExpression:this.assign(e,"s"),r("s");break;case tr.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw Ui("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},De.prototype={compile:function(t,e){var n,i,r,s=this,a=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,ke(a,s.$filter),(n=$e(a))&&(i=this.recurse(n)),(n=_e(a.body))&&(r=[],o(n,function(t,e){var n=s.recurse(t);t.input=n,r.push(n),t.watchId=e}));var l=[];return o(a.body,function(t){l.push(s.recurse(t.expression))}),n=0===a.body.length?function(){}:1===a.body.length?l[0]:function(t,e){var n;return o(l,function(i){n=i(t,e)}),n},i&&(n.assign=function(t,e,n){return i(t,n,e)}),r&&(n.inputs=r),n.literal=Ee(a),n.constant=a.constant,n},recurse:function(t,e,i){var r,s,a,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case tr.Literal:return this.value(t.value,e);case tr.UnaryExpression:return s=this.recurse(t.argument),this["unary"+t.operator](s,e);case tr.BinaryExpression:case tr.LogicalExpression:return r=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](r,s,e);case tr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case tr.Identifier:return me(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||Me(t.name),e,i,l.expression);case tr.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(me(t.property.name,l.expression),s=t.property.name),t.computed&&(s=this.recurse(t.property)),t.computed?this.computedMember(r,s,e,i,l.expression):this.nonComputedMember(r,s,l.expensiveChecks,e,i,l.expression);case tr.CallExpression:return a=[],o(t.arguments,function(t){a.push(l.recurse(t))}),t.filter&&(s=this.$filter(t.callee.name)),t.filter||(s=this.recurse(t.callee,!0)),t.filter?function(t,i,r,o){for(var l=[],c=0;c<a.length;++c)l.push(a[c](t,i,r,o));return t=s.apply(n,l,o),e?{context:n,name:n,value:t}:t}:function(t,n,i,r){var o,c=s(t,n,i,r);if(null!=c.value){ye(c.context,l.expression),be(c.value,l.expression),o=[];for(var u=0;u<a.length;++u)o.push(ye(a[u](t,n,i,r),l.expression));o=ye(c.value.apply(c.context,o),l.expression)}return e?{value:o}:o};case tr.AssignmentExpression:return r=this.recurse(t.left,!0,1),s=this.recurse(t.right),function(t,n,i,o){var a=r(t,n,i,o);return t=s(t,n,i,o),ye(a.value,l.expression),we(a.context),a.context[a.name]=t,e?{value:t}:t};case tr.ArrayExpression:return a=[],o(t.elements,function(t){a.push(l.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case tr.ObjectExpression:return a=[],o(t.properties,function(t){a.push({key:t.key.type===tr.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case tr.ThisExpression:return function(t){return e?{value:t}:t};case tr.NGValueParameter:return function(t,n,i,r){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){return n=y(n=t(n,i,r,o))?+n:0,e?{value:n}:n}},"unary-":function(t,e){return function(n,i,r,o){return n=y(n=t(n,i,r,o))?-n:0,e?{value:n}:n}},"unary!":function(t,e){return function(n,i,r,o){return n=!t(n,i,r,o),e?{value:n}:n}},"binary+":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s);return a=Ce(a,i=e(i,r,o,s)),n?{value:a}:a}},"binary-":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s);return i=e(i,r,o,s),a=(y(a)?a:0)-(y(i)?i:0),n?{value:a}:a}},"binary*":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)*e(i,r,o,s),n?{value:i}:i}},"binary/":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)/e(i,r,o,s),n?{value:i}:i}},"binary%":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)%e(i,r,o,s),n?{value:i}:i}},"binary===":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)===e(i,r,o,s),n?{value:i}:i}},"binary!==":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)!==e(i,r,o,s),n?{value:i}:i}},"binary==":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)==e(i,r,o,s),n?{value:i}:i}},"binary!=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)!=e(i,r,o,s),n?{value:i}:i}},"binary<":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)<e(i,r,o,s),n?{value:i}:i}},"binary>":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)>e(i,r,o,s),n?{value:i}:i}},"binary<=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)<=e(i,r,o,s),n?{value:i}:i}},"binary>=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)>=e(i,r,o,s),n?{value:i}:i}},"binary&&":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)&&e(i,r,o,s),n?{value:i}:i}},"binary||":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)||e(i,r,o,s),n?{value:i}:i}},"ternary?:":function(t,e,n,i){return function(r,o,s,a){return r=t(r,o,s,a)?e(r,o,s,a):n(r,o,s,a),i?{value:r}:r}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,r,o){return function(s,a,l,c){return s=a&&t in a?a:s,r&&1!==r&&s&&!s[t]&&(s[t]={}),a=s?s[t]:n,e&&ye(a,o),i?{context:s,name:t,value:a}:a}},computedMember:function(t,e,n,i,r){return function(o,s,a,l){var c,u,h=t(o,s,a,l);return null!=h&&(me(c=ve(c=e(o,s,a,l)),r),i&&1!==i&&(we(h),h&&!h[c]&&(h[c]={})),ye(u=h[c],r)),n?{context:h,name:c,value:u}:u}},nonComputedMember:function(t,e,i,r,o,s){return function(a,l,c,u){return a=t(a,l,c,u),o&&1!==o&&(we(a),a&&!a[e]&&(a[e]={})),l=null!=a?a[e]:n,(i||Me(e))&&ye(l,s),r?{context:a,name:e,value:l}:l}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var er=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new tr(this.lexer),this.astCompiler=n.csp?new De(this.ast,e):new Te(this.ast,e)};er.prototype={constructor:er,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var nr=Object.prototype.valueOf,ir=i("$sce"),rr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},or=(Mi=i("$compile"),e.createElement("a")),sr=Ye(t.location.href);Xe.$inject=["$document"],Ze.$inject=["$provide"];var ar=22,lr=".",cr="0";en.$inject=["$locale"],nn.$inject=["$locale"];var ur={yyyy:sn("FullYear",4),yy:sn("FullYear",2,0,!0),y:sn("FullYear",1),MMMM:an("Month"),MMM:an("Month",!0),MM:sn("Month",2,1),M:sn("Month",1,1),dd:sn("Date",2),d:sn("Date",1),HH:sn("Hours",2),H:sn("Hours",1),hh:sn("Hours",2,-12),h:sn("Hours",1,-12),mm:sn("Minutes",2),m:sn("Minutes",1),ss:sn("Seconds",2),s:sn("Seconds",1),sss:sn("Milliseconds",3),EEEE:an("Day"),EEE:an("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return(0<=(t=-1*n)?"+":"")+(on(Math[0<t?"floor":"ceil"](t/60),2)+on(Math.abs(t%60),2))},ww:cn(2),w:cn(1),G:un,GG:un,GGG:un,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},hr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,dr=/^\-?\d+$/;hn.$inject=["$locale"];var fr=g(An),pr=g(On);pn.$inject=["$parse"];var gr=g({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Hn.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),mr={};o(pi,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=Ft("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,0,r)}),mr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(mi,function(t,e){mr[e]=function(){return{priority:100,link:function(t,n,i){"ngPattern"===e&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Mn))?i.$set("ngPattern",new RegExp(n[1],n[2])):t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Ft("ng-"+t);mr[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Hn.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){e?(r.$set(s,e),$n&&o&&i.prop(o,r[s])):"href"===t&&r.$set(s,null)})}}}});var vr={$addControl:f,$$renameControl:function(t,e){t.$name=e},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};mn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yr=function(t){return["$timeout","$parse",function(e,i){function r(t){return""===t?i('this[""]').assign:i(t).assign||f}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:mn,compile:function(i,o){i.addClass(Jr).addClass(Zr);var s=o.name?"name":!(!t||!o.ngForm)&&"ngForm";return{pre:function(t,i,o,a){var l=a[0];if(!("action"in o)){var u=function(e){t.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),e.preventDefault()};i[0].addEventListener("submit",u,!1),i.on("$destroy",function(){e(function(){i[0].removeEventListener("submit",u,!1)},0,!1)})}(a[1]||l.$$parentForm).$addControl(l);var h=s?r(l.$name):f;s&&(h(t,l),o.$observe(s,function(e){l.$name!==e&&(h(t,n),l.$$parentForm.$$renameControl(l,e),(h=r(l.$name))(t,l))})),i.on("$destroy",function(){l.$$parentForm.$removeControl(l),h(t,n),c(l,vr)})}}}}}]},br=yr(),wr=yr(!0),xr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Cr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,kr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,_r=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Sr=/^(\d{4})-(\d{2})-(\d{2})$/,$r=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Er=/^(\d{4})-W(\d\d)$/,Tr=/^(\d{4})-(\d\d)$/,Dr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mr=ot();o(["date","datetime-local","month","time","week"],function(t){Mr[t]=!0});var Ar={text:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i)},date:wn("date",Sr,bn(Sr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":wn("datetimelocal",$r,bn($r,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:wn("time",Dr,bn(Dr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:wn("week",Er,function(t,e){if(k(t))return t;if(x(t)){Er.lastIndex=0;var n=Er.exec(t);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,l=ln(i);r=7*(r-1);return e&&(n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),a=e.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,s,a)}}return NaN},"yyyy-Www"),month:wn("month",Tr,bn(Tr,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,r,o,s){var a,l;(xn(0,e,0,r),yn(0,e,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:_r.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!C(t))throw no("numfmt",t);t=t.toString()}return t}),y(i.min)||i.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||v(a)||t>=a},i.$observe("min",function(t){y(t)&&!C(t)&&(t=parseFloat(t,10)),a=C(t)&&!isNaN(t)?t:n,r.$validate()}));(y(i.max)||i.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||v(l)||t<=l},i.$observe("max",function(t){y(t)&&!C(t)&&(t=parseFloat(t,10)),l=C(t)&&!isNaN(t)?t:n,r.$validate()}))},url:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Cr.test(n)}},email:function(t,e,n,i,r,o){yn(0,e,n,i,r,o),vn(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||kr.test(n)}},radio:function(t,e,n,i){v(n.name)&&e.attr("name",++Bn),e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,r,o,s,a){var l=Cn(a,t,"ngTrueValue",n.ngTrueValue,!0),c=Cn(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return I(t,l)}),i.$parsers.push(function(t){return t?l:c})},hidden:f,button:f,submit:f,reset:f,file:f},Pr=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Ar[An(s.type)]||Ar.text)(r,o,s,a[0],e,t,n,i)}}}}],Or=/^(true|false|\d+)$/,Nr=function(){return{restrict:"A",priority:100,compile:function(t,e){return Or.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ir=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=v(t)?"":t})}}}}],Lr=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){n=t(i.attr(r.$attr.ngBindTemplate)),e.$$addBindingInfo(i,n.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],Hr=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],Rr=g({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Fr=kn("",!0),zr=kn("Odd",0),Br=kn("Even",1),jr=gn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Wr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Vr={},qr={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Ft("ng-"+t);Vr[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};qr[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Yr=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,c;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},t.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=rt(a.clone),t.leave(c).then(function(){c=null}),a=null))})}}}],Ur=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:zn.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,l,c,u){var h,d,f,p=0,g=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};i.$watch(o,function(o){var l=function(){!y(a)||a&&!i.$eval(a)||e()},d=++p;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&d===p){var e=i.$new();c.template=t,t=u(e,function(t){g(),n.enter(t,null,r).then(l)}),f=t,(h=e).$emit("$includeContentLoaded",o),i.$eval(s)}},function(){i.$$destroyed||d!==p||(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),c.template=null)})}}}}],Gr=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),t(lt(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),t(i.contents())(n))}}}],Xr=gn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Kr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var s=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?qn(s):s;r.$parsers.push(function(t){if(!v(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(a?qn(t):t)}),e}}),r.$formatters.push(function(t){return Wn(t)?t.join(s):n}),r.$isEmpty=function(t){return!t||!t.length}}}},Zr="ng-valid",Qr="ng-invalid",Jr="ng-pristine",to="ng-dirty",eo="ng-pending",no=i("ngModel"),io=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,s,a,l,c,u,h){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t),this.$$parentForm=vr;var d,p=s(i.ngModel),g=p.assign,m=p,b=g,w=null,x=this;this.$$setOptions=function(t){if((x.$options=t)&&t.getterSetter){var e=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");m=function(t){var n=p(t);return _(n)&&(n=e(t)),n},b=function(t,e){_(p(t))?n(t,{$$$p:x.$modelValue}):g(t,x.$modelValue)}}else if(!p.assign)throw no("nonassign",i.ngModel,W(r))},this.$render=f,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!=t};var k=0;_n({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,a.removeClass(r,to),a.addClass(r,Jr)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,a.removeClass(r,Jr),a.addClass(r,to),x.$$parentForm.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,a.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,a.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(w),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!C(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$rawModelValue,e=x.$valid,i=x.$modelValue,r=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,x.$$lastCommittedViewValue,function(o){r||e===o||(x.$modelValue=o?t:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(t,e){p===k&&x.$setValidity(t,e)}function s(t){p===k&&i(t)}var a,l,c,h,p=++k;h=x.$$parserName||"parse",(v(d)?(r(h,null),1):(d||(o(x.$validators,function(t,e){r(e,null)}),o(x.$asyncValidators,function(t,e){r(e,null)})),r(h,d),d))?(c=!0,o(x.$validators,function(n,i){var o=n(t,e);c=c&&o,r(i,o)}),c||(o(x.$asyncValidators,function(t,e){r(e,null)}),0)?(a=[],l=!0,o(x.$asyncValidators,function(i,o){var s=i(t,e);if(!s||!_(s.then))throw no("nopromise",s);r(o,n),a.push(s.then(function(){r(o,!0)},function(t){l=!1,r(o,!1)}))}),a.length?u.all(a).then(function(){s(l)},f):s(!0)):s(!1)):s(!1)},this.$commitViewValue=function(){var t=x.$viewValue;l.cancel(w),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=x.$$lastCommittedViewValue;if(d=!v(e)||n)for(var i=0;i<x.$parsers.length;i++)if(v(e=x.$parsers[i](e))){d=!1;break}C(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=e,o&&(x.$modelValue=e,x.$modelValue!==r&&x.$$writeModelToScope()),x.$$runValidators(e,x.$$lastCommittedViewValue,function(t){o||(x.$modelValue=t?e:n,x.$modelValue!==r&&x.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){x.$viewValue=t,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n=0,i=x.$options;i&&y(i.debounce)&&(C(i=i.debounce)?n=i:C(i[e])?n=i[e]:C(i.default)&&(n=i.default)),l.cancel(w),n?w=l(function(){x.$commitViewValue()},n):c.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue==x.$modelValue||e==e)){x.$modelValue=x.$$rawModelValue=e,d=n;for(var i=x.$formatters,r=i.length,o=e;r--;)o=i[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,f))}return e})}],ro=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:io,priority:1,compile:function(e){return e.addClass(Jr).addClass("ng-untouched").addClass(Zr),{pre:function(t,e,n,i){var r=i[0];e=i[1]||r.$$parentForm,r.$$setOptions(i[2]&&i[2].$options),e.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],oo=/(\s+|^)default(\s+|$)/,so=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=O(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=qn(this.$options.updateOn.replace(oo,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ao=gn({terminal:!0,priority:1e3}),lo=i("ngOptions"),co=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,uo=["$compile","$parse",function(t,n){var i=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:function(e,a,l,c){function u(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function h(t,e,n,i){return e&&An(e.nodeName)===n?n=e:(n=i.cloneNode(!1),e?t.insertBefore(n,e):t.appendChild(n)),n}function d(t){for(var e;t;)e=t.nextSibling,_t(t),t=e}function f(){var t=C&&m.readValue();C=k.getOptions();var e={},n=a[0].firstChild;if(w&&a.prepend(g),n=function(t){var e=g&&g[0],n=x&&x[0];if(e||n)for(;t&&(t===e||t===n||8===t.nodeType||"option"===A(t)&&""===t.value);)t=t.nextSibling;return t}(n),C.items.forEach(function(t){var r,o;t.group?((r=e[t.group])||(r=h(a[0],n,"optgroup",s),n=r.nextSibling,r.label=t.group,r=e[t.group]={groupElement:r,currentOptionElement:r.firstChild}),u(t,o=h(r.groupElement,r.currentOptionElement,"option",i)),r.currentOptionElement=o.nextSibling):(u(t,o=h(a[0],n,"option",i)),n=o.nextSibling)}),Object.keys(e).forEach(function(t){d(e[t].currentOptionElement)}),d(n),p.$render(),!p.$isEmpty(t)){var r=m.readValue();(k.trackBy||v?I(t,r):t===r)||(p.$setViewValue(r),p.$render())}}var p=c[1];if(p){var g,m=c[0],v=l.multiple;c=0;for(var y=a.children(),b=y.length;c<b;c++)if(""===y[c].value){g=y.eq(c);break}var w=!!g,x=En(i.cloneNode(!1));x.val("?");var C,k=function(t,e,i){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function s(t){var e;if(!c&&r(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}var a=t.match(co);if(!a)throw lo("iexp",t,W(e));var l=a[5]||a[7],c=a[6];t=/ as /.test(a[0])&&a[1];var u=a[9];e=n(a[2]?a[1]:l);var h=t&&n(t)||e,d=u&&n(u),f=u?function(t,e){return d(i,e)}:function(t){return Dt(t)},p=function(t,e){return f(t,w(t,e))},g=n(a[2]||a[1]),m=n(a[3]||""),v=n(a[4]||""),y=n(a[8]),b={},w=c?function(t,e){return b[c]=e,b[l]=t,b}:function(t){return b[l]=t,b};return{trackBy:u,getTrackByValue:p,getWatchables:n(y,function(t){for(var e=[],n=s(t=t||[]),r=n.length,o=0;o<r;o++){var l=t===n?o:n[o],c=w(t[l],l);l=f(t[l],c),e.push(l),(a[2]||a[1])&&(l=g(i,c),e.push(l)),a[4]&&(c=v(i,c),e.push(c))}return e}),getOptions:function(){for(var t=[],e={},n=y(i)||[],r=s(n),a=r.length,l=0;l<a;l++){var c=n===r?l:r[l],d=w(n[c],c),b=h(i,d);b=new o(c=f(b,d),b,g(i,d),m(i,d),d=v(i,d)),t.push(b),e[c]=b}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[p(t)]},getViewValueFromOption:function(t){return u?zn.copy(t.viewValue):t.viewValue}}}}}(l.ngOptions,a,e);v?(p.$isEmpty=function(t){return!t||0===t.length},m.writeValue=function(t){C.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){(t=C.getOptionFromViewValue(t))&&!t.disabled&&(t.element.selected=!0)})},m.readValue=function(){var t=[];return o(a.val()||[],function(e){(e=C.selectValueMap[e])&&!e.disabled&&t.push(C.getViewValueFromOption(e))}),t},k.trackBy&&e.$watchCollection(function(){if(Wn(p.$viewValue))return p.$viewValue.map(function(t){return k.getTrackByValue(t)})},function(){p.$render()})):(m.writeValue=function(t){var e=C.getOptionFromViewValue(t);e&&!e.disabled?(a[0].value!==e.selectValue&&(x.remove(),w||g.remove(),a[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||w?(x.remove(),w||a.prepend(g),a.val(""),g.prop("selected",!0),g.attr("selected",!0)):(w||g.remove(),a.prepend(x),a.val("?"),x.prop("selected",!0),x.attr("selected",!0))},m.readValue=function(){var t=C.selectValueMap[a.val()];return t&&!t.disabled?(w||g.remove(),x.remove(),C.getViewValueFromOption(t)):null},k.trackBy&&e.$watch(function(){return k.getTrackByValue(p.$viewValue)},function(){p.$render()})),w?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=En(i.cloneNode(!1)),f(),e.$watchCollection(k.getWatchables,f)}}}}}],ho=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function c(t){a.text(t||"")}var u,h=l.count,d=l.$attr.when&&a.attr(l.$attr.when),p=l.offset||0,g=s.$eval(d)||{},m={},y=e.startSymbol(),b=e.endSymbol(),w=y+h+"-"+p+b,x=zn.noop;o(l,function(t,e){var n=r.exec(e);n&&(n=(n[1]?"-":"")+An(n[2]),g[n]=a.attr(l.$attr[e]))}),o(g,function(t,n){m[n]=e(t.replace(i,w))}),s.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);r||i in g||(i=t.pluralCat(i-p)),i===u||r&&C(u)&&isNaN(u)||(x(),v(r=m[i])?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),x=f,c()):x=s.$watch(r,c),u=i)})}}}],fo=["$parse","$animate",function(t,s){var a=i("ngRepeat"),l=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,c){var u=c.ngRepeat,h=e.createComment(" end ngRepeat: "+u+" ");if(!(d=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw a("iexp",u);var d,f=d[1],p=d[2],g=d[3],m=d[4];if(!(d=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw a("iidexp",f);var v=d[3]||d[1],y=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw a("badident",g);var b,w,x,C,k={$id:Dt};return m?b=t(m):(x=function(t,e){return Dt(e)},C=function(t){return t}),function(t,e,i,c,d){b&&(w=function(e,n,i){return y&&(k[y]=e),k[v]=n,k.$index=i,b(t,k)});var f=ot();t.$watchCollection(p,function(i){var c,p,m,b,k,_,S,$,E,T,D=e[0],M=ot();if(g&&(t[g]=i),r(i))$=i,p=w||x;else for(T in p=w||C,$=[],i)Pn.call(i,T)&&"$"!==T.charAt(0)&&$.push(T);for(b=$.length,T=Array(b),c=0;c<b;c++)if(k=i===$?c:$[c],_=i[k],S=p(k,_,c),f[S])E=f[S],delete f[S],M[S]=E,T[c]=E;else{if(M[S])throw o(T,function(t){t&&t.scope&&(f[t.id]=t)}),a("dupes",u,S,_);T[c]={id:S,scope:n,clone:n},M[S]=!0}for(m in f){if(S=rt((E=f[m]).clone),s.leave(S),S[0].parentNode)for(c=0,p=S.length;c<p;c++)S[c].$$NG_REMOVED=!0;E.scope.$destroy()}for(c=0;c<b;c++)if(k=i===$?c:$[c],_=i[k],(E=T[c]).scope){m=D;do{m=m.nextSibling}while(m&&m.$$NG_REMOVED);E.clone[0]!=m&&s.move(rt(E.clone),null,D),D=E.clone[E.clone.length-1],l(E.scope,c,v,_,y,k,b)}else d(function(t,e){E.scope=e;var n=h.cloneNode(!1);t[t.length++]=n,s.enter(t,null,D),D=n,E.clone=t,M[E.id]=E,l(E.scope,c,v,_,y,k,b)});f=M})}}}}],po=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],go=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],mo=gn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),vo=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=[],l=[],c=[],u=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=c.length;i<r;++i)t.cancel(c[i]);for(i=c.length=0,r=u.length;i<r;++i){var d=rt(l[i].clone);u[i].$destroy(),(c[i]=t.leave(d)).then(h(c,i))}l.length=0,u.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: "),l.push({clone:i}),t.enter(i,o.parent(),o)})})})}}}],yo=gn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),bo=gn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),wo=gn({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan",W(e));o(function(t){e.empty(),e.append(t)})}}),xo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Co={$setViewValue:f,$render:f},ko=["$element","$scope","$attrs",function(t,i,r){var o=this,s=new Mt;o.ngModelCtrl=Co,o.unknownOption=En(e.createElement("option")),o.renderUnknownOption=function(e){e="? "+Dt(e)+" ?",o.unknownOption.val(e),t.prepend(o.unknownOption),t.val(e)},i.$on("$destroy",function(){o.renderUnknownOption=f}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){if(8!==e[0].nodeType){nt(t,'"option value"'),""===t&&(o.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1),o.ngModelCtrl.$render(),e[0].hasAttribute("selected")&&(e[0].selected=!0)}},o.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(o.emptyOption=n)):s.put(t,e-1))},o.hasOption=function(t){return!!s.get(t)},o.registerOption=function(t,e,n,i,r){var s;i?n.$observe("value",function(t){y(s)&&o.removeOption(s),s=t,o.addOption(t,e)}):r?t.$watch(r,function(t,i){n.$set("value",t),i!==t&&o.removeOption(i),o.addOption(t,e)}):o.addOption(n.value,e);e.on("$destroy",function(){o.removeOption(n.value),o.ngModelCtrl.$render()})}}],_o=function(){return{restrict:"E",require:["select","?ngModel"],controller:ko,priority:1,link:{pre:function(t,e,n,i){var r=i[1];if(r){var s=i[0];if(s.ngModelCtrl=r,e.on("change",function(){t.$apply(function(){r.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Mt(t);o(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var a,l=NaN;t.$watch(function(){l!==r.$viewValue||I(a,r.$viewValue)||(a=N(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}},post:function(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},So=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(y(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var o=e.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(t,e,n,i,r)}}}}],$o=g({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},To=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(x(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp",a,t,W(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||v(s)||s.test(e)}}}}},Do=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=h(t),r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},Mo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var e;if(!Qn){var i=Gn();(Tn=v(i)?t.jQuery:i?t[i]:n)&&Tn.fn.on?(En=Tn,c(Tn.fn,{scope:fi.scope,isolateScope:fi.isolateScope,controller:fi.controller,injector:fi.injector,inheritedData:fi.inheritedData}),e=Tn.cleanData,Tn.cleanData=function(t){var n;if(jn)jn=!1;else for(var i,r=0;null!=(i=t[r]);r++)(n=Tn._data(i,"events"))&&n.$destroy&&Tn(i).triggerHandler("$destroy");e(t)}):En=ut,zn.element=En,Qn=!0}}(),c(zn,{bootstrap:K,copy:O,extend:c,merge:u,equals:I,element:En,forEach:o,injector:At,noop:f,bind:H,toJson:F,fromJson:z,identity:p,isUndefined:v,isDefined:y,isString:x,isFunction:_,isObject:b,isNumber:C,isElement:M,isArray:Wn,version:ti,isDate:k,lowercase:An,uppercase:On,callbacks:{counter:0},getTestability:Q,$$minErr:i,$$csp:Un,reloadWithDebugInfo:Z}),(Dn=function(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng");return(t=e(t,"angular",Object)).$$minErr=t.$$minErr||i,e(t,"module",function(){var t={};return function(i,o,s){if("hasOwnProperty"===i)throw r("badname","module");return o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),u}}function e(t,e){return function(n,o){return o&&_(o)&&(o.$$moduleName=i),r.push([t,e,arguments]),u}}if(!o)throw n("nomod",i);var r=[],a=[],l=[],c=t("$injector","invoke","push",a),u={_invokeQueue:r,_configBlocks:a,_runBlocks:l,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:c,run:function(t){return l.push(t),this}};return s&&c(s),u})}})}(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Re}),t.provider("$compile",Rt).directive({a:gr,input:Pr,textarea:Pr,form:br,script:xo,select:_o,style:$o,option:So,ngBind:Ir,ngBindHtml:Hr,ngBindTemplate:Lr,ngClass:Fr,ngClassEven:Br,ngClassOdd:zr,ngCloak:jr,ngController:Wr,ngForm:wr,ngHide:go,ngIf:Yr,ngInclude:Ur,ngInit:Xr,ngNonBindable:ao,ngPluralize:ho,ngRepeat:fo,ngShow:po,ngStyle:mo,ngSwitch:vo,ngSwitchWhen:yo,ngSwitchDefault:bo,ngOptions:uo,ngTransclude:wo,ngModel:ro,ngList:Kr,ngChange:Rr,pattern:To,ngPattern:To,required:Eo,ngRequired:Eo,minlength:Mo,ngMinlength:Mo,maxlength:Do,ngMaxlength:Do,ngValue:Nr,ngModelOptions:so}).directive({ngInclude:Gr}).directive(mr).directive(Vr),t.provider({$anchorScroll:Pt,$animate:$i,$animateCss:Di,$$animateJs:_i,$$animateQueue:Si,$$AnimateRunner:Ti,$$animateAsyncRun:Ei,$browser:It,$cacheFactory:Lt,$controller:jt,$document:Wt,$exceptionHandler:Vt,$filter:Ze,$$forceReflow:Ni,$interpolate:ee,$interval:ne,$http:Qt,$httpParamSerializer:Yt,$httpParamSerializerJQLike:Ut,$httpBackend:te,$xhrFactory:Jt,$location:pe,$log:ge,$parse:Pe,$rootScope:He,$q:Oe,$$q:Ne,$sce:Be,$sceDelegate:ze,$sniffer:je,$templateCache:Ht,$templateRequest:We,$$testability:Ve,$timeout:qe,$window:Ge,$$rAF:Le,$$jqLite:Tt,$$HashMap:vi,$$cookieReader:Ke})}]),zn.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i,r,o=0|t,s=e;return n===s&&(s=Math.min((i=t,-1==(r=(i+="").indexOf("."))?0:i.length-r-1),3)),Math.pow(10,s),1==o&&0==s?"one":"other"}})}]),En(e).ready(function(){X(e,K)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e,n){"use strict";function i(t,n){for(var i in n=n||{},e.forEach(n,function(t,e){delete n[e]}),t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var r=e.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,s=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q",function(a,l,c){function u(t,e){this.template=t,this.defaults=f({},s.defaults,e),this.urlParams={}}var h=e.noop,d=e.forEach,f=e.extend,p=e.copy,g=e.isFunction;return u.prototype={setUrlParams:function(n,i,o){var s,a,l=this,c=o||l.template,u="",h=l.urlParams={};d(c.split(/\W/),function(t){if("hasOwnProperty"===t)throw r("badname");!/^\d+$/.test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(c)&&(h[t]=!0)}),c=(c=c.replace(/\\:/g,":")).replace(t,function(t){return u=t,""}),i=i||{},d(l.urlParams,function(t,n){s=i.hasOwnProperty(n)?i[n]:l.defaults[n],e.isDefined(s)&&null!==s?(a=encodeURIComponent(s).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),c=c.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return a+e})):c=c.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),l.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),n.url=u+c.replace(/\/\\\./,"/."),d(i,function(t,e){l.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},function t(m,v,y,b){function w(t){return t.resource}function x(t){i(t||{},this)}var C=new u(m,b);return y=f({},s.defaults.actions,y),x.prototype.toJSON=function(){var t=f({},this);return delete t.$promise,delete t.$resolved,t},d(y,function(t,s){var u=/^(POST|PUT|PATCH)$/i.test(t.method);x[s]=function(m,y,b,k){var _,S,$,E={};switch(arguments.length){case 4:$=k,S=b;case 3:case 2:if(!g(y)){E=m,_=y,S=b;break}if(g(m)){S=m,$=y;break}S=y,$=b;case 1:g(m)?S=m:u?_=m:E=m;break;case 0:break;default:throw r("badargs",arguments.length)}var T,D,M,A=this instanceof x,P=A?_:t.isArray?[]:new x(_),O={},N=t.interceptor&&t.interceptor.response||w,I=t.interceptor&&t.interceptor.responseError||n;return d(t,function(t,n){switch(n){default:O[n]=p(t);break;case"params":case"isArray":case"interceptor":break;case"timeout":t&&!e.isNumber(t)&&l.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),u&&(O.data=_),C.setUrlParams(O,f({},(T=_,D=t.params||{},M={},D=f({},v,D),d(D,function(t,i){var s;if(g(t)&&(t=t()),t&&t.charAt&&"@"==t.charAt(0)){if(s=T,null==(a=t.substr(1))||""===a||"hasOwnProperty"===a||!o.test("."+a))throw r("badmember",a);for(var a,l=0,c=(a=a.split(".")).length;l<c&&e.isDefined(s);l++){var u=a[l];s=null!==s?s[u]:n}}else s=t;M[i]=s}),M),E),t.url),E=(E=a(O).then(function(n){var o=n.data,a=P.$promise;if(o){if(e.isArray(o)!==!!t.isArray)throw r("badcfg",s,t.isArray?"array":"object",e.isArray(o)?"array":"object",O.method,O.url);t.isArray?(P.length=0,d(o,function(t){"object"==typeof t?P.push(new x(t)):P.push(t)})):(i(o,P),P.$promise=a)}return P.$resolved=!0,n.resource=P,n},function(t){return P.$resolved=!0,($||h)(t),c.reject(t)})).then(function(t){var e=N(t);return(S||h)(e,t.headers),e},I),A?E:(P.$promise=E,P.$resolved=!1,P)},x.prototype["$"+s]=function(t,e,n){return g(t)&&(n=e,e=t,t={}),(t=x[s].call(this,t,this,e,n)).$promise||t}}),x.bind=function(e){return t(m,f({},v,e),y)},x}}]})}(window,window.angular),function(t,e,n){"use strict";function i(t,n,i){var r=i.baseHref(),o=t[0];return function(t,i,s){var a,l;l=(s=s||{}).expires,a=e.isDefined(s.path)?s.path:r,e.isUndefined(i)&&(l="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(l)&&(l=new Date(l)),i=(i=encodeURIComponent(t)+"="+encodeURIComponent(i))+(a?";path="+a:"")+(s.domain?";domain="+s.domain:""),i+=l?";expires="+l.toUTCString():"",4096<(s=(i+=s.secure?";secure":"").length+1)&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+s+" > 4096 bytes)!"),o.cookie=i}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){var t=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(t){return n()[t]},getObject:function(t){return(t=this.get(t))?e.fromJson(t):t},getAll:function(){return n()},put:function(n,r,o){i(n,r,o?e.extend({},t,o):t)},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(n,r){i(n,void 0,r?e.extend({},t,r):t)}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),i.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular),function(t,e,n){"use strict";var i=e.$$minErr("$sanitize"),r=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,o=/^<\s*\/\s*([\w:-]+)[^>]*>/,s=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,a=/^</,l=/^<\s*\//,c=/<!--(.*?)-->/g,u=/<!DOCTYPE([^>]*?)>/i,h=/<!\[CDATA\[(.*?)]]>/g,d=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,f=/([^\#-~| |!])/g,p=_("area,br,col,hr,img,wbr"),g=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=_("rp,rt"),v=e.extend({},m,g),y=e.extend({},g,_("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=e.extend({},m,_("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=_("script,style"),x=e.extend({},p,y,b,v),C=_("background,cite,href,longdesc,src,usemap"),k=e.extend({},C,_("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width,style,size"));function _(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}var S=document.createElement("pre");function $(t){return S.innerHTML=t.replace(/</g,"&lt;"),S.innerText||S.textContent||""}function E(t){return t.replace(/&/g,"&amp;").replace(f,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T(t){var n=!1,i=e.bind(t,t.push);return{start:function(t,r,o){t=e.lowercase(t),!n&&w[t]&&(n=t),n||!0!==x[t]||(i("<"),i(t),e.forEach(r,function(t,n){var r=e.lowercase(n);!0!==k[r]||!0===C[r]&&!t.match(d)||(i(" "),i(n),i('="'),i(E(t)),i('"'))}),i(o?"/>":">"))},end:function(t){t=e.lowercase(t),n||!0!==x[t]||(i("</"),i(t),i(">")),t==n&&(n=!1)},chars:function(t){n||i(E(t))}}}e.module("ngSanitize",[]).value("$sanitize",function(t){var n=[];return function(t,n){var d,f,g,m=[],x=t;for(m.last=function(){return m[m.length-1]};t;){if(f=!0,m.last()&&w[m.last()])t=t.replace(new RegExp("(.*)<\\s*\\/\\s*"+m.last()+"[^>]*>","i"),function(t,e){return e=e.replace(c,"$1").replace(h,"$1"),n.chars&&n.chars($(e)),""}),_("",m.last());else if(0===t.indexOf("\x3c!--")?(d=t.indexOf("--",4))>=0&&t.lastIndexOf("--\x3e",d)===d&&(n.comment&&n.comment(t.substring(4,d)),t=t.substring(d+3),f=!1):u.test(t)?(g=t.match(u))&&(t=t.replace(g[0],""),f=!1):l.test(t)?(g=t.match(o))&&(t=t.substring(g[0].length),g[0].replace(o,_),f=!1):a.test(t)&&(g=t.match(r))&&(t=t.substring(g[0].length),g[0].replace(r,k),f=!1),f){var C=(d=t.indexOf("<"))<0?t:t.substring(0,d);t=d<0?"":t.substring(d),n.chars&&n.chars($(C))}if(t==x)throw i("badparse","The sanitizer was unable to parse the following block of html: {0}",t);x=t}function k(t,i,r,o){if(i=e.lowercase(i),y[i])for(;m.last()&&b[m.last()];)_("",m.last());v[i]&&m.last()==i&&_("",i),(o=p[i]||!!o)||m.push(i);var a={};r.replace(s,function(t,e,n,i,r){var o=n||i||r||"";a[e]=$(o)}),n.start&&n.start(i,a,o)}function _(t,i){var r,o=0;if(i=e.lowercase(i))for(o=m.length-1;o>=0&&m[o]!=i;o--);if(o>=0){for(r=m.length-1;r>=o;r--)n.end&&n.end(m[r]);m.length=o}}_()}(t,T(n)),n.join("")}),e.module("ngSanitize").filter("linky",function(){var t=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,n=/^mailto:/;return function(i,r){if(!i)return i;var o,s,a,l=i,c=[],u=T(c),h={};for(e.isDefined(r)&&(h.target=r);o=l.match(t);)s=o[0],o[2]==o[3]&&(s="mailto:"+s),a=o.index,u.chars(l.substr(0,a)),h.href=s,u.start("a",h),u.chars(o[0].replace(n,"")),u.end("a"),l=l.substring(a+o[0].length);return u.chars(l),c.join("")}})}(window,window.angular),function(t,e,n){"use strict";function i(t,n,i){r.directive(t,["$parse","$swipe",function(r,o){return function(s,a,l){var c,u,h=r(l[t]),d=["touch"];e.isDefined(l.ngSwipeDisableMouse)||d.push("mouse"),o.bind(a,{start:function(t,e){c=t,u=!0},cancel:function(t){u=!1},end:function(t,e){(function(t){if(!c)return!1;var e=Math.abs(t.y-c.y);return t=(t.x-c.x)*n,u&&75>e&&0<t&&30<t&&.3>e/t})(t)&&s.$apply(function(){a.triggerHandler(i),h(s,{$event:e})})}},d)}}])}var r=e.module("ngTouch",[]);r.factory("$swipe",[function(){function t(t){var e=(t=t.originalEvent||t).touches&&t.touches.length?t.touches:[t];return{x:(t=t.changedTouches&&t.changedTouches[0]||e[0]).clientX,y:t.clientY}}function n(t,n){var r=[];return e.forEach(t,function(t){(t=i[t][n])&&r.push(t)}),r.join(" ")}var i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,i,r){var o,s,a,l,c=!1;r=r||["mouse","touch"],e.on(n(r,"start"),function(e){a=t(e),c=!0,s=o=0,l=a,i.start&&i.start(a,e)});var u=n(r,"cancel");u&&e.on(u,function(t){c=!1,i.cancel&&i.cancel(t)}),e.on(n(r,"move"),function(e){if(c&&a){var n=t(e);o+=Math.abs(n.x-l.x),s+=Math.abs(n.y-l.y),l=n,10>o&&10>s||(s>o?(c=!1,i.cancel&&i.cancel(e)):(e.preventDefault(),i.move&&i.move(n,e)))}}),e.on(n(r,"end"),function(e){c&&(c=!1,i.end&&i.end(t(e),e))})}}}]),r.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,i){function r(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i+1],o=n;if(25>Math.abs(t[i]-e)&&25>Math.abs(r-o))return t.splice(i,i+2),!0}return!1}function o(t){if(!(2500<Date.now()-a)){var n=(i=t.touches&&t.touches.length?t.touches:[t])[0].clientX,i=i[0].clientY;if(!(1>n&&1>i||c&&c[0]===n&&c[1]===i)){c&&(c=null);var o=t.target;"label"===e.lowercase(o.nodeName||o[0]&&o[0].nodeName)&&(c=[n,i]),r(l,n,i)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur())}}}function s(t){var e=(t=t.touches&&t.touches.length?t.touches:[t])[0].clientX,i=t[0].clientY;l.push(e,i),n(function(){for(var t=0;t<l.length;t+=2)if(l[t]==e&&l[t+1]==i){l.splice(t,t+2);break}},2500,!1)}var a,l,c;return function(n,c,u){var h,d,f,p,g=t(u.ngClick),m=!1;c.on("touchstart",function(t){m=!0,3==(h=t.target?t.target:t.srcElement).nodeType&&(h=h.parentNode),c.addClass("ng-click-active"),d=Date.now(),t=((t=t.originalEvent||t).touches&&t.touches.length?t.touches:[t])[0],f=t.clientX,p=t.clientY}),c.on("touchcancel",function(t){m=!1,c.removeClass("ng-click-active")}),c.on("touchend",function(t){var n=Date.now()-d,g=(v=((g=t.originalEvent||t).changedTouches&&g.changedTouches.length?g.changedTouches:g.touches&&g.touches.length?g.touches:[g])[0]).clientX,v=v.clientY,y=Math.sqrt(Math.pow(g-f,2)+Math.pow(v-p,2));m&&750>n&&12>y&&(l||(i[0].addEventListener("click",o,!0),i[0].addEventListener("touchstart",s,!0),l=[]),a=Date.now(),r(l,g,v),h&&h.blur(),e.isDefined(u.disabled)&&!1!==u.disabled||c.triggerHandler("click",[t])),m=!1,c.removeClass("ng-click-active")}),c.onclick=function(t){},c.on("click",function(t,e){n.$apply(function(){g(n,{$event:e||t})})}),c.on("mousedown",function(t){c.addClass("ng-click-active")}),c.on("mousemove mouseup",function(t){c.removeClass("ng-click-active")})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";var i,r=e.isDefined,o=e.isFunction,s=e.isString,a=e.isObject,l=e.isArray,c=e.forEach,u=e.extend,h=e.copy,d=e.toJson;function f(t,e){return u(new(u(function(){},{prototype:t})),e)}function p(t){return c(arguments,function(e){e!==t&&c(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function g(t){if(Object.keys)return Object.keys(t);var e=[];return c(t,function(t,n){e.push(n)}),e}function m(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=n);i<n;i++)if(i in t&&t[i]===e)return i;return-1}function v(t,e,n,i){var r,o=function(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}(n,i),s={},a=[];for(var l in o)if(o[l]&&o[l].params&&(r=g(o[l].params)).length)for(var c in r)m(a,r[c])>=0||(a.push(r[c]),s[r[c]]=t[r[c]]);return u({},s,e)}function y(t,e,n){if(!n)for(var i in n=[],t)n.push(i);for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function b(t,e){var n={};return c(t,function(t){n[t]=e[t]}),n}function w(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return c(n,function(n){n in t&&(e[n]=t[n])}),e}function x(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==m(n,i)&&(e[i]=t[i]);return e}function C(t,e){var n=l(t),i=n?[]:{};return c(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function k(t,e){var n=l(t)?[]:{};return c(t,function(t,i){n[i]=e(t,i)}),n}function _(t){return t.then(n,function(){})&&t}function S(t,e){var i=1,o=2,l={},h=[],d=l,f=u(t.when(l),{$$promises:l,$$values:l});this.study=function(l){if(!a(l))throw new Error("'invocables' must be an object");var v=g(l||{}),y=[],b=[],w={};function C(t){return a(t)&&t.then&&t.$$promises}return c(l,function t(n,r){if(w[r]!==o){if(b.push(r),w[r]===i)throw b.splice(0,m(b,r)),new Error("Cyclic dependency: "+b.join(" -> "));if(w[r]=i,s(n))y.push(r,[function(){return e.get(n)}],h);else{var a=e.annotate(n);c(a,function(e){e!==r&&l.hasOwnProperty(e)&&t(l[e],e)}),y.push(r,n,a)}b.pop(),w[r]=o}}),l=b=w=null,function(i,o,s){if(C(i)&&s===n&&(s=o,o=i,i=null),i){if(!a(i))throw new Error("'locals' must be an object")}else i=d;if(o){if(!C(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var l=t.defer(),h=l.promise,g=h.$$promises={},m=u({},i),b=1+y.length/3,w=!1;function k(){--b||(w||p(m,o.$$values),h.$$values=m,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,l.resolve(m))}function _(t){h.$$failure=t,l.reject(t)}if(r(o.$$failure))return _(o.$$failure),h;o.$$inheritedValues&&p(m,x(o.$$inheritedValues,v)),u(g,o.$$promises),o.$$values?(w=p(m,x(o.$$values,v)),h.$$inheritedValues=x(o.$$values,v),k()):(o.$$inheritedValues&&(h.$$inheritedValues=x(o.$$inheritedValues,v)),o.then(k,_));for(var S=0,$=y.length;S<$;S+=3)i.hasOwnProperty(y[S])?k():E(y[S],y[S+1],y[S+2]);function E(n,o,a){var l=t.defer(),u=0;function d(t){l.reject(t),_(t)}function f(){if(!r(h.$$failure))try{l.resolve(e.invoke(o,s,m)),l.promise.then(function(t){m[n]=t,k()},d)}catch(t){d(t)}}c(a,function(t){g.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(u++,g[t].then(function(e){m[t]=e,--u||f()},d))}),u||f(),g[n]=l.promise}return h}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function $(t,e,n){this.fromConfig=function(t,e,n){return r(t.template)?this.fromString(t.template,e):r(t.templateUrl)?this.fromUrl(t.templateUrl,e):r(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return o(t)?t(e):t},this.fromUrl=function(n,i){return o(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function E(t,e,r){e=u({params:{}},a(e)?e:{});var o,s,l,c,h=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p="^",g=0,m=this.segments=[],v=r?r.params:{},y=this.params=r?r.params.$$new():new i.ParamSet,b=[];function w(e,n,r,o){if(b.push(e),v[e])return v[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(y[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return y[e]=new i.Param(e,n,r,o),y[e]}function x(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function C(r,o){var s,a,l,c,u;return s=r[2]||r[3],u=e.params[s],l=t.substring(g,r.index),(a=o?r[4]:r[4]||("*"==r[1]?".*":null))&&(c=i.type(a)||f(i.type("string"),{pattern:new RegExp(a,e.caseInsensitive?"i":n)})),{id:s,regexp:a,segment:l,type:c,cfg:u}}for(this.source=t;(o=h.exec(t))&&!((s=C(o,!1)).segment.indexOf("?")>=0);)l=w(s.id,s.type,s.cfg,"path"),p+=x(s.segment,l.type.pattern.source,l.squash,l.isOptional),m.push(s.segment),g=h.lastIndex;var k=(c=t.substring(g)).indexOf("?");if(k>=0){var _=this.sourceSearch=c.substring(k);if(c=c.substring(0,k),this.sourcePath=t.substring(0,g+k),_.length>0)for(g=0;o=d.exec(_);)l=w((s=C(o,!0)).id,s.type,s.cfg,"search"),g=h.lastIndex}else this.sourcePath=t,this.sourceSearch="";p+=x(c)+(!1===e.strict?"/?":"")+"$",m.push(c),this.regexp=new RegExp(p,e.caseInsensitive?"i":n),this.prefix=m[0],this.$$paramNames=b}function T(t){u(this,t)}function D(t,i){var a,c=[],h=null,d=!1;function f(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!r(i)||i}function p(i,r,o,l,u){var f,p=l.baseHref(),g=i.url();function m(t){if(!t||!t.defaultPrevented){f&&i.url();f=n;var e,r=c.length;for(e=0;e<r;e++)if(a(c[e]))return;h&&a(h)}function a(t){var e=t(o,i);return!!e&&(s(e)&&i.replace().url(e),!0)}}function v(){return a=a||r.$on("$locationChangeSuccess",m)}return d||v(),{sync:function(){m()},listen:function(){return v()},update:function(t){t?g=i.url():i.url()!==g&&(i.url(g),i.replace())},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),f=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var s=t.html5Mode();e.isObject(s)&&(s=s.enabled),s=s&&u.history;var a,l,c,h=n.format(r);if(o=o||{},s||null===h||(h="#"+t.hashPrefix()+h),null!==h&&r&&r["#"]&&(h+="#"+r["#"]),a=h,l=s,c=o.absolute,h="/"===p?a:l?p.slice(0,-1)+a:c?p.slice(1)+a:a,!o.absolute||!h)return h;var d=!s&&h?"/":"",f=i.port();return f=80===f||443===f?"":":"+f,[i.protocol(),"://",i.host(),f,d,h].join("")}}}this.rule=function(t){if(!o(t))throw new Error("'rule' must be a function");return c.push(t),this},this.otherwise=function(t){if(s(t)){var e=t;t=function(){return e}}else if(!o(t))throw new Error("'rule' must be a function");return h=t,this},this.when=function(t,e){var n,r=s(e);if(s(t)&&(t=i.compile(t)),!r&&!o(e)&&!l(e))throw new Error("invalid 'handler' in when()");var a={matcher:function(t,e){return r&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),u(function(n,i){return f(n,e,t.exec(i.path(),i.search()))},{prefix:s(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(n=e,e=["$match",function(t){return e=t,n.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]});var e}]),u(function(n,i){return f(n,e,t.exec(i.path()))},{prefix:(i=t,o=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(i.source),null!=o?o[1].replace(/\\(.)/g,"$1"):"")});var i,o}},c={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var h in c)if(c[h])return this.rule(a[h](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),d=t},this.$get=p,p.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function M(t,d){var p,x,C={},S={},$="abstract",E={parent:function(t){if(r(t.parent)&&t.parent)return T(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?T(e[1]):p},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=f(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(s(e))return"^"==e.charAt(0)?d.compile(e.substring(1),n):(t.parent.navigable||p).url.concat(e,n);if(!e||d.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new i.ParamSet;return c(t.params||{},function(t,n){e[n]||(e[n]=new i.Param(n,null,t,"config"))}),e},params:function(t){var e=w(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?u(t.parent.params.$$new(),e):new i.ParamSet},views:function(t){var e={};return c(r(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),n.resolveAs=n.resolveAs||t.resolveAs||"$resolve",e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?u({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};function T(t,e){if(!t)return n;var i,r=s(t),o=r?t:t.name;if(0===(i=o).indexOf(".")||0===i.indexOf("^")){if(!e)throw new Error("No reference point given for path '"+o+"'");e=T(e);for(var a=o.split("."),l=0,c=a.length,u=e;l<c;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!u.parent)throw new Error("Path '"+o+"' not valid for state '"+e.name+"'");u=u.parent}else u=e;a=a.slice(l).join("."),o=u.name+(u.name&&a?".":"")+a}var h=C[o];return!h||!r&&(r||h!==t&&h.self!==t)?n:h}function D(e){var n=(e=f(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}})).name;if(!s(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i,r,l=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):s(e.parent)?e.parent:a(e.parent)&&s(e.parent.name)?e.parent.name:"";if(l&&!C[l])return i=l,r=e.self,S[i]||(S[i]=[]),void S[i].push(r);for(var c in E)o(E[c])&&(e[c]=E[c](e,E.$delegates[c]));return C[n]=e,!e[$]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){x.$current.navigable==e&&y(t,n)||x.transitionTo(e,t,{inherit:!0,location:!1})}]),function(t){for(var e=S[t]||[];e.length;)D(e.shift())}(n),e}function M(t,d,S,E,D,M,A,P,O){var N=new Error("transition superseded"),I=_(d.reject(N)),L=_(d.reject(new Error("transition prevented"))),H=_(d.reject(new Error("transition aborted"))),R=_(d.reject(new Error("transition failed")));function F(t,n,i,r,s,a){var u=i?n:b(t.params.$$keys(),n),h={$stateParams:u};s.resolve=D.resolve(t.resolve,h,s.resolve,t);var f=[s.resolve.then(function(t){s.globals=t})];return r&&f.push(r),d.all(f).then(function(){var n=[];return c(t.views,function(i,r){var c=i.resolve&&i.resolve!==t.resolve?i.resolve:{};c.$template=[function(){return S.load(r,{view:i,locals:s.globals,params:u,notify:a.notify})||""}],n.push(D.resolve(c,s.globals,s.resolve,t).then(function(n){if(o(i.controllerProvider)||l(i.controllerProvider)){var a=e.extend({},c,s.globals);n.$$controller=E.invoke(i.controllerProvider,null,a)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,s[r]=n}))}),d.all(n).then(function(){return s.globals})}).then(function(t){return s})}return p.locals={resolve:null,globals:{$stateParams:{}}},(x={params:{},current:p.self,$current:p,transition:null}).reload=function(t){return x.transitionTo(x.current,M,{reload:t||!0,inherit:!1,notify:!0})},x.go=function(t,e,n){return x.transitionTo(t,e,u({inherit:!0,relative:x.$current},n))},x.transitionTo=function(e,n,o){n=n||{},o=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var l=x.$current,c=x.params,g=l.path,m=T(e,o.relative),y=n["#"];if(!r(m)){var C={to:e,toParams:n,options:o},k=function(e,n,i,r){var o=t.$broadcast("$stateNotFound",e,n,i);if(o.defaultPrevented)return A.update(),H;if(!o.retry)return null;if(r.$retry)return A.update(),R;var s=x.transition=d.when(o.retry);return s.then(function(){return s!==x.transition?(t.$broadcast("$stateChangeCancel",e.to,e.toParams,n,i),I):(e.options.$retry=!0,x.transitionTo(e.to,e.toParams,e.options))},function(){return H}),A.update(),s}(C,l.self,c,o);if(k)return k;if(n=C.toParams,m=T(e=C.to,(o=C.options).relative),!r(m)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(m[$])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=v(M,n||{},x.$current,m)),!m.params.$$validates(n))return R;n=m.params.$$values(n);var _=(e=m).path,S=0,D=_[S],P=p.locals,O=[];if(o.reload){if(s(o.reload)||a(o.reload)){if(a(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var z=!0===o.reload?g[0]:T(o.reload);if(o.reload&&!z)throw new Error("No such reload state '"+(s(o.reload)?o.reload:o.reload.name)+"'");for(;D&&D===g[S]&&D!==z;)P=O[S]=D.locals,D=_[++S]}}else for(;D&&D===g[S]&&D.ownParams.$$equals(n,c);)P=O[S]=D.locals,D=_[++S];if(function(t,e,n,r,o,s){if(!s.reload&&t===n&&(o===n.locals||!1===t.self.reloadOnSearch&&function(t,e,n){var r=t.params.$$keys().filter(function(e){return"search"!=t.params[e].location}),o=w.apply({},[t.params].concat(r));return new i.ParamSet(o).$$equals(e,n)}(n,r,e)))return!0}(e,n,l,c,P,o))return y&&(n["#"]=y),x.params=n,h(x.params,M),h(b(e.params.$$keys(),M),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(A.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),A.update(!0)),x.transition=null,d.when(x.current);if(n=b(e.params.$$keys(),n||{}),y&&(n["#"]=y),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,l.self,c,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,c),null==x.transition&&A.update(),L;for(var B=d.when(P),j=S;j<_.length;D=_[++j])P=O[j]=f(P),B=F(D,n,D===e,B,P,o);var W=x.transition=B.then(function(){var i,r,s;if(x.transition!==W)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,c),I;for(i=g.length-1;i>=S;i--)(s=g[i]).self.onExit&&E.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(i=S;i<_.length;i++)(r=_[i]).locals=O[i],r.self.onEnter&&E.invoke(r.self.onEnter,r.self,r.locals.globals);return x.transition!==W?(t.$broadcast("$stateChangeCancel",e.self,n,l.self,c),I):(x.$current=e,x.current=e.self,x.params=n,h(x.params,M),x.transition=null,o.location&&e.navigable&&A.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,l.self,c),A.update(!0),x.current)}).then(null,function(i){return i===N?I:x.transition!==W?(t.$broadcast("$stateChangeCancel",e.self,n,l.self,c),I):(x.transition=null,t.$broadcast("$stateChangeError",e.self,n,l.self,c,i).defaultPrevented||A.update(),d.reject(i))});return W},x.is=function(t,e,i){var o=T(t,(i=u({relative:x.$current},i||{})).relative);return r(o)?x.$current===o&&(!e||y(o.params.$$values(e),M)):n},x.includes=function(t,e,i){if(i=u({relative:x.$current},i||{}),s(t)&&t.indexOf("*")>-1){if(!function(t){for(var e=t.split("."),n=x.$current.name.split("."),i=0,r=e.length;i<r;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(m(n,e[1]))).unshift("**"),"**"===e[e.length-1]&&(n.splice(m(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}(t))return!1;t=x.$current.name}var o=T(t,i.relative);if(!r(o))return n;if(!r(x.$current.includes[o.name]))return!1;if(!e)return!0;for(var a=g(e),l=0;l<a.length;l++){var c=a[l],h=o.params[c];if(h&&!h.type.equals(M[c],e[c]))return!1}return!0},x.href=function(t,e,i){var o=T(t,(i=u({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},i||{})).relative);if(!r(o))return null;i.inherit&&(e=v(M,e||{},x.$current,o));var s=o&&i.lossy?o.navigable:o;return s&&s.url!==n&&null!==s.url?A.href(s.url,b(o.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},x.get=function(t,e){if(0===arguments.length)return k(g(C),function(t){return C[t].self});var n=T(t,e||x.$current);return n&&n.self?n.self:null},x}(p=D({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(t,e){if(s(t)&&!r(e))return E[t];if(!o(e)||!s(t))return this;E[t]&&!E.$delegates[t]&&(E.$delegates[t]=E[t]);return E[t]=e,this},this.state=function(t,e){a(t)?e=t:e.name=t;return D(e),this},this.$get=M,M.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function A(){function t(t,e){return{load:function(t,n){var i;return(n=u({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n)).view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function P(t,n,i,r,o){var s=n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(t){return null}},a=s("$animator"),l=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,c){return function(n,s,u){var h,d,f,p,g=u.onload||"",m=u.autoscroll,v=function(t,n){if(l)return{enter:function(t,n,i){e.version.minor>2?l.enter(t,null,n).then(i):l.enter(t,null,n,i)},leave:function(t,n){e.version.minor>2?l.leave(t).then(n):l.leave(t,n)}};if(a){var i=a&&a(n,t);return{enter:function(t,e,n){i.enter(t,null,e),n()},leave:function(t,e){i.leave(t),e()}}}return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}}(u,n);s.inheritedData("$uiView");function y(a){var l,y=N(n,u,s,r),b=y&&t.$current&&t.$current.locals[y];if(a||b!==p){l=n.$new(),p=t.$current.locals[y],l.$emit("$viewContentLoading",y);var w=c(l,function(t){var r=o.defer(),a=o.defer(),l={$animEnter:r.promise,$animLeave:a.promise,$$animLeave:a};t.data("$uiViewAnim",l),v.enter(t,s,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||n.$eval(m))&&i(t)}),function(){if(h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d){var t=d.data("$uiViewAnim");v.leave(d,function(){t.$$animLeave.resolve(),h=null}),h=d,d=null}}()});d=w,(f=l).$emit("$viewContentLoaded",y),f.$eval(g)}}n.$on("$stateChangeSuccess",function(){y(!1)}),y(!0)}}}}function O(t,n,i,r){return{restrict:"ECA",priority:-400,compile:function(s){var a=s.html();return function(s,l,c){var u=i.$current,h=N(s,c,l,r),d=u&&u.locals[h];if(d){l.data("$uiView",{name:h,state:d.$$state}),l.html(d.$template?d.$template:a);var f=e.extend({},d);s[d.$$resolveAs]=f;var p=t(l.contents());if(d.$$controller){d.$scope=s,d.$element=l;var g=n(d.$$controller,d);d.$$controllerAs&&(s[d.$$controllerAs]=g,s[d.$$controllerAs][d.$$resolveAs]=f),o(g.$onInit)&&g.$onInit(),l.data("$ngControllerController",g),l.children().data("$ngControllerController",g)}p(s)}}}}}function N(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function I(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),!(n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function L(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function H(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function R(t,e,n,i,r){return function(o){var s=o.which||o.button,a=r();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=n(function(){e.go(a.state,a.params,a.options)});o.preventDefault();var c=i.isAnchor&&!a.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function F(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,s){var a,l,c=I(o.uiSref,t.current.name),h={state:c.state,href:null,params:null},d=H(r),f=s[1]||s[0],p=null;h.options=u((l=t,{relative:L(r)||l.$current,inherit:!0}),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var g=function(n){n&&(h.params=e.copy(n)),h.href=t.href(c.state,h.params,h.options),p&&p(),f&&(p=f.$$addStateInfo(c.state,h.params)),null!==h.href&&o.$set(d.attr,h.href)};c.paramExpr&&(i.$watch(c.paramExpr,function(t){t!==h.params&&g(t)},!0),h.params=e.copy(i.$eval(c.paramExpr))),g(),d.clickable&&(a=R(r,t,n,d,function(){return h}),r[r.on?"on":"bind"]("click",a),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",a)}))}}}function z(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){var s,a=H(i),l=o[1]||o[0],c="["+[r.uiState,r.uiStateParams||null,r.uiStateOpts||null].map(function(t){return t||"null"}).join(", ")+"]",u={state:null,params:null,options:null,href:null},h=null;function d(e){u.state=e[0],u.params=e[1],u.options=e[2],u.href=t.href(u.state,u.params,u.options),h&&h(),l&&(h=l.$$addStateInfo(u.state,u.params)),u.href&&r.$set(a.attr,u.href)}n.$watch(c,d,!0),d(n.$eval(c)),a.clickable&&(s=R(i,t,e,a,function(){return u}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function B(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,o){var l,u,h=[],f={};l=n(r.uiSrefActiveEq||"",!1)(e);try{u=e.$eval(r.uiSrefActive)}catch(t){}function p(n,r,o){var l=t.get(n,L(i)),c=function(t,n){if(!s(t))throw new Error("state should be a string");if(a(n))return t+d(n);if(n=e.$eval(n),a(n))return t+d(n);return t}(n,r),u={state:l||{name:n},params:r,hash:c};return h.push(u),f[c]=o,function(){var t=h.indexOf(u);-1!==t&&h.splice(t,1)}}function g(){for(var e=0;e<h.length;e++)o=h[e].state,s=h[e].params,t.includes(o.name,s)?m(i,f[h[e].hash]):v(i,f[h[e].hash]),n=h[e].state,r=h[e].params,t.is(n.name,r)?m(i,l):v(i,l);var n,r,o,s}function m(t,e){o(function(){t.addClass(e)})}function v(t,e){t.removeClass(e)}u=u||n(r.uiSrefActive||"",!1)(e),a(u)&&c(u,function(n,i){if(s(n)){var r=I(n,t.current.name);p(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(a(u)&&h.length>0)){var n=p(t,e,u);return g(),n}},e.$on("$stateChangeSuccess",g),g()}]}}function j(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function W(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),S.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",S),$.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",$),E.prototype.concat=function(t,e){var n={caseInsensitive:i.caseInsensitive(),strict:i.strictMode(),squash:i.defaultSquashPolicy()};return new E(this.sourcePath+t+this.sourceSearch,u(n,e),this)},E.prototype.toString=function(){return this.source},E.prototype.exec=function(t,e){var n=this.regexp.exec(t);if(!n)return null;e=e||{};var i,o,s,a,l,c=this.parameters(),u=c.length,h=this.segments.length-1,d={};if(h!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function f(t){function e(t){return t.split("").reverse().join("")}return k(k(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}for(i=0;i<h;i++){for(s=c[i],a=this.params[s],l=n[i+1],o=0;o<a.replace.length;o++)a.replace[o].from===l&&(l=a.replace[o].to);l&&!0===a.array&&(l=f(l)),r(l)&&(l=a.type.decode(l)),d[s]=a.value(l)}for(;i<u;i++){for(d[s=c[i]]=this.params[s].value(e[s]),a=this.params[s],l=e[s],o=0;o<a.replace.length;o++)a.replace[o].from===l&&(l=a.replace[o].to);r(l)&&(l=a.type.decode(l)),d[s]=a.value(l)}return d},E.prototype.parameters=function(t){return r(t)?this.params[t]||null:this.$$paramNames},E.prototype.validates=function(t){return this.params.$$validates(t)},E.prototype.format=function(t){t=t||{};var e=this.segments,n=this.parameters(),i=this.params;if(!this.validates(t))return null;var r,o=!1,a=e.length-1,c=n.length,u=e[0];function h(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}for(r=0;r<c;r++){var d=r<a,f=n[r],p=i[f],g=p.value(t[f]),m=p.isOptional&&p.type.equals(p.value(),g),v=!!m&&p.squash,y=p.type.encode(g);if(d){var b=e[r+1],w=r+1===a;if(!1===v)null!=y&&(l(y)?u+=k(y,h).join("-"):u+=encodeURIComponent(y)),u+=b;else if(!0===v){var x=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=b.match(x)[1]}else s(v)&&(u+=v+b);w&&!0===p.squash&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==y||m&&!1!==v)continue;if(l(y)||(y=[y]),0===y.length)continue;y=k(y,encodeURIComponent).join("&"+f+"="),u+=(o?"&":"?")+f+"="+y,o=!0}}return u},T.prototype.is=function(t,e){return!0},T.prototype.encode=function(t,e){return t},T.prototype.decode=function(t,e){return t},T.prototype.equals=function(t,e){return t==e},T.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},T.prototype.pattern=/.*/,T.prototype.toString=function(){return"{Type:"+this.name+"}"},T.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},T.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function o(t){return l(t)?t:r(t)?[t]:[]}function s(t){return!t}function a(t,i){return function(r){if(l(r)&&0===r.length)return r;var a=k(r=o(r),t);return!0===i?0===C(a,s).length:function(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}(a)}}var c;this.encode=a(i(t,"encode")),this.decode=a(i(t,"decode")),this.is=a(i(t,"is"),!0),this.equals=(c=i(t,"equals"),function(t,e){var n=o(t),i=o(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!c(n[r],i[r]))return!1;return!0}),this.pattern=t.pattern,this.$normalize=a(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",function t(){i=this;var h=!1,d=!0,p=!1;function v(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}var y,b={},w=!0,x=[],_={string:{encode:v,decode:function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t},is:function(t){return null==t||!r(t)||"string"==typeof t},pattern:/[^\/]*/},int:{encode:v,decode:function(t){return parseInt(t,10)},is:function(t){return r(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return!0===t||!1===t},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};function S(t){return o(t)||l(t)&&o(t[t.length-1])}function $(){for(;x.length;){var t=x.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],y.invoke(t.def))}}function D(t){u(this,t||{})}t.$$getDefaultValue=function(t){if(!S(t.value))return t.value;if(!y)throw new Error("Injectable functions cannot be called at configuration time");return y.invoke(t.value)},this.caseInsensitive=function(t){return r(t)&&(h=t),h},this.strictMode=function(t){return r(t)&&(d=t),d},this.defaultSquashPolicy=function(t){if(!r(t))return p;if(!0!==t&&!1!==t&&!s(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return p=t,t},this.compile=function(t,e){return new E(t,u({strict:d,caseInsensitive:h},e))},this.isMatcher=function(t){if(!a(t))return!1;var e=!0;return c(E.prototype,function(n,i){o(n)&&(e=e&&r(t[i])&&o(t[i]))}),e},this.type=function(t,e,n){if(!r(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new T(u({name:t},e)),n&&(x.push({name:t,def:n}),w||$()),this},c(_,function(t,e){b[e]=new T(u({name:e},t))}),b=f(b,{}),this.$get=["$injector",function(t){return y=t,w=!1,$(),c(_,function(t,e){b[e]||(b[e]=new T(t))}),this}],this.Param=function(t,i,o,c){var h,d,f=this;-1===m(d=a(h=o)?g(h):[],"value")&&-1===m(d,"type")&&-1===m(d,"squash")&&-1===m(d,"array")&&(h={value:h}),h.$$fn=S(h.value)?h.value:function(){return h.value},i=function(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i||(n.type?e.isString(n.type)?b[n.type]:n.type instanceof T?n.type:new T(n.type):"config"===r?b.any:b.string)}(o=h,i,c);var v,w,x=(v={array:"search"===c&&"auto"},w=t.match(/\[\]$/)?{array:!0}:{},u(v,w,o).array);"string"!==(i=x?i.$asArray(x,"search"===c):i).name||x||"path"!==c||o.value!==n||(o.value="");var _,$,E,D,M,A,P,O=o.value!==n,N=function(t,e){var n=t.squash;if(!e||!1===n)return!1;if(!r(n)||null==n)return p;if(!0===n||s(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(o,O),I=(_=o,$=x,D=N,P=[{from:"",to:(E=O)||$?n:""},{from:null,to:E||$?n:""}],M=l(_.replace)?_.replace:[],s(D)&&M.push({from:D,to:n}),A=k(M,function(t){return t.from}),C(P,function(t){return-1===m(A,t.from)}).concat(M));u(this,{id:t,type:i,location:c,array:x,squash:N,replace:I,isOptional:O,value:function(t){var e,i,s;return e=t,t=(s=k(C(f.replace,(i=e,function(t){return t.from===i})),function(t){return t.to})).length?s[0]:e,r(t)?f.type.$normalize(t):function(){if(!y)throw new Error("Injectable functions cannot be called at configuration time");var t=y.invoke(o.$$fn);if(null!==t&&t!==n&&!f.type.is(t))throw new Error("Default value ("+t+") for parameter '"+f.id+"' is not an instance of Type ("+f.type.name+")");return t}()},dynamic:n,config:o,toString:function(){return"{Param:"+t+" "+i+" squash: '"+N+"' optional: "+O+"}"}})},D.prototype={$$new:function(){return f(this,u(new D,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=g(D.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),c(e,function(e){c(g(e),function(e){-1===m(t,e)&&-1===m(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return c(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return c(i.$$keys(),function(r){var o=t&&t[r],s=e&&e[r];i[r].type.equals(o,s)||(n=!1)}),n},$$validates:function(t){var i,r,o,s,a,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],(o=t[l[i]])!==n&&null!==o||!r.isOptional);i++){if(s=r.type.$normalize(o),!r.type.is(s))return!1;if(a=r.type.encode(s),e.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=D}),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),D.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",D),M.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",M).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),A.$inject=[],e.module("ui.router.state").provider("$view",A),e.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}),P.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],O.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",P),e.module("ui.router.state").directive("uiView",O),F.$inject=["$state","$timeout"],z.$inject=["$state","$timeout"],B.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",F).directive("uiSrefActive",B).directive("uiSrefActiveEq",B).directive("uiState",z),j.$inject=["$state"],W.$inject=["$state"],e.module("ui.router.state").filter("isState",j).filter("includedByState",W)}(window,window.angular),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(t,e){var n=t.eventSources,i=t.calendarWatchEvent?t.calendarWatchEvent:angular.noop,r=1;this.eventFingerprint=function(t){return t._id||(t._id=r++),""+t._id+(t.id||"")+(t.title||"")+(t.url||"")+(+t.start||"")+(+t.end||"")+(t.allDay||"")+(t.className||"")+i({event:t})||""};var o=1,s=1;this.sourceFingerprint=function(t){var e=""+(t.__id||(t.__id=o++)),n=angular.isObject(t)&&t.events;return n&&(e=e+"-"+(n.__id||(n.__id=s++))),e},this.allEvents=function(){for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(angular.isArray(r))t.push(r);else if(angular.isObject(r)&&angular.isArray(r.events)){var o={};for(var s in r)"_id"!==s&&"events"!==s&&(o[s]=r[s]);for(var a=0;a<r.events.length;a++)angular.extend(r.events[a],o);t.push(r.events)}}return Array.prototype.concat.apply([],t)},this.changeWatcher=function(t,e){var n,i=function(){for(var n,i,r=angular.isFunction(t)?t():t,s=[],a=0,l=r.length;a<l;a++)i=r[a],n=e(i),o[n]=i,s.push(n);return s},r=function(t,e){var n,i,r=[],o={};for(n=0,i=e.length;n<i;n++)o[e[n]]=!0;for(n=0,i=t.length;n<i;n++)o[t[n]]||r.push(t[n]);return r},o={};return n={subscribe:function(t,s){t.$watch(i,function(t,i){!(s&&!1===s(t,i))&&function(t,i){var s,a,l,c,u={},h=r(i,t);for(s=0,a=h.length;s<a;s++){var d=h[s];l=o[d],delete o[d];var f=e(l);f===d?n.onRemoved(l):(u[f]=d,n.onChanged(l))}var p=r(t,i);for(s=0,a=p.length;s<a;s++)c=p[s],l=o[c],u[c]||n.onAdded(l)}(t,i)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(e,n){var i={};return angular.extend(i,n),angular.extend(i,e),angular.forEach(i,function(e,n){var r;"function"==typeof e&&(i[n]=(r=i[n],function(){if(t.$root.$$phase)return r.apply(this,arguments);var e=arguments,n=this;return t.$root.$apply(function(){return r.apply(n,e)})}))}),i},this.getLocaleConfig=function(t){if(!t.lang||t.useNgLocale){var n=function(t){var e,n;for(n in e=[],t)e[n]=t[n];return e},i=e.DATETIME_FORMATS;return{monthNames:n(i.MONTH),monthNamesShort:n(i.SHORTMONTH),dayNames:n(i.DAY),dayNamesShort:n(i.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(t){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(e,n,i,r){var o,s=e.eventSources,a=!1,l=r.changeWatcher(s,r.sourceFingerprint),c=r.changeWatcher(r.allEvents,r.eventFingerprint),u=null;e.destroy=function(){o&&o.fullCalendar&&o.fullCalendar("destroy"),o=i.calendar?t.calendars[i.calendar]=$(n).html(""):$(n).html("")},e.init=function(){o.fullCalendar(u),i.calendar&&(t.calendars[i.calendar]=o)},l.onAdded=function(t){o.fullCalendar("addEventSource",t),a=!0},l.onRemoved=function(t){o.fullCalendar("removeEventSource",t),a=!0},l.onChanged=function(t){o.fullCalendar("refetchEvents"),a=!0},c.onAdded=function(t){o.fullCalendar("renderEvent",t,!!t.stick)},c.onRemoved=function(t){o.fullCalendar("removeEvents",t._id)},c.onChanged=function(t){for(var e=o.fullCalendar("clientEvents",t._id),n=0;n<e.length;n++){var i=e[n];i=angular.extend(i,t),o.fullCalendar("updateEvent",i)}},l.subscribe(e),c.subscribe(e,function(){if(!0===a)return a=!1,!1}),e.$watch(function(){var n,o=i.uiCalendar?e.$parent.$eval(i.uiCalendar):{};n=r.getFullCalendarConfig(o,t);var a=r.getLocaleConfig(n);angular.extend(a,n),u={eventSources:s},angular.extend(u,a),u.calendars=null;var l={};for(var c in u)"eventSources"!==c&&(l[c]=u[c]);return JSON.stringify(l)},function(t,n){e.destroy(),e.init()})}}}]),function(t,e,n){"use strict";e.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,i,r){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(o,s,a,l){function c(t,e){var n="function"==typeof e;return"function"==typeof t&&n?function(){t.apply(this,arguments),e.apply(this,arguments)}:n?e:t}function u(t){var e=t.data("ui-sortable");return e&&"object"==typeof e&&"ui-sortable"===e.widgetFullName?e:null}function h(e,n){return x[e]?("stop"===e&&(n=c(n=c(n,function(){o.$apply()}),p)),n=c(x[e],n)):C[e]&&(n=C[e](n)),n||"items"!==e&&"ui-model-items"!==e||(n=t.items),n}function d(t,i,r){e.forEach(x,function(t,e){e in b||(b[e]=null)});var o,s=null;i&&e.forEach(i,function(i,r){if(!(t&&r in t)){if(r in w)return void(b[r]="ui-floating"===r?"auto":h(r,n));o||(o=e.element.ui.sortable().options);var a=o[r];a=h(r,a),s||(s={}),s[r]=a,b[r]=a}});return e.forEach(t,function(t,e){return e in w?("ui-floating"!==e||!1!==t&&!0!==t||!r||(r.floating=t),void(b[e]=h(e,t))):(t=h(e,t),s||(s={}),s[e]=t,void(b[e]=t))}),s}function f(t,e,n){var i,r,o=null;return i=e,("clone"===(r=t.sortable("option","helper"))||"function"==typeof r&&i.item.sortable.isCustomHelperUsed())&&"parent"===t.sortable("option","appendTo")&&(o=n.last()),o}function p(t,e){e.item.sortable._destroy()}function g(t){return t.parent().find(b["ui-model-items"]).index(t)}function m(){o.$watchCollection("ngModel",function(){i(function(){u(s)&&s.sortable("refresh")},0,!1)}),x.start=function(t,i){if("auto"===b["ui-floating"]){var r=i.item.siblings();u(e.element(t.target)).floating=/left|right/.test((o=r).css("float"))||/inline|table-cell/.test(o.css("display"))}var o,a=g(i.item);i.item.sortable={model:l.$modelValue[a],index:a,source:s,sourceList:i.item.parent(),sourceModel:l.$modelValue,cancel:function(){i.item.sortable._isCanceled=!0},isCanceled:function(){return i.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!i.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:i.item.sortable._isCustomHelperUsed,_destroy:function(){e.forEach(i.item.sortable,function(t,e){i.item.sortable[e]=n})},_connectedSortables:[],_getElementContext:function(t){return function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.element[0]===e[0])return i}}(this._connectedSortables,t)}}},x.activate=function(t,n){var i=n.item.sortable.source===s,r=i?n.item.sortable.sourceList:s,a={element:s,scope:o,isSourceContext:i,savedNodesOrigin:r};n.item.sortable._connectedSortables.push(a),y=r.contents();var l,c,u,h=function(t){var n=t.sortable("option","placeholder");if(n&&n.element&&"function"==typeof n.element){var i=n.element();return e.element(i)}return null}(s);if(h&&h.length){var d=(l=s,c=h,u=b["ui-model-items"].replace(/[^,]*>/g,""),l.find('[class="'+c.attr("class")+'"]:not('+u+")"));y=y.not(d)}},x.update=function(t,e){if(!e.item.sortable.received){e.item.sortable.dropindex=g(e.item);var n=e.item.closest("[ui-sortable]");e.item.sortable.droptarget=n,e.item.sortable.droptargetList=e.item.parent();var i=e.item.sortable._getElementContext(n);e.item.sortable.droptargetModel=i.scope.ngModel,s.sortable("cancel")}var r=!e.item.sortable.received&&f(s,e,y);r&&r.length&&(y=y.not(r));var a=e.item.sortable._getElementContext(s);y.appendTo(a.savedNodesOrigin),e.item.sortable.received&&(y=null),e.item.sortable.received&&!e.item.sortable.isCanceled()&&o.$apply(function(){l.$modelValue.splice(e.item.sortable.dropindex,0,e.item.sortable.moved)})},x.stop=function(t,n){var i="dropindex"in n.item.sortable&&!n.item.sortable.isCanceled();if(i&&!n.item.sortable.received)o.$apply(function(){l.$modelValue.splice(n.item.sortable.dropindex,0,l.$modelValue.splice(n.item.sortable.index,1)[0])});else if(!i&&!e.equals(s.contents().toArray(),y.toArray())){var r=f(s,n,y);r&&r.length&&(y=y.not(r));var a=n.item.sortable._getElementContext(s);y.appendTo(a.savedNodesOrigin)}y=null},x.receive=function(t,e){e.item.sortable.received=!0},x.remove=function(t,e){"dropindex"in e.item.sortable||(s.sortable("cancel"),e.item.sortable.cancel()),e.item.sortable.isCanceled()||o.$apply(function(){e.item.sortable.moved=l.$modelValue.splice(e.item.sortable.index,1)[0]})},C.helper=function(t){return t&&"function"==typeof t?function(i,r){var o=r.sortable,a=g(r);r.sortable={model:l.$modelValue[a],index:a,source:s,sourceList:r.parent(),sourceModel:l.$modelValue,_restore:function(){e.forEach(r.sortable,function(t,e){r.sortable[e]=n}),r.sortable=o}};var c=t.apply(this,arguments);return r.sortable._restore(),r.sortable._isCustomHelperUsed=r!==c,c}:t},o.$watchCollection("uiSortable",function(t,e){var n=u(s);if(n){var i=d(t,e,n);i&&s.sortable("option",i)}},!0),d(b)}function v(){return(!o.uiSortable||!o.uiSortable.disabled)&&(l?m():r.info("ui.sortable: ngModel not provided!",s),s.sortable(b),v.cancelWatcher(),v.cancelWatcher=e.noop,!0)}var y,b={},w={"ui-floating":n,"ui-model-items":t.items},x={receive:null,remove:null,start:null,stop:null,update:null},C={helper:null};return e.extend(b,w,t,o.uiSortable),e.element.fn&&e.element.fn.jquery?(v.cancelWatcher=e.noop,void(v()||(v.cancelWatcher=o.$watch("uiSortable.disabled",v)))):void r.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular),angular.module("xeditable",[]).value("editableOptions",{theme:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(t){return t({directiveName:"editableBsdate",inputTpl:'<input type="text">'})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(t){return t({directiveName:"editableBstime",inputTpl:"<timepicker></timepicker>",render:function(){this.parent.render.call(this);var t=angular.element('<div class="well well-small" style="display:inline-block;"></div>');t.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(t.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(t)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(t){return t({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.after(angular.element("<span></span>").text(this.attrs.eTitle)))},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+t.locals.valueFn+'"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)}})}]),function(){var t="text|email|tel|number|url|search|color|date|datetime|time|month|week".split("|");angular.forEach(t,function(t){var e="editable"+t.charAt(0).toUpperCase()+t.slice(1);angular.module("xeditable").directive(e,["editableDirectiveFactory",function(n){return n({directiveName:e,inputTpl:'<input type="'+t+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(t){return t({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="radio" ng-model="$parent.$data" value="{{'+t.locals.valueFn+'}}"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(t){return t({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var t=this;t.inputEl.bind("change",function(){t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(t){return t({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){this.parent.addListeners.call(this),this.single&&"no"!==this.buttons&&this.autosubmit()},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){(e.ctrlKey||e.metaKey)&&13===e.keyCode&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(t,e){function n(t,n,i,r,o,s,a,l,c){var u,h,d=this;d.scope=t,d.elem=i,d.attrs=n,d.inputEl=null,d.editorEl=null,d.single=!0,d.error="",d.theme=o[s.theme]||o.default,d.parent={},d.inputTpl="",d.directiveName="",d.useCopy=!1,d.single=null,d.buttons="right",d.init=function(e){if(d.single=e,d.name=n.eName||n[d.directiveName],!n[d.directiveName])throw"You should provide value for `"+d.directiveName+"` in editable element!";u=r(n[d.directiveName]),d.buttons=d.single?d.attrs.buttons||s.buttons:"no",n.eName&&d.scope.$watch("$data",function(t){d.scope.$form.$data[n.eName]=t}),n.onshow&&(d.onshow=function(){return d.catchError(r(n.onshow)(t))}),n.onhide&&(d.onhide=function(){return r(n.onhide)(t)}),n.oncancel&&(d.oncancel=function(){return r(n.oncancel)(t)}),n.onbeforesave&&(d.onbeforesave=function(){return d.catchError(r(n.onbeforesave)(t))}),n.onaftersave&&(d.onaftersave=function(){return d.catchError(r(n.onaftersave)(t))}),t.$parent.$watch(n[d.directiveName],function(){d.handleEmpty()})},d.render=function(){var t=d.theme;for(var i in d.inputEl=angular.element(d.inputTpl),d.controlsEl=angular.element(t.controlsTpl),d.controlsEl.append(d.inputEl),"no"!==d.buttons&&(d.buttonsEl=angular.element(t.buttonsTpl),d.submitEl=angular.element(t.submitTpl),d.cancelEl=angular.element(t.cancelTpl),d.buttonsEl.append(d.submitEl).append(d.cancelEl),d.controlsEl.append(d.buttonsEl),d.inputEl.addClass("editable-has-buttons")),d.errorEl=angular.element(t.errorTpl),d.controlsEl.append(d.errorEl),d.editorEl=angular.element(d.single?t.formTpl:t.noformTpl),d.editorEl.append(d.controlsEl),n.$attr)if(!(i.length<=1)){var r=!1,o=i.substring(1,2);if("e"===i.substring(0,1)&&o===o.toUpperCase()&&("Form"!==(r=i.substring(1))&&"NgSubmit"!==r)){r=r.substring(0,1).toLowerCase()+e.camelToDash(r.substring(1));var a=""===n[i]?r:n[i];d.inputEl.attr(r,a)}}d.inputEl.addClass("editable-input"),d.inputEl.attr("ng-model","$data"),d.editorEl.addClass(e.camelToDash(d.directiveName)),d.single&&(d.editorEl.attr("editable-form","$form"),d.editorEl.attr("blur",d.attrs.blur||("no"===d.buttons?"cancel":s.blurElem))),angular.isFunction(t.postrender)&&t.postrender.call(d)},d.setLocalValue=function(){d.scope.$data=d.useCopy?angular.copy(u(t.$parent)):u(t.$parent)},d.show=function(){return d.setLocalValue(),d.render(),i.after(d.editorEl),l(d.editorEl)(t),d.addListeners(),i.addClass("editable-hide"),d.onshow()},d.hide=function(){return d.editorEl.remove(),i.removeClass("editable-hide"),d.onhide()},d.cancel=function(){d.oncancel()},d.addListeners=function(){d.inputEl.bind("keyup",function(t){if(d.single)switch(t.keyCode){case 27:d.scope.$apply(function(){d.scope.$form.$cancel()})}}),d.single&&"no"===d.buttons&&d.autosubmit(),d.editorEl.bind("click",function(t){1===t.which&&d.scope.$form.$visible&&(d.scope.$form._clicked=!0)})},d.setWaiting=function(t){t?(h=!d.inputEl.attr("disabled")&&!d.inputEl.attr("ng-disabled")&&!d.inputEl.attr("ng-enabled"))&&(d.inputEl.attr("disabled","disabled"),d.buttonsEl&&d.buttonsEl.find("button").attr("disabled","disabled")):h&&(d.inputEl.removeAttr("disabled"),d.buttonsEl&&d.buttonsEl.find("button").removeAttr("disabled"))},d.activate=function(){setTimeout(function(){var t=d.inputEl[0];"focus"===s.activate&&t.focus&&t.focus(),"select"===s.activate&&t.select&&t.select()},0)},d.setError=function(e){angular.isObject(e)||(t.$error=e,d.error=e)},d.catchError=function(t,e){return angular.isObject(t)&&!0!==e?c.when(t).then(angular.bind(this,function(t){this.catchError(t,!0)}),angular.bind(this,function(t){this.catchError(t,!0)})):e&&angular.isObject(t)&&t.status&&200!==t.status&&t.data&&angular.isString(t.data)?(this.setError(t.data),t=t.data):angular.isString(t)&&this.setError(t),t},d.save=function(){u.assign(t.$parent,angular.copy(d.scope.$data))},d.handleEmpty=function(){var e=u(t.$parent),n=null===e||void 0===e||""===e||angular.isArray(e)&&0===e.length;i.toggleClass("editable-empty",n)},d.autosubmit=angular.noop,d.onshow=angular.noop,d.onhide=angular.noop,d.oncancel=angular.noop,d.onbeforesave=angular.noop,d.onaftersave=angular.noop}return n.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableOptions","$rootScope","$compile","$q"],n}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController",function(t,e,n,i,r,o,s){return function(e){return{restrict:"A",scope:!0,require:[e.directiveName,"?^form"],controller:o,link:function(n,o,a,l){var c,u=l[0],h=!1;if(l[1])c=l[1],h=!0;else if(a.eForm){var d=t(a.eForm)(n);if(d)c=d,h=!0;else for(var f=0;f<r[0].forms.length;f++)if(r[0].forms[f].name===a.eForm){c=null,h=!0;break}}if(angular.forEach(e,function(t,e){void 0!==u[e]&&(u.parent[e]=u[e])}),angular.extend(u,e),u.init(!h),n.$editable=u,o.addClass("editable"),h)if(c){if(n.$form=c,!n.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";n.$form.$addEditable(u)}else i.$$editableBuffer=i.$$editableBuffer||{},i.$$editableBuffer[a.eForm]=i.$$editableBuffer[a.eForm]||[],i.$$editableBuffer[a.eForm].push(u),n.$form=null;else n.$form=s(),n.$form.$addEditable(u),a.eForm&&(n.$parent[a.eForm]=n.$form),a.eForm||(o.addClass("editable-click"),o.bind("click",function(t){t.preventDefault(),t.editable=u,n.$apply(function(){n.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(t,e,n,i,r){var o=[];e.bind("click",function(t){if(1===t.which){for(var e=[],i=[],r=0;r<o.length;r++)o[r]._clicked?o[r]._clicked=!1:o[r].$waiting||("cancel"===o[r]._blur&&e.push(o[r]),"submit"===o[r]._blur&&i.push(o[r]));(e.length||i.length)&&n.$apply(function(){angular.forEach(e,function(t){t.$cancel()}),angular.forEach(i,function(t){t.$submit()})})}});var s={$addEditable:function(t){this.$editables.push(t),t.elem.bind("$destroy",angular.bind(this,this.$removeEditable,t)),t.scope.$form||(t.scope.$form=this),this.$visible&&t.catchError(t.show())},$removeEditable:function(t){for(var e=0;e<this.$editables.length;e++)if(this.$editables[e]===t)return void this.$editables.splice(e,1)},$show:function(){if(!this.$visible){this.$visible=!0;var t=i();t.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(e){t.when(e.show())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===r.indexOf(o,this)&&o.push(this)}),0)}},$activate:function(t){var e;if(this.$editables.length){if(angular.isString(t))for(e=0;e<this.$editables.length;e++)if(this.$editables[e].name===t)return void this.$editables[e].activate();for(e=0;e<this.$editables.length;e++)if(this.$editables[e].error)return void this.$editables[e].activate();this.$editables[0].activate()}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(t){t.hide()}),r.arrayRemove(o,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(t){t.cancel()}),this.$hide())},$setWaiting:function(t){this.$waiting=!!t,angular.forEach(this.$editables,function(e){e.setWaiting(!!t)})},$setError:function(t,e){angular.forEach(this.$editables,function(n){t&&n.name!==t||n.setError(e)})},$submit:function(){function t(t){var e=i();e.when(this.$onbeforesave()),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:t?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var e=i();angular.forEach(this.$editables,function(t){e.when(t.onbeforesave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,t,!0),onFalse:angular.bind(this,t,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(t){t.save()});var t=i();t.when(this.$onaftersave()),angular.forEach(this.$editables,function(e){t.when(e.onaftersave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},s)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(t,e,n,i){return{restrict:"A",require:["form"],compile:function(){return{pre:function(e,i,r,o){var s,a=o[0];r.editableForm?e[r.editableForm]&&e[r.editableForm].$show?(s=e[r.editableForm],angular.extend(a,s)):(s=n(),e[r.editableForm]=s,angular.extend(s,a)):(s=n(),angular.extend(a,s));var l=t.$$editableBuffer,c=a.$name;c&&l&&l[c]&&(angular.forEach(l[c],function(t){s.$addEditable(t)}),delete l[c])},post:function(t,n,r,o){var s;s=r.editableForm&&t[r.editableForm]&&t[r.editableForm].$show?t[r.editableForm]:o[0],r.onshow&&(s.$onshow=angular.bind(s,e(r.onshow),t)),r.onhide&&(s.$onhide=angular.bind(s,e(r.onhide),t)),r.oncancel&&(s.$oncancel=angular.bind(s,e(r.oncancel),t)),r.shown&&e(r.shown)(t)&&s.$show(),s._blur=r.blur||i.blurForm,r.ngSubmit||r.submit||(r.onbeforesave&&(s.$onbeforesave=function(){return e(r.onbeforesave)(t,{$data:s.$data})}),r.onaftersave&&(s.$onaftersave=function(){return e(r.onaftersave)(t,{$data:s.$data})}),n.bind("submit",function(e){e.preventDefault(),t.$apply(function(){s.$submit()})})),n.bind("click",function(t){1===t.which&&s.$visible&&(s._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(t){return function(){return{promises:[],hasFalse:!1,hasString:!1,when:function(e,n){if(!1===e)this.hasFalse=!0;else if(!n&&angular.isObject(e))this.promises.push(t.when(e));else{if(!angular.isString(e))return;this.hasString=!0}},then:function(e){function n(){a.hasString||a.hasFalse?!a.hasString&&a.hasFalse?r():o():i()}var i=(e=e||{}).onTrue||angular.noop,r=e.onFalse||angular.noop,o=e.onString||angular.noop,s=e.onWait||angular.noop,a=this;this.promises.length?(s(!0),t.all(this.promises).then(function(t){s(!1),angular.forEach(t,function(t){a.when(t,!0)}),n()},function(){s(!1),o()})):n()}}}}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},arrayRemove:function(t,e){var n=this.indexOf(t,e);return n>=0&&t.splice(n,1),e},camelToDash:function(t){return t.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()})},dashToCamel:function(t){return t.replace(/([\:\-\_]+(.))/g,function(t,e,n,i){return i?n.toUpperCase():n}).replace(/^moz([A-Z])/,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return function(e){var n;if(!(n=e.match(t)))throw"ng-options parse error";var i,r=n[2]||n[1],o=n[4]||n[6],s=n[5],a=(n[3],n[2]?n[1]:o),l=n[7],c=n[8],u=c?n[8]:null;return void 0===s?(i=o+" in "+l,void 0!==c&&(i+=" track by "+u)):i="("+s+", "+o+") in "+l,{ngRepeat:i,locals:{valueName:o,keyName:s,valueFn:a,displayFn:r}}}}]),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="icon-ok icon-white"></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span class="icon-remove"></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}}}),function(t,e,n,i){"use strict";var r=e.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(o,s,a){this.draggableScope=null,this.droppableScope=null,n("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(t,e,i,r){if(e){var o=(h=-1!==(u=e).indexOf("(")?u.indexOf("("):u.length,d=-1!==u.lastIndexOf(")")?u.lastIndexOf(")"):u.length,f=u.substring(h+1,d),p=-1!==u.indexOf(".")?u.substr(0,u.indexOf(".")):null,p=t[p]&&"function"==typeof t[p].constructor?p:null,{callback:u.substring(p&&p.length+1||0,h),args:n.map(f&&f.split(",")||[],function(e){return[s(e)(t)]}),constructor:p}),a=o.callback,l=o.constructor,c=[i,r].concat(o.args);return(t[a]||t[l][a]).apply(t[a]?t:t[l],c)}var u,h,d,f,p},this.invokeDrop=function(t,s,l,c){var u,h,d,f,p,g,m={},v={},y={},b={},w=null,x=this.droppableScope,C=this.draggableScope,k=null,_=[];f=t.ngattr("ng-model"),p=s.ngattr("ng-model"),u=C.$eval(f),h=x.$eval(p),w=s.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),v=x.$eval(s.attr("jqyoui-droppable")||s.attr("data-jqyoui-droppable"))||[],(m=C.$eval(t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))||[]).index=this.fixIndex(C,m,u),v.index=this.fixIndex(x,v,h),g=e.isArray(u)?m.index:null,y=e.isArray(u)?u[g]:u,m.deepCopy&&(y=e.copy(y)),b=e.isArray(h)&&v&&v.index!==i?h[v.index]:e.isArray(h)?{}:h,v.deepCopy&&(b=e.copy(b)),m.beforeDrop&&_.push(this.callEventCallback(C,m.beforeDrop,l,c)),a.all(_).then(e.bind(this,function(){if(m.insertInline&&f===p){if(m.index>v.index){d=u[m.index];for(var i=m.index;i>v.index;i--)h[i]=e.copy(h[i-1]),h[i-1]={},h[i][m.direction]="left";h[v.index]=d}else{d=u[m.index];for(i=m.index;i<v.index;i++)h[i]=e.copy(h[i+1]),h[i+1]={},h[i][m.direction]="right";h[v.index]=d}this.callEventCallback(x,v.onDrop,l,c)}else!0===m.animate?((k=t.clone()).css({position:"absolute"}).css(t.offset()),n("body").append(k),t.addClass("angular-dragdrop-hide"),this.move(k,w.length>0?w:s,null,"fast",v,function(){k.remove()}),this.move(w.length>0&&!v.multiple?w:[],t.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",v,e.bind(this,function(){o(e.bind(this,function(){t.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),w.css({position:"relative",left:"",top:"",display:"none"===w.css("display")?"":w.css("display")}),this.mutateDraggable(C,v,m,f,p,b,t),this.mutateDroppable(x,v,m,p,y,g),this.callEventCallback(x,v.onDrop,l,c)}))}))):o(e.bind(this,function(){this.mutateDraggable(C,v,m,f,p,b,t),this.mutateDroppable(x,v,m,p,y,g),this.callEventCallback(x,v.onDrop,l,c)}))})).finally(e.bind(this,function(){this.restore(t)}))},this.move=function(e,n,r,o,s,a){if(0===e.length)return a&&t.setTimeout(function(){a()},300),!1;var l=e.css("z-index"),c=e[s.containment||"offset"](),u=n.css("display"),h=n.hasClass("ng-hide"),d=n.hasClass("angular-dragdrop-hide");null===r&&n.length>0&&((n.attr("jqyoui-draggable")||n.attr("data-jqyoui-draggable"))!==i&&n.ngattr("ng-model")!==i&&n.is(":visible")&&s&&s.multiple?(r=n[s.containment||"offset"](),!1===s.stack?r.left+=n.outerWidth(!0):r.top+=n.outerHeight(!0)):(h&&n.removeClass("ng-hide"),d&&n.removeClass("angular-dragdrop-hide"),r=n.css({visibility:"hidden",display:"block"})[s.containment||"offset"](),n.css({visibility:"",display:u}))),e.css({position:"absolute","z-index":9999}).css(c).animate(r,o,function(){h&&n.addClass("ng-hide"),d&&n.addClass("angular-dragdrop-hide"),e.css("z-index",l),a&&a()})},this.mutateDroppable=function(t,n,i,r,o,a){var l=t.$eval(r);t.dndDragItem=o,e.isArray(l)?(n&&n.index>=0?l[n.index]=o:l.push(o),i&&!0===i.placeholder&&(l[l.length-1].jqyoui_pos=a)):(s(r+" = dndDragItem")(t),i&&!0===i.placeholder&&(l.jqyoui_pos=a))},this.mutateDraggable=function(t,n,r,o,a,l,c){var u=e.equals(l,{})||!l,h=t.$eval(o);t.dndDropItem=l,r&&r.placeholder?"keep"!=r.placeholder&&(e.isArray(h)&&r.index!==i?h[r.index]=l:s(o+" = dndDropItem")(t)):e.isArray(h)?u?r&&!0!==r.placeholder&&"keep"!==r.placeholder&&h.splice(r.index,1):h[r.index]=l:(s(o+" = dndDropItem")(t),t.$parent&&s(o+" = dndDropItem")(t.$parent)),this.restore(c)},this.restore=function(t){t.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,n,r){if(n.applyFilter&&e.isArray(r)&&r.length>0){var o=t[n.applyFilter]()[n.index],s=i;return r.forEach(function(t,n){e.equals(t,o)&&(s=n)}),s}return n.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(t){return{require:"?jqyouiDroppable",restrict:"A",link:function(i,o,s){var a,l,c,u,h=n(o),d=function(o,d){o?(a=i.$eval(h.attr("jqyoui-draggable")||h.attr("data-jqyoui-draggable"))||{},l=i.$eval(s.jqyouiOptions)||{},h.draggable({disabled:!1}).draggable(l).draggable({start:function(e,o){t.draggableScope=i,c=n(l.helper?o.helper:this).css("z-index"),n(l.helper?o.helper:this).css("z-index",9999),r.startXY=n(this)[a.containment||"offset"](),t.callEventCallback(i,a.onStart,e,o)},stop:function(e,r){n(l.helper?r.helper:this).css("z-index",c),t.callEventCallback(i,a.onStop,e,r)},drag:function(e,n){t.callEventCallback(i,a.onDrag,e,n)}})):h.draggable({disabled:!0}),u&&e.isDefined(o)&&(e.equals(s.drag,"true")||e.equals(s.drag,"false"))&&(u(),u=null)};u=i.$watch(function(){return i.$eval(s.drag)},d),d(),h.on("$destroy",function(){h.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(t,i){return{restrict:"A",priority:1,link:function(r,o,s){var a,l,c,u=n(o),h=function(o,h){o?(a=r.$eval(n(u).attr("jqyoui-droppable")||n(u).attr("data-jqyoui-droppable"))||{},l=r.$eval(s.jqyouiOptions)||{},u.droppable({disabled:!1}).droppable(l).droppable({over:function(e,n){t.callEventCallback(r,a.onOver,e,n)},out:function(e,n){t.callEventCallback(r,a.onOut,e,n)},drop:function(o,c){var u;(a.beforeDrop?t.callEventCallback(r,a.beforeDrop,o,c):((u=i.defer()).resolve(),u.promise)).then(e.bind(this,function(){n(c.draggable).ngattr("ng-model")&&s.ngModel?(t.droppableScope=r,t.invokeDrop(n(c.draggable),n(this),o,c)):t.callEventCallback(r,a.onDrop,o,c)}),function(){c.draggable.animate({left:"",top:""},l.revertDuration||0)})}})):u.droppable({disabled:!0}),c&&e.isDefined(o)&&(e.equals(s.drop,"true")||e.equals(s.drop,"false"))&&(c(),c=null)};c=r.$watch(function(){return r.$eval(s.drop)},h),h(),u.on("$destroy",function(){u.droppable({disabled:!0}).droppable("destroy")})}}}]);n.fn.ngattr=function(t,e){var n=this[0];return n.getAttribute(t)||n.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),i=function(){var i=t.preferredLanguage();angular.isString(i)?t.use(i):n.put(e,t.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e)).catch(i):i():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(t,e,n,i){"use strict";var r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w={},x=[],C=t,k=[],_="translate-cloak",S=!1,$=!1,E=".",T=!1,D=!1,M=0,A=!0,P="default",O={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},N=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var t,n,r=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(t=0;t<r.languages.length;t++)if((n=r.languages[t])&&n.length)return n;for(t=0;t<o.length;t++)if((n=r[o[t]])&&n.length)return n;return null};N.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var t=N()||"";return O[P]&&(t=O[P](t)),t};I.displayName="angular-translate/service: getLocale";var L=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},H=function(){return this.toString().replace(/^\s+|\s+$/g,"")},R=function(t){if(t){for(var e=[],n=angular.lowercase(t),i=0,r=x.length;i<r;i++)e.push(angular.lowercase(x[i]));if(L(e,n)>-1)return t;var s;if(o)for(var a in o)if(o.hasOwnProperty(a)){var l=!1,c=Object.prototype.hasOwnProperty.call(o,a)&&angular.lowercase(a)===angular.lowercase(t);if("*"===a.slice(-1)&&(l=a.slice(0,-1)===t.slice(0,a.length-1)),(c||l)&&(s=o[a],L(e,angular.lowercase(s))>-1))return s}var u=t.split("_");return u.length>1&&L(e,angular.lowercase(u[0]))>-1?u[0]:void 0}},F=function(t,e){if(!t&&!e)return w;if(t&&!e){if(angular.isString(t))return w[t]}else angular.isObject(w[t])||(w[t]={}),angular.extend(w[t],z(e));return this};this.translations=F,this.cloakClassName=function(t){return t?(_=t,this):_},this.nestedObjectDelimeter=function(t){return t?(E=t,this):E};var z=function(t,e,n,i){var r,o,s;for(r in e||(e=[]),n||(n={}),t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?z(s,e.concat(r),n,r):(o=e.length?""+e.join(E)+E+r:r,e.length&&r===i&&(n[""+e.join(E)]="@:"+o),n[o]=s));return n};z.displayName="flatObject",this.addInterpolation=function(t){return k.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return f=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(B(t),this):r};var B=function(t){return t&&(r=t),r};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return j(t),this};var j=function(t){return t?(angular.isString(t)?(a=!0,s=[t]):angular.isArray(t)&&(a=!1,s=t),angular.isString(r)&&L(s,r)<0&&s.push(r),this):a?s[0]:s};this.use=function(t){if(t){if(!w[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return I()};var W=function(t){return t?(C=t,this):h?h+C:C};this.storageKey=W,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return u=t,this},this.storagePrefix=function(t){return t?(h=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return d=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.forceAsyncReload=function(t){return $=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},P=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():I();return r=x.length&&R(e)||e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(x=t,e&&(o=e),this):x},this.useLoaderCache=function(t){return!1===t?y=void 0:!0===t?y=!0:void 0===t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?M:(M=t,this)},this.statefulFilter=function(t){return void 0===t?A:(A=t,this)},this.postProcess=function(t){return b=t||void 0,this},this.keepContent=function(t){return D=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,i){var o,h,P,O=e.get(f||"$translateDefaultInterpolation"),N=!1,V={},q={},Y=function(t,e,n,a,c){!l&&r&&(l=r);var d=c&&c!==l?R(c)||c:l;if(c&&ot(c),angular.isArray(t)){return function(t){for(var r={},o=[],s=function(t){var o=i.defer(),s=function(e){r[t]=e,o.resolve([t,e])};return Y(t,e,n,a,c).then(s,s),o.promise},l=0,u=t.length;l<u;l++)o.push(s(t[l]));return i.all(o).then(function(){return r})}(t)}var f=i.defer();t&&(t=H.apply(t));var p=function(){var t=r?q[r]:q[d];if(h=0,u&&!t){var e=o.get(C);if(t=q[e],s&&s.length){var n=L(s,e);h=0===n?1:0,L(s,r)<0&&s.push(r)}}return t}();if(p){var g=function(){c||(d=l),nt(t,e,n,a,d).then(f.resolve,f.reject)};g.displayName="promiseResolved",p.finally(g)}else nt(t,e,n,a,d).then(f.resolve,f.reject);return f.promise},U=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},G=function(t){l=t,u&&o.put(Y.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),O.setLocale(l);var e=function(t,e){V[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(V,e),n.$emit("$translateChangeEnd",{language:t})},X=function(t){if(!t)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:t}),N=!0;var o=y;"string"==typeof o&&(o=e.get(o));var s=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),a=function(e){var i={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(i,z(t))}):angular.extend(i,z(e)),N=!1,r.resolve({key:t,table:i}),n.$emit("$translateLoadingEnd",{language:t})};a.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),r.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(p)(s).then(a,l),r.promise};if(u&&(!(o=e.get(u)).get||!o.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(k.length){var K=function(t){var n=e.get(t);n.setLocale(r||l),V[n.getInterpolationIdentifier()]=n};K.displayName="interpolationFactoryAdder",angular.forEach(k,K)}var Z=function(t,e,n,r){var o=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,e)){r.setLocale(t);var s=i[e];if("@:"===s.substr(0,2))Z(t,s.substr(2),n,r).then(o.resolve,o.reject);else{var a=r.interpolate(i[e],n,"service");a=rt(e,i[e],a,n,t),o.resolve(a)}r.setLocale(l)}else o.reject()};return s.displayName="fallbackTranslationResolver",function(t){var e=i.defer();if(Object.prototype.hasOwnProperty.call(w,t))e.resolve(w[t]);else if(q[t]){var n=function(t){F(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",q[t].then(n,e.reject)}else e.reject();return e.promise}(t).then(s,o.reject),o.promise},Q=function(t,e,n,i,r){var o,s=w[t];if(s&&Object.prototype.hasOwnProperty.call(s,e)){if(i.setLocale(t),o=i.interpolate(s[e],n,"filter",r),o=rt(e,s[e],o,n,t,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var a=o.$$unwrapTrustedValue();if("@:"===a.substr(0,2))return Q(t,a.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return Q(t,o.substr(2),n,i,r);i.setLocale(l)}return o},J=function(t,n,i,r){return d?e.get(d)(t,l,n,i,r):t},tt=function(t,e,n,r,o){var a=i.defer();if(t<s.length){var l=s[t];Z(l,e,n,r).then(function(t){a.resolve(t)},function(){return tt(t+1,e,n,r,o).then(a.resolve,a.reject)})}else if(o)a.resolve(o);else{var c=J(e,n,o);d&&c?a.resolve(c):a.reject(U(e))}return a.promise},et=function(t,e,n,i,r){var o;if(t<s.length){var a=s[t];(o=Q(a,e,n,i,r))||""===o||(o=et(t+1,e,n,i))}return o},nt=function(t,e,n,r,o){var a,l,c,u,f=i.defer(),p=o?w[o]:w,g=n?V[n]:O;if(p&&Object.prototype.hasOwnProperty.call(p,t)){var m=p[t];if("@:"===m.substr(0,2))Y(m.substr(2),e,n,r,o).then(f.resolve,f.reject);else{var v=g.interpolate(m,e,"service");v=rt(t,m,v,e,o),f.resolve(v)}}else{var y;d&&!N&&(y=J(t,e,r)),o&&s&&s.length?(a=t,l=e,c=g,u=r,tt(P>0?P:h,a,l,c,u)).then(function(t){f.resolve(t)},function(t){f.reject(U(t))}):d&&!N&&y?r?f.resolve(r):f.resolve(y):r?f.resolve(r):f.reject(U(t))}return f.promise},it=function(t,e,n,i,r){var o,a=i?w[i]:w,l=O;if(V&&Object.prototype.hasOwnProperty.call(V,n)&&(l=V[n]),a&&Object.prototype.hasOwnProperty.call(a,t)){var c=a[t];"@:"===c.substr(0,2)?o=it(c.substr(2),e,n,i,r):(o=l.interpolate(c,e,"filter",r),o=rt(t,c,o,e,i,r))}else{var u;d&&!N&&(u=J(t,e,r)),i&&s&&s.length?(h=0,o=et(P>0?P:h,t,e,l,r)):o=d&&!N&&u?u:U(t)}return o},rt=function(t,n,i,r,o,s){var a=b;return a&&("string"==typeof a&&(a=e.get(a)),a)?a(t,n,i,r,o,s):i},ot=function(t){w[t]||!p||q[t]||(q[t]=X(t).then(function(t){return F(t.key,t.table),t}))};Y.preferredLanguage=function(t){return t&&B(t),r},Y.cloakClassName=function(){return _},Y.nestedObjectDelimeter=function(){return E},Y.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(j(t),p&&s&&s.length)for(var e=0,n=s.length;e<n;e++)q[s[e]]||(q[s[e]]=X(s[e]));Y.use(Y.use())}return a?s[0]:s},Y.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=L(s,t);e>-1&&(P=e)}else P=0},Y.proposedLanguage=function(){return c},Y.storage=function(){return o},Y.negotiateLocale=R,Y.use=function(t){if(!t)return l;var e=i.defer();n.$emit("$translateChangeStart",{language:t});var r=R(t);return x.length>0&&!r?i.reject(t):(r&&(t=r),c=t,!$&&w[t]||!p||q[t]?q[t]?q[t].then(function(t){return c===t.key&&G(t.key),e.resolve(t.key),t},function(t){return!l&&s&&s.length>0&&s[0]!==t?Y.use(s[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),G(t)):(q[t]=X(t).then(function(n){return F(n.key,n.table),e.resolve(n.key),c===t&&G(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),i.reject(t)}),q[t].finally(function(){var e;c===(e=t)&&(c=void 0),q[e]=void 0})),e.promise)},Y.resolveClientLocale=function(){return I()},Y.storageKey=function(){return W()},Y.isPostCompilingEnabled=function(){return S},Y.isForceAsyncReloadEnabled=function(){return $},Y.isKeepContent=function(){return D},Y.refresh=function(t){function e(){o.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function r(){o.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var o=i.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(w[t]){var a=function(n){return F(n.key,n.table),t===l&&G(l),e(),n};a.displayName="refreshPostProcessor",X(t).then(a,r)}else r();else{var c=[],u={};if(s&&s.length)for(var h=0,d=s.length;h<d;h++)c.push(X(s[h])),u[s[h]]=!0;l&&!u[l]&&c.push(X(l));var f=function(t){w={},angular.forEach(t,function(t){F(t.key,t.table)}),l&&G(l),e()};f.displayName="refreshPostProcessor",i.all(c).then(f,r)}return o.promise},Y.instant=function(t,e,n,i,o){var a=i&&i!==l?R(i)||i:l;if(null===t||angular.isUndefined(t))return t;if(i&&ot(i),angular.isArray(t)){for(var c={},u=0,h=t.length;u<h;u++)c[t[u]]=Y.instant(t[u],e,n,i,o);return c}if(angular.isString(t)&&t.length<1)return t;t&&(t=H.apply(t));var f,p=[];r&&p.push(r),a&&p.push(a),s&&s.length&&(p=p.concat(s));for(var g=0,y=p.length;g<y;g++){var b=p[g];if(w[b]&&void 0!==w[b][t]&&(f=it(t,e,n,a,o)),void 0!==f)break}if(!f&&""!==f)if(m||v)f=U(t);else{var x;f=O.interpolate(t,e,"filter",o),d&&!N&&(x=J(t,e,o)),d&&!N&&x&&(f=x)}return f},Y.versionInfo=function(){return"2.13.0"},Y.loaderCache=function(){return y},Y.directivePriority=function(){return M},Y.statefulFilter=function(){return A},Y.isReady=function(){return T};var st=i.defer();st.promise.then(function(){T=!0}),Y.onReady=function(t){var e=i.defer();return angular.isFunction(t)&&e.promise.then(t),T?e.resolve():st.promise.then(e.resolve),e.promise},Y.getAvailableLanguageKeys=function(){return x.length>0?x:null},Y.getTranslationTable=function(t){return(t=t||Y.use())&&w[t]?angular.copy(w[t]):null};var at=n.$on("$translateReady",function(){st.resolve(),at(),at=null}),lt=n.$on("$translateChangeEnd",function(){st.resolve(),lt(),lt=null});if(p){if(angular.equals(w,{})&&Y.use()&&Y.use(Y.use()),s&&s.length)for(var ct=function(t){return F(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ut=0,ht=s.length;ut<ht;ut++){var dt=s[ut];!$&&w[dt]||(q[dt]=X(dt).then(ct))}}else n.$emit("$translateReady",{language:Y.use()});return Y}]}function n(t,e){"use strict";var n={};return n.setLocale=function(t){t},n.getInterpolationIdentifier=function(){return"default"},n.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},n.interpolate=function(n,i,r,o){var s;return i=i||{},i=e.sanitize(i,"params",o,r),angular.isNumber(n)?s=""+n:angular.isString(n)?(s=t(n)(i),s=e.sanitize(s,"text",o,r)):s="",s},n}function i(t,e,n,i,o){"use strict";return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(s,a){var l=a.translateValues?a.translateValues:void 0,c=a.translateInterpolation?a.translateInterpolation:void 0,u=s[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",d="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(s,f,p){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=r(s);var g={},m=function(t){if(angular.isFunction(m._unwatchOld)&&(m._unwatchOld(),m._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(f.text()),i=n.match(h);if(angular.isArray(i)){s.preText=i[1],s.postText=i[3],g.translate=e(i[2])(s.$parent);var r=n.match(d);angular.isArray(r)&&r[2]&&r[2].length&&(m._unwatchOld=s.$watch(r[2],function(t){g.translate=t,C()}))}else g.translate=n||void 0}else g.translate=t;C()},v=function(t){p.$observe(t,function(e){g[t]=e,C()})};!function(t,e,n){if(e.translateValues&&angular.extend(t,i(e.translateValues)(s.$parent)),u)for(var r in n)Object.prototype.hasOwnProperty.call(e,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r&&(t[angular.lowercase(r.substr(14,1))+r.substr(15)]=n[r])}(s.interpolateParams,p,a);var y=!0;for(var b in p.$observe("translate",function(t){void 0===t?m(""):""===t&&y||(g.translate=t,C()),y=!1}),p)p.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&b.length>13&&v(b);if(p.$observe("translateDefault",function(t){s.defaultText=t,C()}),l&&p.$observe("translateValues",function(t){t&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,i(t)(s.$parent))})}),u){var w=function(t){p.$observe(t,function(e){var n=angular.lowercase(t.substr(14,1))+t.substr(15);s.interpolateParams[n]=e})};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&w(x)}var C=function(){for(var t in g)g.hasOwnProperty(t)&&void 0!==g[t]&&k(t,g[t],s,s.interpolateParams,s.defaultText,s.translateNamespace)},k=function(e,n,i,r,o,s){n?(s&&"."===n.charAt(0)&&(n=s+n),t(n,r,c,o,i.translateLanguage).then(function(t){_(t,i,!0,e)},function(t){_(t,i,!1,e)})):_(n,i,!1,e)},_=function(e,i,r,o){if(r||void 0!==i.defaultText&&(e=i.defaultText),"translate"===o){(r||!r&&!t.isKeepContent()&&void 0===p.translateKeepContent)&&f.empty().append(i.preText+e+i.postText);var s=t.isPostCompilingEnabled(),l=void 0!==a.translateCompile,c=l&&"false"!==a.translateCompile;(s&&!l||c)&&n(f.contents())(i)}else{var u=p.$attr[o];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),f.attr(u,e)}};(l||u||p.translateDefault)&&s.$watch("interpolateParams",C,!0),s.$on("translateLanguageChanged",C);var S=o.$on("$translateChangeSuccess",C);f.text().length?m(p.translate?p.translate:""):p.translate&&m(p.translate),C(),s.$on("$destroy",S)}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function o(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,i,r){var o,a,l={},c=function(){angular.forEach(o,function(e,o){e&&(l[o]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,a,r.translateInterpolation,void 0,n.translateLanguage).then(function(t){i.attr(o,t)},function(t){i.attr(o,t)}))}),angular.forEach(l,function(t,e){o[e]||(i.removeAttr(e),delete l[e])})};s(n,r.translateAttr,function(t){o=t},c),s(n,r.translateValues,function(t){a=t},c),r.translateValues&&n.$watch(r.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=e.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function a(t,e){"use strict";return{compile:function(n){var i=function(){n.addClass(t.cloakClassName())},r=function(){n.removeClass(t.cloakClassName())};return t.onReady(function(){r()}),i(),function(n,o,s){s.translateCloak&&s.translateCloak.length&&(s.$observe("translateCloak",function(e){t(e).then(r,i)}),e.$on("$translateChangeSuccess",function(){t(s.translateCloak).then(r,i)}))}}}}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=r(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function u(t,e){"use strict";var n=function(n,i,r,o){return angular.isObject(i)||(i=t(i)(this)),e.instant(n,i,r,o)};return e.statefulFilter()&&(n.$stateful=!0),n}function h(t){"use strict";return t("translations")}return t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],a.$inject=["$translate","$rootScope"],u.$inject=["$parse","$translate"],h.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var t,e,n,i=null,r=!1,o=!1;(n={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=s(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=c(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=c(t,s)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=c(t,s)),t},sceParameters:function(t,e){return"params"===e&&(t=c(t,l)),t}}).escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return r=!0,i=t,this},this.$get=["$injector","$log",function(s,a){var l,c={};return s.has("$sanitize")&&(t=s.get("$sanitize")),s.has("$sce")&&(e=s.get("$sce")),{useStrategy:(l=this,function(t){l.useStrategy(t)}),sanitize:function(t,e,l,u){if(i||r||o||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0),l||null===l||(l=i),!l)return t;u||(u="service");var h,d,f,p,g=angular.isArray(l)?l:[l];return h=t,d=e,f=u,p=g,angular.forEach(p,function(t){if(angular.isFunction(t))h=t(h,d,f);else if(angular.isFunction(n[t]))h=n[t](h,d,f);else{if(!angular.isString(n[t]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'");if(!c[n[t]])try{c[n[t]]=s.get(n[t])}catch(e){throw c[n[t]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'")}h=c[n[t]](h,d,f)}}),h}}}];var s=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},c=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var i=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,r){angular.isFunction(t)||(i[r]=c(t,e,n))}),n.splice(-1,1),i}return angular.isNumber(t)?t:e(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",l),l.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",c),c.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",u),u.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(t){"use strict";return{get:function(e){return t.get(e)},set:function(e,n){t.put(e,n)},put:function(e,n){t.put(e,n)}}}return t.$inject=["$cookieStore"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.displayName="$translateCookieStorage","pascalprecht.translate"}),window.Mediasite||((Mediasite={}).PlayState={Undefined:"undefined",Stopped:"stopped",Paused:"paused",Playing:"playing",ScanForward:"scanforward",ScanReverse:"scanreverse",Buffering:"buffering",Waiting:"waiting",MediaEnded:"mediaended",Transitioning:"transitioning",Ready:"ready",Reconnecting:"reconnecting",Closed:"closed",Error:"error",Opening:"opening"},Mediasite.PlayerState={NotReady:"NotReady",InteractionRequired:"InteractionRequired",Waiting:"Waiting",Playing:"Playing",Paused:"Paused",Stopped:"Stopped",Ended:"Ended",Error:"Error"},Mediasite.StreamType={Video1:0,Document:1,Slide:2,Presentation:3,Video2:4,Video3:5},Mediasite.LiveStatus={NotAvailable:"NotAvailable",ScheduledForLive:"ScheduledForLive",OpenForLive:"OpenForLive",Live:"Live",LivePaused:"LivePaused",LiveEnded:"LiveEnded",OnDemand:"OnDemand"},Mediasite.ErrorDescription={410:"API method not found",411:"Error while calling API method",424:"Error while initializing iframe player",500:"Could not load presentation metadata",501:"General error",510:"Problem with presentation media",511:"Presentation media is not supported",520:"Player not ready",505:"iFrame API client is not compatible with Mediasite server's player API",231:"iFrame API client is older than Mediasite server and should be upgraded to the latest version",232:"iFrame API client is newer than Mediasite server and might use unavailable methods or data"},Mediasite.Player=function(t,e){if(!t)throw"MediasitePlayer requires value for elementId parameter";if(!e)throw"MediasitePlayer requires value for options parameter";if(!e.url)throw"MediasitePlayer requires value for options.url parameter";var n,i,r,o,s,a=this,l={version:"7.0.29",supports:["6.1.5","6.1.7","6.1.9","6.1.11","7.0","7.0.28","7.0.29"],application:"MediasitePlayer"};function c(t,e){return function(){for(var n=0,i=arguments.length;n<i;n++){var o=arguments[n];for(var s in o)if(o.hasOwnProperty(s)){var a=o[e]?"."+o[e]:"",l=(t.hasOwnProperty(s)?t[s]:s)+a;r.Set(l,o[s])}}}}function u(t){if((t=t||{}).version=t.version||"6.1.1",t.supports=t.supports||[t.version],t.version==l.version)return!0;for(var e=0;e<l.supports.length;e++){var n=l.supports[e];if(t.version==n)return o.callHandlers("error",f(232,Mediasite.ErrorDescription[232],{version:t.version})),!0}for(e=0;e<t.supports.length;e++){n=t.supports[e];if(l.version==n)return o.callHandlers("error",f(231,Mediasite.ErrorDescription[231],{version:t.version})),!0}void 0===s&&(s=t.version);var i=f(505,Mediasite.ErrorDescription[505],{version:t.version});return i.ignoreIncompatibility=function(){s=!1},o.callHandlers("error",i),!1}function h(t){if(void 0!==s&&!1!==s)throw f(505,Mediasite.ErrorDescription[505],{version:s})}function d(t){this.errorCode=t}function f(t,e,n){var i=new d(t);if(e&&(i.details=e),n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i}function p(t){t&&t.version&&(u(t)&&n.tryActivate());t&&t.errorCode&&o.callHandlers("error",t)}function g(t){var i=u(t&&t.version);r.Set("activated",!0),i&&e.layoutOptions&&n.sendCommand("setLayoutOptions",{options:e.layoutOptions})}function m(){r.Set("ready",!0)}function v(t){r.Set("ready",t.ready),r.Set("playState",t.playState),r.Set("playerState",t.playerState),r.Set("liveStatus",t.liveStatus),r.Set("volume",t.volume),r.Set("volume.muted",t.muted),r.Set("currentTime",t.currentTime),r.Set("duration",t.duration),r.Set("playbackRate",t.playbackRate),r.Set("chapters",t.chapters),r.Set("timedevents",t.timedevents),r.Set("captions",t.captions),r.Set("slides",t.slides),r.Set("links",t.links),r.Set("pollsUri",t.pollsUri),r.Set("allStreams",t.allStreams),r.Set("visibleStreamTypes",t.visibleStreamTypes),r.Set("pastSessionPlayedSegments",t.pastSessionPlayedSegments)}function y(t){var e=r.Get("slides")||[],n={time:t.slideTime,title:t.slideTitle,description:t.slideDescription,url:t.slideUrl};e.push(n),r.Set("slides",e)}function b(t){var e=r.Get(t);return e&&0!=e.length?e=e.slice(0):[]}d.prototype.toString=function(){return"MediasitePlayerError"+(void 0!=typeof this.errorCode?"-"+this.errorCode:"")},this.addHandler=function(t,e){return o.addHandler(t,e)},this.removeHandler=function(t,e){return o.removeHandler(t,e)},this.play=function(){h(),n.sendCommand("play")},this.pause=function(){h(),n.sendCommand("pause")},this.stop=function(){h(),n.sendCommand("stop")},this.seekTo=function(t){h(),n.sendCommand("seekTo",{seconds:t})},this.getCurrentTime=function(){return h(),r.Get("currentTime")},this.getCurrentChapter=function(){if(h(),r.Has("chapter.time"))return{title:r.Get("chapter.title"),time:r.Get("chapter.time")}},this.getCurrentSlide=function(t){if(h(),t="."+t!=void 0?t:Mediasite.StreamType.Slide,r.Has("slide.time"))return{title:r.Get("slide.title"+t),description:r.Get("slide.description"+t),time:r.Get("slide.time"+t),url:r.Get("slide.url"+t),streamType:r.Get("slide.streamtype"+t)}},this.getCurrentCaptions=function(){return h(),b("currentCaptions")},this.getChapters=function(){return h(),b("chapters")},this.getTimedEvents=function(t){var e,n;h();var i=b("timedevents");if(void 0===t)return i;for(n=[],e=0;e<i.length;e++)i[e].type===t&&n.push(i[e]);return n},this.getSlides=function(t){h(),t=void 0!=t?t:Mediasite.StreamType.Slide;for(var e=[],n=b("slides"),i=0;i<n.length;i++)(n[i].streamType==t||t==Mediasite.StreamType.Slide&&void 0==n[i].streamType)&&e.push(n[i]);return e},this.getCaptions=function(){return h(),b("captions")},this.getDuration=function(){return h(),r.Get("duration")},this.getPlayState=function(){return h(),r.Get("playState")},this.getPlayerState=function(){h();var t={state:r.Get("playerState.state"),isLive:r.Get("playerState.isLive")};return t.state||(t.state=Mediasite.PlayerState.NotReady),t},this.getLiveStatus=function(){return h(),r.Get("liveStatus")},this.getVolume=function(){return h(),Math.round(r.Get("volume"))},this.setVolume=function(t){h(),n.sendCommand("setVolume",{volume:t})},this.mute=function(){h(),n.sendCommand("mute")},this.unMute=function(){h(),n.sendCommand("unMute")},this.isMuted=function(){return h(),r.Get("volume.muted")},this.getPlaybackRate=function(){return h(),r.Get("playbackRate")},this.setLayoutOptions=function(t){h(),n.sendCommand("setLayoutOptions",{options:t})},this.isActivated=function(){return h(),r.Get("activated")},this.isReady=function(){return h(),r.Get("ready")},this.getLinks=function(){return h(),b("links")},this.getPollsUri=function(){return h(),r.Get("pollsUri")},this.getAllStreams=function(){return h(),b("allStreams")},this.getVisibleStreamTypes=function(){return h(),b("visibleStreamTypes")},this.setVisibleStreamTypes=function(t){h(),n.sendCommand("setVisibleStreamTypes",{streamTypes:t})},this.getPastSessionPlayedSegments=function(){return h(),function(t){var e,n,i,r=[];if(t&&t.length>0)for(e=0;e<t.length;e+=1){for(var o in i={},n=t[e])n.hasOwnProperty(o)&&(i[o]=n[o]);r.push(i)}return r}(r.Get("pastSessionPlayedSegments"))},function(){try{var s=e.url;r=new Mediasite.Player.StateModel,i=e.view||new Mediasite.Player.View(t,s),n=e.broker||new Mediasite.Player.IFrameAPIBroker({messagePrefix:"MediasitePlayer",iframeView:i,url:s,events:{message:p,activated:g},initializationData:l}),r.Set("activated",!1),r.Set("ready",!1),n.addHandler({_api_state:v,ready:m,playstatechanged:c({playState:"playState"}),playerstatechanged:c({state:"playerState.state",isLive:"playerState.live"}),livestatuschanged:c({liveStatus:"liveStatus"}),volumechanged:c({volume:"volume",isMuted:"volume.muted"}),currenttimechanged:c({currentTime:"currentTime"}),durationchanged:c({duration:"duration"}),playbackratechanged:c({playbackRate:"playbackRate"}),captionchanged:c({captions:"currentCaptions"}),chapterchanged:c({chapterTitle:"chapter.title",chapterTime:"chapter.time"}),timedeventreached:c({timedEventType:"timedevent.type",timedEventTime:"timedevent.time",timedEventPayload:"timedevent.payload"}),slidechanged:c({slideTitle:"slide.title",slideDescription:"slide.description",slideTime:"slide.time",slideUrl:"slide.url",slideStreamType:"slide.streamtype"},"slideStreamType"),slideadded:y,visiblestreamschanged:c({streamTypes:"visibleStreamTypes"})}),o||(o=new Mediasite.Player.StandaloneEventBundle(a),n.addHandler("*",function(t,e){void 0!==(e=e||[])[0]&&null!=e[0]||(e[0]={}),e[0].sender=a,o.callHandlers(t,e)})),e.events&&a.addHandler(e.events),n.tryActivate()}catch(t){if(e.events&&"function"==typeof e.events.error){var u=t.message||t.description||t;e.events.error(f(424,u))}}}()},Mediasite.Player.View=function(t,e){var n;!function(){var i=document.getElementById(t);if(!i)throw'could not find DOMElement with id="'+t+'"';if("IFRAME"!==i.tagName&&!e)throw"no presentation url specified";if("IFRAME"===i.tagName)null,(n=i).src=e;else{var r=document.createElement("iframe");r.id=t,r.src=e,r.setAttribute("frameBorder","0"),r.setAttribute("marginHeight","0"),r.setAttribute("marginWidth","0"),i,n=r,i.parentNode.replaceChild(r,i)}}(),this.getElement=function(){return n},this.getElementWindow=function(){return n.contentWindow},this.postMessage=function(t,e){this.getElementWindow().postMessage(t,e)},this.addEventListener=function(t,e){var n=this.getElement();n.addEventListener?n.addEventListener(t,e):n.attachEvent?n.attachEvent("on"+t,e):n["on"+t]=e}},Mediasite.Player.StateModel=function(){var t;t={},this.Get=function(e){return t[e]},this.Set=function(e,n){t[e]=n},this.Has=function(e){return t.hasOwnProperty(e)}},Mediasite.Player.StandaloneEventBundle=function(t){var e={},n=t||window;function i(t,e){for(name in t)if(t.hasOwnProperty(name)){var n=t[name];"function"==typeof n&&e(name,n)}}function r(t,n){e[t]||(e[t]=[]),e[t].push(n)}function o(t,n){if(e[t])for(var i=e[t],r=0,o=i.length;r<o;r++)i[r]==n&&(i.splice(r,1),r--,o--)}function s(t,arguments){if(t&&0!==t.length)for(var e=0,i=t.length;e<i;e++){t[e].apply(n,arguments)}}this.addHandler=function(t,e){"object"==typeof t?i(t,r):r(t,e)},this.removeHandler=function(t,e){"object"==typeof t?i(t,o):o(t,e)},this.callHandlers=function(t,n){!n||"string"!=typeof n&&void 0!==n.length||(n=[n]),e[t]&&s(e[t],n),s(e["*"],[t,n])}},Mediasite.Player.IFrameAPIBroker=function(t){var e,n,i,r,o,s=this;function a(t,n){if("_broker_activated"==t)return i=n,e.callHandlers("activated",i),!0;var i}r=t.messagePrefix||"Mediasite",e=new Mediasite.Player.StandaloneEventBundle(s),t.events&&e.addHandler(t.events),n=t.iframeView,i=s.getTargetOrigin(t.url),o=t.initializationData||{},Mediasite.Player.BrokerMessageDispatcher.registerBroker(s,n,i,r),_initialized=!0,this.receiveAPIEvent=function(t,n){a(t,n)||e.callHandlers(t,n)},this.tryActivate=function(){s.sendCommand("_broker_activate",o)},this.sendCommand=function(t,e){var o={command:t,params:[]};arguments.length>=2&&(e=Array.prototype.slice.call(arguments,1),o.params=e);var s=r+":"+JSON.stringify(o);try{n.postMessage(s,i)}catch(t){return!1}return!0},this.addHandler=function(t,n){e.addHandler(t,n)},this.removeHandler=function(t,n){e.removeHandler(t,n)}},Mediasite.Player.IFrameAPIBroker.prototype.getTargetOrigin=function(t){var e,n;return e=(t=t.split("://"))[0],n=(t=t[1].split("/"))[0],"file"==e?"*":[e,"://",n].join("")},Mediasite.Player.BrokerMessageDispatcher=function(){var t=new function(){},e=[];t.registerBroker=function(n,i,r){if(t.listenForMessages(),!n||!i||!i.getElementWindow())return!1;var o={origin:r=r||[document.location.protocol,"//",document.location.hostname].join(""),window:i.getElementWindow(),broker:n};return e.push(o),!0},t.getBrokerForMessage=function(t,n){if(t&&n)for(var i in"null"!==n&&0!=n.indexOf("file://")||(n="*"),e){var r=e[i];if(r.origin==n&&r.window==t)return r.broker}};var n=!1;return t.listenForMessages=function(){n||(n=!0,window.addEventListener?window.addEventListener("message",t.handleIncomingMessageEvent):window.attachEvent&&window.attachEvent("onmessage",t.handleIncomingMessageEvent))},t.handleIncomingMessageEvent=function(e){var n=t.parseIncomingMessageEvent(e.data);if(n){var i=t.getBrokerForMessage(e.source,e.origin);i&&(n.event?i.receiveAPIEvent(n.event,n.data):i.receiveAPIEvent("message",n))}},t.parseIncomingMessageEvent=function(t){var e=(t=t||"").indexOf(":");if("{"!==t.substr(0,1)&&e>=0){t.substring(0,e);var n=t.substring(e+1)}else n=t;try{var i=JSON.parse(n)}catch(t){return!1}return i},t}());var Mediasite=Mediasite||{};Mediasite.PlaybackTracker=function(){var t=function(e,n){var i,r,o=this,s=-1,a=[];n||(n={});var l=t.TrackerDefaults;for(var c in l)n.hasOwnProperty(c)||(n[c]=l[c]);g(n.tolerance),o.addMoment=u,o.add=d,o.played={start:function(t){var e=h();if(!(void 0===t||t<0||t>=e.length)){var n=e[t];return n?n.start():void 0}},end:function(t){var e=h();if(!(void 0===t||t<0||t>=e.length)){var n=e[t];return n?n.end():void 0}},length:0},Object.defineProperty&&Object.defineProperty(o.played,"length",{get:function(){return h().length},set:function(){},configurable:!1});e&&f(e);function u(e){r&&r.merge(e,e,i)?r.duration()>=_minChunkDuration&&d(r):r=new t.TimeRange(e,e)}function h(){return a}function d(e,n){if(e.start&&(n=e.end(),e=e.start()),e>n){var r=e;e=n,n=r}for(var s=a,l=!1,c=0,u=s.length;c<u;c++){var h=s[c],d=h.merge(e,n,i);if(d){var f;for(l=!0;(f=s[c+1])&&h.merge(f.start(),f.end(),i);)s.splice(c+1,1);break}if(h.start()>e){s.splice(c,0,new t.TimeRange(e,n)),l=!0;break}}l||s.push(new t.TimeRange(e,n)),Object.defineProperty||(o.played.length=s.length)}function f(t){t.addHandler({ready:p,currenttimechanged:function(t){u(t.currentTime)},durationchanged:function(t){m(t.duration)}}),t.isReady()&&p()}function p(){m(e.getDuration()),n.includePastSessions&&function(){if(!e||"function"!=typeof e.getPastSessionPlayedSegments)return;var t,n=e.getPastSessionPlayedSegments();for(t=0;t<n.length;t+=1)d(n[t].start,n[t].end)}()}function g(t){"number"!=typeof(i=Math.abs(t))&&(i=0),_minChunkDuration=Math.min(1,i)}function m(t,e){void 0===t||t<=0||e&&t<s||(s=t)}o.attachToPlayer=f,o.setTolerance=g,o.getTolerance=function(){return i},o.setDuration=m,o.getPercentageWatched=function(){if(s<=0)return;for(var t=h(),e=0,n=0;n<t.length;n++)e+=t[n].duration();return e/s*100}};return t.TrackerDefaults={tolerance:1,includePastSessions:!1},t.TimeRange=function(t,e){var n,i,r=this;t<e?(n=t,i=e):(n=e,i=t),r.start=function(t){return void 0!==t&&(n=t),n},r.end=function(t){return void 0!==t&&(i=t),i},r.duration=function(){return i-n},r.intersects=function(t,e,r){return!(i<t-(r=r||1))&&!(e<n-r)},r.merge=function(t,e,o){return!!r.intersects(t,e,o)&&(n=Math.min(n,t),i=Math.max(i,e),!0)}},t}(),function(t,e){if(e.addEventListener){var n,i=Array.prototype,r=Object.prototype,o=i.forEach,s=i.slice,a=r.hasOwnProperty,l=r.toString,c=t.Popcorn,u=[],h=!1,d={events:{hash:{},apis:{}}},f=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){t.setTimeout(e,16)},p={put:function(t){Object.getOwnPropertyNames(t).forEach(function(e){this[e]=t[e]},this)}},g=function(t,e){return new g.p.init(t,e||null)};g.version="@VERSION",g.isSupported=!0,g.instances=[],g.p=g.prototype={init:function(t,n){var i,r,o=this;if("function"!=typeof t){if("string"==typeof t)try{i=e.querySelector(t)}catch(e){throw new Error("Popcorn.js Error: Invalid media element selector: "+t)}if(this.media=i||t,this[r=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video"]=this.media,this.options=g.extend({},n)||{},this.id=this.options.id||g.guid(r),g.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:g.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new C(this)},g.instances.push(this);var s=function(){var t,e,n,i,r,a;o.media.currentTime<0&&(o.media.currentTime=0),o.media.removeEventListener("loadedmetadata",s,!1),e=(t=o.media.duration)!=t?Number.MAX_VALUE:t+1,g.addTrackEvent(o,{start:e,end:e}),o.options.frameAnimation?(o.data.timeUpdate=function(){g.timeUpdate(o,{}),g.forEach(g.manifest,function(t,e){if(n=o.data.running[e]){r=n.length;for(var s=0;s<r;s++)i=n[s],(a=i._natives)&&a.frame&&a.frame.call(o,{},i,o.currentTime())}}),o.emit("timeupdate"),!o.isDestroyed&&f(o.data.timeUpdate)},!o.isDestroyed&&f(o.data.timeUpdate)):(o.data.timeUpdate=function(t){g.timeUpdate(o,t)},o.isDestroyed||o.media.addEventListener("timeupdate",o.data.timeUpdate,!1))};return Object.defineProperty(this,"error",{get:function(){return o.media.error}}),o.media.readyState>=1?s():o.media.addEventListener("loadedmetadata",s,!1),this}if("complete"!==e.readyState){if(u.push(t),!h){h=!0;var a=function(){!0,e.removeEventListener("DOMContentLoaded",a,!1);for(var t=0,n=u.length;t<n;t++)u[t].call(e,g);u=null};e.addEventListener("DOMContentLoaded",a,!1)}}else t(e,g)}},g.p.init.prototype=g.p,g.byId=function(t){for(var e=g.instances,n=e.length,i=0;i<n;i++)if(e[i].id===t)return e[i];return null},g.forEach=function(t,e,n){if(!t||!e)return{};var i,r;if(n=n||this,o&&t.forEach===o)return t.forEach(e,n);if("[object NodeList]"===l.call(t)){for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);return t}for(i in t)a.call(t,i)&&e.call(n,t[i],i,t);return t},g.extend=function(t){var e=t,n=s.call(arguments,1);return g.forEach(n,function(t){for(var n in t)e[n]=t[n]}),e},g.extend(g,{noConflict:function(e){return e&&(t.Popcorn=c),g},error:function(t){throw new Error(t)},guid:function(t){return g.guid.counter++,(t||"")+(+new Date+g.guid.counter)},sizeOf:function(t){var e=0;for(var n in t)e++;return e},isArray:Array.isArray||function(t){return"[object Array]"===l.call(t)},nop:function(){},position:function(n){if(!n.parentNode)return null;var i,r,o,s,a,l,c=n.getBoundingClientRect(),u={},h=(n.ownerDocument,e.documentElement),d=e.body;for(var f in i=h.clientTop||d.clientTop||0,r=h.clientLeft||d.clientLeft||0,o=t.pageYOffset&&h.scrollTop||d.scrollTop,s=t.pageXOffset&&h.scrollLeft||d.scrollLeft,a=Math.ceil(c.top+o-i),l=Math.ceil(c.left+s-r),c)u[f]=Math.round(c[f]);return g.extend({},u,{top:a,left:l})},disable:function(t,e){if(!t.data.disabled[e]){if(t.data.disabled[e]=!0,e in g.registryByName&&t.data.running[e])for(var n,i=t.data.running[e].length-1;i>=0;i--)(n=t.data.running[e][i])._natives.end.call(t,null,n),t.emit("trackend",g.extend({},n,{plugin:n.type,type:"trackend"}));return t}},enable:function(t,e){if(t.data.disabled[e]){if(t.data.disabled[e]=!1,e in g.registryByName&&t.data.running[e])for(var n,i=t.data.running[e].length-1;i>=0;i--)(n=t.data.running[e][i])._natives.start.call(t,null,n),t.emit("trackstart",g.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return t}},destroy:function(t){var e,n,i,r,o=t.data.events,s=t.data.trackEvents;for(n in o){for(i in e=o[n])delete e[i];o[n]=null}for(r in g.registryByName)g.removePlugin(t,r);s.byStart.length=0,s.byEnd.length=0,t.isDestroyed||(t.data.timeUpdate&&t.media.removeEventListener("timeupdate",t.data.timeUpdate,!1),t.isDestroyed=!0),g.instances.splice(g.instances.indexOf(t),1)}}),g.guid.counter=1,g.extend(g.p,(n={},g.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(t){n[t]=function(e){var n;return"function"==typeof this.media[t]?(null!=e&&/play|pause/.test(t)&&(this.media.currentTime=g.util.toSeconds(e)),this.media[t](),this):null!=e?(n=this.media[t],this.media[t]=e,n!==e&&this.emit("attrchange",{attribute:t,previousValue:n,currentValue:e}),this):this.media[t]}}),n)),g.forEach("enable disable".split(" "),function(t){g.p[t]=function(e){return g[t](this,e)}}),g.extend(g.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(t,e,n){var i,r,o,s=arguments.length,a="trackadded";try{r=g.util.toSeconds(t)}catch(t){}if("number"==typeof r&&(t=r),"number"==typeof t&&2===s)n=e,e=t,t=g.guid("cue");else if(1===s)e=-1;else if(i=this.getTrackEvent(t))this.data.trackEvents.remove(t),x.end(this,i),g.removeTrackEvent.ref(this,t),a="cuechange","string"==typeof t&&2===s&&("number"==typeof e&&(n=i._natives.start),"function"==typeof e&&(n=e,e=i.start));else if(s>=2){if("string"==typeof e){try{r=g.util.toSeconds(e)}catch(t){}e=r}"number"==typeof e&&(n=n||g.nop()),"function"==typeof e&&(n=e,e=-1)}return o={id:t,start:e,end:e+1,_running:!1,_natives:{start:n||g.nop,end:g.nop,type:"cue"}},i&&(o=g.extend(i,o)),"cuechange"===a?(o._id=o.id||o._id||g.guid(o._natives.type),this.data.trackEvents.add(o),x.start(this,o),this.timeUpdate(this,null,!0),g.addTrackEvent.ref(this,o),this.emit(a,g.extend({},o,{id:t,type:a,previousValue:{time:i.start,fn:i._natives.start},currentValue:{time:e,fn:n||g.nop},track:i}))):g.addTrackEvent(this,o),this},mute:function(t){var e=null==t||!0===t?"muted":"unmuted";return"unmuted"===e&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===e&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(e),this},unmute:function(t){return this.mute(null!=t&&!t)},position:function(){return g.position(this.media)},toggle:function(t){return g[this.data.disabled[t]?"enable":"disable"](this,t)},defaults:function(t,e){return g.isArray(t)?(g.forEach(t,function(t){for(var e in t)this.defaults(e,t[e])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[t]||(this.options.defaults[t]={}),g.extend(this.options.defaults[t],e),this)}}),g.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},g.Events.Natives=g.Events.UIEvents+" "+g.Events.MouseEvents+" "+g.Events.Events,d.events.apiTypes=["UIEvents","MouseEvents","Events"],function(t,e){for(var n=d.events.apiTypes,i=t.Natives.split(/\s+/g),r=0,o=i.length;r<o;r++)e.hash[i[r]]=!0;n.forEach(function(n,i){e.apis[n]={};for(var r=t[n].split(/\s+/g),o=r.length,s=0;s<o;s++)e.apis[n][r[s]]=!0})}(g.Events,d.events),g.events={isNative:function(t){return!!d.events.hash[t]},getInterface:function(t){if(!g.events.isNative(t))return!1;for(var e,n,i=d.events,r=i.apiTypes,o=i.apis,s=0,a=r.length;s<a;s++)if(o[n=r[s]][t]){e=n;break}return e},all:g.Events.Natives.split(/\s+/g),fn:{trigger:function(n,i){var r,o,s,a=this.data.events[n];if(a){if(r=g.events.getInterface(n))return(o=e.createEvent(r)).initEvent(n,!0,!0,t,1),this.media.dispatchEvent(o),this;for(s=a.slice();s.length;)s.shift().call(this,i)}return this},listen:function(t,e){var n,i,r=this,o=!0,s=g.events.hooks[t];if("function"!=typeof e)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[t]||(this.data.events[t]=[],o=!1),s&&(s.add&&s.add.call(this,{},e),s.bind&&(t=s.bind),s.handler&&(i=e,e=function(t){s.handler.call(r,t,i)}),o=!0,this.data.events[t]||(this.data.events[t]=[],o=!1)),this.data.events[t].push(e),!o&&g.events.all.indexOf(t)>-1&&this.media.addEventListener(t,function(e){if(r.data.events[t])for(n=r.data.events[t].slice();n.length;)n.shift().call(r,e)},!1),this},unlisten:function(t,e){var n,i=this.data.events[t];if(i){if("string"==typeof e){for(var r=0;r<i.length;r++)i[r].name===e&&i.splice(r--,1);return this}if("function"==typeof e){for(;-1!==n;)-1!==(n=i.indexOf(e))&&i.splice(n,1);return this}return this.data.events[t]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(t,e){var n=!1;this.media.readyState&&(setTimeout(function(){e.call(this,t)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(t,e){this.data.hooks.canplayall.fired||(e.call(this,t),this.data.hooks.canplayall.fired=!0)}}}},g.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(t){g.p[t[0]]=g.p[t[1]]=g.events.fn[t[0]]}),x.start=function(t,e){e.end>t.media.currentTime&&e.start<=t.media.currentTime&&!e._running&&(e._running=!0,t.data.running[e._natives.type].push(e),t.data.disabled[e._natives.type]||(e._natives.start.call(t,null,e),t.emit("trackstart",g.extend({},e,{plugin:e._natives.type,type:"trackstart",track:e}))))},x.end=function(t,e){var n;(e.end<=t.media.currentTime||e.start>t.media.currentTime)&&e._running&&(n=t.data.running[e._natives.type],e._running=!1,n.splice(n.indexOf(e),1),t.data.disabled[e._natives.type]||(e._natives.end.call(t,null,e),t.emit("trackend",g.extend({},e,{plugin:e._natives.type,type:"trackend",track:e}))))},C.prototype.where=function(t){return(this.parent.getTrackEvents()||[]).filter(function(e){var n,i;if(!t)return!0;for(n in t)if(k(e,n,i=t[n])||k(e._natives,n,i))return!0;return!1})},C.prototype.add=function(t){var e,n,i=this.byStart,r=this.byEnd;for(t&&t._id&&this.parent.data.history.push(t._id),t.start=g.util.toSeconds(t.start,this.parent.options.framerate),t.end=g.util.toSeconds(t.end,this.parent.options.framerate),e=i.length-1;e>=0;e--)if(t.start>=i[e].start){i.splice(e+1,0,t);break}for(n=r.length-1;n>=0;n--)if(t.end>r[n].end){r.splice(n+1,0,t);break}e<=this.parent.data.trackEvents.startIndex&&t.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&t.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++},C.prototype.remove=function(t,e){if(t instanceof x&&(t=t.id),"object"==typeof t)return this.where(t).forEach(function(t){this.removeTrackEvent(t._id)},this.parent),this;var n,i,r,o,s=this.byStart.length,a=0,l=0,c=[],u=[],h=[],d=[];for(e=e||{};--s>-1;)n=this.byStart[a],i=this.byEnd[a],n._id||(c.push(n),u.push(i)),n._id&&(n._id!==t&&c.push(n),i._id!==t&&u.push(i),n._id===t&&(l=a,n)),a++;if(a=0,s=this.animating.length)for(;--s>-1;)(r=this.animating[a])._id||h.push(r),r._id&&r._id!==t&&h.push(r),a++;l<=this.startIndex&&this.startIndex--,l<=this.endIndex&&this.endIndex--,this.byStart=c,this.byEnd=u,this.animating=h,o=this.parent.data.history.length;for(var f=0;f<o;f++)this.parent.data.history[f]!==t&&d.push(this.parent.data.history[f]);this.parent.data.history=d},g.addTrackEvent=function(t,e){var n;e instanceof x||((e=new x(e))&&e._natives&&e._natives.type&&t.options.defaults&&t.options.defaults[e._natives.type]&&(n=g.extend({},e),g.extend(e,t.options.defaults[e._natives.type],n)),e._natives&&(e._id=e.id||e._id||g.guid(e._natives.type),e._natives._setup&&(e._natives._setup.call(t,e),t.emit("tracksetup",g.extend({},e,{plugin:e._natives.type,type:"tracksetup",track:e})))),t.data.trackEvents.add(e),x.start(t,e),this.timeUpdate(t,null,!0),e._id&&g.addTrackEvent.ref(t,e),t.emit("trackadded",g.extend({},e,e._natives?{plugin:e._natives.type}:{},{type:"trackadded",track:e})))},g.addTrackEvent.ref=function(t,e){return t.data.trackRefs[e._id]=e,t},g.removeTrackEvent=function(t,e){var n=t.getTrackEvent(e);n&&(n._natives._teardown&&n._natives._teardown.call(t,n),t.data.trackEvents.remove(e),g.removeTrackEvent.ref(t,e),n._natives&&t.emit("trackremoved",g.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},g.removeTrackEvent.ref=function(t,e){return delete t.data.trackRefs[e],t},g.getTrackEvents=function(t){for(var e,n=[],i=t.data.trackEvents.byStart,r=i.length,o=0;o<r;o++)(e=i[o])._id&&n.push(e);return n},g.getTrackEvents.ref=function(t){return t.data.trackRefs},g.getTrackEvent=function(t,e){return t.data.trackRefs[e]},g.getTrackEvent.ref=function(t,e){return t.data.trackRefs[e]},g.getLastTrackEventId=function(t){return t.data.history[t.data.history.length-1]},g.timeUpdate=function(t,e){var n,i,r,o,s,a=t.media.currentTime,l=t.data.trackEvents.previousUpdateTime,c=t.data.trackEvents,u=c.endIndex,h=c.startIndex,d=c.byStart.length,f=c.byEnd.length,p=g.registryByName,m="trackstart",v="trackend";if(l<=a){for(;c.byEnd[u]&&c.byEnd[u].end<=a;){if(o=(r=(n=c.byEnd[u])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,n._id);!0===n._running&&(n._running=!1,(s=t.data.running[o]).splice(s.indexOf(n),1),t.data.disabled[o]||(r.end.call(t,e,n),t.emit(v,g.extend({},n,{plugin:o,type:v,track:n})))),u++}for(;c.byStart[h]&&c.byStart[h].start<=a;){if(o=(r=(i=c.byStart[h])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,i._id);i.end>a&&!1===i._running&&(i._running=!0,t.data.running[o].push(i),t.data.disabled[o]||(r.start.call(t,e,i),t.emit(m,g.extend({},i,{plugin:o,type:m,track:i})))),h++}}else if(l>a){for(;c.byStart[h]&&c.byStart[h].start>a;){if(o=(r=(i=c.byStart[h])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,i._id);!0===i._running&&(i._running=!1,(s=t.data.running[o]).splice(s.indexOf(i),1),t.data.disabled[o]||(r.end.call(t,e,i),t.emit(v,g.extend({},i,{plugin:o,type:v,track:i})))),h--}for(;c.byEnd[u]&&c.byEnd[u].end>a;){if(o=(r=(n=c.byEnd[u])._natives)&&r.type,r&&!p[o]&&!t[o])return void g.removeTrackEvent(t,n._id);n.start<=a&&!1===n._running&&(n._running=!0,t.data.running[o].push(n),t.data.disabled[o]||(r.start.call(t,e,n),t.emit(m,g.extend({},n,{plugin:o,type:m,track:n})))),u--}}c.endIndex=u,c.startIndex=h,c.previousUpdateTime=a,c.byStart.length<d&&c.startIndex--,c.byEnd.length<f&&c.endIndex--},g.extend(g.p,{getTrackEvents:function(){return g.getTrackEvents.call(null,this)},getTrackEvent:function(t){return g.getTrackEvent.call(null,this,t)},getLastTrackEventId:function(){return g.getLastTrackEventId.call(null,this)},removeTrackEvent:function(t){return g.removeTrackEvent.call(null,this,t),this},removePlugin:function(t){return g.removePlugin.call(null,this,t),this},timeUpdate:function(t){return g.timeUpdate.call(null,this,t),this},destroy:function(){return g.destroy.call(null,this),this}}),g.manifest={},g.registry=[],g.registryByName={},g.plugin=function(t,e,n){if(!(g.protect.natives.indexOf(t.toLowerCase())>=0)){var i="function"==typeof e,r=["start","end","type","manifest"],o=["_setup","_teardown","start","end","frame"],l={},c=function(t,e){return t=t||g.nop,e=e||g.nop,function(){t.apply(this,arguments),e.apply(this,arguments)}};g.manifest[t]=n=n||e.manifest||{},o.forEach(function(n){var i,r;e[n]=(i=e[n]||g.nop,r=t,function(){if(g.plugin.debug)return i.apply(this,arguments);try{return i.apply(this,arguments)}catch(t){g.plugin.errors.push({plugin:r,thrown:t,source:i.toString()}),this.emit("pluginerror",g.plugin.errors)}})});var u=function(e,i){if(!i)return this;if(i.ranges&&g.isArray(i.ranges))return g.forEach(i.ranges,function(e){var n=g.extend({},i,e);delete n.ranges,this[t](n)},this),this;var l,u=i._natives={},h="";return g.extend(u,e),i._natives.type=i._natives.plugin=t,i._running=!1,u.start=u.start||u.in,u.end=u.end||u.out,i.once&&(u.end=c(u.end,function(){this.removeTrackEvent(i._id)})),u._teardown=c(function(){var t=s.call(arguments),e=this.data.running[u.type];t.unshift(null),t[1]._running&&e.splice(e.indexOf(i),1)&&u.end.apply(this,t),t[1]._running=!1,this.emit("trackend",g.extend({},i,{plugin:u.type,type:"trackend",track:g.getTrackEvent(this,i.id||i._id)}))},u._teardown),u._teardown=c(u._teardown,function(){this.emit("trackteardown",g.extend({},i,{plugin:t,type:"trackteardown",track:g.getTrackEvent(this,i.id||i._id)}))}),i.compose=i.compose||[],"string"==typeof i.compose&&(i.compose=i.compose.split(" ")),i.effect=i.effect||[],"string"==typeof i.effect&&(i.effect=i.effect.split(" ")),i.compose=i.compose.concat(i.effect),i.compose.forEach(function(t){h=g.compositions[t]||{},o.forEach(function(t){u[t]=c(u[t],h[t])})}),i._natives.manifest=n,"start"in i||(i.start=i.in||0),i.end||0===i.end||(i.end=i.out||Number.MAX_VALUE),a.call(i,"toString")||(i.toString=function(){var e=["start: "+i.start,"end: "+i.end,"id: "+(i.id||i._id)];return null!=i.target&&e.push("target: "+i.target),t+" ( "+e.join(", ")+" )"}),i.target||(l="options"in n&&n.options,i.target=l&&"target"in l&&l.target),!i._id&&i._natives&&(i._id=g.guid(i._natives.type)),i instanceof x?(i._natives&&(i._id=i.id||i._id||g.guid(i._natives.type),i._natives._setup&&(i._natives._setup.call(this,i),this.emit("tracksetup",g.extend({},i,{plugin:i._natives.type,type:"tracksetup",track:i})))),this.data.trackEvents.add(i),x.start(this,i),this.timeUpdate(this,null,!0),i._id&&g.addTrackEvent.ref(this,i)):g.addTrackEvent(this,i),g.forEach(e,function(t,e){-1===r.indexOf(e)&&this.on(e,t)},this),this};g.p[t]=l[t]=function(n,r){var o,s,l,c,h;arguments.length;if(n&&!r)r=n,n=null;else{if(o=this.getTrackEvent(n))return c=function(t,e){var n={};for(var i in t)a.call(e,i)&&a.call(t,i)&&(n[i]=t[i]);return n}(o,h=r),o._natives._update?(this.data.trackEvents.remove(o),a.call(r,"start")&&(o.start=r.start),a.call(r,"end")&&(o.end=r.end),x.end(this,o),i&&e.call(this,o),o._natives._update.call(this,o,r),this.data.trackEvents.add(o),x.start(this,o),"cue"!==o._natives.type&&this.emit("trackchange",{id:o.id,type:"trackchange",previousValue:c,currentValue:h,track:o}),this):(g.extend(o,r),this.data.trackEvents.remove(n),o._natives._teardown&&o._natives._teardown.call(this,o),g.removeTrackEvent.ref(this,n),i?u.call(this,e.call(this,o),o):(o._id=o.id||o._id||g.guid(o._natives.type),o._natives&&o._natives._setup&&(o._natives._setup.call(this,o),this.emit("tracksetup",g.extend({},o,{plugin:o._natives.type,type:"tracksetup",track:o}))),this.data.trackEvents.add(o),x.start(this,o),this.timeUpdate(this,null,!0),g.addTrackEvent.ref(this,o)),this.emit("trackchange",{id:o.id,type:"trackchange",previousValue:c,currentValue:o,track:o}),this);r.id=n}return this.data.running[t]=this.data.running[t]||[],s=this.options.defaults&&this.options.defaults[t]||{},l=g.extend({},s,r),u.call(this,i?e.call(this,l):e,l),this},n&&g.extend(e,{manifest:n});var h={fn:l[t],definition:e,base:e,parents:[],name:t};return g.registry.push(g.extend(l,h,{type:t})),g.registryByName[t]=h,l}g.error("'"+t+"' is a protected function name")},g.plugin.errors=[],g.plugin.debug="@VERSION"===g.version,g.removePlugin=function(t,e){if(!e){if(e=t,t=g.p,g.protect.natives.indexOf(e.toLowerCase())>=0)return void g.error("'"+e+"' is a protected function name");var n,i=g.registry.length;for(n=0;n<i;n++)if(g.registry[n].name===e)return g.registry.splice(n,1),delete g.registryByName[e],delete g.manifest[e],void delete t[e]}var r,o,s=t.data.trackEvents.byStart,a=t.data.trackEvents.byEnd,l=t.data.trackEvents.animating;for(r=0,o=s.length;r<o;r++)s[r]&&s[r]._natives&&s[r]._natives.type===e&&(s[r]._natives._teardown&&s[r]._natives._teardown.call(t,s[r]),s.splice(r,1),r--,o--,t.data.trackEvents.startIndex<=r&&(t.data.trackEvents.startIndex--,t.data.trackEvents.endIndex--)),a[r]&&a[r]._natives&&a[r]._natives.type===e&&a.splice(r,1);for(r=0,o=l.length;r<o;r++)l[r]&&l[r]._natives&&l[r]._natives.type===e&&(l.splice(r,1),r--,o--)},g.compositions={},g.compose=function(t,e,n){g.manifest[t]=n=n||e.manifest||{},g.compositions[t]=e},g.plugin.effect=g.effect=g.compose;var m=/^(?:\.|#|\[)/;g.dom={debug:!1,find:function(t,n){var i=null;if(n=n||e,t){if(!m.test(t)&&null!==(i=e.getElementById(t)))return i;try{i=n.querySelector(t)}catch(t){if(g.dom.debug)throw new Error(t)}}return i}};var v,y=/\?/,b={ajax:null,url:"",data:"",dataType:"",success:g.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};g.xhr=function(t){var e;if(t.dataType=t.dataType&&t.dataType.toLowerCase()||null,!t.dataType||"jsonp"!==t.dataType&&"script"!==t.dataType)return(e=g.extend({},b,t)).ajax=new XMLHttpRequest,e.ajax?("GET"===e.type&&e.data&&(e.url+=(y.test(e.url)?"&":"?")+e.data,e.data=null),e.ajax.open(e.type,e.url,e.async),"POST"===e.type&&e.ajax.setRequestHeader("Content-Type",e.contentType),e.ajax.send(e.data||null),g.xhr.httpData(e)):void 0;g.xhr.getJSONP(t.url,t.success,"script"===t.dataType)},g.xhr.httpData=function(t){var e,n,i=null,r=null;return t.ajax.onreadystatechange=function(){if(4===t.ajax.readyState){try{i=JSON.parse(t.ajax.responseText)}catch(t){}if(!(e={xml:t.ajax.responseXML,text:t.ajax.responseText,json:i}).xml||!e.xml.documentElement){e.xml=null;try{n=new DOMParser,(r=n.parseFromString(t.ajax.responseText,"text/xml")).getElementsByTagName("parsererror").length||(e.xml=r)}catch(t){}}t.dataType&&(e=e[t.dataType]),t.success.call(t.ajax,e)}},e},g.xhr.getJSONP=function(t,n,i){var r,o,s,a=e.head||e.getElementsByTagName("head")[0]||e.documentElement,l=e.createElement("script"),c=!1,u=[],h=/(=)\?(?=&|$)|\?\?/;i||(null!==(s=t.match(/(callback=[^&]*)/))&&s.length?("?"===(r=s[1].split("=")[1])&&(r="jsonp"),o=g.guid(r),t=t.replace(/(callback=[^&]*)/,"callback="+o)):(o=g.guid("jsonp"),h.test(t)&&(t=t.replace(h,"$1"+o)),t=(u=t.split(/\?(.+)?/))[0]+"?",u[1]&&(t+=u[1]+"&"),t+="callback="+o),window[o]=function(t){n&&n(t),c=!0}),l.addEventListener("load",function(){i&&n&&n(),c&&delete window[o],a.removeChild(l)},!1),l.src=t,a.insertBefore(l,a.firstChild)},g.getJSONP=g.xhr.getJSONP,g.getScript=g.xhr.getScript=function(t,e){return g.xhr.getJSONP(t,e,!0)},g.util={toSeconds:function(t,e){var n,i,r,o,s,a;return"number"==typeof t?t:("string"!=typeof t||/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/.test(t)||g.error("Invalid time format"),(r=(n=t.split(":"))[i=n.length-1]).indexOf(";")>-1&&(s=r.split(";"),a=0,e&&"number"==typeof e&&(a=parseFloat(s[1],10)/e),n[i]=parseInt(s[0],10)+a),o=n[0],{1:parseFloat(o,10),2:60*parseInt(o,10)+parseFloat(n[1],10),3:3600*parseInt(o,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},g.p.cue=g.p.exec,g.protect={natives:(v=g.p,Object.keys?Object.keys(v):function(t){var e,n=[];for(e in t)a.call(t,e)&&n.push(e);return n}(v)).map(function(t){return t.toLowerCase()})},g.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(t,e){var n=g.p[e];g.p[e]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+e+"', "+(null==t?"do not use.":"use '"+t+"' instead.")),g.p[e]=n),g.p[t].apply(this,[].slice.call(arguments))}}),t.Popcorn=g}else{t.Popcorn={isSupported:!1};for(var w="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);w.length;)t.Popcorn[w.shift()]=function(){}}function x(t){p.put.call(this,t)}function C(t){this.parent=t,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,Object.defineProperty(this,"count",{get:function(){return this.byStart.length}})}function k(t,e,n){return t[e]&&t[e]===n}}(window,window.document),function(t){t.player=function(e,n){if(!t[e]){var i=function(e,i,r){r=r||{};var o,s=new Date/1e3,a=s,l=0,c=0,u=1,h=!1,d={},f="string"==typeof e?t.dom.find(e):e,p={};for(var g in Object.prototype.__defineGetter__||(p=f||document.createElement("div")),f)g in p||("object"==typeof f[g]?p[g]=f[g]:"function"==typeof f[g]?p[g]=function(t){return"length"in f[t]&&!f[t].call?f[t]:function(){return f[t].apply(f,arguments)}}(g):t.player.defineProperty(p,g,{get:function(t){return function(){return f[t]}}(g),set:t.nop,configurable:!0}));var m,v,y=function(){s=new Date/1e3,p.paused||(p.currentTime=p.currentTime+(s-a),p.dispatchEvent("timeupdate"),setTimeout(y,10)),a=s};return p.play=function(){this.paused=!1,p.readyState>=4&&(a=new Date/1e3,p.dispatchEvent("play"),y())},p.pause=function(){this.paused=!0,p.dispatchEvent("pause")},t.player.defineProperty(p,"currentTime",{get:function(){return l},set:function(t){return l=+t,p.dispatchEvent("timeupdate"),l},configurable:!0}),t.player.defineProperty(p,"volume",{get:function(){return u},set:function(t){return u=+t,p.dispatchEvent("volumechange"),u},configurable:!0}),t.player.defineProperty(p,"muted",{get:function(){return h},set:function(t){return h=+t,p.dispatchEvent("volumechange"),h},configurable:!0}),t.player.defineProperty(p,"readyState",{get:function(){return c},set:function(t){return c=t},configurable:!0}),p.addEventListener=function(t,e){return d[t]||(d[t]=[]),d[t].push(e),e},p.removeEventListener=function(t,e){var n,i=d[t];if(i){for(n=d[t].length-1;n>=0;n--)e===i[n]&&i.splice(n,1);return e}},p.dispatchEvent=function(e){var n,i,r=e.type;if(r||(r=e,(i=t.events.getInterface(r))&&(n=document.createEvent(i)).initEvent(r,!0,!0,window,1)),d[r])for(var o=d[r].length-1;o>=0;o--)d[r][o].call(this,n,this)},p.src=i||"",p.duration=0,p.paused=!0,p.ended=0,r&&r.events&&t.forEach(r.events,function(t,e){p.addEventListener(e,t,!1)}),!1!==n._canPlayType(f.nodeName,i)?n._setup?n._setup.call(p,r):(p.readyState=4,p.dispatchEvent("loadedmetadata"),p.dispatchEvent("loadeddata"),p.dispatchEvent("canplaythrough")):setTimeout(function(){p.dispatchEvent("error")},0),o=new t.p.init(p,r),n._teardown&&(o.destroy=(m=o.destroy,v=function(){n._teardown.call(p,r)},m=m||t.nop,v=v||t.nop,function(){m.apply(this,arguments),v.apply(this,arguments)})),o};i.canPlayType=(n=n||{})._canPlayType=n._canPlayType||t.nop,t[e]=t.player.registry[e]=i}},t.player.registry={},t.player.defineProperty=Object.defineProperty||function(e,n,i){e.__defineGetter__(n,i.get||t.nop),e.__defineSetter__(n,i.set||t.nop)},t.player.playerQueue=function(){var t=[],e=!1;return{next:function(){e=!1,t.shift(),t[0]&&t[0]()},add:function(n){t.push(function(){e=!0,n&&n()}),!e&&t[0]()}}},t.smart=function(e,n,i){var r,o,s,a,l,c,u,h="string"==typeof e?t.dom.find(e):e,d="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(h){for(r=0,u=(n="string"==typeof n?[n]:n).length;r<u;r++){for(o=n[r],s=0;s<d.length;s++)if((l=t[d[s]])&&"probably"===l._canPlaySrc(o))return a=l(h),c=t(a,i),setTimeout(function(){a.src=o},0),c;for(var f in t.player.registry)if(t.player.registry.hasOwnProperty(f)&&t.player.registry[f].canPlayType(h.nodeName,o))return t[f](h,o,i)}var p,g,m=t.guid("popcorn-video-"),v=document.createElement("div");if(v.style.width="100%",v.style.height="100%",1===n.length)return(g=document.createElement("video")).id=m,h.appendChild(g),setTimeout(function(){var t=document.createElement("div");t.innerHTML=n[0],g.src=t.firstChild.nodeValue},0),t("#"+m,i);for(h.appendChild(v),p='<video id="'+m+'" preload=auto autobuffer>',r=0,u=n.length;r<u;r++)p+='<source src="'+n[r]+'">';return p+="</video>",v.innerHTML=p,i&&i.events&&i.events.error&&h.addEventListener("error",i.events.error,!1),t("#"+m,i)}t.error("Specified target `"+e+"` was not found.")}}(Popcorn),function(t,e){function n(t){for(var e=n.options,i=e.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=14;o--;)r[e.key[o]]=i[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(t,n,i){n&&(r[e.q.name][n]=i)}),r}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:t.nop,end:t.nop};function r(){}MediaError=MediaError||function(){function t(t,e){this.code=t||null,this.message=e||""}return t.MEDIA_ERR_NONE_ACTIVE=0,t.MEDIA_ERR_ABORTED=1,t.MEDIA_ERR_NETWORK=2,t.MEDIA_ERR_DECODE=3,t.MEDIA_ERR_NONE_SUPPORTED=4,t}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(t){return"string"==typeof t||!0===t},parseUri:n},addEventListener:function(t,n,i){e.addEventListener(this._eventNamespace+t,n,i)},removeEventListener:function(t,n,i){e.removeEventListener(this._eventNamespace+t,n,i)},dispatchEvent:function(t){var n=e.createEvent("CustomEvent"),i={type:t,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+t,!1,!1,i),e.dispatchEvent(n)},load:t.nop,canPlayType:function(t){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:t.nop},controls:{get:function(){return!0},set:t.nop},poster:{get:function(){return""},set:t.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}}),t._MediaElementProto=r}(Popcorn,window.document),function(t,e,n){var i=10,r="",o=/^.*(?:\/|v=)(.{11})/,s=Math.abs,a=!1,l=!1,c=[];function u(u){if(!e.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var h,d,f,p,g=this,m="string"==typeof u?n.querySelector(u):u,v=n.createElement("div"),y={src:r,networkState:g.NETWORK_EMPTY,readyState:g.HAVE_NOTHING,seeking:!1,autoplay:r,preload:r,controls:!1,loop:!1,poster:r,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},b=!1,w=!1,x=!1,C=!1,k=!1,_=!1,S=!0,$=[],E=-1,T=0,D=!1;function M(t){$.unshift(t)}function A(t){var e=function(){h.isMuted()?navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)?k&&O():h.playVideo():setTimeout(e,0)};b=!0,h.mute(),e()}function P(t){var e={name:"MediaError"};switch(t.data){case 2:e.message="Invalid video parameter.",e.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=MediaError.MEDIA_ERR_DECODE;case 100:e.message="Video not found.",e.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:e.message="Video not usable.",e.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:e.message="Unknown error.",e.code=5}y.error=e,g.dispatchEvent("error")}function O(){for(M(function(){d=setInterval(R,50)}),y.autoplay||!y.paused?(y.paused=!1,M(function(){V()})):(w=!1,h.pauseVideo()),y.muted||h.unMute(),y.readyState=g.HAVE_METADATA,g.dispatchEvent("loadedmetadata"),f=setInterval(H,i),g.dispatchEvent("loadeddata"),y.readyState=g.HAVE_FUTURE_DATA,g.dispatchEvent("canplay"),C=!0;$.length;)$[0](),$.shift();y.readyState=g.HAVE_ENOUGH_DATA,g.dispatchEvent("canplaythrough")}function N(t){switch(t.data){case YT.PlayerState.ENDED:y.loop?(z(0),g.play()):(y.ended=!0,h.pauseVideo(),Y(),x=!0,g.dispatchEvent("timeupdate"),g.dispatchEvent("ended"));break;case YT.PlayerState.PLAYING:D?x?(x=!1,h.pauseVideo()):V():(D=!0,k&&O());break;case YT.PlayerState.PAUSED:if(h.getDuration()===h.getCurrentTime())break;if(w){w=!1;break}Y();break;case YT.PlayerState.BUFFERING:y.networkState=g.NETWORK_LOADING,g.dispatchEvent("waiting");break;case YT.PlayerState.CUED:}t.data!==YT.PlayerState.BUFFERING&&E===YT.PlayerState.BUFFERING&&q(),E=t.data}function I(){b&&h&&(k=!1,D=!1,clearInterval(f),clearInterval(d))}function L(i){if(!g._canPlaySrc(i))return y.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void g.dispatchEvent("error");if(y.src=i,!function(){if(!l){var t=n.createElement("script"),i="file:"===e.location.protocol?"http:":"";t.src=i+"//www.youtube.com/iframe_api";var r=n.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r),l=!0}return a}())return r=function(){L(i)},void c.unshift(r);var r;b&&(I(),I(),b&&h&&(m.removeChild(v),v=n.createElement("div"))),m.appendChild(v);var s=g._util.parseUri(i).queryKey;delete s.v,y.autoplay="1"===s.autoplay||y.autoplay,delete s.autoplay,y.loop="1"===s.loop||y.loop,delete s.loop,s.rel=s.rel||0,s.modestbranding=s.modestbranding||1,s.iv_load_policy=s.iv_load_policy||3,s.showinfo=s.showinfo||0;var u="file:"===e.location.protocol?"*":e.location.protocol+"//"+e.location.host;s.origin=s.origin||u,s.controls="1"==s.controls||y.controls?2:0,y.controls=s.controls,s.wmode=s.wmode||"opaque";var d="https://www.googleapis.com/youtube/v3/videos?id="+(i=o.exec(i)[1])+"&part=contentDetails&key=AIzaSyAztqrTO5FZE2xPI4XDYbLeOXE0vtWoTMk&fields=items(contentDetails(duration))";t.getJSONP(d,function(t){var e="failed to retreive duration data, reason: ";if(t.error)console.warn(e+t.error.message);else if(t.items&&0!=t.items.length){var n=parseDuration(t.items[0].contentDetails.duration);y.duration=3600*n.hour+60*n.minute+n.second,g.dispatchEvent("durationchange"),k=!0,D&&O()}else console.warn(e+"no response data")}),h=new YT.Player(v,{width:"100%",height:"100%",wmode:s.wmode,videoId:i,playerVars:s,events:{onReady:A,onError:P,onStateChange:N}}),y.networkState=g.NETWORK_LOADING,g.dispatchEvent("loadstart"),g.dispatchEvent("progress")}function H(){var t=h.getCurrentTime();y.seeking?s(t-y.currentTime)<1&&W():(s(y.currentTime-t)>i&&(j(),W()),y.currentTime=t)}function R(){var t=h.getVideoLoadedFraction();t&&T!==t&&(T=t,q())}function F(){return y.currentTime}function z(t){y.currentTime=t,C?(j(),h.seekTo(t)):M(function(){j()})}function B(){g.dispatchEvent("timeupdate")}function j(){y.seeking=!0,g.dispatchEvent("seeking")}function W(){y.ended=!1,y.seeking=!1,g.dispatchEvent("timeupdate"),g.dispatchEvent("seeked"),g.dispatchEvent("canplay"),g.dispatchEvent("canplaythrough")}function V(){y.ended&&(z(0),y.ended=!1),p&&clearInterval(p),p=setInterval(B,g._util.TIMEUPDATE_MS),y.paused=!1,S&&(S=!1,(y.loop&&!_||!y.loop)&&(_=!0,g.dispatchEvent("play")),g.dispatchEvent("playing"))}function q(){g.dispatchEvent("progress")}function Y(){y.paused=!0,S||(S=!0,clearInterval(p),g.dispatchEvent("pause"))}g._eventNamespace=t.guid("HTMLYouTubeVideoElement::"),g.parentNode=m,g._util.type="YouTube",parseDuration=function(t){var e=t.match(/^P([0-9]+Y|)?([0-9]+M|)?([0-9]+D|)?T?([0-9]+H|)?([0-9]+M|)?([0-9]+S|)?$/),n={};return!!e&&(n.year=parseInt(e[1])||0,n.month=parseInt(e[2])||0,n.day=parseInt(e[3])||0,n.hour=parseInt(e[4])||0,n.minute=parseInt(e[5])||0,n.second=parseInt(e[6])||0,n.toString=function(){var t="";return this.year&&(t+=this.year+" Year"+(1==this.year?"":"s")+" "),this.month&&(t+=this.month+" Month"+(1==this.month?"":"s")+" "),this.day&&(t+=this.day+" Day"+(1==this.day?"":"s")+" "),this.hour&&(t+=this.hour+" Hour"+(1==this.hour?"":"s")+" "),this.minute&&(t+=this.minute+" Minute"+(1==this.minute?"":"s")+" "),this.second&&(t+=this.second+" Second"+(1==this.second?"":"s")+" "),t},n)},g.play=function(){y.paused=!1,C?h.playVideo():M(function(){g.play()})},g.pause=function(){y.paused=!0,C?(w=!1,h.pauseVideo()):M(function(){g.pause()})},g.getSpeeds=function(){return h.getAvailablePlaybackRates()},g.setSpeed=function(t){h.setPlaybackRate(t)},g.getAvailableQuality=function(){return h.getAvailableQualityLevels()},g.getQuality=function(){return h.getPlaybackQuality()},g.setQuality=function(t){h.setPlaybackQuality(t),z(F())},g.destroy=function(){I()},Object.defineProperties(g,{src:{get:function(){return y.src},set:function(t){t&&t!==y.src&&L(t)}},autoplay:{get:function(){return y.autoplay},set:function(t){y.autoplay=g._util.isAttributeSet(t)}},loop:{get:function(){return y.loop},set:function(t){y.loop=g._util.isAttributeSet(t)}},width:{get:function(){return g.parentNode.offsetWidth}},height:{get:function(){return g.parentNode.offsetHeight}},currentTime:{get:function(){return F()},set:function(t){z(t)}},duration:{get:function(){return y.duration}},ended:{get:function(){return y.ended}},paused:{get:function(){return y.paused}},seeking:{get:function(){return y.seeking}},readyState:{get:function(){return y.readyState}},networkState:{get:function(){return y.networkState}},volume:{get:function(){return y.volume/100},set:function(t){if(t<0||t>1)throw"Volume value must be between 0.0 and 1.0";!function t(e){y.volume=e,C?(h.setVolume(100*y.volume),g.dispatchEvent("volumechange")):M(function(){t(y.volume)})}(t)}},muted:{get:function(){return y.muted},set:function(t){!function t(e){y.muted=e,C?(h[e?"mute":"unMute"](),g.dispatchEvent("volumechange")):M(function(){t(y.muted)})}(g._util.isAttributeSet(t))}},error:{get:function(){return y.error}},buffered:{get:function(){var t={start:function(t){if(0===t)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(t){if(0===t)return y.duration?y.duration*T:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(t,{length:{get:function(){return 1}}}),t}}})}e.YT&&(e.quarantineYT=e.YT,e.YT=null),e.onYouTubeIframeAPIReady=function(){a=!0;for(var t=c.length;t--;)c[t](),delete c[t]},u.prototype=new t._MediaElementProto,u.prototype.constructor=u,u.prototype._canPlaySrc=function(t){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(t)?"probably":r},u.prototype.canPlayType=function(t){return"video/x-youtube"===t?"probably":r},t.HTMLYouTubeVideoElement=function(t){return new u(t)},t.HTMLYouTubeVideoElement._canPlaySrc=u.prototype._canPlaySrc}(Popcorn,window,document),function(t,e,n){var i=10,r="",o=Math.abs;function s(s){if(!e.postMessage||!e.JSON)throw"ERROR: HTMLMediaSiteVideoElement requires window.postMessage";var a,l,c,u,h=this,d="string"==typeof s?n.querySelector(s):s,f=n.createElement("div"),p="mediaSiteVideoId",g={src:r,networkState:h.NETWORK_EMPTY,readyState:h.HAVE_NOTHING,seeking:!1,autoplay:r,preload:r,controls:!1,loop:!1,poster:r,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},m=!1,v=!1,y=!1,b=!1,w=!1,x=!1,C=!0,k=[],_=-1,S=!1;function $(t){k.unshift(t)}function E(t){var e=function(){a.isMuted()?navigator.userAgent.match(/(iPhone|iPod|iPad|Android)/i)?w&&D():a.play():setTimeout(e,0)};m=!0,a.mute(),g.duration=a.getDuration(),h.dispatchEvent("durationchange"),w=!0,e(),S&&D()}function T(t){var e={name:"MediaError"};switch(t.errorCode){case 500:e.message="Invalid video parameter.",e.code=t.errorCode;break;case 424:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=t.errorCode;break;case 510:e.message="Video not found.",e.code=t.errorCode;break;case 511:e.message="Video not usable.",e.code=t.errorCode;break;default:e.message="Unknown error.",e.code=5}g.error=e,h.dispatchEvent("error")}function D(){for(g.autoplay||!g.paused?(g.paused=!1,$(function(){R()})):(v=!1,a.pause()),g.muted||a.unMute(),g.readyState=h.HAVE_METADATA,h.dispatchEvent("loadedmetadata"),c=setInterval(O,i),h.dispatchEvent("loadeddata"),g.readyState=h.HAVE_FUTURE_DATA,h.dispatchEvent("canplay"),b=!0;k.length;)k[0](),k.shift();g.readyState=h.HAVE_ENOUGH_DATA,h.dispatchEvent("canplaythrough")}function M(t){switch(t.playState){case Mediasite.PlayState.MediaEnded:g.loop?(N(0),h.play()):(g.ended=!0,a.pause(),F(),y=!0,h.dispatchEvent("timeupdate"),h.dispatchEvent("ended"));break;case Mediasite.PlayState.Playing:S?y?(y=!1,a.pause()):R():(S=!0,w&&D());break;case Mediasite.PlayState.Paused:if(a.getDuration()===a.getCurrentTime())break;if(v){v=!1;break}F();break;case Mediasite.PlayState.Buffering:g.networkState=h.NETWORK_LOADING,h.dispatchEvent("waiting")}t.state!==Mediasite.PlayState.Buffering&&_===Mediasite.PlayState.Buffering&&h.dispatchEvent("progress"),_=t.state}function A(){m&&a&&(w=!1,S=!1,clearInterval(c),clearInterval(l))}function P(t){if(!h._canPlaySrc(t))return g.error={name:"MediaError",message:"Media Source Not Supported",code:511},void h.dispatchEvent("error");t=t+(-1==t.indexOf("?")?"?":"&")+"player=MediasiteIntegration",g.src=t,m&&(A(),m&&a&&(d.removeChild(f),(f=n.createElement("div")).setAttribute("id",p))),f.setAttribute("id",p),d.appendChild(f),a=new Mediasite.Player(p,{url:t,events:{ready:E,error:T,playstatechanged:M},layoutOptions:{ShowStateMessages:!1,Gutter:0,FrameWidth:0}}),g.networkState=h.NETWORK_LOADING,h.dispatchEvent("loadstart"),h.dispatchEvent("progress")}function O(){var t=a.getCurrentTime();g.seeking?o(t-g.currentTime)<1&&H():(o(g.currentTime-t)>i&&(L(),H()),g.currentTime=t)}function N(t){g.currentTime=t,b?(L(),a.seekTo(t)):$(function(){L(),a.seekTo(t)})}function I(){h.dispatchEvent("timeupdate")}function L(){g.seeking=!0,h.dispatchEvent("seeking")}function H(){g.ended=!1,g.seeking=!1,h.dispatchEvent("timeupdate"),h.dispatchEvent("seeked"),h.dispatchEvent("canplay"),h.dispatchEvent("canplaythrough")}function R(){g.ended&&(N(0),g.ended=!1),u&&clearInterval(u),u=setInterval(I,h._util.TIMEUPDATE_MS),g.paused=!1,C&&(C=!1,(g.loop&&!x||!g.loop)&&(x=!0,h.dispatchEvent("play")),h.dispatchEvent("playing"))}function F(){g.paused=!0,C||(C=!0,clearInterval(u),h.dispatchEvent("pause"))}h._eventNamespace=t.guid("HTMLMediaSiteVideoElement::"),h.parentNode=d,h._util.type="MediaSite",h.play=function(){g.paused=!1,b?a.play():$(function(){h.play()})},h.pause=function(){g.paused=!0,b?(v=!1,a.pause()):$(function(){h.pause()})},h.getSpeeds=function(){return[1]},h.setSpeed=function(t){},h.getAvailableQuality=function(){return[]},h.getQuality=function(){return"Normal"},h.setQuality=function(t){},h.destroy=function(){A()},Object.defineProperties(h,{src:{get:function(){return g.src},set:function(t){t&&t!==g.src&&P(t)}},autoplay:{get:function(){return g.autoplay},set:function(t){g.autoplay=h._util.isAttributeSet(t)}},loop:{get:function(){return g.loop},set:function(t){g.loop=h._util.isAttributeSet(t)}},width:{get:function(){return h.parentNode.offsetWidth}},height:{get:function(){return h.parentNode.offsetHeight}},currentTime:{get:function(){return g.currentTime},set:function(t){N(t)}},duration:{get:function(){return g.duration}},ended:{get:function(){return g.ended}},paused:{get:function(){return g.paused}},seeking:{get:function(){return g.seeking}},readyState:{get:function(){return g.readyState}},networkState:{get:function(){return g.networkState}},volume:{get:function(){return g.volume/100},set:function(t){if(t<0||t>1)throw"Volume value must be between 0.0 and 1.0";!function t(e){g.volume=e,b?(a.setVolume(100*g.volume),h.dispatchEvent("volumechange")):$(function(){t(g.volume)})}(t)}},muted:{get:function(){return g.muted},set:function(t){!function t(e){g.muted=e,b?(a[e?"mute":"unMute"](),h.dispatchEvent("volumechange")):$(function(){t(g.muted)})}(h._util.isAttributeSet(t))}},error:{get:function(){return g.error}},buffered:{get:function(){var t={start:function(t){if(0===t)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(t){if(0===t)return g.duration?0*g.duration:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(t,{length:{get:function(){return 1}}}),t}}})}s.prototype=new t._MediaElementProto,s.prototype.constructor=s,s.prototype._canPlaySrc=function(t){return/^(http|https):\/\/.*(\/Play\/)/.test(t)?"probably":r},s.prototype.canPlayType=function(t){return"video/x-mediasite"===t?"probably":r},t.HTMLMediaSiteVideoElement=function(t){return new s(t)},t.HTMLMediaSiteVideoElement._canPlaySrc=s.prototype._canPlaySrc}(Popcorn,window,document),function(t,e){function n(t){return"maybe"}function i(t,i){var r="string"==typeof t?e.querySelector(t):t,o=e.createElement(i);return r.appendChild(o),o._canPlaySrc=n,o}t.HTMLVideoElement=function(t){return i(t,"video")},t.HTMLVideoElement._canPlaySrc=n,t.HTMLAudioElement=function(t){return i(t,"audio")},t.HTMLAudioElement._canPlaySrc=n}(Popcorn,window.document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return qt.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,i){return ft(t,e,n,i,!0).utc()}function c(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function u(t){if(null==t._isValid){var e=c(t),n=Yt.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function h(t){var e=l(NaN);return null!=t?a(c(e),t):c(e).userInvalidated=!0,e}function d(t){return void 0===t}function f(t,e){var n,i,r;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=c(e)),d(e._locale)||(t._locale=e._locale),Ut.length>0)for(n in Ut)d(r=e[i=Ut[n]])||(t[i]=r);return t}function p(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Gt&&(Gt=!0,t.updateOffset(this),Gt=!1)}function g(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function y(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&v(t[i])!==v(e[i]))&&s++;return s+o}function b(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,n){var i=!0;return a(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}b(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function x(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Xt[e]||(b(n),Xt[e]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t,e){var i,r=a({},t);for(i in e)s(e,i)&&(n(t[i])&&n(e[i])?(r[i]={},a(r[i],t[i]),a(r[i],e[i])):null!=e[i]?r[i]=e[i]:delete r[i]);for(i in t)s(t,i)&&!s(e,i)&&n(t[i])&&(r[i]=a({},r[i]));return r}function _(t){null!=t&&this.set(t)}function S(t,e){var n=t.toLowerCase();Zt[n]=Zt[n+"s"]=Zt[e]=t}function $(t){return"string"==typeof t?Zt[t]||Zt[t.toLowerCase()]:void 0}function E(t){var e,n,i={};for(n in t)s(t,n)&&((e=$(n))&&(i[e]=t[n]));return i}function T(t,e){Qt[t]=e}function D(e,n){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,n),this):M(this,e)}}function M(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function A(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function P(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function O(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(ne[t]=r),e&&(ne[e[0]]=function(){return P(r.apply(this,arguments),e[1],e[2])}),n&&(ne[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function N(t,e){return t.isValid()?(e=I(e,t.localeData()),ee[e]=ee[e]||function(t){var e,n,i,r=t.match(Jt);for(e=0,n=r.length;e<n;e++)ne[r[e]]?r[e]=ne[r[e]]:r[e]=(i=r[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(e,t):r[i];return o}}(e),ee[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(te.lastIndex=0;i>=0&&te.test(t);)t=t.replace(te,n),te.lastIndex=0,i-=1;return t}function L(t,e,n){be[t]=C(e)?e:function(t,i){return t&&n?n:e}}function H(t,e){return s(be,t)?be[t](e._strict,e._locale):new RegExp(R(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function R(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),i(e)&&(r=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)we[t[n]]=r}function z(t,e){F(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function B(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function j(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=v(e);else if(!i(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),B(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function W(e){return null!=e?(j(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function V(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=l([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=R(i[e]),r[e]=R(r[e]);for(e=0;e<24;e++)o[e]=R(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function q(t){return Y(t)?366:365}function Y(t){return t%4==0&&t%100!=0||t%400==0}function U(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function G(t,e,n){var i=7+e-n;return-((7+U(t,0,i).getUTCDay()-e)%7)+i-1}function X(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+G(t,i,r);return a<=0?s=q(o=t-1)+a:a>q(t)?(o=t+1,s=a-q(t)):(o=t,s=a),{year:o,dayOfYear:s}}function K(t,e,n){var i,r,o=G(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?i=s+Z(r=t.year()-1,e,n):s>Z(t.year(),e,n)?(i=s-Z(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function Z(t,e,n){var i=G(t,e,n),r=G(t+1,e,n);return(q(t)-i+r)/7}function Q(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],c=[],u=[];for(e=0;e<7;e++)n=l([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),c.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(t),a.sort(t),c.sort(t),u.sort(t),e=0;e<7;e++)a[e]=R(a[e]),c[e]=R(c[e]),u[e]=R(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function J(){return this.hours()%12||12}function tt(t,e){O(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function et(t,e){return e._meridiemParse}function nt(t){return t?t.toLowerCase().replace("_","-"):t}function it(t){var e=null;if(!Ye[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=We._abbr,require("./locale/"+t),rt(e)}catch(t){}return Ye[t]}function rt(t,e){var n;return t&&((n=d(e)?st(t):ot(t,e))&&(We=n)),We._abbr}function ot(t,e){if(null!==e){var n=qe;if(e.abbr=t,null!=Ye[t])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ye[t]._config;else if(null!=e.parentLocale){if(null==Ye[e.parentLocale])return Ue[e.parentLocale]||(Ue[e.parentLocale]=[]),Ue[e.parentLocale].push({name:t,config:e}),null;n=Ye[e.parentLocale]._config}return Ye[t]=new _(k(n,e)),Ue[t]&&Ue[t].forEach(function(t){ot(t.name,t.config)}),rt(t),Ye[t]}return delete Ye[t],null}function st(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return We;if(!e(t)){if(n=it(t))return n;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=nt(t[o]).split("-")).length,n=(n=nt(t[o+1]))?n.split("-"):null;e>0;){if(i=it(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&y(r,n,!0)>=e-1)break;e--}o++}return null}(t)}function at(t){var e,n=t._a;return n&&-2===c(t).overflow&&(e=n[Ce]<0||n[Ce]>11?Ce:n[ke]<1||n[ke]>B(n[xe],n[Ce])?ke:n[_e]<0||n[_e]>24||24===n[_e]&&(0!==n[Se]||0!==n[$e]||0!==n[Ee])?_e:n[Se]<0||n[Se]>59?Se:n[$e]<0||n[$e]>59?$e:n[Ee]<0||n[Ee]>999?Ee:-1,c(t)._overflowDayOfYear&&(e<xe||e>ke)&&(e=ke),c(t)._overflowWeeks&&-1===e&&(e=Te),c(t)._overflowWeekday&&-1===e&&(e=De),c(t).overflow=e),t}function lt(t){var e,n,i,r,o,s,a=t._i,l=Ge.exec(a)||Xe.exec(a);if(l){for(c(t).iso=!0,e=0,n=Ze.length;e<n;e++)if(Ze[e][1].exec(l[1])){r=Ze[e][0],i=!1!==Ze[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Qe.length;e<n;e++)if(Qe[e][1].exec(l[3])){o=(l[2]||" ")+Qe[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Ke.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),ht(t)}else t._isValid=!1}function ct(t,e,n){return null!=t?t:null!=e?e:n}function ut(e){var n,i,r,o,s,a,l=[];if(!e._d){for(s=e,a=void 0,a=new Date(t.now()),r=s._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()],e._w&&null==e._a[ke]&&null==e._a[Ce]&&function(t){var e,n,i,r,o,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,n=ct(e.GG,t._a[xe],K(pt(),1,4).year),i=ct(e.W,1),((r=ct(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var u=K(pt(),o,s);n=ct(e.gg,t._a[xe],u.year),i=ct(e.w,u.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>Z(n,o,s)?c(t)._overflowWeeks=!0:null!=l?c(t)._overflowWeekday=!0:(a=X(n,i,r,o,s),t._a[xe]=a.year,t._dayOfYear=a.dayOfYear)}(e),e._dayOfYear&&(o=ct(e._a[xe],r[xe]),e._dayOfYear>q(o)&&(c(e)._overflowDayOfYear=!0),i=U(o,0,e._dayOfYear),e._a[Ce]=i.getUTCMonth(),e._a[ke]=i.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=l[n]=r[n];for(;n<7;n++)e._a[n]=l[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[_e]&&0===e._a[Se]&&0===e._a[$e]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?U:function(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,l),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24)}}function ht(e){if(e._f!==t.ISO_8601){e._a=[],c(e).empty=!0;var n,i,r,o,a,l,u,h,d,f,p,g,m=""+e._i,v=m.length,y=0;for(r=I(e._f,e._locale).match(Jt)||[],n=0;n<r.length;n++)o=r[n],(i=(m.match(H(o,e))||[])[0])&&((a=m.substr(0,m.indexOf(i))).length>0&&c(e).unusedInput.push(a),m=m.slice(m.indexOf(i)+i.length),y+=i.length),ne[o]?(i?c(e).empty=!1:c(e).unusedTokens.push(o),l=o,h=e,null!=(u=i)&&s(we,l)&&we[l](u,h._a,h,l)):e._strict&&!i&&c(e).unusedTokens.push(o);c(e).charsLeftOver=v-y,m.length>0&&c(e).unusedInput.push(m),e._a[_e]<=12&&!0===c(e).bigHour&&e._a[_e]>0&&(c(e).bigHour=void 0),c(e).parsedDateParts=e._a.slice(0),c(e).meridiem=e._meridiem,e._a[_e]=(d=e._locale,f=e._a[_e],null==(p=e._meridiem)?f:null!=d.meridiemHour?d.meridiemHour(f,p):null!=d.isPM?((g=d.isPM(p))&&f<12&&(f+=12),g||12!==f||(f=0),f):f),ut(e),at(e)}else lt(e)}function dt(n){var s,l,d,m,v=n._i,y=n._f;return n._locale=n._locale||st(n._l),null===v||void 0===y&&""===v?h({nullInput:!0}):("string"==typeof v&&(n._i=v=n._locale.preparse(v)),g(v)?new p(at(v)):(r(v)?n._d=v:e(y)?function(t){var e,n,i,r,o;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ht(e),u(e)&&(o+=c(e).charsLeftOver,o+=10*c(e).unusedTokens.length,c(e).score=o,(null==i||o<i)&&(i=o,n=e));a(t,n||e)}(n):y?ht(n):void 0===(l=(s=n)._i)?s._d=new Date(t.now()):r(l)?s._d=new Date(l.valueOf()):"string"==typeof l?(d=s,null!==(m=Je.exec(d._i))?d._d=new Date(+m[1]):(lt(d),!1===d._isValid&&(delete d._isValid,t.createFromInputFallback(d)))):e(l)?(s._a=o(l.slice(0),function(t){return parseInt(t,10)}),ut(s)):"object"==typeof l?function(t){if(!t._d){var e=E(t._i);t._a=o([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ut(t)}}(s):i(l)?s._d=new Date(l):t.createFromInputFallback(s),u(n)||(n._d=null),n))}function ft(t,i,r,o,s){var a,l={};return!0!==r&&!1!==r||(o=r,r=void 0),(n(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=r,l._i=t,l._f=i,l._strict=o,(a=new p(at(dt(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function pt(t,e,n,i){return ft(t,e,n,i,!1)}function gt(t,n){var i,r;if(1===n.length&&e(n[0])&&(n=n[0]),!n.length)return pt();for(i=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][t](i)||(i=n[r]);return i}function mt(t){var e=E(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=st(),this._bubble()}function vt(t){return t instanceof mt}function yt(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function bt(t,e){O(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+P(~~(t/60),2)+e+P(~~t%60,2)})}function wt(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(nn)||["-",0,0],r=60*i[1]+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function xt(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(g(e)||r(e)?e.valueOf():pt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),t.updateOffset(i,!1),i):pt(e).local()}function Ct(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function kt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function _t(t,e){var n,r,o,a,l,c,u=t,h=null;return vt(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:i(t)?(u={},e?u[e]=t:u.milliseconds=t):(h=rn.exec(t))?(n="-"===h[1]?-1:1,u={y:0,d:v(h[ke])*n,h:v(h[_e])*n,m:v(h[Se])*n,s:v(h[$e])*n,ms:v(yt(1e3*h[Ee]))*n}):(h=on.exec(t))?(n="-"===h[1]?-1:1,u={y:St(h[2],n),M:St(h[3],n),w:St(h[4],n),d:St(h[5],n),h:St(h[6],n),m:St(h[7],n),s:St(h[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(a=pt(u.from),l=pt(u.to),o=a.isValid()&&l.isValid()?(l=xt(l,a),a.isBefore(l)?c=$t(a,l):((c=$t(l,a)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),r=new mt(u),vt(t)&&s(t,"_locale")&&(r._locale=t._locale),r}function St(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function $t(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Et(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Tt(this,_t(n="string"==typeof n?+n:n,i),t),this}}function Tt(e,n,i,r){var o=n._milliseconds,s=yt(n._days),a=yt(n._months);e.isValid()&&(r=null==r||r,o&&e._d.setTime(e._d.valueOf()+o*i),s&&A(e,"Date",M(e,"Date")+s*i),a&&j(e,M(e,"Month")+a*i),r&&t.updateOffset(e,s||a))}function Dt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=st(t))&&(this._locale=e),this)}function Mt(){return this._locale}function At(t,e){O(0,[t,t.length],0,e)}function Pt(t,e,n,i,r){var o;return null==t?K(this,i,r).year:(e>(o=Z(t,i,r))&&(e=o),function(t,e,n,i,r){var o=X(t,e,n,i,r),s=U(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,t,e,n,i,r))}function Ot(t,e){e[Ee]=v(1e3*("0."+t))}function Nt(t){return t}function It(t,e,n,i){var r=st(),o=l().set(i,e);return r[n](o,t)}function Lt(t,e,n){if(i(t)&&(e=t,t=void 0),t=t||"",null!=e)return It(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=It(t,r,n,"month");return o}function Ht(t,e,n,r){"boolean"==typeof t?(i(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,i(e)&&(n=e,e=void 0),e=e||"");var o=st(),s=t?o._week.dow:0;if(null!=n)return It(e,(n+s)%7,r,"day");var a,l=[];for(a=0;a<7;a++)l[a]=It(e,(a+s)%7,r,"day");return l}function Rt(t,e,n,i){var r=_t(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Ft(t){return t<0?Math.floor(t):Math.ceil(t)}function zt(t){return 4800*t/146097}function Bt(t){return 146097*t/4800}function jt(t){return function(){return this.as(t)}}function Wt(t){return function(){return this._data[t]}}function Vt(){var t,e,n=Nn(this._milliseconds)/1e3,i=Nn(this._days),r=Nn(this._months);e=m((t=m(n/60))/60),n%=60,t%=60;var o=m(r/12),s=r%=12,a=i,l=e,c=t,u=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var qt,Yt=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},Ut=t.momentProperties=[],Gt=!1,Xt={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Kt=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n},Zt={},Qt={},Jt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,te=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ee={},ne={},ie=/\d/,re=/\d\d/,oe=/\d{3}/,se=/\d{4}/,ae=/[+-]?\d{6}/,le=/\d\d?/,ce=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,he=/\d{1,3}/,de=/\d{1,4}/,fe=/[+-]?\d{1,6}/,pe=/\d+/,ge=/[+-]?\d+/,me=/Z|[+-]\d\d:?\d\d/gi,ve=/Z|[+-]\d\d(?::?\d\d)?/gi,ye=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,be={},we={},xe=0,Ce=1,ke=2,_e=3,Se=4,$e=5,Ee=6,Te=7,De=8,Me=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),O("MMMM",0,0,function(t){return this.localeData().months(this,t)}),S("month","M"),T("month",8),L("M",le),L("MM",le,re),L("MMM",function(t,e){return e.monthsShortRegex(t)}),L("MMMM",function(t,e){return e.monthsRegex(t)}),F(["M","MM"],function(t,e){e[Ce]=v(t)-1}),F(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ce]=r:c(n).invalidMonth=t});var Ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ne=ye,Ie=ye;O("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),S("year","y"),T("year",1),L("Y",ge),L("YY",le,re),L("YYYY",de,se),L("YYYYY",fe,ae),L("YYYYYY",fe,ae),F(["YYYYY","YYYYYY"],xe),F("YYYY",function(e,n){n[xe]=2===e.length?t.parseTwoDigitYear(e):v(e)}),F("YY",function(e,n){n[xe]=t.parseTwoDigitYear(e)}),F("Y",function(t,e){e[xe]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Le=D("FullYear",!0);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),T("week",5),T("isoWeek",5),L("w",le),L("ww",le,re),L("W",le),L("WW",le,re),z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=v(t)});O("d",0,"do","day"),O("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),O("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),O("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),T("day",11),T("weekday",11),T("isoWeekday",11),L("d",le),L("e",le),L("E",le),L("dd",function(t,e){return e.weekdaysMinRegex(t)}),L("ddd",function(t,e){return e.weekdaysShortRegex(t)}),L("dddd",function(t,e){return e.weekdaysRegex(t)}),z(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:c(n).invalidWeekday=t}),z(["d","e","E"],function(t,e,n,i){e[i]=v(t)});var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ze=ye,Be=ye,je=ye;O("H",["HH",2],0,"hour"),O("h",["hh",2],0,J),O("k",["kk",2],0,function(){return this.hours()||24}),O("hmm",0,0,function(){return""+J.apply(this)+P(this.minutes(),2)}),O("hmmss",0,0,function(){return""+J.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),tt("a",!0),tt("A",!1),S("hour","h"),T("hour",13),L("a",et),L("A",et),L("H",le),L("h",le),L("HH",le,re),L("hh",le,re),L("hmm",ce),L("hmmss",ue),L("Hmm",ce),L("Hmmss",ue),F(["H","HH"],_e),F(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),F(["h","hh"],function(t,e,n){e[_e]=v(t),c(n).bigHour=!0}),F("hmm",function(t,e,n){var i=t.length-2;e[_e]=v(t.substr(0,i)),e[Se]=v(t.substr(i)),c(n).bigHour=!0}),F("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[_e]=v(t.substr(0,i)),e[Se]=v(t.substr(i,2)),e[$e]=v(t.substr(r)),c(n).bigHour=!0}),F("Hmm",function(t,e,n){var i=t.length-2;e[_e]=v(t.substr(0,i)),e[Se]=v(t.substr(i))}),F("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[_e]=v(t.substr(0,i)),e[Se]=v(t.substr(i,2)),e[$e]=v(t.substr(r))});var We,Ve=D("Hours",!0),qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:Oe,week:{dow:0,doy:6},weekdays:He,weekdaysMin:Fe,weekdaysShort:Re,meridiemParse:/[ap]\.?m?\.?/i},Ye={},Ue={},Ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ke=/Z|[+-]\d\d(?::?\d\d)?/,Ze=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Qe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Je=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var tn=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=pt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:h()}),en=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=pt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()});bt("Z",":"),bt("ZZ",""),L("Z",ve),L("ZZ",ve),F(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=wt(ve,t)});var nn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var rn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,on=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;_t.fn=mt.prototype;var sn=Et(1,"add"),an=Et(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ln=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),At("gggg","weekYear"),At("ggggg","weekYear"),At("GGGG","isoWeekYear"),At("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),T("weekYear",1),T("isoWeekYear",1),L("G",ge),L("g",ge),L("GG",le,re),L("gg",le,re),L("GGGG",de,se),L("gggg",de,se),L("GGGGG",fe,ae),L("ggggg",fe,ae),z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=v(t)}),z(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),O("Q",0,"Qo","quarter"),S("quarter","Q"),T("quarter",7),L("Q",ie),F("Q",function(t,e){e[Ce]=3*(v(t)-1)}),O("D",["DD",2],"Do","date"),S("date","D"),T("date",9),L("D",le),L("DD",le,re),L("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),F(["D","DD"],ke),F("Do",function(t,e){e[ke]=v(t.match(le)[0])});var cn=D("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),T("dayOfYear",4),L("DDD",he),L("DDDD",oe),F(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),O("m",["mm",2],0,"minute"),S("minute","m"),T("minute",14),L("m",le),L("mm",le,re),F(["m","mm"],Se);var un=D("Minutes",!1);O("s",["ss",2],0,"second"),S("second","s"),T("second",15),L("s",le),L("ss",le,re),F(["s","ss"],$e);var hn,dn=D("Seconds",!1);for(O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),T("millisecond",16),L("S",he,ie),L("SS",he,re),L("SSS",he,oe),hn="SSSS";hn.length<=9;hn+="S")L(hn,pe);for(hn="S";hn.length<=9;hn+="S")F(hn,Ot);var fn=D("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var pn=p.prototype;pn.add=sn,pn.calendar=function(e,n){var i=e||pt(),r=xt(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,pt(i)))},pn.clone=function(){return new p(this)},pn.diff=function(t,e,n){var i,r,o,s,a,l,c,u,h,d;return this.isValid()&&(i=xt(t,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=$(e))||"month"===e||"quarter"===e?(a=this,h=12*((l=i).year()-a.year())+(l.month()-a.month()),d=a.clone().add(h,"months"),l-d<0?(c=a.clone().add(h-1,"months"),u=(l-d)/(d-c)):(c=a.clone().add(h+1,"months"),u=(l-d)/(c-d)),s=-(h+u)||0,"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:m(s)):NaN},pn.endOf=function(t){return void 0===(t=$(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},pn.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=N(this,e);return this.localeData().postformat(n)},pn.from=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||pt(t).isValid())?_t({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pn.fromNow=function(t){return this.from(pt(),t)},pn.to=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||pt(t).isValid())?_t({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},pn.toNow=function(t){return this.to(pt(),t)},pn.get=function(t){return C(this[t=$(t)])?this[t]():this},pn.invalidAt=function(){return c(this).overflow},pn.isAfter=function(t,e){var n=g(t)?t:pt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(d(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},pn.isBefore=function(t,e){var n=g(t)?t:pt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(d(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},pn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},pn.isSame=function(t,e){var n,i=g(t)?t:pt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=$(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},pn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},pn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},pn.isValid=function(){return u(this)},pn.lang=ln,pn.locale=Dt,pn.localeData=Mt,pn.max=en,pn.min=tn,pn.parsingFlags=function(){return a({},c(this))},pn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:Qt[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=E(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(C(this[t=$(t)]))return this[t](e);return this},pn.startOf=function(t){switch(t=$(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},pn.subtract=an,pn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},pn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},pn.toDate=function(){return new Date(this.valueOf())},pn.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},pn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},pn.toJSON=function(){return this.isValid()?this.toISOString():null},pn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},pn.unix=function(){return Math.floor(this.valueOf()/1e3)},pn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},pn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},pn.year=Le,pn.isLeapYear=function(){return Y(this.year())},pn.weekYear=function(t){return Pt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},pn.isoWeekYear=function(t){return Pt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},pn.quarter=pn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},pn.month=W,pn.daysInMonth=function(){return B(this.year(),this.month())},pn.week=pn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},pn.isoWeek=pn.isoWeeks=function(t){var e=K(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},pn.weeksInYear=function(){var t=this.localeData()._week;return Z(this.year(),t.dow,t.doy)},pn.isoWeeksInYear=function(){return Z(this.year(),1,4)},pn.date=cn,pn.day=pn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},pn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},pn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,i=this.localeData(),"string"==typeof n?i.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}var n,i;return this.day()||7},pn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},pn.hour=pn.hours=Ve,pn.minute=pn.minutes=un,pn.second=pn.seconds=dn,pn.millisecond=pn.milliseconds=fn,pn.utcOffset=function(e,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=wt(ve,e)))return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&n&&(i=Ct(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Tt(this,_t(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Ct(this)},pn.utc=function(t){return this.utcOffset(0,t)},pn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ct(this),"m")),this},pn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=wt(me,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},pn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?pt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},pn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},pn.isLocal=function(){return!!this.isValid()&&!this._isUTC},pn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},pn.isUtc=kt,pn.isUTC=kt,pn.zoneAbbr=function(){return this._isUTC?"UTC":""},pn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},pn.dates=w("dates accessor is deprecated. Use date instead.",cn),pn.months=w("months accessor is deprecated. Use month instead",W),pn.years=w("years accessor is deprecated. Use year instead",Le),pn.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),pn.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),(t=dt(t))._a){var e=t._isUTC?l(t._a):pt(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var gn=_.prototype;gn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,n):i},gn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},gn.invalidDate=function(){return this._invalidDate},gn.ordinal=function(t){return this._ordinal.replace("%d",t)},gn.preparse=Nt,gn.postformat=Nt,gn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return C(r)?r(t,e,n,i):r.replace(/%d/i,t)},gn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},gn.set=function(t){var e,n;for(n in t)C(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},gn.months=function(t,n){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ae).test(n)?"format":"standalone"][t.month()]:this._months},gn.monthsShort=function(t,n){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ae.test(n)?"format":"standalone"][t.month()]:this._monthsShort},gn.monthsParse=function(t,e,n){var i,r,o;if(this._monthsParseExact)return function(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=l([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=Me.call(this._shortMonthsParse,s))?r:null:-1!==(r=Me.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=Me.call(this._shortMonthsParse,s))?r:-1!==(r=Me.call(this._longMonthsParse,s))?r:null:-1!==(r=Me.call(this._longMonthsParse,s))?r:-1!==(r=Me.call(this._shortMonthsParse,s))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},gn.monthsRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||V.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ie),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},gn.monthsShortRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||V.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Ne),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},gn.week=function(t){return K(t,this._week.dow,this._week.doy).week},gn.firstDayOfYear=function(){return this._week.doy},gn.firstDayOfWeek=function(){return this._week.dow},gn.weekdays=function(t,n){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][t.day()]:this._weekdays},gn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},gn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},gn.weekdaysParse=function(t,e,n){var i,r,o;if(this._weekdaysParseExact)return function(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=l([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=Me.call(this._weekdaysParse,s))?r:null:"ddd"===e?-1!==(r=Me.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=Me.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=Me.call(this._weekdaysParse,s))?r:-1!==(r=Me.call(this._shortWeekdaysParse,s))?r:-1!==(r=Me.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=Me.call(this._shortWeekdaysParse,s))?r:-1!==(r=Me.call(this._weekdaysParse,s))?r:-1!==(r=Me.call(this._minWeekdaysParse,s))?r:null:-1!==(r=Me.call(this._minWeekdaysParse,s))?r:-1!==(r=Me.call(this._weekdaysParse,s))?r:-1!==(r=Me.call(this._shortWeekdaysParse,s))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=l([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},gn.weekdaysRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},gn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Be),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Q.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=je),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},gn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},rt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",rt),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",st);var mn=Math.abs,vn=jt("ms"),yn=jt("s"),bn=jt("m"),wn=jt("h"),xn=jt("d"),Cn=jt("w"),kn=jt("M"),_n=jt("y"),Sn=Wt("milliseconds"),$n=Wt("seconds"),En=Wt("minutes"),Tn=Wt("hours"),Dn=Wt("days"),Mn=Wt("months"),An=Wt("years"),Pn=Math.round,On={s:45,m:45,h:22,d:26,M:11},Nn=Math.abs,In=mt.prototype;return In.abs=function(){var t=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),t.milliseconds=mn(t.milliseconds),t.seconds=mn(t.seconds),t.minutes=mn(t.minutes),t.hours=mn(t.hours),t.months=mn(t.months),t.years=mn(t.years),this},In.add=function(t,e){return Rt(this,t,e,1)},In.subtract=function(t,e){return Rt(this,t,e,-1)},In.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=$(t))||"year"===t)return e=this._days+i/864e5,n=this._months+zt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Bt(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},In.asMilliseconds=vn,In.asSeconds=yn,In.asMinutes=bn,In.asHours=wn,In.asDays=xn,In.asWeeks=Cn,In.asMonths=kn,In.asYears=_n,In.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},In._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Ft(Bt(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=m(o/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,a+=r=m(zt(s+=m(n/24))),s-=Ft(Bt(r)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},In.get=function(t){return this[(t=$(t))+"s"]()},In.milliseconds=Sn,In.seconds=$n,In.minutes=En,In.hours=Tn,In.days=Dn,In.weeks=function(){return m(this.days()/7)},In.months=Mn,In.years=An,In.humanize=function(t){var e,n,i,r,o,s,a,l,c,u,h,d=this.localeData(),f=(n=!t,i=d,r=_t(e=this).abs(),o=Pn(r.as("s")),s=Pn(r.as("m")),a=Pn(r.as("h")),l=Pn(r.as("d")),c=Pn(r.as("M")),u=Pn(r.as("y")),(h=o<On.s&&["s",o]||s<=1&&["m"]||s<On.m&&["mm",s]||a<=1&&["h"]||a<On.h&&["hh",a]||l<=1&&["d"]||l<On.d&&["dd",l]||c<=1&&["M"]||c<On.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=n,h[3]=+e>0,h[4]=i,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,h));return t&&(f=d.pastFuture(+this,f)),d.postformat(f)},In.toISOString=Vt,In.toString=Vt,In.toJSON=Vt,In.locale=Dt,In.localeData=Mt,In.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vt),In.lang=ln,O("X",0,0,"unix"),O("x",0,0,"valueOf"),L("x",ge),L("X",/[+-]?\d+(\.\d{1,3})?/),F("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),F("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.17.0",qt=pt,t.fn=pn,t.min=function(){return gt("isBefore",[].slice.call(arguments,0))},t.max=function(){return gt("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=l,t.unix=function(t){return pt(1e3*t)},t.months=function(t,e){return Lt(t,e,"months")},t.isDate=r,t.locale=rt,t.invalid=h,t.duration=_t,t.isMoment=g,t.weekdays=function(t,e,n){return Ht(t,e,n,"weekdays")},t.parseZone=function(){return pt.apply(null,arguments).parseZone()},t.localeData=st,t.isDuration=vt,t.monthsShort=function(t,e){return Lt(t,e,"monthsShort")},t.weekdaysMin=function(t,e,n){return Ht(t,e,n,"weekdaysMin")},t.defineLocale=ot,t.updateLocale=function(t,e){if(null!=e){var n,i=qe;null!=Ye[t]&&(i=Ye[t]._config),(n=new _(e=k(i,e))).parentLocale=Ye[t],Ye[t]=n,rt(t)}else null!=Ye[t]&&(null!=Ye[t].parentLocale?Ye[t]=Ye[t].parentLocale:null!=Ye[t]&&delete Ye[t]);return Ye[t]},t.locales=function(){return Kt(Ye)},t.weekdaysShort=function(t,e,n){return Ht(t,e,n,"weekdaysShort")},t.normalizeUnits=$,t.relativeTimeRounding=function(t){return void 0===t?Pn:"function"==typeof t&&(Pn=t,!0)},t.relativeTimeThreshold=function(t,e){return void 0!==On[t]&&(void 0===e?On[t]:(On[t]=e,!0))},t.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=pn,t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){"use strict";return t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}),function(){"use strict";function t(t){return angular.isUndefined(t)||null===t}function e(e,n){if(void 0===n){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");n=function(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()}return e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",n).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(n,i,r,o){return function(s,a,l){function c(){var t;if(p)t=p;else if(o.serverTime){var e=(new Date).getTime()-x+o.serverTime;t=i(e)}else t=i();return t}function u(){g&&(n.clearTimeout(g),g=null)}function h(t){k&&a.attr("datetime",t)}function d(){if(u(),f){var t=r.preprocessDate(f);(function t(e){var i=c().diff(e,w),r=y&&i>=y;if(r?a.text(e.format(b)):a.text(e.from(c(),m)),v&&_&&a.attr("title",e.format(v)),!r){var o=Math.abs(c().diff(e,"minute")),s=3600;1>o?s=1:60>o?s=30:180>o&&(s=300),g=n.setTimeout(function(){t(e)},1e3*s)}})(t),h(t.toISOString())}}var f,p,g=null,m=o.withoutSuffix,v=o.titleFormat,y=o.fullDateThreshold,b=o.fullDateFormat,w=o.fullDateThresholdUnit,x=(new Date).getTime(),C=l.amTimeAgo,k="TIME"===a[0].nodeName.toUpperCase(),_=!a.attr("title");s.$watch(C,function(e){return t(e)||""===e?(u(),void(f&&(a.text(""),h(""),f=null))):(f=e,void d())}),e.isDefined(l.amFrom)&&s.$watch(l.amFrom,function(e){p=t(e)||""===e?null:i(e),d()}),e.isDefined(l.amWithoutSuffix)&&s.$watch(l.amWithoutSuffix,function(t){"boolean"==typeof t?(m=t,d()):m=o.withoutSuffix}),l.$observe("amFullDateThreshold",function(t){y=t,d()}),l.$observe("amFullDateFormat",function(t){b=t,d()}),l.$observe("amFullDateThresholdUnit",function(t){w=t,d()}),s.$on("$destroy",function(){u()}),s.$on("amMoment:localeChanged",function(){d()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,i,r){var o=null;this.changeLocale=function(i,r){var o=t.locale(i,r);return e.isDefined(i)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(e){t.tz&&t.tz.setDefault?(t.tz.setDefault(e),n.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=e,o=e},this.preprocessDate=function(e){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(t){return function(e,n){return t(e,n)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(t){return function(e,n){return t.preprocessDate(e).utcOffset(n)}}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(t,e,n){return function(e,i){var r=t.preprocessDate(e);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i,r){if(t(e))return"";var o=n.preprocessDate(e);return o.isValid()?o.calendar(i,r):""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o,s){if(t(i))return"";var a=n.preprocessDate(i),l=t(r)?e():n.preprocessDate(r);return a.isValid()&&l.isValid()?a.diff(l,o,s):""}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i){if(t(e))return"";var r=n.preprocessDate(e);return r.isValid()?r.format(i):""}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e.duration(n,i).humanize(r)}return i.$stateful=n.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o){var s,a;return t(i)?"":(i=n.preprocessDate(i),(s=e(i)).isValid()?(a=e(o),!t(o)&&a.isValid()?s.from(a,r):s.fromNow(r)):"")}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).subtract(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).add(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amStartOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).startOf(i)}return i.$stateful=n.statefulFilters,i}]).filter("amEndOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).endOf(i)}return i.$stateful=n.statefulFilters,i}]),"angularMoment"}"function"==typeof define&&define.amd?define(["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require?module.exports=e(require("angular"),require("moment")):e(angular,("undefined"!=typeof global?global:window).moment)}(),function(t,e){if("function"==typeof define&&define.amd)define(["module","exports","angular"],e);else if("undefined"!=typeof exports)e(module,exports,require("angular"));else{var n={exports:{}};e(n,n.exports,t.angular),t.infiniteScroll=n.exports}}(this,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n)&&i.__esModule?i:{default:i},o="infinite-scroll";r.default.module(o,[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(t,e,n,i){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(o,s,a){function l(t){var e=t[0]||t;return isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function c(t){var e=t[0]||t;return isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function u(t){if(t[0].getBoundingClientRect&&!t.css("none"))return t[0].getBoundingClientRect().top+c(t)}function h(){var e=void 0,i=void 0;if(x===v)e=l(x)+c(x[0].document.documentElement),i=u(s)+l(s);else{e=l(x);var r=0;void 0!==u(x)&&(r=u(x)),i=u(s)-r+l(s)}k&&(i=l((s[0].ownerDocument||s[0].document).documentElement)),i-e<=l(x)*y+1?(w=!0,b&&(o.$$phase||t.$$phase?o.infiniteScroll():o.$apply(o.infiniteScroll))):(S&&n.cancel(S),w=!1)}function d(t){y=parseFloat(t)||0}function f(t){(b=!t)&&w&&(w=!1,$())}function p(t){k=t}function g(t){null!=x&&x.unbind("scroll",$),x=t,null!=t&&x.bind("scroll",$)}function m(t){if(null!=t&&0!==t.length){var e;if(null==(e=t.nodeType&&1===t.nodeType?r.default.element(t):"function"==typeof t.append?r.default.element(t[t.length-1]):"string"==typeof t?r.default.element(document.querySelector(t)):t))throw new Error("invalid infinite-scroll-container attribute.");g(e)}}var v=r.default.element(e),y=null,b=null,w=null,x=null,C=!0,k=!1,_=null,S=!1,$=null!=i?function(t,e){function i(){return o=(new Date).getTime(),n.cancel(r),r=null,t.call()}var r=null,o=0;return function(){var s=(new Date).getTime(),a=e-(s-o);a<=0?(n.cancel(r),r=null,o=s,t.call()):r||(r=n(i,a,1))}}(h,i):h;return o.$on("$destroy",function(){x.unbind("scroll",$),null!=_&&(_(),_=null),S&&n.cancel(S)}),o.$watch("infiniteScrollDistance",d),d(o.infiniteScrollDistance),o.$watch("infiniteScrollDisabled",f),f(o.infiniteScrollDisabled),o.$watch("infiniteScrollUseDocumentBottom",p),p(o.infiniteScrollUseDocumentBottom),g(v),o.infiniteScrollListenForEvent&&(_=t.$on(o.infiniteScrollListenForEvent,$)),o.$watch("infiniteScrollContainer",m),m(o.infiniteScrollContainer||[]),null!=a.infiniteScrollParent&&g(r.default.element(s.parent())),null!=a.infiniteScrollImmediateCheck&&(C=o.$eval(a.infiniteScrollImmediateCheck)),S=n(function(){return C&&$(),n.cancel(S)})}}}]),e.default=o,t.exports=e.default}),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(){var e,n,i,r,o,s=Array.prototype.slice.call(arguments),a={};for(e=0;ct.length>e;e++){for(n=ct[e],i=null,r=0;s.length>r;r++)o=s[r][n],t.isPlainObject(o)?i=t.extend(i||{},o):null!=o&&(i=null);null!==i&&(a[n]=i)}return s.unshift({}),s.push(a),t.extend.apply(t,s)}function i(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function s(){t("body").removeClass("fc-not-allowed")}function a(e,n,i){var r=Math.floor(n/e.length),o=Math.floor(n-r*(e.length-1)),s=[],a=[],c=[],u=0;l(e),e.each(function(n,i){var l=n===e.length-1?o:r,h=t(i).outerHeight(!0);l>h?(s.push(i),a.push(h),c.push(t(i).height())):u+=h}),i&&(n-=u,r=Math.floor(n/s.length),o=Math.floor(n-r*(s.length-1))),t(s).each(function(e,n){var i=e===s.length-1?o:r,l=a[e],u=i-(l-c[e]);i>l&&t(n).height(u)})}function l(t){t.height("")}function c(e){var n=0;return e.find("> *").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function u(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight||(h(t),!1)}function h(t){t.height("").removeClass("fc-scroller")}function d(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function f(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function p(t){var e=t.offset(),n=g(t),i=e.left+m(t,"border-left-width")+n.left,r=e.top+m(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function g(e){var n,i,r=e.innerWidth()-e[0].clientWidth,o={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return null===ut&&(n=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=n.children().offset().left>n.offset().left,n.remove(),ut=i),ut&&"rtl"==e.css("direction")?o.left=r:o.right=r,o}function m(t,e){return parseFloat(t.css(e))||0}function v(t){return 1==t.which&&!t.ctrlKey}function y(t,e){var n,i,r,o,s=t.start,a=t.end,l=e.start,c=e.end;return a>l&&c>s?(s>=l?(n=s.clone(),r=!0):(n=l.clone(),r=!1),c>=a?(i=a.clone(),o=!0):(i=c.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}):void 0}function b(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function w(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function x(t,n){var i,r,o,s,a,l;for(i=0;gt.length>i&&(r=gt[i],s=r,a=t,!((o=null!=(l=n)?l.diff(a,s,!0):e.isDuration(a)?a.as(s):a.end.diff(a.start,s,!0))>=1&&O(o)));i++);return r}function C(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function k(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function _(t){var e=function(){};return e.prototype=t,new e}function S(t,e){for(var n in t)$(t,n)&&(e[n]=t[n])}function $(t,e){return mt.call(t,e)}function E(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,o;for(r=0;e.length>r;r++)o=e[r].apply(n,i)||o;return o}}function T(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function D(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function M(t){return t.replace(/&.*?;/g,"")}function A(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function P(t,e){return t-e}function O(t){return 0==t%1}function N(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function I(t,e){var n,i,r,o,s=function(){var a=+new Date-o;e>a&&a>0?n=setTimeout(s,e-a):(n=null,t.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,o=+new Date,n||(n=setTimeout(s,e))}}function L(n,i,r){var o,s,a,l,c,u=n[0],h=1==n.length&&"string"==typeof u;return e.isMoment(u)?R(u,l=e.apply(null,n)):(c=u,"[object Date]"===Object.prototype.toString.call(c)||c instanceof Date||void 0===u?l=e.apply(null,n):(o=!1,s=!1,h?vt.test(u)?(n=[u+="-01"],o=!0,s=!0):(a=yt.exec(u))&&(o=!a[5],s=!0):t.isArray(u)&&(s=!0),l=i||o?e.utc.apply(e,n):e.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(s?l._ambigZone=!0:h&&(l.utcOffset?l.utcOffset(u):l.zone(u))))),l._fullCalendar=!0,l}function H(t,n){var i,r,o=!1,s=!1,a=t.length,l=[];for(i=0;a>i;i++)r=t[i],e.isMoment(r)||(r=at.moment.parseZone(r)),o=o||r._ambigTime,s=s||r._ambigZone,l.push(r);for(i=0;a>i;i++)r=l[i],n||!o||r._ambigTime?s&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime();return l}function R(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function F(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function z(t,e){return wt.format.call(t,e)}function B(t,e){var n,i="";for(n=0;e.length>n;n++)i+=j(t,e[n]);return i}function j(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?xt[n]?xt[n](t):z(t,n):e.maybe&&(i=B(t,e.maybe)).match(/[1-9]/)?i:""}function W(t,e,n,i,r){return t=at.moment.parseZone(t),e=at.moment.parseZone(e),n=(t.localeData||t.lang).call(t).longDateFormat(n)||n,i=i||" - ",function(t,e,n,i,r){var o,s,a,l,c="",u="",h="",d="",f="";for(s=0;n.length>s&&!1!==(o=V(t,e,n[s]));s++)c+=o;for(a=n.length-1;a>s&&!1!==(o=V(t,e,n[a]));a--)u=o+u;for(l=s;a>=l;l++)h+=j(t,n[l]),d+=j(e,n[l]);return(h||d)&&(f=r?d+i+h:h+i+d),c+f+u}(t,e,q(n),i,r)}function V(t,e,n){var i,r;return"string"==typeof n?n:!!((i=n.token)&&(r=Ct[i.charAt(0)],r&&t.isSame(e,r)))&&z(t,i)}function q(t){return t in kt?kt[t]:kt[t]=function t(e){for(var n,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;n=r.exec(e);)n[1]?i.push(n[1]):n[2]?i.push({maybe:t(n[2])}):n[3]?i.push({token:n[3]}):n[5]&&i.push(n[5]);return i}(t)}function Y(){}function U(t,e){return!t&&!e||!(!t||!e)&&(t.grid===e.grid&&t.row===e.row&&t.col===e.col)}function G(t){return T((t.source||{}).rendering,t.rendering)}function X(t,e){return t.eventStartMS-e.eventStartMS}function K(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function Z(t,e){var n,i;for(n=0;e.length>n;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Q(t,e){return t.leftCol-e.leftCol}function J(t){var e,n,i;if(t.sort(K),function(t){var e,n,i,r,o;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for((r=n[i]).forwardSegs=[],o=e+1;t.length>o;o++)nt(r,t[o],r.forwardSegs)}(e=function(t){var e,n,i,r=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&nt(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}(t)),n=e[0]){for(i=0;n.length>i;i++)tt(n[i]);for(i=0;n.length>i;i++)et(n[i],0,0)}}function tt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)tt(n=i[e]),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function et(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(r.sort(it),et(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;r.length>i;i++)et(r[i],0,t.forwardCoord)}function nt(t,e,n){n=n||[];for(var i=0;e.length>i;i++)r=t,o=e[i],r.bottom>o.top&&r.top<o.bottom&&n.push(e[i]);var r,o;return n}function it(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||K(t,e)}function rt(e){t.each(Ft,function(t,n){null==e[t]&&(e[t]=n(e))})}function ot(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function st(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var at=t.fullCalendar={version:"2.3.1"},lt=at.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,o){var s,a=t(o),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(s=l[e].apply(l,n),r||(i=s),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new at.CalendarBase(a,e),a.data("fullCalendar",l),l.render())}),i};var ct=["header","buttonText","buttonIcons","themeButtonIcons"];at.intersectionToSeg=y,at.applyAll=E,at.debounce=I,at.isInt=O,at.htmlEscape=D,at.cssToStr=A,at.proxy=N,at.getClientRect=p,at.getContentRect=function(t){var e=t.offset(),n=e.left+m(t,"border-left-width")+m(t,"padding-left"),i=e.top+m(t,"border-top-width")+m(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}},at.getScrollbarWidths=g;var ut=null;at.computeIntervalUnit=x,at.durationHasTime=C;var ht,dt,ft,pt=["sun","mon","tue","wed","thu","fri","sat"],gt=["year","month","week","day","hour","minute","second","millisecond"],mt={}.hasOwnProperty,vt=/^\s*\d{4}-\d\d$/,yt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,bt=e.fn,wt=t.extend({},bt);at.moment=function(){return L(arguments)},at.moment.utc=function(){var t=L(arguments,!0);return t.hasTime()&&t.utc(),t},at.moment.parseZone=function(){return L(arguments,!0,!0)},bt.clone=function(){var t=wt.clone.apply(this,arguments);return R(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},bt.week=bt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?wt.isoWeek.apply(this,arguments):wt.week.apply(this,arguments)},bt.time=function(t){if(!this._fullCalendar)return wt.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},bt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),dt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},bt.hasTime=function(){return!this._ambigTime},bt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),dt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},bt.hasZone=function(){return!this._ambigZone},bt.local=function(){var t=this.toArray(),e=this._ambigZone;return wt.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&ft(this,t),this},bt.utc=function(){return wt.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){wt[e]&&(bt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),wt[e].apply(this,arguments)})}),bt.format=function(){return this._fullCalendar&&arguments[0]?(t=this,e=arguments[0],B(t,q(e))):this._ambigTime?z(this,"YYYY-MM-DD"):this._ambigZone?z(this,"YYYY-MM-DD[T]HH:mm:ss"):wt.format.apply(this,arguments);var t,e},bt.toISOString=function(){return this._ambigTime?z(this,"YYYY-MM-DD"):this._ambigZone?z(this,"YYYY-MM-DD[T]HH:mm:ss"):wt.toISOString.apply(this,arguments)},bt.isWithin=function(t,e){var n=H([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},bt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=H([this,t],!0),wt.isSame.call(n[0],n[1],e)):(t=at.moment.parseZone(t),wt.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):wt.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){bt[e]=function(t,n){var i;return this._fullCalendar?(i=H([this,t]),wt[e].call(i[0],i[1],n)):wt[e].apply(this,arguments)}}),ht="_d"in e()&&"updateOffset"in e,dt=ht?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:F,ft=ht?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:F;var xt={t:function(t){return z(t,"a").charAt(0)},T:function(t){return z(t,"A").charAt(0)}};at.formatRange=W;var Ct={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},kt={};at.Class=Y,Y.extend=function(t){var e,n=this;return $(t=t||{},"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=_(n.prototype),S(t,e.prototype),function(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;r.length>n;n++)t[i=r[n]]!==Object.prototype[i]&&(e[i]=t[i])}(t,e.prototype),S(n,e),e},Y.mixin=function(t){S(t.prototype||t,this.prototype)};var _t=Y.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=N(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,r,o,s=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),u=t(window),h=d(this.el);r=s.top||0,o=void 0!==s.left?s.left:void 0!==s.right?s.right-l:0,h.is(window)||h.is(document)?(h=u,e=0,n=0):(e=(i=h.offset()).top,n=i.left),e+=u.scrollTop(),n+=u.scrollLeft(),!1!==s.viewportConstrain&&(r=Math.min(r,e+h.outerHeight()-c-this.margin),r=Math.max(r,e+this.margin),o=Math.min(o,n+h.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-a.top,left:o-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),St=Y.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(t){this.grid=t},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(e,n){var i,r,o,s=this.rowCoords,a=s.length,l=this.colCoords,c=l.length,u=null,h=null;if(this.inBounds(e,n)){for(i=0;a>i;i++)if(n>=(r=s[i]).top&&r.bottom>n){u=i;break}for(i=0;c>i;i++)if(e>=(r=l[i]).left&&r.right>e){h=i;break}if(null!==u&&null!==h)return(o=this.grid.getCell(u,h)).grid=this.grid,t.extend(o,s[u],l[h]),o}return null},computeBounds:function(){this.bounds=this.containerEl?p(this.containerEl):null},inBounds:function(t,e){var n=this.bounds;return!n||t>=n.left&&n.right>t&&e>=n.top&&n.bottom>e}}),$t=Y.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,r=null;for(n=0;i.length>n&&!r;n++)r=i[n].getCell(t,e);return r},clear:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].clear()}}),Et=at.DragListener=Y.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){v(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n;this.isListening||(e&&this.options.scroll&&((n=d(t(e.target))).is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=I(N(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=N(this,"mousemove")).on("mouseup",this.mouseupProxy=N(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n=t.pageX-this.originX,i=t.pageY-this.originY;this.isDragging||n*n+i*i>=(e=this.options.distance||1)*e&&this.startDrag(t),this.isDragging&&this.drag(n,i,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?f(t):null},updateScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(o-(t.pageY-s.top))/o,n=(o-(s.bottom-t.pageY))/o,i=(o-(t.pageX-s.left))/o,r=(o-(s.right-t.pageX))/o,e>=0&&1>=e?a=-1*e*this.scrollSpeed:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=-1*i*this.scrollSpeed:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(N(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;0>this.scrollTopVel?0>=t.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=t.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),Tt=Et.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(t,e){Et.prototype.constructor.call(this,e),this.coordMap=t},listenStart:function(t){var e,n,i,r,o,s,a,l,c,u,h,d=this.subjectEl;Et.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(i=n={left:t.pageX,top:t.pageY},d&&(e=f(d),u=i,h=e,i={left:Math.min(Math.max(u.left,h.left),h.right),top:Math.min(Math.max(u.top,h.top),h.bottom)}),this.origCell=this.getCell(i.left,i.top),d&&this.options.subjectCenter&&(this.origCell&&(a=this.origCell,l=e,e=(c={left:Math.max(a.left,l.left),right:Math.min(a.right,l.right),top:Math.max(a.top,l.top),bottom:Math.min(a.bottom,l.bottom)}).left<c.right&&c.top<c.bottom&&c||e),i={left:((s=e).left+s.right)/2,top:(s.top+s.bottom)/2}),this.coordAdjust=(o=n,{left:(r=i).left-o.left,top:r.top-o.top})):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(t){var e;Et.prototype.dragStart.apply(this,arguments),(e=this.getCell(t.pageX,t.pageY))&&this.cellOver(e)},drag:function(t,e,n){var i;Et.prototype.drag.apply(this,arguments),U(i=this.getCell(n.pageX,n.pageY),this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),Et.prototype.dragStop.apply(this,arguments)},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,U(t,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){Et.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){Et.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.coordMap.getCell(t,e)}}),Dt=Y.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=N(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,r.destroyEl(),this.top0=this.left0=null,n&&n()}var r=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Mt=Y.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i=this.getHtmlRenderer("cell",t),r="";for(e=e||0,n=0;this.colCnt>n;n++)r+=i(this.getCell(e,n));return"<tr>"+(r=this.bookendCells(r,t,e))+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),r=this.getHtmlRenderer("outro",e)(n||0),o=this.isRTL?r:i,s=this.isRTL?i:r;return"string"==typeof t?o+t+s:t.prepend(o).append(s)},getHtmlRenderer:function(t,e){var n,i,r,o,s,a=this.view;return n=t+"Html",e&&(i=e+((s=t).charAt(0).toUpperCase()+s.slice(1))+"Html"),i&&(o=a[i])?r=a:i&&(o=this[i])?r=this:(o=a[n])?r=a:(o=this[n])&&(r=this),"function"==typeof o?function(){return o.apply(r,arguments)||""}:function(){return o||""}}}),At=at.Grid=Mt.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){Mt.apply(this,arguments),this.coordMap=new St(this),this.elsByFill={},this.externalDragStartProxy=N(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){var e,n,i=this.view;this.start=t.start.clone(),this.end=t.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=i.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),null==(e=i.opt("displayEventTime"))&&(e=this.computeDisplayEventTime()),null==(n=i.opt("displayEventEnd"))&&(n=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=n},updateCells:function(){},rangeToSegs:function(){},diffDates:function(t,e){return this.largeUnit?w(t,e,this.largeUnit):b(t,e)},getCell:function(e,n){var i;return null==n&&("number"==typeof e?(n=e%this.colCnt,e=Math.floor(e/this.colCnt)):(n=e.col,e=e.row)),i={row:e,col:n},t.extend(i,this.getRowData(e),this.getColData(n)),t.extend(i,this.computeCellRange(i)),i},computeCellRange:function(t){var e=this.computeCellDate(t);return{start:e,end:e.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(t){return this.rowData[t]||{}},getColData:function(t){return this.colData[t]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;this.rowCnt>t;t++)n=(e=this.getRowEl(t)).offset().top,i.push({top:n,bottom:n+e.outerHeight()});return i},computeColCoords:function(){var t,e,n,i=[];for(t=0;this.colCnt>t;t++)n=(e=this.getColEl(t)).offset().left,i.push({left:n,right:n+e.outerWidth()});return i},setElement:function(e){var n=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||n.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,n,i=this,r=this.view,a=r.opt("selectable");new Tt(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(t,r,s){s&&(e=r?t:null,a&&((n=i.computeSelection(s,t))?i.renderSelection(n):o()))},cellOut:function(){e=null,n=null,i.destroySelection(),s()},listenStop:function(t){e&&r.trigger("dayClick",i.getCellDayEl(e),e.start,t),n&&r.reportSelection(n,t),s()}}).mousedown(t)},renderRangeHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?_(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(P),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(t){this.renderFill("highlight",this.rangeToSegs(t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,o=this[e+"SegEl"],s="",a=[];if(n.length){for(i=0;n.length>i;i++)s+=this.fillSegHtml(e,n[i]);t(s).each(function(e,i){var s=n[e],l=t(i);o&&(l=o.call(r,s,l)),l&&((l=t(l)).is(r.fillSegTag)&&(s.el=l,a.push(s)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],o=A(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+pt[n.day()]+'">'+D(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+pt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}});At.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n,i,r,o=this.eventsToSegs(t),s=[],a=[];for(e=0;o.length>e;e++)n=o[e],i=n.event,void 0,"background"===(r=G(i))||"inverse-background"===r?s.push(n):a.push(n);s=this.renderBgSegs(s)||s,a=this.renderFgSegs(a)||a,this.segs=s.concat(a)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,o="",s=[];if(e.length){for(i=0;e.length>i;i++)o+=this.fgSegHtml(e[i],n);t(o).each(function(n,i){var o=e[n],a=r.resolveEventEl(o.event,t(i));a&&(a.data("fc-seg",o),o.el=a,s.push(o))})}return s},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){var e=this.view,n=t.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||e.opt("eventBackgroundColor")||e.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,r){t(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,r,t(r.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&e.segDragMousedown(i,r)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var r=t(this).data("fc-seg");return!r||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i=this,r=this.view,a=r.calendar,l=t.el,c=t.event,u=new Dt(t.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2});new Tt(r.coordMap,{distance:5,scroll:r.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){u.hide(),u.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),r.hideEvent(c)},cellOver:function(e,s,l){t.cell&&(l=t.cell),(n=i.computeEventDrop(l,e,c))&&!a.isEventRangeAllowed(n,c)&&(o(),n=null),n&&r.renderDrag(n,t)?u.hide():u.show(),s&&(n=null)},cellOut:function(){r.destroyDrag(),u.show(),n=null},cellDone:function(){s()},dragStop:function(e){u.stop(!n,function(){r.destroyDrag(),r.showEvent(c),i.segDragStop(t,e),n&&r.reportEventDrop(c,n,this.largeUnit,l,e)})},listenStop:function(){u.stop()}}).mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,o=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),n.allDay&&C(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventRangeTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,r,o=this.view;o.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=o.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(n,i,r){var a,l,c,u,h,d,f,p=this,g=(l=n,(f=at.dataAttrPrefix)&&(f+="-"),(c=l.data(f+"event")||null)&&(null==(u=(c="object"==typeof c?t.extend({},c):{}).start)&&(u=c.time),h=c.duration,d=c.stick,delete c.start,delete c.time,delete c.duration,delete c.stick),null==u&&(u=l.data(f+"start")),null==u&&(u=l.data(f+"time")),null==h&&(h=l.data(f+"duration")),null==d&&(d=l.data(f+"stick")),{eventProps:c,startTime:u=null!=u?e.duration(u):null,duration:h=null!=h?e.duration(h):null,stick:d=Boolean(d)});new Tt(this.coordMap,{listenStart:function(){p.isDraggingExternal=!0},cellOver:function(t){(a=p.computeExternalDrop(t,g))?p.renderDrag(a):o()},cellOut:function(){a=null,p.destroyDrag(),s()},dragStop:function(){p.destroyDrag(),s(),a&&p.view.reportExternalDrop(g,a,n,i,r)},listenStop:function(){p.isDraggingExternal=!1}}).startDrag(i)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(t,e,n){var i,r=this,a=this.view,l=a.calendar,c=t.el,u=t.event,h=l.getEventEnd(u);new Tt(this.coordMap,{distance:5,scroll:a.opt("dragScroll"),subjectEl:c,dragStart:function(e){r.triggerSegMouseout(t,e),r.segResizeStart(t,e)},cellOver:function(e,s,c){(i=n?r.computeEventStartResize(c,e,u):r.computeEventEndResize(c,e,u))&&(l.isEventRangeAllowed(i,u)?i.start.isSame(u.start)&&i.end.isSame(h)&&(i=null):(o(),i=null)),i&&(a.hideEvent(u),r.renderEventResize(i,t))},cellOut:function(){i=null},cellDone:function(){r.destroyEventResize(),a.showEvent(u),s()},dragStop:function(e){r.segResizeStop(t,e),i&&a.reportEventResize(u,i,this.largeUnit,c,e)}}).mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,o,s=this.view.calendar,a=this.diffDates(n[t],e[t]);return(r={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay}).allDay&&C(a)&&(r.allDay=!1,s.normalizeEventRangeTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(o=i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration,this.cellDuration&&o>this.cellDuration&&(o=this.cellDuration),"start"==t?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,r=n.color,o=e.opt("eventColor");return{"background-color":t.backgroundColor||i||n.backgroundColor||r||e.opt("eventBackgroundColor")||o,"border-color":t.borderColor||i||n.borderColor||r||e.opt("eventBorderColor")||o,color:t.textColor||n.textColor||e.opt("eventTextColor")}},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),r=[];for(n=0;i.length>n;n++)r.push.apply(r,this.eventRangeToSegs(i[n],e));return r},eventsToRanges:function(e){var n=this,i=function(t){var e,n,i={};for(e=0;t.length>e;e++)(i[(n=t[e])._id]||(i[n._id]=[])).push(n);return i}(e),r=[];return t.each(i,function(t,e){e.length&&r.push.apply(r,"inverse-background"===G(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),r},eventsToNormalRanges:function(t){var e,n,i,r,o=this.view.calendar,s=[];for(e=0;t.length>e;e++)i=(n=t[e]).start.clone().stripZone(),r=o.getEventEnd(n).stripZone(),s.push({event:n,start:i,end:r,eventStartMS:+i,eventDurationMS:r-i});return s},eventsToInverseRanges:function(t){var e,n,i=this.view,r=i.start.clone().stripZone(),o=i.end.clone().stripZone(),s=this.eventsToNormalRanges(t),a=[],l=t[0],c=r;for(s.sort(X),e=0;s.length>e;e++)(n=s[e]).start>c&&a.push({event:l,start:c,end:n.start}),c=n.end;return o>c&&a.push({event:l,start:c,end:o}),a},eventRangeToSegs:function(t,e){var n,i,r;for(n=e?e(t):this.rangeToSegs(t),i=0;n.length>i;i++)(r=n[i]).event=t.event,r.eventStartMS=t.eventStartMS,r.eventDurationMS=t.eventDurationMS;return n}}),at.compareSegs=K,at.dataAttrPrefix="";var Pt=At.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){At.apply(this,arguments),this.cellDuration=e.duration(1,"day")},renderDates:function(t){var e,n,i,r=this.view,o=this.rowCnt,s=o*this.colCnt,a="";for(e=0;o>e;e++)a+=this.dayRowHtml(e,t);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;s>n;n++)i=this.getCell(n),r.trigger("dayRender",null,i.start,this.dayEls.eq(n))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},dayRowHtml:function(t,e){var n=["fc-row","fc-week",this.view.widgetContentClass];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;t.length>i&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,r=[];e.isBefore(this.end);)t.isHiddenDay(e)?r.push(i+.5):(i++,r.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=r},computeCellDate:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col);return this.cellDates[n].clone()},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=At.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,r,o,s,a,l,c,u,h=this.isRTL,d=this.rowCnt,f=this.colCnt,p=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;d>i;i++)o=(r=i*f)+f-1,l=Math.max(r,e),c=Math.min(o,n),l=Math.ceil(l),(c=Math.floor(c))>=l&&(s=l===e,a=c===n,l-=r,c-=r,u={row:i,isStart:s,isEnd:a},h?(u.leftCol=f-c-1,u.rightCol=f-l-1):(u.leftCol=l,u.rightCol=c),p.push(u));return p},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t)),e&&!e.el.closest(this.el).length?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(t,e){this.renderHighlight(t),this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i,r=[],o=this.eventsToSegs([e]);o=this.renderFgSegEls(o),i=this.renderSegRows(o),this.rowEls.each(function(e,o){var s,a=t(o),l=t('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",s).find("table").append(i[e].tbodyEl),a.append(l),r.push(l[0])}),this.helperEls=t(r)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,o,s,a=[];for(n=this.renderFillSegEls(e,n),r=0;n.length>r;r++)o=n[r],s=this.renderFillRow(e,o,i),this.rowEls.eq(o.row).append(s),a.push(s[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,i){var r,o,s=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),o=(r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),a>0&&o.append('<td colspan="'+a+'"/>'),o.append(n.el.attr("colspan",l-a)),s>l&&o.append('<td colspan="'+(s-l)+'"/>'),this.bookendCells(o,e),r}});Pt.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),At.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return At.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return At.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},destroyFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;e.length>n;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,o=t.event,s=r.isEventDraggable(o),a=!e&&o.allDay&&t.isStart&&r.isEventResizableFromStart(o),l=!e&&o.allDay&&t.isEnd&&r.isEventResizableFromEnd(o),c=this.getSegClasses(t,s,a||l),u=A(this.getEventSkinCss(o)),h="";return c.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&((n=this.getEventTimeText(o))&&(h='<span class="fc-time">'+D(n)+"</span>")),i='<span class="fc-title">'+(D(o.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(o.url?' href="'+D(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+h:h+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>s;)(u=(v[r-1]||[])[s])?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=t("<td/>"),a.append(u)),m[r][s]=u,v[r][s]=u,s++}var r,o,s,a,l,c,u,h=this.colCnt,d=this.buildSegLevels(n),f=Math.max(1,d.length),p=t("<tbody/>"),g=[],m=[],v=[];for(r=0;f>r;r++){if(o=d[r],s=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),o)for(l=0;o.length>l;l++){for(i((c=o[l]).leftCol),u=t('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?u.attr("colspan",c.rightCol-c.leftCol+1):v[r][s]=u;c.rightCol>=s;)m[r][s]=u,g[r][s]=c,s++;a.append(u)}i(h),this.bookendCells(a,"eventSkeleton"),p.append(a)}return{row:e,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:d,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(t.sort(K),e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&Z(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;r.length>i;i++)r[i].sort(Q);return r},groupSegRows:function(t){var e,n=[];for(e=0;this.rowCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].row].push(t[e]);return n}}),Pt.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){o=Math.max(o,t(n).outerHeight())}var i,r,o,s=this.rowEls.eq(e).height(),a=this.rowStructs[e].tbodyEl.children();for(i=0;a.length>i;i++)if(r=a.eq(i).removeClass("fc-limited"),o=0,r.find("> td > :first-child").each(n),r.position().top+o>s)return i;return!1},limitRow:function(e,n){function i(i){for(;i>k;)r=w.getCell(e,k),(u=w.getCellSegs(r,n)).length&&(f=s[n-1][k],b=w.renderMoreLink(r,u),y=t("<div/>").append(b),f.append(y),C.push(y[0])),k++}var r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w=this,x=this.rowStructs[e],C=[],k=0;if(n&&x.segLevels.length>n){for(o=x.segLevels[n-1],s=x.cellMatrix,a=x.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;o.length>l;l++){for(i((c=o[l]).leftCol),d=[],h=0;c.rightCol>=k;)r=this.getCell(e,k),u=this.getCellSegs(r,n),d.push(u),h+=u.length,k++;if(h){for(p=(f=s[n-1][c.leftCol]).attr("rowspan")||1,g=[],m=0;d.length>m;m++)v=t('<td class="fc-more-cell"/>').attr("rowspan",p),u=d[m],r=this.getCell(e,c.leftCol+m),b=this.renderMoreLink(r,[c].concat(u)),y=t("<div/>").append(b),v.append(y),g.push(v[0]),C.push(v[0]);f.addClass("fc-limited").after(t(g)),a.push(f[0])}}i(this.colCnt),x.moreEls=t(C),x.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(o){var s=r.opt("eventLimitClick"),a=e.start,l=t(this),c=i.getCellDayEl(e),u=i.getCellSegs(e),h=i.resliceDaySegs(u,a),d=i.resliceDaySegs(n,a);"function"==typeof s&&(s=r.trigger("eventLimitClick",null,{date:a,dayEl:c,moreEl:l,segs:h,hiddenSegs:d},o)),"popover"===s?i.showSegPopover(e,l,h):"string"==typeof s&&r.calendar.zoomTo(a,s)})},showSegPopover:function(t,e,n){var i,r,o=this,s=this.view,a=e.parent();i=1==this.rowCnt?s.el:this.rowEls.eq(t.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){o.segPopover.destroy(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=a.offset().left+a.outerWidth()+1:r.left=a.offset().left-1,this.segPopover=new _t(r),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,r=this.view,o=r.opt("theme"),s=e.start.format(r.opt("dayPopoverFormat")),a=t('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+D(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=a.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;n.length>i;i++)n[i].cell=e,l.append(n[i].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone().stripTime(),o={start:r,end:r.clone().add(1,"days")};return(e=this.eventsToSegs(i,function(t){var e=y(t,o);return e?[e]:[]})).sort(K),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,r=e||0,o=[];i.length>r;)(n=i[r][t.col])&&o.push(n),r++;return o}});var Ot=At.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){At.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,n,i,r=this.view,o=this.isRTL,s="",a=0==this.slotDuration.asMinutes()%15,l=e.duration(+this.minTime);this.maxTime>l;)n=(t=this.start.clone().time(l)).minutes(),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(a&&n?"":"<span>"+D(t.format(this.axisFormat))+"</span>")+"</td>",s+="<tr "+(n?'class="fc-minor"':"")+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",l.add(this.slotDuration);return s},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime")),this.axisFormat=t.opt("axisFormat")||t.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push({day:t.clone()}),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(t){var e=this.computeSnapTime(t.row);return this.view.calendar.rezoneDate(t.day).time(e)},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,r=this.colCnt,o=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;r>n;n++)(e=y(t,{start:(i=this.colData[n].day).clone().time(this.minTime),end:i.clone().time(this.maxTime)}))&&(e.col=n,o.push(e));return o},updateSize:function(t){this.computeSlatTops(),t&&this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;this.rowCnt>t;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},t>0&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),n=(r=Math.min(this.slatEls.length,r))-(e=Math.floor(r)),i=this.slatTops[e],n?i+(this.slatTops[e+1]-i)*n:i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,r){e=t(r).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e){return e?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,r,o,s,a=this.eventsToSegs([e]);for(a=this.renderFgSegEls(a),i=this.renderSegTable(a),r=0;a.length>r;r++)o=a[r],n&&n.col===o.col&&(s=n.el,o.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(t)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(e,n,i){var r,o,s,a,l,c,u,h,d,f;if(n.length){for(n=this.renderFillSegEls(e,n),r=this.groupSegCols(n),i=i||e.toLowerCase(),s=(o=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),a=0;r.length>a;a++)if(l=r[a],c=t("<td/>").appendTo(s),l.length)for(u=t('<div class="fc-'+i+'-container"/>').appendTo(c),h=this.colData[a].day,d=0;l.length>d;d++)f=l[d],u.append(f.el.css({top:this.computeDateTop(f.start,h),bottom:-this.computeDateTop(f.end,h)}));this.bookendCells(s,e),this.el.append(o),this.elsByFill[e]=o}return n}});Ot.mixin({eventSkeletonEl:null,renderFgSegs:function(e){return e=this.renderFgSegEls(e),this.el.append(this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))),e},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(e){var n,i,r,o,s,a,l=t("<table><tr/></table>"),c=l.find("tr");for(n=this.groupSegCols(e),this.computeSegVerticals(e),o=0;n.length>o;o++){for(J(s=n[o]),a=t('<div class="fc-event-container"/>'),i=0;s.length>i;i++)(r=s[i]).el.css(this.generateSegPositionCss(r)),30>r.bottom-r.top&&r.el.addClass("fc-short"),a.append(r.el);c.append(t("<td/>").append(a))}return this.bookendCells(c,"eventSkeleton"),l},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)(n=t[e]).top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,r,o=this.view,s=t.event,a=o.isEventDraggable(s),l=!e&&t.isStart&&o.isEventResizableFromStart(s),c=!e&&t.isEnd&&o.isEventResizableFromEnd(s),u=this.getSegClasses(t,a,l||c),h=A(this.getEventSkinCss(s));return u.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+u.join(" ")+'"'+(s.url?' href="'+D(s.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+D(r)+'" data-full="'+D(i)+'"><span>'+D(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+D(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(e=1-o,n=r):(e=r,n=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;this.colCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].col].push(t[e]);return n}});var Nt=at.View=Y.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=N(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=x(this.intervalDuration),r=t.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.rezoneDate(r)),o.hasTime()||(o=this.calendar.rezoneDate(o))),e=r.clone(),e=this.skipHiddenDays(e),n=o.clone(),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:e,end:n=this.skipHiddenDays(n,-1,!0)}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e)).startOf("day"),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),W(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var e=null;this.isDisplayed&&(e=this.queryScroll()),this.clear(),this.setDate(t),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,e=this.computeInitialScroll(e),this.forceScroll(e),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(),this.updateWidth(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return(e=this.el.add(i)).css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return!1===i?n=null:i&&!0!==i&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return T(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventDrop(t,s.dateDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,o){var s,a,l=e.eventProps;l&&(s=t.extend({},l,n),a=this.calendar.renderEvent(s,e.stick)[0]),this.triggerExternalDrop(a,n,i,r,o)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return T(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventResize(t,s.durationDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&v(e)&&((n=this.opt("unselectCancel"))&&t(e.target).closest(n).length||this.unselect(e))},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(!1===this.opt("weekends")&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),(e=+i.time())&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),It=at.Calendar=at.CalendarBase=Y.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:function(n,i){function r(){return n.is(":visible")}function o(e){R++,$&&e&&$.type!==e&&(x.deactivateButton($.type),d(),$.removeElement(),$=p.view=null),!$&&e&&(($=p.view=H[e]||(H[e]=p.instantiateView(e))).setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(S)),x.activateButton(e)),$&&(P=$.massageCurrentDate(P),$.isDisplayed&&P.isWithin($.intervalStart,$.intervalEnd)||r()&&(d(),$.display(P),f(),x.updateTitle($.title),p.getNow().isWithin($.intervalStart,$.intervalEnd)?x.disableButton("today"):x.enableButton("today"),!g.lazyFetching||O($.start,$.end)?h():u())),f(),R--}function s(t){return r()?(t&&l(),R++,$.updateSize(!0),R--,!0):void 0}function a(){r()&&l()}function l(){M="number"==typeof g.contentHeight?g.contentHeight:"number"==typeof g.height?g.height-(C?C.outerHeight(!0):0):Math.round(S.width()/Math.max(g.aspectRatio,.5))}function c(t){!R&&t.target===window&&$.start&&s(!0)&&$.trigger("windowResize",L)}function u(){r()&&(d(),$.displayEvents(F),f())}function h(){N($.start,$.end)}function d(){S.css({width:"100%",height:S.height(),overflow:"hidden"})}function f(){S.css({width:"",height:"",overflow:""})}var p=this;p.initOptions(i||{});var g=this.options;p.render=function(){S?r()&&(a(),o()):(g.theme,n.addClass("fc"),g.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),g.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),S=t("<div class='fc-view-container'/>").prependTo(n),x=p.header=new function(e,n){function i(i){var o=t('<div class="fc-'+i+'"/>'),a=n.header[i];return a&&t.each(a.split(" "),function(){var i,a=t(),l=!0;t.each(this.split(","),function(i,o){var c,u,h,d,f,p,g,m;"title"==o?(a=a.add(t("<h2>&nbsp;</h2>")),l=!1):((c=e.getViewSpec(o))?(u=function(){e.changeView(o)},s.push(o),h=c.buttonTextOverride,d=c.buttonTextDefault):e[o]&&(u=function(){e[o]()},h=(e.overrides.buttonText||{})[o],d=n.buttonText[o]),u&&(f=n.themeButtonIcons[o],p=n.buttonIcons[o],g=h?D(h):f&&n.theme?"<span class='ui-icon ui-icon-"+f+"'></span>":p&&!n.theme?"<span class='fc-icon fc-icon-"+p+"'></span>":D(d),m=t('<button type="button" class="'+["fc-"+o+"-button",r+"-button",r+"-state-default"].join(" ")+'">'+g+"</button>").click(function(){m.hasClass(r+"-state-disabled")||(u(),(m.hasClass(r+"-state-active")||m.hasClass(r+"-state-disabled"))&&m.removeClass(r+"-state-hover"))}).mousedown(function(){m.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){m.removeClass(r+"-state-down")}).hover(function(){m.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},function(){m.removeClass(r+"-state-hover").removeClass(r+"-state-down")}),a=a.add(m)))}),l&&a.first().addClass(r+"-corner-left").end().last().addClass(r+"-corner-right").end(),a.length>1?(i=t("<div/>"),l&&i.addClass("fc-button-group"),i.append(a),o.append(i)):o.append(a)}),o}this.render=function(){var e=n.header;return r=n.theme?"ui":"fc",e?o=t("<div class='fc-toolbar'/>").append(i("left")).append(i("right")).append(i("center")).append('<div class="fc-clear"/>'):void 0},this.destroy=function(){o.remove()},this.updateTitle=function(t){o.find("h2").text(t)},this.activateButton=function(t){o.find(".fc-"+t+"-button").addClass(r+"-state-active")},this.deactivateButton=function(t){o.find(".fc-"+t+"-button").removeClass(r+"-state-active")},this.disableButton=function(t){o.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(r+"-state-disabled")},this.enableButton=function(t){o.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(r+"-state-disabled")},this.getViewsWithButtons=function(){return s};var r,o=t(),s=[]}(p,g),(C=x.render())&&n.prepend(C),o(g.defaultView),g.handleWindowResize&&(A=I(c,g.windowResizeDelay),t(window).resize(A)))},p.destroy=function(){$&&$.removeElement(),x.destroy(),S.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),A&&t(window).unbind("resize",A)},p.refetchEvents=function(){d(),$.clearEvents(),f(),h()},p.reportEvents=function(t){F=t,u()},p.reportEventChange=function(){u()},p.rerenderEvents=u,p.changeView=o,p.select=function(t,e){t=p.moment(t),e=e?p.moment(e):t.hasTime()?t.clone().add(p.defaultTimedEventDuration):t.clone().add(p.defaultAllDayEventDuration),$.select({start:t,end:e})},p.unselect=function(){$&&$.unselect()},p.prev=function(){P=$.computePrevDate(P),o()},p.next=function(){P=$.computeNextDate(P),o()},p.prevYear=function(){P.add(-1,"years"),o()},p.nextYear=function(){P.add(1,"years"),o()},p.today=function(){P=p.getNow(),o()},p.gotoDate=function(t){P=p.moment(t),o()},p.incrementDate=function(t){P.add(e.duration(t)),o()},p.zoomTo=function(t,e){var n;e=e||"day",n=p.getViewSpec(e)||p.getUnitViewSpec(e),P=t,o(n?n.type:null)},p.getDate=function(){return P.clone()},p.getCalendar=function(){return p},p.getView=function(){return $},p.option=function(t,e){return void 0===e?g[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(g[t]=e,s(!0)))},p.trigger=function(t,e){return g[t]?g[t].apply(e||L,Array.prototype.slice.call(arguments,2)):void 0};var m,v=_(ot(g.lang));if(g.monthNames&&(v._months=g.monthNames),g.monthNamesShort&&(v._monthsShort=g.monthNamesShort),g.dayNames&&(v._weekdays=g.dayNames),g.dayNamesShort&&(v._weekdaysShort=g.dayNamesShort),null!=g.firstDay){var y=_(v._week);y.dow=g.firstDay,v._week=y}v._fullCalendar_weekCalc="function"==typeof(m=g.weekNumberCalculation)?m:"local"===m?m:"iso"===m||"ISO"===m?"ISO":void 0,p.defaultAllDayEventDuration=e.duration(g.defaultAllDayEventDuration),p.defaultTimedEventDuration=e.duration(g.defaultTimedEventDuration),p.moment=function(){var t;return"local"===g.timezone?(t=at.moment.apply(null,arguments)).hasTime()&&t.local():t="UTC"===g.timezone?at.moment.utc.apply(null,arguments):at.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=v:t._lang=v,t},p.getIsAmbigTimezone=function(){return"local"!==g.timezone&&"UTC"!==g.timezone},p.rezoneDate=function(t){return p.moment(t.toArray())},p.getNow=function(){var t=g.now;return"function"==typeof t&&(t=t()),p.moment(t)},p.getEventEnd=function(t){return t.end?t.end.clone():p.getDefaultEventEnd(t.allDay,t.start)},p.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(p.defaultAllDayEventDuration):n.add(p.defaultTimedEventDuration),p.getIsAmbigTimezone()&&n.stripZone(),n},p.humanizeDuration=function(t){return(t.locale||t.lang).call(t,g.lang).humanize()},function(n){function i(e,i){!function e(i,r){var o,s,a=at.sourceFetchers;for(o=0;a.length>o;o++){if(!0===(s=a[o].call($,i,D.clone(),M.clone(),n.timezone,r)))return;if("object"==typeof s)return void e(s,r)}var l=i.events;if(l)t.isFunction(l)?(u(),l.call($,D.clone(),M.clone(),n.timezone,function(t){r(t),h()})):t.isArray(l)?r(l):r();else{var c=i.url;if(c){var d,f=i.success,p=i.error,g=i.complete;d=t.isFunction(i.data)?i.data():i.data;var m=t.extend({},d||{}),v=T(i.startParam,n.startParam),y=T(i.endParam,n.endParam),b=T(i.timezoneParam,n.timezoneParam);v&&(m[v]=D.format()),y&&(m[y]=M.format()),n.timezone&&"local"!=n.timezone&&(m[b]=n.timezone),u(),t.ajax(t.extend({},zt,i,{data:m,success:function(e){e=e||[];var n=E(f,this,arguments);t.isArray(n)&&(e=n),r(e)},error:function(){E(p,this,arguments),r()},complete:function(){E(g,this,arguments),h()}}))}else r()}}(e,function(n){var r,o,s,a=t.isArray(e.events);if(i==L){if(n)for(r=0;n.length>r;r++)o=n[r],(s=a?o:d(o,e))&&F.push.apply(F,v(s));--H||O(F)}})}function r(e){var n,i,r=at.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return d(t,n)})),i=0;r.length>i;i++)r[i].call($,n);return n}}function o(t,e){return t&&e&&s(t)==s(e)}function s(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function a(e){var n={};return t.each(e,function(e,i){var r;l(e)&&void 0!==i&&(r=i,/undefined|null|boolean|number|string/.test(t.type(r)))&&(n[e]=i)}),n}function l(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function c(e){return t.isFunction(e)?t.grep(F,e):null!=e?(e+="",t.grep(F,function(t){return t._id==e})):F}function u(){R++||A("loading",null,!0,P())}function h(){--R||A("loading",null,!1,P())}function d(i,r){var o,s,a,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(l,i),r&&(l.source=r),l._id=i._id||(void 0===i.id?"_fc"+Bt++:i.id+""),l.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],o=i.start||i.date,s=i.end,k(o)&&(o=e.duration(o)),k(s)&&(s=e.duration(s)),i.dow||e.isDuration(o)||e.isDuration(s))l.start=o?e.duration(o):null,l.end=s?e.duration(s):null,l._recurring=!0;else{if(o&&!(o=$.moment(o)).isValid())return!1;s&&((s=$.moment(s)).isValid()||(s=null)),void 0===(a=i.allDay)&&(a=T(r?r.allDayDefault:void 0,n.allDayDefault)),f(o,s,a,l)}return l}function f(t,e,n,i){i.start=t,i.end=e,i.allDay=n,p(i),st(i)}function p(t){g(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(t.end=n.forceEventDuration?$.getDefaultEventEnd(t.allDay,t.start):null)}function g(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=$.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=$.rezoneDate(t.end)))}function m(e){var n;return e.end||(null==(n=e.allDay)&&(n=!e.start.hasTime()),(e=t.extend({},e)).end=$.getDefaultEventEnd(n,e.start)),e}function v(e,n,i){var r,o,s,a,l,c,u,h,d,p=[];if(n=n||D,i=i||M,e)if(e._recurring){if(o=e.dow)for(r={},s=0;o.length>s;s++)r[o[s]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)(!r||r[a.day()])&&(l=e.start,c=e.end,u=a.clone(),h=null,l&&(u=u.time(l)),c&&(h=a.clone().time(c)),d=t.extend({},e),f(u,h,!l&&!c,d),p.push(d)),a.add(1,"days")}else p.push(e);return p}function y(n,i,r){function o(t,n){return r?w(t,n,r):i.allDay?(o=t,s=n,e.duration({days:o.clone().stripTime().diff(s.clone().stripTime(),"days")})):b(t,n);var o,s}var s,a,u,h,d,f,g,m,v,y,x,C,k,_={};return(i=i||{}).start||(i.start=n.start.clone()),void 0===i.end&&(i.end=n.end?n.end.clone():null),null==i.allDay&&(i.allDay=n.allDay),p(i),p(s={start:n._start.clone(),end:n._end?n._end.clone():$.getDefaultEventEnd(n._allDay,n._start),allDay:i.allDay}),a=null!==n._end&&null===i.end,u=o(i.start,s.start),i.end?(h=o(i.end,s.end),d=h.subtract(u)):d=null,t.each(i,function(t,e){l(t)&&void 0!==e&&(_[t]=e)}),f=c(n._id),g=a,m=i.allDay,v=u,y=d,x=_,C=$.getIsAmbigTimezone(),k=[],v&&!v.valueOf()&&(v=null),y&&!y.valueOf()&&(y=null),t.each(f,function(e,n){var i,r;i={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},t.each(x,function(t){i[t]=n[t]}),p(r={start:n._start,end:n._end,allDay:m}),g?r.end=null:y&&!r.end&&(r.end=$.getDefaultEventEnd(r.allDay,r.start)),v&&(r.start.add(v),r.end&&r.end.add(v)),y&&r.end.add(y),C&&!r.allDay&&(v||y)&&(r.start.stripZone(),r.end&&r.end.stripZone()),t.extend(n,x,r),st(n),k.push(function(){t.extend(n,i),st(n)})}),{dateDelta:u,durationDelta:d,undo:function(){for(var t=0;k.length>t;t++)k[t]()}}}function x(e){var i,r=n.businessHours,o=$.getView();return r&&(i=t.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof r?r:{})),i?(e&&(i.start=null,i.end=null),v(d(i),o.start,o.end)):[]}function C(t,e){var i=e.source||{},r=T(e.constraint,i.constraint,n.eventConstraint),o=T(e.overlap,i.overlap,n.eventOverlap);return S(t=m(t),r,o,e)}function _(t){return S(t,n.selectConstraint,n.selectOverlap)}function S(e,n,i,r){var o,s,a,l,u,h,f,p,g,m,y,b,w,C;if((e=t.extend({},e)).start=e.start.clone().stripZone(),e.end=e.end.clone().stripZone(),null!=n){for(o="businessHours"===(y=n)?x():"object"==typeof y?v(d(y)):c(y),s=!1,l=0;o.length>l;l++)if(f=o[l],p=e,g=f.start.clone().stripZone(),m=$.getEventEnd(f).stripZone(),p.start>=g&&m>=p.end){s=!0;break}if(!s)return!1}for(a=$.getPeerEvents(r,e),l=0;a.length>l;l++)if(u=a[l],w=e,C=(b=u).start.clone().stripZone(),$.getEventEnd(b).stripZone()>w.start&&w.end>C){if(!1===i)return!1;if("function"==typeof i&&!i(u,r))return!1;if(r){if(!1===(h=T(u.overlap,(u.source||{}).overlap)))return!1;if("function"==typeof h&&!h(r,u))return!1}}return!0}var $=this;$.isFetchNeeded=function(t,e){return!D||t.clone().stripZone()<D.clone().stripZone()||e.clone().stripZone()>M.clone().stripZone()},$.fetchEvents=function(t,e){D=t,M=e,F=[];var n=++L,r=I.length;H=r;for(var o=0;r>o;o++)i(I[o],n)},$.addEventSource=function(t){var e=r(t);e&&(I.push(e),H++,i(e,L))},$.removeEventSource=function(e){I=t.grep(I,function(t){return!o(t,e)}),F=t.grep(F,function(t){return!o(t.source,e)}),O(F)},$.updateEvent=function(t){t.start=$.moment(t.start),t.end=t.end?$.moment(t.end):null,y(t,a(t)),O(F)},$.renderEvent=function(t,e){var n,i,r,o=d(t);if(o){for(n=v(o),i=0;n.length>i;i++)(r=n[i]).source||(e&&(N.events.push(r),r.source=N),F.push(r));return O(F),n}return[]},$.removeEvents=function(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),F=t.grep(F,e,!0),i=0;I.length>i;i++)t.isArray(I[i].events)&&(I[i].events=t.grep(I[i].events,e,!0));O(F)},$.clientEvents=c,$.mutateEvent=y,$.normalizeEventRange=p,$.normalizeEventRangeTimes=g,$.ensureVisibleEventRange=m;var D,M,A=$.trigger,P=$.getView,O=$.reportEvents,N={events:[]},I=[N],L=0,H=0,R=0,F=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=r(e);n&&I.push(n)}),$.getBusinessHoursEvents=x,$.isEventRangeAllowed=C,$.isSelectionRangeAllowed=_,$.isExternalDropRangeAllowed=function(e,n){var i,r;return n&&(i=t.extend({},n,e),r=v(d(i))[0]),r?C(e,r):_(e=m(e))},$.getEventCache=function(){return F}}.call(p,g);var x,C,S,$,M,A,P,O=p.isFetchNeeded,N=p.fetchEvents,L=n[0],H={},R=0,F=[];P=null!=g.defaultDate?p.moment(g.defaultDate):p.getNow(),p.getSuggestedViewHeight=function(){return void 0===M&&a(),M},p.isHeightAuto=function(){return"auto"===g.contentHeight||"auto"===g.height}},initOptions:function(e){var i,r,o,s,a,l;l={views:(s=e).views||{}},t.each(s,function(e,n){"views"!=e&&(t.isPlainObject(n)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,ct)?(a=null,t.each(n,function(t,n){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(l.views[t]||(l.views[t]={}),l.views[t][e]=n):(a||(a={}),a[t]=n)}),a&&(l[e]=a)):l[e]=n)}),i=(e=l).lang,(r=Lt[i])||(i=It.defaults.lang,r=Lt[i]||{}),o=T(e.isRTL,r.isRTL,It.defaults.isRTL)?It.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=r,this.overrides=e,this.options=n(It.defaults,o,r,e),rt(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(-1!=t.inArray(e,gt))for(n=this.header.getViewsWithButtons(),t.each(at.views,function(t){n.push(t)}),i=0;n.length>i;i++)if((r=this.getViewSpec(n[i]))&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,o,s,a,l,c=this.overrides.views||{},u=[],h=[],d=t;d&&!i;)r=lt[d]||{},o=c[d]||{},s=s||o.duration||r.duration,d=o.type||r.type,"function"==typeof r?(i=r,u.unshift(i.defaults||{})):u.unshift(r),h.unshift(o);return i?(l={class:i,type:t},s&&((s=e.duration(s)).valueOf()||(s=null)),s&&(l.duration=s,a=x(s),1===s.as(a)&&(l.singleUnit=a,h.unshift(c[a]||{}))),l.defaults=n.apply(null,u),l.overrides=n.apply(null,h),this.buildViewSpecOptions(l),this.buildViewSpecButtonText(l,t),l):void 0},buildViewSpecOptions:function(t){t.options=n(It.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides),rt(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(It.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e.class(this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))}});It.defaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},It.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},It.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Lt=at.langs={};at.datepickerLang=function(e,n,i){var r=Lt[e]||(Lt[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(Ht,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},at.lang=function(e,i){var r,o;r=Lt[e]||(Lt[e]={}),i&&(r=Lt[e]=n(r,i)),o=ot(e),t.each(Rt,function(t,e){null==r[t]&&(r[t]=e(o,r))}),It.defaults.lang=e};var Ht={buttonText:function(t){return{prev:M(t.prevText),next:M(t.nextText),today:M(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},Rt={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Ft={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};at.lang("en",It.englishDefaults),at.sourceNormalizers=[],at.sourceFetchers=[];var zt={dataType:"json",cache:!1},Bt=1;It.prototype.getPeerEvents=function(t){var e,n,i=this.getEventCache(),r=[];for(e=0;i.length>e;e++)n=i[e],t&&t._id===n._id||r.push(n);return r};var jt=lt.basic=Nt.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new Pt(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){Nt.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=Nt.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+D(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(t,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?((e=this.dayGrid.getDayClasses(n)).unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,o=this.opt("eventLimit");h(this.scrollerEl),r(this.headRowEl),this.dayGrid.destroySegPopover(),o&&"number"==typeof o&&this.dayGrid.limitRows(o),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),o&&"number"!=typeof o&&this.dayGrid.limitRows(o),!e&&u(this.scrollerEl,n)&&(i(this.headRowEl,g(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?l(this.dayGrid.rowEls):a(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},destroySelection:function(){this.dayGrid.destroySelection()}}),Wt=lt.month=jt.extend({computeRange:function(t){var e,n=jt.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){(e=e||"variable"===this.opt("weekMode"))&&(t*=this.rowCnt/6),a(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Wt.duration={months:1},Wt.defaults={fixedWeekCount:!0},lt.basicWeek={type:"basic",duration:{weeks:1}},lt.basicDay={type:"basic",duration:{days:1}};return(lt.agenda=Nt.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new Ot(this),this.opt("allDaySlot")?(this.dayGrid=new Pt(this),this.coordMap=new $t([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){Nt.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+D(t)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||D(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){this.timeGrid.updateSize(t),Nt.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,o;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),r(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=5),n&&this.dayGrid.limitRows(n)),e||(o=this.computeScrollerHeight(t),u(this.scrollerEl,o)?(i(this.noScrollRowEls,g(this.scrollerEl)),o=this.computeScrollerHeight(t),this.scrollerEl.height(o)):(this.scrollerEl.height(o).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return(n=Math.ceil(n))&&n++,n},renderEvents:function(t){var e,n=[],i=[];for(e=0;t.length>e;e++)t[e].allDay?n.push(t[e]):i.push(t[e]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}})).defaults={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},lt.agendaWeek={type:"agenda",duration:{weeks:1}},lt.agendaDay={type:"agenda",duration:{days:1}},at}),window.console||(console={log:function(){}});var textAngular=angular.module("textAngular",["ngSanitize"]);textAngular.directive("textAngular",["$compile","$window","$document","$rootScope","$timeout","taFixChrome",function(t,e,n,i,r,o){function s(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},arguments.callee(t[n],e[n])):t[n]=e[n];return t}console.log("Thank you for using textAngular! http://www.textangular.com"),i.textAngularOpts=s({toolbar:[["h1","h2","h3","p","pre","quote"],["bold","italics","underline","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight"],["html","insertImage","insertLink","unlink"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",textEditor:"form-control",htmlEditor:"form-control"}},null!=i.textAngularOpts?i.textAngularOpts:{});var a=function(t){t=t.toLowerCase();var e=n[0].queryCommandValue("formatBlock").toLowerCase();return e===t||e===t};return i.textAngularTools=s({html:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>Toggle HTML</button>",action:function(){var t=this;this.$parent.showHtml=!this.$parent.showHtml,this.$parent.showHtml?r(function(){return t.$parent.displayElements.html[0].focus()},100):r(function(){return t.$parent.displayElements.text[0].focus()},100),this.active=this.$parent.showHtml}},h1:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H1</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H1>")},activeState:function(){return a("h1")}},h2:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H2</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H2>")},activeState:function(){return a("h2")}},h3:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>H3</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<H3>")},activeState:function(){return a("h3")}},p:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>P</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<P>")},activeState:function(){return a("p")}},pre:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'>pre</button>",action:function(){return this.$parent.wrapSelection("formatBlock","<PRE>")},activeState:function(){return a("pre")}},ul:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-list-ul'></i></button>",action:function(){return this.$parent.wrapSelection("insertUnorderedList",null)},activeState:function(){return n[0].queryCommandState("insertUnorderedList")}},ol:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-list-ol'></i></button>",action:function(){return this.$parent.wrapSelection("insertOrderedList",null)},activeState:function(){return n[0].queryCommandState("insertOrderedList")}},quote:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-quote-right'></i></button>",action:function(){return this.$parent.wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return a("blockquote")}},undo:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-undo'></i></button>",action:function(){return this.$parent.wrapSelection("undo",null)}},redo:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-repeat'></i></button>",action:function(){return this.$parent.wrapSelection("redo",null)}},bold:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-bold'></i></button>",action:function(){return this.$parent.wrapSelection("bold",null)},activeState:function(){return n[0].queryCommandState("bold")}},justifyLeft:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-left'></i></button>",action:function(){return this.$parent.wrapSelection("justifyLeft",null)},activeState:function(){return n[0].queryCommandState("justifyLeft")}},justifyRight:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-right'></i></button>",action:function(){return this.$parent.wrapSelection("justifyRight",null)},activeState:function(){return n[0].queryCommandState("justifyRight")}},justifyCenter:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-align-center'></i></button>",action:function(){return this.$parent.wrapSelection("justifyCenter",null)},activeState:function(){return n[0].queryCommandState("justifyCenter")}},italics:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-italic'></i></button>",action:function(){return this.$parent.wrapSelection("italic",null)},activeState:function(){return n[0].queryCommandState("italic")}},underline:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-underline'></i></button>",action:function(){return this.$parent.wrapSelection("underline",null)},activeState:function(){return n[0].queryCommandState("underline")}},clear:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-ban'></i></button>",action:function(){return this.$parent.wrapSelection("removeFormat",null)}},insertImage:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-picture-o'></i></button>",action:function(){var t;if(""!==(t=prompt("Please enter an image URL to insert","http://")))return this.$parent.wrapSelection("insertImage",t)}},insertLink:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-link'></i></button>",action:function(){var t;if(""!==(t=prompt("Please enter an URL to insert","http://")))return this.$parent.wrapSelection("createLink",t)}},unlink:{display:"<button type='button' ng-click='action()' ng-class='displayActiveToolClass(active)'><i class='fa fa-unlink'></i></button>",action:function(){return this.$parent.wrapSelection("unlink",null)}}},null!=i.textAngularTools?i.textAngularTools:{}),{require:"ngModel",scope:{},restrict:"EA",link:function(e,s,a,l){var c,u,h,d,f,p;angular.extend(e,i.textAngularOpts,{wrapSelection:function(t,n){document.execCommand(t,!1,n),"insertUnorderedList"!==t&&"insertOrderedList"!==t||o(e.displayElements.text),e.showHtml?e.displayElements.html[0].focus():e.displayElements.text[0].focus(),e.updateSelectedStyles(),e.showHtml||e.updateTaBindtext()},showHtml:!1}),a.taToolbar&&(e.toolbar=e.$eval(a.taToolbar)),a.taFocussedClass&&(e.classes.focussed=e.$eval(a.taFocussedClass)),a.taToolbarClass&&(e.classes.toolbar=a.taToolbarClass),a.taToolbarGroupClass&&(e.classes.toolbarGroup=a.taToolbarGroupClass),a.taToolbarButtonClass&&(e.classes.toolbarButton=a.taToolbarButtonClass),a.taToolbarActiveButtonClass&&(e.classes.toolbarButtonActive=a.taToolbarActiveButtonClass),a.taTextEditorClass&&(e.classes.textEditor=a.taTextEditorClass),a.taHtmlEditorClass&&(e.classes.htmlEditor=a.taHtmlEditorClass),e.displayElements={toolbar:angular.element("<div></div>"),forminput:angular.element("<input type='hidden' style='display: none;'>"),html:angular.element("<textarea ng-show='showHtml' ta-bind='html' ng-model='html' ></textarea>"),text:angular.element("<div contentEditable='true' ng-hide='showHtml' ta-bind='text' ng-model='text' ></div>")},s.append(e.displayElements.toolbar),s.append(e.displayElements.text),s.append(e.displayElements.html),a.name&&(e.displayElements.forminput.attr("name",a.name),s.append(e.displayElements.forminput)),t(e.displayElements.text)(e),t(e.displayElements.html)(e),s.addClass("ta-root"),e.displayElements.toolbar.addClass("ta-toolbar "+e.classes.toolbar),e.displayElements.text.addClass("ta-text ta-editor "+e.classes.textEditor),e.displayElements.html.addClass("ta-html ta-editor "+e.classes.textEditor),s.on("focusin",function(){s.addClass(e.classes.focussed),r(function(){s.triggerHandler("focus")},0)}),s.on("focusout",function(){r(function(){n[0].activeElement!==e.displayElements.html[0]&&n[0].activeElement!==e.displayElements.text[0]&&(s.removeClass(e.classes.focussed),r(function(){s.triggerHandler("blur")},0))},0)}),e.tools={};for(var g=0;g<e.toolbar.length;g++){c=e.toolbar[g],(u=angular.element("<div></div>")).addClass(e.classes.toolbarGroup);for(var m=0;m<c.length;m++){f=c[m],(p=angular.element(i.textAngularTools[f].display)).addClass(e.classes.toolbarButton),p.attr("unselectable","on"),p.attr("ng-disabled","showHtml()");var v=angular.extend(e.$new(!0),i.textAngularTools[f],{name:f,showHtml:function(){return"html"!==this.name&&this.$parent.showHtml},displayActiveToolClass:function(t){return t?this.$parent.classes.toolbarButtonActive:""}});e.tools[f]=v,u.append(t(p)(v))}e.displayElements.toolbar.append(u)}l.$render=function(){if(e.displayElements.forminput.val(l.$viewValue),void 0!==l.$viewValue&&n[0].activeElement!==e.displayElements.html[0]&&n[0].activeElement!==e.displayElements.text[0]){var t=l.$viewValue||"";e.text=t,e.html=t}},e.$watch("text",function(t,n){e.html=t,l.$setViewValue(t),e.displayElements.forminput.val(t)}),e.$watch("html",function(t,n){e.text=t,l.$setViewValue(t),e.displayElements.forminput.val(t)}),e.bUpdateSelectedStyles=!1,e.updateSelectedStyles=function(){for(var t=0;t<e.toolbar.length;t++)for(var n=e.toolbar[t],i=0;i<n.length;i++)f=n[i],null!=e.tools[f].activeState&&(e.tools[f].active=e.tools[f].activeState.apply(e));this.bUpdateSelectedStyles&&r(this.updateSelectedStyles,200)},h=function(t){e.bUpdateSelectedStyles=!0,e.$apply(function(){e.updateSelectedStyles()})},e.displayElements.html.on("keydown",h),e.displayElements.text.on("keydown",h),d=function(t){e.bUpdateSelectedStyles=!1},e.displayElements.html.on("keyup",d),e.displayElements.text.on("keyup",d),mouseup=function(t){e.$apply(function(){e.updateSelectedStyles()})},e.displayElements.html.on("mouseup",mouseup),e.displayElements.text.on("mouseup",mouseup)}}}]).directive("taBind",["$sanitize","$document","taFixChrome",function(t,e,n){return{require:"ngModel",scope:{taBind:"@"},link:function(i,r,o,s){var a="textarea"!==r[0].tagName.toLowerCase()&&"input"!==r[0].tagName.toLowerCase()&&void 0!==r.attr("contenteditable"),l=function(){var t=n(angular.element("<div>").append(r.html())).html();return"html"===i.taBind&&a&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),t};i.$parent["updateTaBind"+i.taBind]=function(){var t=l(),e=s.$parsers;s.$parsers=[],s.$oldViewValue=t,s.$setViewValue(t),s.$parsers=e},a&&r.on("keyup",function(t){s.$setViewValue(l())}),s.$parsers.push(function(e){void 0===s.$oldViewValue&&(s.$oldViewValue=e);try{t(e)}catch(t){return s.$oldViewValue}return s.$oldViewValue=e,e}),s.$render=function(){if(void 0!==s.$viewValue)if(e[0].activeElement!==r[0]){var t=s.$viewValue||"";s.$oldViewValue=t,"text"===i.taBind?(r.html(t),r.find("a").on("click",function(t){return t.preventDefault(),!1})):a||"textarea"!==r[0].tagName.toLowerCase()&&"input"!==r[0].tagName.toLowerCase()?r.html(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")):r.val(t)}else a||r.val(t)}}}}]).factory("taFixChrome",function(){return function(t){for(var e=angular.element(t).find("span"),n=0;n<e.length;n++){var i=angular.element(e[n]);i.attr("style")&&i.attr("style").match(/line-height: 1.428571429;|color: inherit; line-height: 1.1;/i)&&(i.next().length>0&&"BR"===i.next()[0].tagName&&i.next().remove(),i.replaceWith(i.html()))}var r=t.html().replace(/style="[^"]*?(line-height: 1.428571429;|color: inherit; line-height: 1.1;)[^"]*"/gi,"");return t.html(r),t}}),function(){"use strict";var t="undefined"!=typeof module&&module.exports,e="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if((t=n[i])&&t[1]in document){for(i=0,e=t.length;i<e;i++)o[n[0][i]]=t[i];return o}return!1}(),i={request:function(t){var i=n.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[i]():t[i](e&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:n};n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),t?module.exports=i:window.screenfull=i):t?module.exports=!1:window.screenfull=!1}(),function(){function t(t,e){angular.element(e).bind("resize",function(){t.$emit("resizeMsg")})}angular.module("googlechart",[]).run(t),t.$inject=["$rootScope","$window"]}(),function(){angular.module("googlechart").factory("FormatManager",function(){return function(t){var e=this,n={};function i(i,r,o){var s;if(angular.isArray(o[i])&&!angular.equals(o[i],n[i]))if(n[i]=o[i],e.iFormats[i]=[],"color"===i)!function(n){var i,r,o,s,a="color";for(i=0;i<n[a].length;i++){for(r=new t.visualization.ColorFormat,o=0;o<n[a][i].formats.length;o++)void 0!==(s=n[a][i].formats[o]).fromBgColor&&void 0!==s.toBgColor?r.addGradientRange(s.from,s.to,s.color,s.fromBgColor,s.toBgColor):r.addRange(s.from,s.to,s.color,s.bgcolor);e.iFormats[a].push(r)}}(o);else for(s=0;s<o[i].length;s++)e.iFormats[i].push(new r(o[i][s]))}function r(e,n){var i=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()+"Format";return t.visualization.hasOwnProperty(i)?google.visualization[i]:angular.isDefined(n)&&n.hasOwnProperty(e)?n[e]:void 0}e.iFormats={},e.applyFormats=function(t,n,o){var s,a,l=!1;if(!angular.isDefined(n)||!angular.isDefined(t))return{requiresHtml:!1};for(s in n)if(n.hasOwnProperty(s)){if(a=r(s,o),!angular.isFunction(a))continue;i(s,a,n),"arrow"!==s&&"bar"!==s&&"color"!==s||(l=!0)}return function(t,n){var i,r;for(r in t)if(t.hasOwnProperty(r))for(i=0;i<e.iFormats[r].length;i++)t[r][i].columnNum<n.getNumberOfColumns()&&e.iFormats[r][i].format(n,t[r][i].columnNum)}(n,t),{requiresHtml:l}}}})}(),function(){function t(t,e,n,i,r,o,s,a){var l,c,u=this;function h(){l()}function d(){d.triggered||void 0===u.chart?void 0!==u.chart&&(r.cancel(d.recallTimeout),d.recallTimeout=r(d,10)):(d.triggered=!0,r(g,0,!0))}function f(){c.getReadyPromise().then(d)}function p(){c.draw(),d.triggered=!1}function g(){c.setup(e,u.chart.type,u.chart.data,u.chart.view,u.chart.options,u.chart.formatters,u.chart.customFormatters),r(p)}function m(){u.chart=t.$eval(n.chart),f()}function v(){var e=t.$eval(n.chart);if(angular.isDefined(e)&&angular.isObject(e))return{customFormatters:e.customFormatters,data:e.data,formatters:e.formatters,options:e.options,type:e.type,view:e.view}}c=new a,u.registerChartListener=c.registerChartListener,u.registerWrapperListener=c.registerWrapperListener,u.registerServiceListener=c.registerServiceListener,t.$watch(v,m,!0),l=s.$on("resizeMsg",f),t.$on("$destroy",h)}angular.module("googlechart").controller("GoogleChartController",t),t.$inject=["$scope","$element","$attrs","$injector","$timeout","$window","$rootScope","GoogleChartService"]}(),function(){angular.module("googlechart").directive("agcBeforeDraw",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e){t.$apply(function(){t.$eval(n.agcBeforeDraw,{chartWrapper:e})})}r.$inject=["chartWrapper"],i.registerServiceListener("beforeDraw",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnClick",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){t.$apply(function(){t.$eval(n.agcOnClick,{args:e,chart:i,chartWrapper:r})})}r.$inject=["args","chart","chartWrapper"],i.registerChartListener("click",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnError",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){var o={chartWrapper:e,chart:i,args:r,error:r[0],err:r[0],id:r[0].id,message:r[0].message};t.$apply(function(){t.$eval(n.agcOnError,o)})}r.$inject=["chartWrapper","chart","args"],i.registerWrapperListener("error",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnMouseout",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){var o={chartWrapper:r,chart:i,args:e,column:e[0].column,row:e[0].row};t.$apply(function(){t.$eval(n.agcOnMouseout,o)})}r.$inject=["args","chart","chartWrapper"],i.registerChartListener("onmouseout",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnMouseover",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i,r){var o={chartWrapper:r,chart:i,args:e,column:e[0].column,row:e[0].row};t.$apply(function(){t.$eval(n.agcOnMouseover,o)})}r.$inject=["args","chart","chartWrapper"],i.registerChartListener("onmouseover",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnReady",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e){t.$apply(function(){t.$eval(n.agcOnReady,{chartWrapper:e})})}r.$inject=["chartWrapper"],i.registerWrapperListener("ready",r,this)}}})}(),function(){angular.module("googlechart").directive("agcOnSelect",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,i){function r(e,i){var r={selectedItems:i.getSelection()};r.selectedItem=r.selectedItems[0],r.chartWrapper=e,r.chart=i,t.$apply(function(){t.$eval(n.agcOnSelect,r)})}r.$inject=["chartWrapper","chart"],i.registerWrapperListener("select",r,this)}}})}(),function(){function t(){return{restrict:"A",scope:!1,controller:"GoogleChartController"}}angular.module("googlechart").directive("googleChart",t),t.$inject=[]}(),angular.module("googlechart").value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}}),function(){function t(t,e,n,i){n.optionalSettings=n.optionalSettings||{};var r=e.defer(),o=function(){var e={callback:function(){var e=n.optionalSettings.callback;t.$apply(function(){r.resolve(google)}),angular.isFunction(e)&&e.call(this)}};e=angular.extend({},n.optionalSettings,e),window.google.load("visualization",n.version,e)},s=document.getElementsByTagName("head")[0],a=document.createElement("script");return a.setAttribute("type","text/javascript"),a.src=i,a.addEventListener?a.addEventListener("load",o,!1):a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,o())},s.appendChild(a),r.promise}angular.module("googlechart").factory("googleChartApiPromise",t),t.$inject=["$rootScope","$q","googleChartApiConfig","googleJsapiUrl"]}(),function(){function t(t,e,n,i){return function(){var r=this;r.draw=function(){b&&(s=s.then(S)),s=s.then((function(t){var e;if(angular.isArray(w[t]))for(e=0;e<w[t].length;e++)w[t][e]()}("beforeDraw"),void l.draw()))},r.getChartWrapper=function(){return l},r.getData=function(){var t=h||{};return angular.copy(t)},r.getElement=function(){return c},r.getOption=function(t){return $(f||{},t)},r.getOptions=function(){var t=f||{};return angular.copy(t)},r.getView=function(){var t=d||{};return angular.copy(t)},r.getReadyPromise=function(){return y.promise},r.isApiReady=function(){return a},r.registerChartListener=function(t,e,n){return T(C,t,e,n)},r.registerServiceListener=function(t,e,n){return T(w,t,e,n)},r.registerWrapperListener=M,r.setData=function(t){angular.isDefined(t)&&(h=angular.copy(t),b=!0)},r.setElement=function(t){angular.isElement(t)&&c!==t&&(c=t,l=null,b=!0)},r.setOption=function(t,e){$(f=f||{},t,angular.copy(e)),b=!0},r.setOptions=function(t){angular.isDefined(t)&&(f=angular.copy(t),b=!0)},r.setup=function(t,e,n,i,r,o,a){c=t||c,u=e||u,h=n||h,d=i||d,f=r||f,p=o||p,v=a||v,s=s.then(S)},r.setView=function(t){d=angular.copy(t)};var o,s,a,l,c,u,h,d,f,p,g,m,v,y,b=!0,w={},x={},C={};function k(t){return t}function _(t){return o=t,a=!0,y.resolve(),t}function S(){angular.isDefined(l)?(l.setChartType(u),l.setDataTable(h),l.setView(d),l.setOptions(f)):D(l=new o.visualization.ChartWrapper({chartType:u,dataTable:h,view:d,options:f,containerId:c[0]}),x),m||(m=new i(o)),m.applyFormats(l.getDataTable(),p,v).requiresHtml&&l.setOption("allowHtml",!0),b=!1}function $(t,e,n){for(var i=e?e.split("."):[];i.length&&t;){var r=i.shift();new RegExp("(.+)\\[([0-9]*)\\]").exec(r),n&&(void 0===t[r]&&(t[r]={}),0===i.length&&(t[r]=n)),t=t[r]}return t}function E(){g!==l.getChart()&&D(g=l.getChart(),C)}function T(t,n,i,r){var s=function(){var t={chartWrapper:l,chart:l.getChart(),args:arguments};e.invoke(i,r||this,t)};if(angular.isDefined(t)&&angular.isObject(t))return angular.isArray(t[n])||(t[n]=[]),t[n].push(s),function(){angular.isDefined(s.googleListenerHandle)&&o.visualization.events.removeListener(s.googleListenerHandle);var e=t[n].indexOf(s);t[n].splice(e,1),0===t[n].length&&(t[n]=void 0)}}function D(t,e){for(var n in e)if(e.hasOwnProperty(n)&&angular.isArray(e[n]))for(var i=0;i<e[n].length;i++)angular.isFunction(e[n][i])&&(e[n][i].googleListenerHandle=o.visualization.events.addListener(t,n,e[n][i]))}function M(t,e,n){return T(x,t,e,n)}a=!1,y=n.defer(),s=t.then(_).catch(k),M("ready",E,r)}}angular.module("googlechart").factory("GoogleChartService",t),t.$inject=["googleChartApiPromise","$injector","$q","FormatManager"]}(),function(){angular.module("googlechart").provider("googleJsapiUrl",function(){var t="https:",e="//www.google.com/jsapi";this.setProtocol=function(e){t=e},this.setUrl=function(t){e=t},this.$get=function(){return(t||"")+e}})}(),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,C,k,_,S,$,E,T,D,M,A,P,O,N,I,L,H,R,F,z,B,j,W,V,q,Y,U,G,X,K,Z,Q,J,tt,et,nt,it,rt,ot,st,at,lt,ct,ut,ht,dt,ft,pt,gt,mt,vt,yt,bt,wt,xt,Ct,kt,_t,St,$t,Et,Tt,Dt,Mt,At,Pt,Ot,Nt,It,Lt,Ht,Rt,Ft,zt,Bt,jt,Wt,Vt,qt,Yt,Ut,Gt,Xt,Kt,Zt,Qt,Jt,te,ee,ne,ie,re,oe,se,ae,le,ce,ue,he,de,fe,pe,ge,me,ve,ye,be,we,xe,Ce,ke,_e,Se,$e,Ee,Te,De,Me,Ae,Pe,Oe,Ne,Ie,Le,He,Re,Fe,ze,Be,je,We,Ve,qe,Ye,Ue,Ge,Xe,Ke,Ze,Qe,Je,tn,en,nn,rn,on,sn,an,ln,cn,un,hn,dn,fn,pn,gn,mn,vn,yn,bn,wn,xn,Cn,kn,_n,Sn,$n,En,Tn,Dn,Mn,An,Pn,On,Nn,In,Ln,Hn,Rn,Fn,zn,Bn,jn,Wn,Vn,qn,Yn,Un,Gn,Xn,Kn,Zn,Qn,Jn,ti,ei,ni,ii,ri,oi,si,ai,li,ci,ui,hi,di,fi,pi,gi,mi,vi,yi,bi,wi,xi,Ci,ki,_i,Si,$i,Ei,Ti,Di,Mi,Ai,Pi,Oi,Ni,Ii,Li,Hi,Ri,Fi,zi,Bi,ji,Wi,Vi,qi,Yi,Ui,Gi,Xi,Ki,Zi,Qi,Ji,tr,er,nr,ir,rr,or,sr,ar,lr,cr,ur,hr,dr,fr,pr,gr,mr,vr,yr,br,wr,xr,Cr,kr,_r,Sr,$r,Er,Tr,Dr,Mr,Ar,Pr,Or,Nr,Ir,Lr,Hr,Rr,Fr,zr,Br,jr,Wr,Vr,qr,Yr,Ur,Gr,Xr,Kr,Zr,Qr,Jr,to,eo,no,io,ro,oo,so,ao,lo,co,uo,ho,fo,po,go,mo,vo,yo,bo,wo,xo,Co,ko,_o,So,$o,Eo,To,Do,Mo,Ao,Po,Oo,No,Io,Lo,Ho,Ro,Fo,zo,Bo,jo,Wo,Vo,qo,Yo,Uo,Go,Xo,Ko,Zo,Qo,Jo,ts;return e=window,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!window.opera,s=!r,a=/Firefox/.test(i),l=a&&4>parseInt(i.split("Firefox/")[1],10),t=e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.2",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:/AppleWebKit/.test(i),isFirefox:a,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",idCounter:0,chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,vml:s,win:e,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}},u=[],h=(c=t).charts,d=c.doc,f=c.win,c.error=function(t,e){if(t="Highcharts error #"+t+": www.highcharts.com/errors/"+t,e)throw Error(t);f.console&&console.log(t)},c.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},c.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?e[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(t,e,n){var i,r=this,o=function(t){return!o.stopped&&r.step(t)};this.startTime=+new Date,this.start=t,this.end=e,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===u.push(o)&&(o.timerId=setInterval(function(){for(i=0;i<u.length;i++)u[i]()||u.splice(i--,1);u.length||clearInterval(o.timerId)},13))},step:function(t){var e,n=+new Date,i=this.options;e=this.elem;var r,o=i.complete,s=i.duration,a=i.curAnim;if(e.attr&&!e.element)e=!1;else if(t||n>=s+this.startTime){for(r in this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0,a)!0!==a[r]&&(t=!1);t&&o&&o.call(e),e=!1}else this.pos=i.easing((n-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,n){function i(t){for(u=t.length;u--;)"M"!==t[u]&&"L"!==t[u]||t.splice(u+1,0,t[u+1],t[u+2],t[u+1],t[u+2])}function r(t,e){for(;t.length<a;){t[0]=e[a-t.length];var n=t.slice(0,p);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(n)),u--)}t[0]="M"}function o(t,e){for(var n=(a-t.length)/p;0<n&&n--;)(l=t.slice().splice(t.length/v-p,p*v))[0]=e[a-p-n*p],f&&(l[p-6]=l[p-2],l[p-5]=l[p-1]),[].splice.apply(t,[t.length/v,0].concat(l)),m&&n--}e=e||"";var s,a,l,u,h=t.startX,d=t.endX,f=-1<e.indexOf("C"),p=f?7:3;e=e.split(" "),n=n.slice();var g,m=t.isArea,v=m?2:1;if(f&&(i(e),i(n)),h&&d){for(u=0;u<h.length;u++){if(h[u]===d[0]){s=u;break}if(h[0]===d[d.length-h.length+u]){s=u,g=!0;break}}void 0===s&&(e=[])}return e.length&&c.isNumber(s)&&(a=n.length+s*v*p,g?(r(e,n),o(n,e)):(r(n,e),o(e,n))),[e,n]}},c.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},c.merge=function(){var t,e,n=arguments,i={},r=function(t,e){var n,i;for(i in"object"!=typeof t&&(t={}),e)e.hasOwnProperty(i)&&(n=e[i],c.isObject(n,!0)&&"renderTo"!==i&&"number"!=typeof n.nodeType?t[i]=r(t[i]||{},n):t[i]=e[i]);return t};for(!0===n[0]&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;t<e;t++)i=r(i,n[t]);return i},c.pInt=function(t,e){return parseInt(t,e||10)},c.isString=function(t){return"string"==typeof t},c.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},c.isObject=function(t,e){return t&&"object"==typeof t&&(!e||!c.isArray(t))},c.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},c.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},c.defined=function(t){return void 0!==t&&null!==t},c.attr=function(t,e,n){var i,r;if(c.isString(e))c.defined(n)?t.setAttribute(e,n):t&&t.getAttribute&&(r=t.getAttribute(e));else if(c.defined(e)&&c.isObject(e))for(i in e)t.setAttribute(i,e[i]);return r},c.splat=function(t){return c.isArray(t)?t:[t]},c.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},c.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(void 0!==(e=n[t])&&null!==e)return e},c.css=function(t,e){c.isMS&&!c.svg&&e&&void 0!==e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),c.extend(t.style,e)},c.createElement=function(t,e,n,i,r){t=d.createElement(t);var o=c.css;return e&&c.extend(t,e),r&&o(t,{padding:0,border:"none",margin:0}),n&&o(t,n),i&&i.appendChild(t),t},c.extendClass=function(t,e){var n=function(){};return n.prototype=new t,c.extend(n.prototype,e),n},c.pad=function(t,e,n){return Array((e||2)+1-String(t).length).join(n||0)+t},c.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},c.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}},c.getTZOffset=function(t){var e=c.Date;return 6e4*(e.hcGetTimezoneOffset&&e.hcGetTimezoneOffset(t)||e.hcTimezoneOffset||0)},c.dateFormat=function(t,e,n){if(!c.defined(e)||isNaN(e))return c.defaultOptions.lang.invalidDate||"";t=c.pick(t,"%Y-%m-%d %H:%M:%S");var i,r=new(g=c.Date)(e-c.getTZOffset(e)),o=r[g.hcGetHours](),s=r[g.hcGetDay](),a=r[g.hcGetDate](),l=r[g.hcGetMonth](),u=r[g.hcGetFullYear](),h=c.defaultOptions.lang,d=h.weekdays,f=h.shortWeekdays,p=c.pad,g=c.extend({a:f?f[s]:d[s].substr(0,3),A:d[s],d:p(a),e:p(a,2," "),w:s,b:h.shortMonths[l],B:h.months[l],m:p(l+1),y:u.toString().substr(2,2),Y:u,H:p(o),k:o,I:p(o%12||12),l:o%12||12,M:p(r[g.hcGetMinutes]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:p(r.getSeconds()),L:p(Math.round(e%1e3),3)},c.dateFormats);for(i in g)for(;-1!==t.indexOf("%"+i);)t=t.replace("%"+i,"function"==typeof g[i]?g[i](e):g[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},c.formatSingle=function(t,e){var n=/\.([0-9])/,i=c.defaultOptions.lang;return/f$/.test(t)?(n=(n=t.match(n))?n[1]:-1,null!==e&&(e=c.numberFormat(e,n,i.decimalPoint,-1<t.indexOf(",")?i.thousandsSep:""))):e=c.dateFormat(t,e),e},c.format=function(t,e){for(var n,i,r,o,s,a="{",l=!1,u=[];t&&-1!==(a=t.indexOf(a));){if(n=t.slice(0,a),l){for(o=(i=(n=n.split(":")).shift().split(".")).length,s=e,r=0;r<o;r++)s=s[i[r]];n.length&&(s=c.formatSingle(n.join(":"),s)),u.push(s)}else u.push(n);t=t.slice(a+1),a=(l=!l)?"}":"{"}return u.push(t),u.join("")},c.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},c.normalizeTickInterval=function(t,e,n,i,r){var o,s=t;for(o=t/(n=c.pick(n,1)),e||(e=[1,2,2.5,5,10],!1===i&&(1===n?e=[1,2,5,10]:.1>=n&&(e=[1/n]))),i=0;i<e.length&&(s=e[i],!(r&&s*n>=t||!r&&o<=(e[i]+(e[i+1]||e[i]))/2));i++);return s*n},c.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return 0===(n=e(t,i))?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},c.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},c.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},c.destroyObjectProperties=function(t,e){for(var n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]},c.discardElement=function(t){var e=c.garbageBin;e||(e=c.createElement("div")),t&&e.appendChild(t),e.innerHTML=""},c.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},c.setAnimation=function(t,e){e.renderer.globalAnimation=c.pick(t,e.options.chart.animation,!0)},c.animObject=function(t){return c.isObject(t)?c.merge(t):{duration:t?500:0}},c.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},c.numberFormat=function(t,e,n,i){t=+t||0,e=+e;var r,o,s=c.defaultOptions.lang,a=(t.toString().split(".")[1]||"").length,l=Math.abs(t);return-1===e?e=Math.min(a,20):c.isNumber(e)||(e=2),o=3<(r=String(c.pInt(l.toFixed(e)))).length?r.length%3:0,n=c.pick(n,s.decimalPoint),i=c.pick(i,s.thousandsSep),t=(0>t?"-":"")+(o?r.substr(0,o)+i:""),t+=r.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i),e&&(t+=n+(i=Math.abs(l-r+Math.pow(10,-Math.max(e,a)-1))).toFixed(e).slice(2)),t},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},c.getStyle=function(t,e){return"width"===e?Math.min(t.offsetWidth,t.scrollWidth)-c.getStyle(t,"padding-left")-c.getStyle(t,"padding-right"):"height"===e?Math.min(t.offsetHeight,t.scrollHeight)-c.getStyle(t,"padding-top")-c.getStyle(t,"padding-bottom"):(t=f.getComputedStyle(t,void 0))&&c.pInt(t.getPropertyValue(e))},c.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},c.grep=function(t,e){return[].filter.call(t,e)},c.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},c.offset=function(t){var e=d.documentElement;return{top:(t=t.getBoundingClientRect()).top+(f.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(f.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},c.stop=function(t){for(var e=u.length;e--;)u[e].elem===t&&(u[e].stopped=!0)},c.each=function(t,e,n){return Array.prototype.forEach.call(t,e,n)},c.addEvent=function(t,e,n){function i(e){e.target=e.srcElement||f,n.call(t,e)}var r=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[n.toString()]=i,t.attachEvent("on"+e,i)),r[e]||(r[e]=[]),r[e].push(n)},c.removeEvent=function(t,e,n){function i(e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&(n=t.hcEventsIE[n.toString()],t.detachEvent("on"+e,n))}function r(){var n,r;if(t.nodeName)for(r in e?(n={})[e]=!0:n=a,n)if(a[r])for(n=a[r].length;n--;)i(r,a[r][n])}var o,s,a=t.hcEvents;a&&(e?(o=a[e]||[],n?(-1<(s=c.inArray(n,o))&&(o.splice(s,1),a[e]=o),i(e,n)):(r(),a[e]=[])):(r(),t.hcEvents={}))},c.fireEvent=function(t,e,n,i){var r,o,s;if(r=t.hcEvents,n=n||{},d.createEvent&&(t.dispatchEvent||t.fireEvent))(r=d.createEvent("Events")).initEvent(e,!0,!0),c.extend(r,n),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r);else if(r)for(o=(r=r[e]||[]).length,n.target||c.extend(n,{preventDefault:function(){n.defaultPrevented=!0},target:t,type:e}),e=0;e<o;e++)(s=r[e])&&!1===s.call(t,n)&&n.preventDefault();i&&!n.defaultPrevented&&i(n)},c.animate=function(t,e,n){var i,r,o,s,a="";for(s in c.isObject(n)||(n={duration:(i=arguments)[2],easing:i[3],complete:i[4]}),c.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=c.merge(e),e)o=new c.Fx(t,n,s),r=null,"d"===s?(o.paths=o.initPath(t,t.d,e.d),o.toD=e.d,i=0,r=1):t.attr?i=t.attr(s):(i=parseFloat(c.getStyle(t,s))||0,"opacity"!==s&&(a="px")),r||(r=e[s]),r.match&&r.match("px")&&(r=r.replace(/px/g,"")),o.run(i,r,a)},c.seriesType=function(t,e,n,i,r){var o=c.getOptions(),s=c.seriesTypes;return o.plotOptions[t]=c.merge(o.plotOptions[e],n),s[t]=c.extendClass(s[e]||function(){},i),s[t].prototype.type=t,r&&(s[t].prototype.pointClass=c.extendClass(c.Point,r)),s[t]},f.jQuery&&(f.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(c[c.isString(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):h[c.attr(this[0],"data-highcharts-chart")]}),d&&!d.defaultView&&(c.getStyle=function(t,e){var n={width:"clientWidth",height:"clientHeight"}[e];return t.style[e]?c.pInt(t.style[e]):("opacity"===e&&(e="filter"),n?(t.style.zoom=1,Math.max(t[n]-2*c.getStyle(t,"padding"),0)):(t=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(t=t.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===t?1:c.pInt(t)))}),Array.prototype.forEach||(c.each=function(t,e,n){for(var i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return i}),Array.prototype.indexOf||(c.inArray=function(t,e){var n,i=0;if(e)for(n=e.length;i<n;i++)if(e[i]===t)return i;return-1}),Array.prototype.filter||(c.grep=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)e(t[i],i)&&n.push(t[i]);return n}),g=(p=t).each,m=p.isNumber,v=p.map,y=p.merge,b=p.pInt,p.Color=function(t){if(!(this instanceof p.Color))return new p.Color(t);this.init(t)},p.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[b(t[1]),b(t[2]),b(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[b(t[1],16),b(t[2],16),b(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[b(t[1]),b(t[2]),b(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var e,n,i,r;if((this.input=t=this.names[t]||t)&&t.stops)this.stops=v(t.stops,function(t){return new p.Color(t[1])});else for(i=this.parsers.length;i--&&!n;)(e=(r=this.parsers[i]).regex.exec(t))&&(n=r.parse(e));this.rgba=n||[]},get:function(t){var e,n=this.input,i=this.rgba;return this.stops?((e=y(n)).stops=[].concat(e.stops),g(this.stops,function(n,i){e.stops[i]=[e.stops[i][0],n.get(t)]})):e=i&&m(i[0])?"rgb"===t||!t&&1===i[3]?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===t?i[3]:"rgba("+i.join(",")+")":n,e},brighten:function(t){var e,n=this.rgba;if(this.stops)g(this.stops,function(e){e.brighten(t)});else if(m(t)&&0!==t)for(e=0;3>e;e++)n[e]+=b(255*t),0>n[e]&&(n[e]=0),255<n[e]&&(n[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},p.color=function(t){return new p.Color(t)},k=(w=t).addEvent,_=w.animate,S=w.attr,$=w.charts,E=w.color,T=w.css,D=w.createElement,M=w.defined,A=w.deg2rad,P=w.destroyObjectProperties,O=w.doc,N=w.each,I=w.extend,L=w.erase,H=w.grep,R=w.hasTouch,F=w.isArray,z=w.isFirefox,B=w.isMS,j=w.isObject,W=w.isString,V=w.isWebKit,q=w.merge,Y=w.noop,U=w.pick,G=w.pInt,X=w.removeEvent,K=w.stop,Z=w.svg,Q=w.SVG_NS,J=w.symbolSizes,tt=w.win,(x=w.SVGElement=function(){return this}).prototype={opacity:1,SVG_NS:Q,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textOverflow textShadow".split(" "),init:function(t,e){this.element="span"===e?D(e):O.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,n){return e=U(e,this.renderer.globalAnimation,!0),K(this),e?(n&&(e.complete=n),_(this,t,e)):this.attr(t,null,n),this},colorGradient:function(t,e,n){var i,r,o,s,a,l,c,u,h,d,f,p,g=this.renderer,m=[];if(t.linearGradient?r="linearGradient":t.radialGradient&&(r="radialGradient"),r){for(f in o=t[r],a=g.gradients,c=t.stops,d=n.radialReference,F(o)&&(t[r]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&d&&!M(o.gradientUnits)&&(s=o,o=q(o,g.getRadialAttr(d,s),{gradientUnits:"userSpaceOnUse"})),o)"id"!==f&&m.push(f,o[f]);for(f in c)m.push(c[f]);a[m=m.join(",")]?d=a[m].attr("id"):(o.id=d="highcharts-"+w.idCounter++,a[m]=l=g.createElement(r).attr(o).add(g.defs),l.radAttr=s,l.stops=[],N(c,function(t){0===t[1].indexOf("rgba")?(i=w.color(t[1]),u=i.get("rgb"),h=i.get("a")):(u=t[1],h=1),t=g.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":h}).add(l),l.stops.push(t)})),p="url("+g.url+"#"+d+")",n.setAttribute(e,p),n.gradient=m,t.toString=function(){return p}}},applyTextShadow:function(t){var e,n=this.element,i=-1!==t.indexOf("contrast"),r={},o=this.renderer.forExport,s=this.renderer.forExport||void 0!==n.style.textShadow&&!B;i&&(r.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(V||o)&&(r.textRendering="geometricPrecision"),s?this.css(r):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(n.getElementsByTagName("tspan")),N(t.split(/\s?,\s?/g),function(t){var i,r,o=n.firstChild;t=t.split(" "),i=t[t.length-1],(r=t[t.length-2])&&N(e,function(t,e){0===e&&(t.setAttribute("x",n.getAttribute("x")),e=n.getAttribute("y"),t.setAttribute("y",e||0),null===e&&n.setAttribute("y",0)),t=t.cloneNode(1),S(t,{class:"highcharts-text-shadow",fill:i,stroke:i,"stroke-opacity":1/Math.max(G(r),3),"stroke-width":r,"stroke-linejoin":"round"}),n.insertBefore(t,o)})}))},attr:function(t,e,n){var i,r,o,s=this.element,a=this;if("string"==typeof t&&void 0!==e&&(i=t,(t={})[i]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(i in t)e=t[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(t),r=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||((o=this[i+"Setter"]||this._defaultSetter).call(this,e,i,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),a},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==S(this.element,"class").indexOf(t)},removeClass:function(t){return S(this.element,"class",(S(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;N("x y r start end width height innerR anchorX anchorY".split(" "),function(n){e[n]=U(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n,i,r={};for(n in e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),M(t.strokeWidth)&&(t.strokeWidth=e),t)this[n]!==t[n]&&(this[n]=r[n]=t[n]);return r},css:function(t){var e,n,i=this.styles,r={},o=this.element,s="";if(e=!i,t&&t.color&&(t.fill=t.color),i)for(n in t)t[n]!==i[n]&&(r[n]=t[n],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===o.nodeName.toLowerCase()&&G(t.width)||this.textWidth,i&&(t=I(i,r)),this.styles=t,e&&!Z&&this.renderer.forExport&&delete t.width,B&&!Z)T(this.element,t);else{for(n in i=function(t,e){return"-"+e.toLowerCase()},t)s+=n.replace(/([A-Z])/g,i)+":"+t[n]+";";S(o,"style",s)}this.added&&e&&this.renderer.buildText(this)}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return R&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===tt.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(M(n)||M(i))&&t.push("scale("+U(n,1)+" "+U(i,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a,l,c={};return o=(r=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||W(n))&&(this.alignTo=i=n||"renderer",L(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=U(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?a=1:"center"===i&&(a=2),a&&(o+=(n.width-(t.width||0))/a),c[e?"translateX":"x"]=Math.round(o),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(s+=(n.height-(t.height||0))/l),c[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var n,i,r,o,s,a,l=this.renderer,c=this.element,u=this.styles,h=this.textStr,d=c.style,f=l.cache,p=l.cacheKeys;if(i=(e=U(e,this.rotation))*A,r=u&&u.fontSize,void 0!==h&&(a=h.toString().replace(/[0-9]/g,"0")+["",e||0,r,c.style.width].join()),a&&!t&&(n=f[a]),!n){if(c.namespaceURI===this.SVG_NS||l.forExport){try{s=this.fakeTS&&function(t){N(c.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},z&&d.textShadow?(o=d.textShadow,d.textShadow=""):s&&s("none"),n=c.getBBox?I({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},o?d.textShadow=o:s&&s("")}catch(t){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(l.isSVG&&(t=n.width,l=n.height,B&&u&&"11px"===u.fontSize&&"16.9"===l.toPrecision(3)&&(n.height=l=14),e&&(n.width=Math.abs(l*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(l*Math.cos(i))+Math.abs(t*Math.sin(i)))),a&&0<n.height){for(;250<p.length;)delete f[p.shift()];f[a]||p.push(a),f[a]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this.element||{},i=this.renderer.isSVG&&"SPAN"===n.nodeName&&this.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,K(this),this.clipPath&&(this.clipPath=this.clipPath.destroy()),this.stops){for(e=0;e<this.stops.length;e++)this.stops[e]=this.stops[e].destroy();this.stops=null}for(this.safeRemoveChild(n),this.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)n=i.parentGroup,this.safeRemoveChild(i.div),delete i.div,i=n;for(t in this.alignTo&&L(this.renderer.alignedObjects,this),this)delete this[t];return null},shadow:function(t,e,n){var i,r,o,s,a,l,c=[],u=this.element;if(t){if(!this.shadows){for(s=U(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+U(t.offsetX,1)+", "+U(t.offsetY,1)+")",i=1;i<=s;i++)r=u.cloneNode(0),o=2*s+1-2*i,S(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:"none"}),n&&(S(r,"height",Math.max(S(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):u.parentNode.insertBefore(r,u),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){N(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=U(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=G(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=O.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(O.createTextNode(String(U(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):n.setAttribute(e,t)},zIndexSetter:function(t,e){var n,i,r,o=this.renderer,s=this.parentGroup,a=(s||o).element||o.box,l=this.element;if(n=this.added,M(t)&&(l.zIndex=t,t=+t,this[e]===t&&(n=!1),this[e]=t),n){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=a.childNodes,r=0;r<e.length&&!i;r++)n=(s=e[r]).zIndex,s!==l&&(G(n)>t||!M(t)&&M(n)||0>t&&!M(n)&&a!==o.box)&&(a.insertBefore(l,s),i=!0);i||a.appendChild(l)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},x.prototype.yGetter=x.prototype.xGetter,x.prototype.translateXSetter=x.prototype.translateYSetter=x.prototype.rotationSetter=x.prototype.verticalAlignSetter=x.prototype.scaleXSetter=x.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},x.prototype["stroke-widthSetter"]=x.prototype.strokeSetter=function(t,e,n){this[e]=t,this.stroke&&this["stroke-width"]?(x.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},(C=w.SVGRenderer=function(){this.init.apply(this,arguments)}).prototype={Element:x,SVG_NS:Q,init:function(t,e,n,i,r,o){var s,a;s=(i=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(i))).element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&S(s,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=s,this.boxWrapper=i,this.alignedObjects=[],this.url=(z||V)&&O.getElementsByTagName("base").length?tt.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(O.createTextNode("Created with Highcharts 5.0.2")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),z&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){T(t,{left:0,top:0}),a=t.getBoundingClientRect(),T(t,{left:Math.ceil(a.left)-a.left+"px",top:Math.ceil(a.top)-a.top+"px"})},e(),k(tt,"resize",e))},getStyle:function(t){return this.style=I({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),P(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&X(tt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:Y,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,n,i,r,o=t.element,s=this,a=s.forExport,l=U(t.textStr,"").toString(),c=-1!==l.indexOf("<"),u=o.childNodes,h=S(o,"x"),d=t.styles,f=t.textWidth,p=d&&d.lineHeight,g=d&&d.textShadow,m=d&&"ellipsis"===d.textOverflow,v=u.length,y=f&&!t.added&&this.box,b=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:d&&d.fontSize||s.style.fontSize||12,p?G(p):s.fontMetrics(e,t).h};v--;)o.removeChild(u[v]);c||g||m||f||-1!==l.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,y&&y.appendChild(o),l=c?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=H(l,function(t){return""!==t}),N(l,function(l,c){var u,p=0;l=l.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),u=l.split("|||"),N(u,function(l){if(""!==l||1===u.length){var g,v,y={},w=O.createElementNS(s.SVG_NS,"tspan");if(e.test(l)&&(g=l.match(e)[1],S(w,"class",g)),n.test(l)&&(v=l.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),S(w,"style",v)),i.test(l)&&!a&&(S(w,"onclick",'location.href="'+l.match(i)[1]+'"'),T(w,{cursor:"pointer"}))," "!==(l=(l.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){if(w.appendChild(O.createTextNode(l)),p?y.dx=0:c&&null!==h&&(y.x=h),S(w,y),o.appendChild(w),!p&&c&&(!Z&&a&&T(w,{display:"block"}),S(w,"dy",b(w))),f){y=l.replace(/([^\^])-/g,"$1- ").split(" "),g="nowrap"===d.whiteSpace;for(var x,C,k=1<u.length||c||1<y.length&&!g,_=[],$=b(w),E=t.rotation,D=l,M=D.length;(k||m)&&(y.length||_.length);)t.rotation=0,C=(x=t.getBBox(!0)).width,!Z&&s.forExport&&(C=s.measureSpanWidth(w.firstChild.data,t.styles)),x=C>f,void 0===r&&(r=x),m&&r?(M/=2,""===D||!x&&.5>M?y=[]:(y=[(D=l.substring(0,D.length+(x?-1:1)*Math.ceil(M)))+(3<f?"":"")],w.removeChild(w.firstChild))):x&&1!==y.length?(w.removeChild(w.firstChild),_.unshift(y.pop())):(y=_,_=[],y.length&&!g&&(w=O.createElementNS(Q,"tspan"),S(w,{dy:$,x:h}),v&&S(w,"style",v),o.appendChild(w)),C>f&&(f=C)),y.length&&w.appendChild(O.createTextNode(y.join(" ").replace(/- /g,"-")));t.rotation=E}p++}}})}),r&&t.attr("title",t.textStr),y&&y.removeChild(o),g&&t.applyTextShadow&&t.applyTextShadow(g)):o.appendChild(O.createTextNode(l.replace(/&lt;/g,"<").replace(/&gt;/g,">")))},getContrast:function(t){return 510<(t=E(t).rgba)[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,i,r,o,s,a,l){var c,u,h,d,f=this.label(t,e,n,l,null,null,null,null,"button"),p=0;return f.attr(q({padding:8,r:2},r)),r=q({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},r),c=r.style,delete r.style,o=q(r,{fill:"#e6e6e6"},o),u=o.style,delete o.style,s=q(r,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),h=s.style,delete s.style,a=q(r,{style:{color:"#cccccc"}},a),d=a.style,delete a.style,k(f.element,B?"mouseover":"mouseenter",function(){3!==p&&f.setState(1)}),k(f.element,B?"mouseout":"mouseleave",function(){3!==p&&f.setState(p)}),f.setState=function(t){1!==t&&(f.state=p=t),f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),f.attr([r,o,s,a][t||0]).css([c,u,h,d][t||0])},f.attr(r).css(I({cursor:"default"},c)),f.on("click",function(t){3!==p&&i.call(f,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return F(t)?e.d=t:j(t)&&I(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=j(t)?t:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return j(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,o=t.end,t=t.x),(t=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:o||0})).r=n,t},rect:function(t,e,n,i,r,o){r=j(t)?t.r:r;var s=this.createElement("rect");return t=j(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==o&&(t.strokeWidth=o,t=s.crisp(t)),t.fill="none",r&&(t.r=r),s.rSetter=function(t,e,n){S(n,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:U(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,i,r){var o={preserveAspectRatio:"none"};return 1<arguments.length&&I(o,{x:e,y:n,width:i,height:r}),(o=this.createElement("image").attr(o)).element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var s,a,l,c=this,u=this.symbols[t],h=M(e)&&u&&u(Math.round(e),Math.round(n),i,r,o),d=/^url\((.*?)\)$/;return u?((s=this.path(h)).attr("fill","none"),I(s,{symbolName:t,x:e,y:n,width:i,height:r}),o&&I(s,o)):d.test(t)&&(a=t.match(d)[1],(s=this.image(a)).imgwidth=U(J[a]&&J[a].width,o&&o.width),s.imgheight=U(J[a]&&J[a].height,o&&o.height),l=function(){s.attr({width:s.width,height:s.height})},N(["width","height"],function(t){s[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,M(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),M(e)&&s.attr({x:e,y:n}),s.isImg=!0,M(s.imgwidth)&&M(s.imgheight)?l():(s.attr({width:0,height:0}),D("img",{onload:function(){var t=$[c.chartIndex];0===this.width&&(T(this,{position:"absolute",top:"-999em"}),O.body.appendChild(this)),J[a]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&l(),this.parentNode&&this.parentNode.removeChild(this),c.imgCount--,!c.imgCount&&t&&t.onload&&t.onload()},src:a}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return["M",t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start;n=r.r||n||i;var s=r.end-.001;i=r.innerR;var a=r.open,l=Math.cos(o),c=Math.sin(o),u=Math.cos(s);return s=Math.sin(s),["M",t+n*l,e+n*c,"A",n,n,0,r=r.end-o<Math.PI?0:1,1,t+n*u,e+n*s,a?"M":"L",t+i*u,e+i*s,"A",i,i,0,r,0,t+i*l,e+i*c,a?"":"Z"]},callout:function(t,e,n,i,r){var o,s=Math.min(r&&r.r||0,n,i),a=s+6,l=r&&r.anchorX;return r=r&&r.anchorY,o=["M",t+s,e,"L",t+n-s,e,"C",t+n,e,t+n,e,t+n,e+s,"L",t+n,e+i-s,"C",t+n,e+i,t+n,e+i,t+n-s,e+i,"L",t+s,e+i,"C",t,e+i,t,e+i,t,e+i-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&l>n&&r>e+a&&r<e+i-a?o.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-s):l&&0>l&&r>e+a&&r<e+i-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):r&&r>i&&l>t+a&&l<t+n-a?o.splice(23,3,"L",l+6,e+i,l,e+i+6,l-6,e+i,t+s,e+i):r&&0>r&&l>t+a&&l<t+n-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-s,e),o}},clipRect:function(t,e,n,i){var r="highcharts-"+w.idCounter++,o=this.createElement("clipPath").attr({id:r}).add(this.defs);return(t=this.rect(t,e,n,i,0).add(o)).id=r,t.clipPath=o,t.count=0,t},text:function(t,e,n,i){var r=!Z&&this.forExport,o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)(i=o[r]).getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||this.style&&this.style.fontSize,{h:e=24>(t=/px/.test(t)?G(t):/em/.test(t)?12*parseFloat(t):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*A),4)),{x:-t/3*Math.sin(e*A),y:i}},label:function(t,e,n,i,r,o,s,a,l){var c,u,h,d,f,p,g,m,v,y,b,w,C,k=this,_=k.g("button"!==l&&"label"),S=_.text=k.text("",0,0,s).attr({zIndex:1}),$=0,E=3,T=0,D={},A=/^url\((.*?)\)$/.test(i),P=A;l&&_.addClass("highcharts-"+l),P=A,y=function(){return(m||0)%2/2},b=function(){var t=S.element.style,e={};u=(void 0===h||void 0===d||g)&&M(S.textStr)&&S.getBBox(),_.width=(h||u.width||0)+2*E+T,_.height=(d||u.height||0)+2*E,v=E+k.fontMetrics(t&&t.fontSize,S).b,P&&(c||(_.box=c=k.symbols[i]||A?k.symbol(i):k.rect(),c.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),c.add(_),t=y(),e.x=t,e.y=(a?-v:0)+t),e.width=Math.round(_.width),e.height=Math.round(_.height),c.attr(I(e,D)),D={})},w=function(){var t,e=T+E;t=a?0:v,M(h)&&u&&("center"===g||"right"===g)&&(e+={center:.5,right:1}[g]*(h-u.width)),e===S.x&&t===S.y||(S.attr("x",e),void 0!==t&&S.attr("y",t)),S.x=e,S.y=t},C=function(t,e){c?c.attr(t,e):D[t]=e},_.onAdd=function(){S.add(_),_.attr({text:t||0===t?t:"",x:e,y:n}),c&&M(r)&&_.attr({anchorX:r,anchorY:o})},_.widthSetter=function(t){h=t},_.heightSetter=function(t){d=t},_["text-alignSetter"]=function(t){g=t},_.paddingSetter=function(t){M(t)&&t!==E&&(E=_.padding=t,w())},_.paddingLeftSetter=function(t){M(t)&&t!==T&&(T=t,w())},_.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==$&&($=t,u&&_.attr({x:f}))},_.textSetter=function(t){void 0!==t&&S.textSetter(t),b(),w()},_["stroke-widthSetter"]=function(t,e){t&&(P=!0),m=this["stroke-width"]=t,C(e,t)},_.strokeSetter=_.fillSetter=_.rSetter=function(t,e){"fill"===e&&t&&(P=!0),C(e,t)},_.anchorXSetter=function(t,e){r=t,C(e,Math.round(t)-y()-f)},_.anchorYSetter=function(t,e){o=t,C(e,t-p)},_.xSetter=function(t){_.x=t,$&&(t-=$*((h||u.width)+2*E)),f=Math.round(t),_.attr("translateX",f)},_.ySetter=function(t){p=_.y=Math.round(t),_.attr("translateY",p)};var O=_.css;return I(_,{css:function(t){if(t){var e={};t=q(t),N(_.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),S.css(e)}return O.call(_,t)},getBBox:function(){return{width:u.width+2*E,height:u.height+2*E,x:u.x-E,y:u.y-E}},shadow:function(t){return t&&(b(),c&&c.shadow(t)),_},destroy:function(){X(_.element,"mouseenter"),X(_.element,"mouseleave"),S&&(S=S.destroy()),c&&(c=c.destroy()),x.prototype.destroy.call(_),_=k=b=w=C=null}})}},w.Renderer=C,nt=(et=t).attr,it=et.createElement,rt=et.css,ot=et.defined,st=et.each,at=et.extend,lt=et.isFirefox,ct=et.isMS,ut=et.isWebKit,ht=et.pInt,dt=et.SVGRenderer,ft=et.win,pt=et.wrap,at(et.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=at(this.styles,t),rt(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,i=this.translateY||0,r=this.x||0,o=this.y||0,s=this.textAlign||"left",a={left:0,center:.5,right:1}[s],l=this.styles;if(rt(e,{marginLeft:n,marginTop:i}),this.shadows&&st(this.shadows,function(t){rt(t,{marginLeft:n+1,marginTop:i+1})}),this.inverted&&st(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var c=this.rotation,u=ht(this.textWidth),h=l&&l.whiteSpace,d=[c,s,e.innerHTML,this.textWidth,this.textAlign].join();d!==this.cTT&&(l=t.fontMetrics(e.style.fontSize).b,ot(c)&&this.setSpanRotation(c,a,l),rt(e,{width:"",whiteSpace:h||"nowrap"}),e.offsetWidth>u&&/[ \-]/.test(e.textContent||e.innerText)&&rt(e,{width:u+"px",display:"block",whiteSpace:h||"normal"}),this.getSpanCorrection(e.offsetWidth,l,a,c,s)),rt(e,{left:r+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),ut&&(l=e.offsetHeight),this.cTT=d}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var i={},r=ct?"-ms-transform":ut?"-webkit-transform":lt?"MozTransform":ft.opera?"-o-transform":"";i[r]=i.transform="rotate("+t+"deg)",i[r+(lt?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",rt(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),at(dt.prototype,{html:function(t,e,n){var i=this.createElement("span"),r=i.element,o=i.renderer,s=o.isSVG,a=function(t,e){st(["opacity","visibility"],function(n){pt(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})})};return i.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t,i.htmlUpdateTransform()},s&&a(i,i.element.style),i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),i[e]=t,i.htmlUpdateTransform()},i.attr({text:t,x:Math.round(e),y:Math.round(n)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),r.style.whiteSpace="nowrap",i.css=i.htmlCss,s&&(i.add=function(t){var e,n=o.box.parentNode,s=[];if(this.parentGroup=t){if(!(e=t.div)){for(;t;)s.push(t),t=t.parentGroup;st(s.reverse(),function(t){var i,r=nt(t.element,"class");r&&(r={className:r}),e=t.div=t.div||it("div",r,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},e||n),i=e.style,at(t,{translateXSetter:function(e,n){i.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){i.top=e+"px",t[n]=e,t.doTransform=!0}}),a(t,i)})}}else e=n;return e.appendChild(r),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}}),function(t){var e,n,i=t.createElement,r=t.css,o=t.defined,s=t.deg2rad,a=t.discardElement,l=t.doc,c=t.each,u=t.erase,h=t.extend;e=t.extendClass;var d=t.isArray,f=t.isNumber,p=t.isObject,g=t.merge;n=t.noop;var m=t.pick,v=t.pInt,y=t.SVGElement,b=t.SVGRenderer,w=t.win;t.svg||((n={docMode8:l&&8===l.documentMode,init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],r=["position: ","absolute",";"],o="div"===e;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),e&&(n=o||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=i(n)),this.renderer=t},add:function(t){var e=this.renderer,n=this.element,i=e.box,r=t&&t.inverted;i=t?t.element||t:i;return t&&(this.parentGroup=t),r&&e.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:y.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*s),n=Math.sin(t*s);r(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,n,i,o){var a,l=i?Math.cos(i*s):1,c=i?Math.sin(i*s):0,u=m(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-t,this.yCorr=0>c&&-u,a=0>l*c,this.xCorr+=c*e*(a?1-n:n),this.yCorr-=l*e*(i?a?n:1-n:1),o&&"left"!==o&&(this.xCorr-=t*n*(0>l?-1:1),i&&(this.yCorr-=u*n*(0>c?-1:1)),r(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)f(t[e])?n[e]=Math.round(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n=this;return t?(e=t.members,u(e,n),e.push(n),n.destroyClip=function(){u(e,n)},t=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),t={clip:n.docMode8?"inherit":"rect(auto)"}),n.css(t)},css:y.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&a(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),y.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=w.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return 9!==(n=(t=t.split(/[ ,]/)).length)&&11!==n||(t[n-4]=t[n-2]=v(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,o,s,a,l,c,u,h=[],d=this.element,f=this.renderer,p=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(c=m(t.width,3),u=(t.opacity||.15)/c,r=1;3>=r;r++)a=2*c+1-2*r,n&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=i(f.prepVML(s),null,{left:v(p.left)+m(t.offsetX,1),top:v(p.top)+m(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"#000000",'" opacity="',u*r,'"/>'],i(f.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},updateShadows:n,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,n){(n.getElementsByTagName("stroke")[0]||i(this.renderer.prepVML(["<stroke/>"]),null,null,n))[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(t,i[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},"fill-opacitySetter":function(t,e,n){i(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,n)},opacitySetter:n,rotationSetter:function(t,e,n){n=n.style,this[e]=n[e]=t,n.left=-Math.round(Math.sin(t*s)+1)+"px",n.top=Math.round(Math.cos(t*s))+"px"},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e,this))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,f(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t="visible"),this.shadows&&c(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(n.style[e]=t?"visible":"hidden"),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}})["stroke-opacitySetter"]=n["fill-opacitySetter"],t.VMLElement=n=e(y,n),n.prototype.ySetter=n.prototype.widthSetter=n.prototype.heightSetter=n.prototype.xSetter,n={Element:n,isIE8:-1<w.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,n){var i,r;if(this.alignedObjects=[],r=(i=this.createElement("div").css({position:"relative"})).element,t.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var r=this.createElement(),o=p(t);return h(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=(o=t.element).nodeName,n=t.inverted,i=this.top-("shape"===e?o.offsetTop:0),r=this.left,o=r+this.width,s=i+this.height;i={clip:"rect("+Math.round(n?r:i)+"px,"+Math.round(n?s:o)+"px,"+Math.round(n?o:s)+"px,"+Math.round(n?i:r)+"px)"};return!n&&t.docMode8&&"DIV"===e&&h(i,{width:o+"px",height:s+"px"}),i},updateClipping:function(){c(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(e,n,r,o){var s,a,l,u=this,h=/^rgba/,d="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var f,p,g,m,v,y,b,w,x=e.linearGradient||e.radialGradient,C="",k=[],_=function(){a=['<fill colors="'+k.join(",")+'" opacity="',v,'" o:opacity2="',m,'" type="',l,'" ',C,'focus="100%" method="any" />'],i(u.prepVML(a),null,null,n)};if(g=(e=e.stops)[0],w=e[e.length-1],0<g[0]&&e.unshift([0,g[1]]),1>w[0]&&e.push([1,w[1]]),c(e,function(e,n){h.test(e[1])?(s=t.color(e[1]),f=s.get("rgb"),p=s.get("a")):(f=e[1],p=1),k.push(100*e[0]+"% "+f),n?(v=p,y=f):(m=p,b=f)}),"fill"===r)if("gradient"===l)r=x.x1||x[0]||0,e=x.y1||x[1]||0,g=x.x2||x[2]||0,x=x.y2||x[3]||0,C='angle="'+(90-180*Math.atan((x-e)/(g-r))/Math.PI)+'"',_();else{var S,$=2*(d=x.r),E=2*d,T=x.cx,D=x.cy,M=n.radialReference;d=function(){M&&(S=o.getBBox(),T+=(M[0]-S.x)/S.width-.5,D+=(M[1]-S.y)/S.height-.5,$*=M[2]/S.width,E*=M[2]/S.height),C='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+$+","+E+'" origin="0.5,0.5" position="'+T+","+D+'" color2="'+b+'" ',_()};o.added?d():o.onAdd=d,d=y}else d=f}else h.test(e)&&"IMG"!==n.tagName?(s=t.color(e),o[r+"-opacitySetter"](s.get("a"),r,n),d=s.get("rgb")):((d=n.getElementsByTagName(r)).length&&(d[0].opacity=1,d[0].type="solid"),d=e);return d},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?t=-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):t=t.replace("<","<hcv:"),t},text:b.prototype.html,path:function(t){var e={coordsize:"10 10"};return d(t)?e.d=t:p(t)&&h(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return p(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return 1<arguments.length&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):b.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this;e=e.style;var i="IMG"===t.tagName&&t.style;r(t,{flip:"x",left:v(e.width)-(i?v(i.top):1),top:v(e.height)-(i?v(i.left):1),rotation:-90}),c(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var o=r.start,s=r.end,a=r.r||n||i;n=r.innerR,i=Math.cos(o);var l=Math.sin(o),c=Math.cos(s),u=Math.sin(s);return 0==s-o?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*i,e+a*l,t+a*c,e+a*u],r.open&&!n&&o.push("e","M",t,e),o.push("at",t-n,e-n,t+n,e+n,t+n*c,e+n*u,t+n*i,e+n*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&o(r.r)&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return b.prototype.symbols[o(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=g(b.prototype,n),t.Renderer=e),b.prototype.measureSpanWidth=function(t,e){var n=l.createElement("span");return t=l.createTextNode(t),n.appendChild(t),r(n,e),this.box.appendChild(n),e=n.offsetWidth,a(n),e}}(t),function(t){function e(){var e,n=t.defaultOptions.global,o=n.useUTC,l=o?"getUTC":"get",c=o?"setUTC":"set";t.Date=e=n.Date||a.Date,e.hcTimezoneOffset=o&&n.timezoneOffset,e.hcGetTimezoneOffset=o&&n.getTimezoneOffset,e.hcMakeTime=function(t,n,i,a,l,c){var u;return o?(u=e.UTC.apply(0,arguments),u+=r(u)):u=new e(t,n,s(i,1),s(a,0),s(l,0),s(c,0)).getTime(),u},i("Minutes Hours Day Date Month FullYear".split(" "),function(t){e["hcGet"+t]=l+t}),i("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){e["hcSet"+t]=c+t})}var n=t.color,i=t.each,r=t.getTZOffset,o=t.merge,s=t.pick,a=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.2/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#666666"},widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(n){return t.defaultOptions=o(!0,t.defaultOptions,n),e(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,e()}(t),mt=(gt=t).arrayMax,vt=gt.arrayMin,yt=gt.defined,bt=gt.destroyObjectProperties,wt=gt.each,xt=gt.erase,Ct=gt.merge,kt=gt.pick,gt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},gt.PlotLineOrBand.prototype={render:function(){var t,e=this,n=e.axis,i=n.horiz,r=e.options,o=r.label,s=e.label,a=r.to,l=r.from,c=r.value,u=yt(l)&&yt(a),h=yt(c),d=e.svgElem,f=!d,p=[],g=r.color,m=kt(r.zIndex,0),v=r.events,y=(p={class:"highcharts-plot-"+(u?"band ":"line ")+(r.className||"")},{}),b=n.chart.renderer,w=u?"bands":"lines",x=n.log2lin;if(n.isLog&&(l=x(l),a=x(a),c=x(c)),h?(p={stroke:g,"stroke-width":r.width},r.dashStyle&&(p.dashstyle=r.dashStyle)):u&&(g&&(p.fill=g),r.borderWidth&&(p.stroke=r.borderColor,p["stroke-width"]=r.borderWidth)),y.zIndex=m,(g=n[w+="-"+m])||(n[w]=g=b.g("plot-"+w).attr(y).add()),f&&(e.svgElem=d=b.path().attr(p).add(g)),h)p=n.getPlotLinePath(c,d.strokeWidth());else{if(!u)return;p=n.getPlotBandPath(l,a,r)}if(f&&p&&p.length){if(d.attr({d:p}),v)for(t in r=function(t){d.on(t,function(n){v[t].apply(e,[n])})},v)r(t)}else d&&(p?(d.show(),d.animate({d:p})):(d.hide(),s&&(e.label=s=s.destroy())));return o&&yt(o.text)&&p&&p.length&&0<n.width&&0<n.height&&!p.flat?(o=Ct({align:i&&u&&"center",x:i?!u&&4:10,verticalAlign:!i&&u&&"middle",y:i?u?16:10:u?6:-4,rotation:i&&!u&&90},o),this.renderLabel(o,p,u,m)):s&&s.hide(),e},renderLabel:function(t,e,n,i){var r=this.label,o=this.axis.chart.renderer;r||((r={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(t.className||"")}).zIndex=i,this.label=r=o.text(t.text,0,0,t.useHTML).attr(r).add(),r.css(t.style)),i=[e[1],e[4],n?e[6]:e[1]],e=[e[2],e[5],n?e[7]:e[2]],n=vt(i),o=vt(e),r.align(t,!1,{x:n,y:o,width:mt(i)-n,height:mt(e)-o}),r.show()},destroy:function(){xt(this.axis.plotLinesAndBands,this),delete this.axis,bt(this)}},gt.AxisPlotLineOrBandExtension={getPlotBandPath:function(t,e){return e=this.getPlotLinePath(e,null,null,!0),(t=this.getPlotLinePath(t,null,null,!0))&&e?(t.flat=t.toString()===e.toString(),t.push(e[4],e[5],e[1],e[2])):t=null,t},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new gt.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();wt([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&xt(e,e[r])})}},St=(_t=t).correctFloat,$t=_t.defined,Et=_t.destroyObjectProperties,Tt=_t.isNumber,Dt=_t.merge,Mt=_t.pick,At=_t.stop,Pt=_t.deg2rad,_t.Tick=function(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()},_t.Tick.prototype={addLabel:function(){var t,e=this.axis,n=e.options,i=e.chart,r=e.categories,o=e.names,s=this.pos,a=n.labels,l=s===(u=e.tickPositions)[0],c=s===u[u.length-1],u=(o=r?Mt(r[s],o[s],s):s,r=this.label,u.info);e.isDatetimeAxis&&u&&(t=n.dateTimeLabelFormats[u.higherRanks[s]||u.unitName]),this.isFirst=l,this.isLast=c,n=e.labelFormatter.call({axis:e,chart:i,isFirst:l,isLast:c,dateTimeLabelFormat:t,value:e.isLog?St(e.lin2log(o)):o}),$t(r)?r&&r.attr({text:n}):(this.labelLength=(this.label=r=$t(n)&&a.enabled?i.renderer.text(n,0,0,a.useHTML).css(Dt(a.style)).add(e.labelGroup):null)&&r.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=t.x,r=n.chart.chartWidth,o=n.chart.spacing,s=Mt(n.labelLeft,Math.min(n.pos,o[3])),a=(o=Mt(n.labelRight,Math.max(n.pos+n.len,r-o[1])),this.label),l=this.rotation,c={left:0,center:.5,right:1}[n.labelAlign],u=a.getBBox().width,h=n.getSlotWidth(),d=h,f=1,p={};l?0>l&&i-c*u<s?e=Math.round(i/Math.cos(l*Pt)-s):0<l&&i+c*u>o&&(e=Math.round((r-i)/Math.cos(l*Pt))):(r=i+(1-c)*u,i-c*u<s?d=t.x+d*(1-c)-s:r>o&&(d=o-t.x+d*c,f=-1),(d=Math.min(h,d))<h&&"center"===n.labelAlign&&(t.x+=f*(h-d-c*(h-Math.min(u,d)))),(u>d||n.autoRotation&&(a.styles||{}).width)&&(e=d)),e&&(p.width=e,(n.options.labels.style||{}).textOverflow||(p.textOverflow="ellipsis"),a.css(p))},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,o,s,a){var l=this.axis,c=l.transA,u=l.reversed,h=l.staggerLines,d=l.tickRotCorr||{x:0,y:0},f=r.y;return $t(f)||(f=0===l.side?n.rotation?-8:-n.getBBox().height:2===l.side?d.y+8:Math.cos(n.rotation*Pt)*(d.y-n.getBBox(!1,0).height/2)),t=t+r.x+d.x-(o&&i?o*c*(u?-1:1):0),e=e+f-(o&&!i?o*c*(u?1:-1):0),h&&(n=s/(a||1)%h,l.opposite&&(n=h-n-1),e+=l.labelOffset/h*n),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=i.horiz,a=this.type,l=this.label,c=this.pos,u=r.labels,h=this.gridLine,d=a?a+"Tick":"tick",f=i.tickSize(d),p=this.mark,g=!p,m=u.step,v={},y=!0,b=i.tickmarkOffset,w=(x=this.getPosition(s,c,b,e)).x,x=x.y,C=s&&w===i.pos+i.len||!s&&x===i.pos?-1:1,k=r[($=a?a+"Grid":"grid")+"LineWidth"],_=r[$+"LineColor"],S=r[$+"LineDashStyle"],$=Mt(r[d+"Width"],!a&&i.isXAxis?1:0);d=r[d+"Color"],n=Mt(n,1),this.isActive=!0,h||(v.stroke=_,v["stroke-width"]=k,S&&(v.dashstyle=S),a||(v.zIndex=1),e&&(v.opacity=0),this.gridLine=h=o.path().attr(v).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(i.gridGroup)),!e&&h&&(c=i.getPlotLinePath(c+b,h.strokeWidth()*C,e,!0))&&h[this.isNew?"attr":"animate"]({d:c,opacity:n}),f&&(i.opposite&&(f[0]=-f[0]),g&&(this.mark=p=o.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(i.axisGroup),p.attr({stroke:d,"stroke-width":$})),p[g?"attr":"animate"]({d:this.getMarkPath(w,x,f[0],p.strokeWidth()*C,s,o),opacity:n})),l&&Tt(w)&&(l.xy=x=this.getLabelPosition(w,x,l,s,u,b,t,m),this.isFirst&&!this.isLast&&!Mt(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Mt(r.showLastLabel,1)?y=!1:!s||i.isRadial||u.step||u.rotation||e||0===n||this.handleOverflow(x),m&&t%m&&(y=!1),y&&Tt(x.y)?(x.opacity=n,l[this.isNew?"attr":"animate"](x)):(At(l),l.attr("y",-9999)),this.isNew=!1)},destroy:function(){Et(this,this.axis)}},Nt=(Ot=t).addEvent,It=Ot.animObject,Lt=Ot.arrayMax,Ht=Ot.arrayMin,Rt=Ot.AxisPlotLineOrBandExtension,Ft=Ot.color,zt=Ot.correctFloat,Bt=Ot.defaultOptions,jt=Ot.defined,Wt=Ot.deg2rad,Vt=Ot.destroyObjectProperties,qt=Ot.each,Yt=Ot.error,Ut=Ot.extend,Gt=Ot.fireEvent,Xt=Ot.format,Kt=Ot.getMagnitude,Zt=Ot.grep,Qt=Ot.inArray,Jt=Ot.isArray,te=Ot.isNumber,ee=Ot.isString,ne=Ot.merge,ie=Ot.normalizeTickInterval,re=Ot.pick,oe=Ot.PlotLineOrBand,se=Ot.removeEvent,ae=Ot.splat,le=Ot.syncTimeout,ce=Ot.Tick,Ot.Axis=function(){this.init.apply(this,arguments)},Ot.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Ot.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var n=e.isX;this.chart=t,this.horiz=t.inverted?!n:n,this.isXAxis=n,this.coll=this.coll||(n?"xAxis":"yAxis"),this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var i,r=this.options,o=r.type;for(i in this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=r.reversed,this.visible=!1!==r.visible,this.zoomEnabled=!1!==r.zoomEnabled,this.hasNames="category"===o||!0===r.categories,this.categories=r.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===o,this.isDatetimeAxis="datetime"===o,this.isLinked=jt(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=re(r.crosshair,ae(t.options.tooltip.crosshairs)[n?0:1],!1),e=this.options.events,-1===Qt(this,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&n&&void 0===this.reversed&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,e)Nt(this,i,e[i]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=ne(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ne(Bt[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,n=this.value,i=e.categories,r=this.dateTimeLabelFormat,o=Bt.lang.numericSymbols,s=o&&o.length,a=e.options.labels.format;if(e=e.isLog?n:e.tickInterval,a)t=Xt(a,this);else if(i)t=n;else if(r)t=Ot.dateFormat(r,n);else if(s&&1e3<=e)for(;s--&&void 0===t;)e>=(i=Math.pow(1e3,s+1))&&0==10*n%i&&null!==o[s]&&0!==n&&(t=Ot.numberFormat(n/i,-1)+o[s]);return void 0===t&&(t=1e4<=Math.abs(n)?Ot.numberFormat(n,-1):Ot.numberFormat(n,-1,void 0,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),qt(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var i,r=n.options,o=r.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=o&&(o=null),t.isXAxis?(r=n.xData).length&&(n=Ht(r),te(n)||n instanceof Date||(r=Zt(r,function(t){return te(t)}),n=Ht(r)),t.dataMin=Math.min(re(t.dataMin,r[0]),n),t.dataMax=Math.max(re(t.dataMax,r[0]),Lt(r))):(n.getExtremes(),i=n.dataMax,n=n.dataMin,jt(n)&&jt(i)&&(t.dataMin=Math.min(re(t.dataMin,n),n),t.dataMax=Math.max(re(t.dataMax,i),i)),jt(o)&&(t.threshold=o),(!r.softThreshold||t.isLog)&&(t.softThreshold=!1))}})},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,c=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var u=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,c||(c=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(l-=(a*=-1)*(s.sector||s.len)),e?(t=(t*a+l-u)/c+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),"between"===o&&(o=.5),t=a*(t-i)*c+l+a*u+(te(o)?c*o*s.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,c=this.left,u=this.top,h=n&&l.oldChartHeight||l.chartHeight,d=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,n){return(t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=re(r,this.translate(t,null,null,n)),t=n=Math.round(r+o),o=s=Math.round(h-r-o),te(r)?this.horiz?(o=u,s=h-this.bottom,t=n=f(t,c,c+this.width)):(t=c,n=d-this.right,o=s=f(o,u,u+this.height)):a=!0,a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=zt(Math.floor(e/t)*t),o=zt(Math.ceil(n/t)*t),s=[];if(e===n&&te(e))return[e];for(e=r;e<=o&&(s.push(e),(e=zt(e+t))!==i);)i=e;return s},getMinorTickPositions:function(){var t,e=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[],o=this.pointRangePadding||0;t=this.min-o;var s=(o=this.max+o)-t;if(s&&s/i<this.len/3)if(this.isLog)for(o=n.length,t=1;t<o;t++)r=r.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),t,o,e.startOfWeek));else for(n=t+(n[0]-t)%i;n<=o;n+=i)r.push(n);return 0!==r.length&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var t,e,n,i,r,o,s=this.options,a=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(jt(s.min)||jt(s.max)?this.minRange=null:(qt(this.series,function(t){for(r=t.xData,n=t.xIncrement?1:r.length-1;0<n;n--)i=r[n]-r[n-1],(void 0===e||i<e)&&(e=i)}),this.minRange=Math.min(5*e,this.dataMax-this.dataMin))),l-a<this.minRange&&(t=[a-(t=((o=this.minRange)-l+a)/2),re(s.min,a-t)],c&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),l=[(a=Lt(t))+o,re(s.max,a+o)],c&&(l[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(l=Ht(l))-a<o&&(t[0]=l-o,t[1]=re(s.min,l-o),a=Lt(t))),this.min=a,this.max=l},getClosest:function(){var t;return this.categories?t=1:qt(this.series,function(e){var n=e.closestPointRange;!e.noSharedTooltip&&jt(n)&&(t=jt(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=Jt(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,jt(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():Qt(t.name,i)),-1===r?n||(e=i.length):e=r,this.names[e]=t.name,e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,qt(this.series||[],function(e){e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),qt(e.points,function(n,i){var r;n.options&&void 0===n.options.x&&(r=t.nameToX(n))!==n.x&&(n.x=r,e.xData[i]=r)})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,c=n.transA,u=n.isXAxis;(u||l||r)&&(a?(o=a.minPointOffset,s=a.pointRangePadding):(e=n.getClosest(),qt(n.series,function(t){var i=l?1:u?re(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,ee(t)?0:i/2),s=Math.max(s,"on"===t?0:i))})),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),u&&(n.closestPointRange=e)),t&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,n,i,r,o=this,s=o.chart,a=o.options,l=o.isLog,c=o.log2lin,u=o.isDatetimeAxis,h=o.isXAxis,d=o.isLinked,f=a.maxPadding,p=a.minPadding,g=a.tickInterval,m=a.tickPixelInterval,v=o.categories,y=o.threshold,b=o.softThreshold;u||v||d||this.getTickAmount(),i=re(o.userMin,a.min),r=re(o.userMax,a.max),d?(o.linkedParent=s[o.coll][a.linkedTo],s=o.linkedParent.getExtremes(),o.min=re(s.min,s.dataMin),o.max=re(s.max,s.dataMax),a.type!==o.linkedParent.options.type&&Yt(11,1)):(!b&&jt(y)&&(o.dataMin>=y?(e=y,p=0):o.dataMax<=y&&(n=y,f=0)),o.min=re(i,e,o.dataMin),o.max=re(r,n,o.dataMax)),l&&(!t&&0>=Math.min(o.min,re(o.dataMin,o.min))&&Yt(10,1),o.min=zt(c(o.min),15),o.max=zt(c(o.max),15)),o.range&&jt(o.max)&&(o.userMin=o.min=i=Math.max(o.min,o.minFromRange()),o.userMax=r=o.max,o.range=null),Gt(o,"foundExtremes"),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),!(v||o.axisPointRange||o.usePercentage||d)&&jt(o.min)&&jt(o.max)&&(c=o.max-o.min)&&(!jt(i)&&p&&(o.min-=c*p),!jt(r)&&f&&(o.max+=c*f)),te(a.floor)?o.min=Math.max(o.min,a.floor):te(a.softMin)&&(o.min=Math.min(o.min,a.softMin)),te(a.ceiling)?o.max=Math.min(o.max,a.ceiling):te(a.softMax)&&(o.max=Math.max(o.max,a.softMax)),b&&jt(o.dataMin)&&(y=y||0,!jt(i)&&o.min<y&&o.dataMin>=y?o.min=y:!jt(r)&&o.max>y&&o.dataMax<=y&&(o.max=y)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:d&&!g&&m===o.linkedParent.options.tickPixelInterval?g=o.linkedParent.tickInterval:re(g,this.tickAmount?(o.max-o.min)/Math.max(this.tickAmount-1,1):void 0,v?1:(o.max-o.min)*m/Math.max(o.len,m)),h&&!t&&qt(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&!g&&(o.tickInterval=Math.max(o.pointRange,o.tickInterval)),t=re(a.minTickInterval,o.isDatetimeAxis&&o.closestPointRange),!g&&o.tickInterval<t&&(o.tickInterval=t),u||l||g||(o.tickInterval=ie(o.tickInterval,null,Kt(o.tickInterval),re(a.allowDecimals,!(.5<o.tickInterval&&5>o.tickInterval&&1e3<o.max&&9999>o.max)),!!this.tickAmount)),this.tickAmount||(o.tickInterval=o.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=i&&i.slice(),!t&&((t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&jt(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,i||r||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&jt(i)&&t.push((r+i)/2)},alignToOthers:function(){var t,e={},n=this.options;return!1!==this.chart.options.chart.alignTicks&&!1!==n.alignTicks&&qt(this.chart[this.coll],function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join(),n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!jt(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length;if(r<n){for(;e.length<n;)e.push(zt(e[e.length-1]+t));this.transA*=(r-1)/(n-1),this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(jt(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,qt(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=re(n,!0),qt(o.series,function(t){delete t.kdTree}),r=Ut(r,{min:t,max:e}),Gt(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,re(r.min,n));return r=Math.max(i,re(r.max,i)),t===this.min&&e===this.max||(this.allowZoomOutside||(jt(n)&&t<=o&&(t=o),jt(i)&&e>=r&&(e=r)),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=(s=this.options).offsetLeft||0,n=this.horiz,i=re(s.width,t.plotWidth-e+(s.offsetRight||0)),r=re(s.height,t.plotHeight),o=re(s.top,t.plotTop),s=re(s.left,t.plotLeft+e);(e=/%$/).test(r)&&(r=Math.round(parseFloat(r)/100*t.plotHeight)),e.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight+t.plotTop)),this.left=s,this.top=o,this.width=i,this.height=r,this.bottom=t.chartHeight-r-o,this.right=t.chartWidth-i-s,this.len=Math.max(n?i:r,0),this.pos=n?s:o},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?zt(e(this.min)):this.min,max:t?zt(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=this.lin2log,i=e?n(this.min):this.min;return e=e?n(this.max):this.max,null===t?t=i:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(re(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=re(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=i.rotation,c=this.labelMetrics(),u=Number.MAX_VALUE,h=function(t){return(t=1<(t/=a||1)?Math.ceil(t):1)*o};return r?(n=!i.staggerLines&&!i.step&&(jt(l)?[l]:a<re(i.autoRotationLimit,80)&&i.autoRotation))&&qt(n,function(n){var i;(n===l||n&&-90<=n&&90>=n)&&(i=(e=h(Math.abs(c.h/Math.sin(Wt*n))))+Math.abs(n/360))<u&&(u=i,t=n,s=e)}):i.step||(s=h(c.h)),this.autoRotation=n,this.labelRotation=re(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&2>(n.step||0)&&!n.rotation&&(this.staggerLines||1)*t.plotWidth/i||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=this.horiz,c=this.getSlotWidth(),u=Math.max(1,Math.round(c-2*(a.padding||5))),h={},d=this.labelMetrics(),f=a.style&&a.style.textOverflow,p=0;if(ee(a.rotation)||(h.rotation=a.rotation||0),qt(o,function(t){(t=s[t])&&t.labelLength>p&&(p=t.labelLength)}),this.maxLabelLength=p,this.autoRotation)p>u&&p>d.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t={width:u+"px"},!f))for(t.textOverflow="clip",e=o.length;!l&&e--;)n=o[e],(u=s[n].label)&&(u.styles&&"ellipsis"===u.styles.textOverflow?u.css({textOverflow:"clip"}):s[n].labelLength>c&&u.css({width:c+"px"}),u.getBBox().height>this.len/o.length-(d.h-d.f)&&(u.specCss={textOverflow:"ellipsis"}));h.rotation&&(t={width:(p>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},f||(t.textOverflow="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),qt(o,function(e){var n=(e=s[e])&&e.label;n&&(n.attr(h),t&&n.css(ne(t,n.specCss)),delete n.specCss,e.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(d.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||jt(this.min)&&jt(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,n,i,r=this,o=(b=r.chart).renderer,s=r.options,a=r.tickPositions,l=r.ticks,c=r.horiz,u=r.side,h=b.inverted?[1,0,3,2][u]:u,d=0,f=0,p=s.title,g=s.labels,m=0,v=r.opposite,y=b.axisOffset,b=b.clipOffset,w=[-1,1,1,-1][u],x=s.className,C=r.axisParent,k=this.tickSize("tick");if(t=r.hasData(),r.showAxis=e=t||re(s.showEmpty,!0),r.staggerLines=r.horiz&&g.staggerLines,r.axisGroup||(r.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(x||"")).add(C),r.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(x||"")).add(C),r.labelGroup=o.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels "+(x||"")).add(C)),t||r.isLinked)qt(a,function(t){l[t]?l[t].addLabel():l[t]=new ce(r,t)}),r.renderUnsquish(),!1===g.reserveSpace||0!==u&&2!==u&&{1:"left",3:"right"}[u]!==r.labelAlign&&"center"!==r.labelAlign||qt(a,function(t){m=Math.max(l[t].getLabelSize(),m)}),r.staggerLines&&(m*=r.staggerLines,r.labelOffset=m*(r.opposite?-1:1));else for(i in l)l[i].destroy(),delete l[i];p&&p.text&&!1!==p.enabled&&(r.axisTitle||((i=p.textAlign)||(i=(c?{low:"left",middle:"center",high:"right"}:{low:v?"right":"left",middle:"center",high:v?"left":"right"})[p.align]),r.axisTitle=o.text(p.text,0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:i}).addClass("highcharts-axis-title").css(p.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(d=r.axisTitle.getBBox()[c?"height":"width"],n=p.offset,f=jt(n)?0:re(p.margin,c?5:10)),r.axisTitle[e?"show":"hide"](!0)),r.renderLine(),r.offset=w*re(s.offset,y[u]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},o=0===u?-r.labelMetrics().h:2===u?r.tickRotCorr.y:0,f=Math.abs(m)+f,m&&(f=f-o+w*(c?re(g.y,r.tickRotCorr.y+8*w):g.x)),r.axisTitleMargin=re(n,f),y[u]=Math.max(y[u],r.axisTitleMargin+d+w*r.offset,f,t&&a.length&&k?k[0]:0),s=s.offset?0:2*Math.floor(r.axisLine.strokeWidth()/2),b[h]=Math.max(b[h],s)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;return i=e.chartHeight-this.bottom-(n?this.height:0)+i,n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,u=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f;return i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?u:0),{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+c-(s?this.height:0)+a:i+c}},render:function(){var t,e,n=this,i=n.chart,r=i.renderer,o=n.options,s=n.isLog,a=n.lin2log,l=n.isLinked,c=n.tickPositions,u=n.axisTitle,h=n.ticks,d=n.minorTicks,f=n.alternateBands,p=o.stackLabels,g=o.alternateGridColor,m=n.tickmarkOffset,v=n.axisLine,y=i.hasRendered&&te(n.oldMin),b=n.showAxis,w=It(r.globalAnimation);n.labelEdge.length=0,n.overlap=!1,qt([h,d,f],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||l)&&(n.minorTickInterval&&!n.categories&&qt(n.getMinorTickPositions(),function(t){d[t]||(d[t]=new ce(n,t,"minor")),y&&d[t].isNew&&d[t].render(null,!0),d[t].render(null,!1,1)}),c.length&&(qt(c,function(t,e){(!l||t>=n.min&&t<=n.max)&&(h[t]||(h[t]=new ce(n,t)),y&&h[t].isNew&&h[t].render(e,!0,.1),h[t].render(e))}),m&&(0===n.min||n.single)&&(h[-1]||(h[-1]=new ce(n,-1,null,!0)),h[-1].render(-1))),g&&qt(c,function(r,o){e=void 0!==c[o+1]?c[o+1]+m:n.max-m,0==o%2&&r<n.max&&e<=n.max+(i.polar?-m:m)&&(f[r]||(f[r]=new oe(n)),t=r+m,f[r].options={from:s?a(t):t,to:s?a(e):e,color:g},f[r].render(),f[r].isActive=!0)}),n._addedPlotLB||(qt((o.plotLines||[]).concat(o.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),qt([h,d,f],function(t){var e,n,r=[],o=w.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,r.push(e));le(function(){for(n=r.length;n--;)t[r[n]]&&!t[r[n]].isActive&&(t[r[n]].destroy(),delete t[r[n]])},t!==f&&i.hasRendered&&o?o:0)}),v&&(v[v.isPlaced?"animate":"attr"]({d:this.getLinePath(v.strokeWidth())}),v.isPlaced=!0,v[b?"show":"hide"](!0)),u&&b&&(u[u.isNew?"attr":"animate"](n.getTitlePosition()),u.isNew=!1),p&&p.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),qt(this.plotLinesAndBands,function(t){t.render()})),qt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;for(e in t||se(i),r)Vt(r[e]),r[e]=null;if(qt([i.ticks,i.minorTicks,i.alternateBands],function(t){Vt(t)}),o)for(t=o.length;t--;)o[t].destroy();for(n in qt("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),o="extKey hcEvents names series userMax userMin".split(" "),i)i.hasOwnProperty(n)&&-1===Qt(n,o)&&delete i[n]},drawCrosshair:function(t,e){var n,i,r=this.crosshair,o=re(r.snap,!0),s=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(jt(e)||!o)?(o?jt(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),jt(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:re(e.stackY,e.y)),null,null,null,i)||null),jt(n)?(e=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+r.className).attr({zIndex:re(r.zIndex,2)}).add(),s.attr({stroke:r.color||(e?Ft("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":re(r.width,1)}),r.dashStyle&&s.attr({dashstyle:r.dashStyle})),s.show().attr({d:n}),e&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Ut(Ot.Axis.prototype,Rt),he=(ue=t).Axis,de=ue.Date,fe=ue.dateFormat,pe=ue.defaultOptions,ge=ue.defined,me=ue.each,ve=ue.extend,ye=ue.getMagnitude,be=ue.getTZOffset,we=ue.normalizeTickInterval,xe=ue.pick,Ce=ue.timeUnits,he.prototype.getTimeTicks=function(t,e,n,i){var r,o,s,a=[],l={},c=pe.global.useUTC,u=new de(e-be(e)),h=de.hcMakeTime,d=t.unitRange,f=t.count;if(ge(e)){for(u[de.hcSetMilliseconds](d>=Ce.second?0:f*Math.floor(u.getMilliseconds()/f)),d>=Ce.second&&u[de.hcSetSeconds](d>=Ce.minute?0:f*Math.floor(u.getSeconds()/f)),d>=Ce.minute&&u[de.hcSetMinutes](d>=Ce.hour?0:f*Math.floor(u[de.hcGetMinutes]()/f)),d>=Ce.hour&&(u[de.hcSetHours](d>=Ce.day?0:f*Math.floor(u[de.hcGetHours]()/f)),o=u[de.hcGetHours]()),d>=Ce.day&&u[de.hcSetDate](d>=Ce.month?1:f*Math.floor(u[de.hcGetDate]()/f)),d>=Ce.month&&(u[de.hcSetMonth](d>=Ce.year?0:f*Math.floor(u[de.hcGetMonth]()/f)),r=u[de.hcGetFullYear]()),d>=Ce.year&&u[de.hcSetFullYear](r-r%f),d===Ce.week&&u[de.hcSetDate](u[de.hcGetDate]()-u[de.hcGetDay]()+xe(i,1)),i=1,(de.hcTimezoneOffset||de.hcGetTimezoneOffset)&&(s=(!c||!!de.hcGetTimezoneOffset)&&(n-e>4*Ce.month||be(e)!==be(n)),u=u.getTime(),u=new de(u+be(u))),r=u[de.hcGetFullYear](),e=u.getTime(),c=u[de.hcGetMonth](),u=u[de.hcGetDate]();e<n;)a.push(e),e=d===Ce.year?h(r+i*f,0):d===Ce.month?h(r,c+i*f):!s||d!==Ce.day&&d!==Ce.week?s&&d===Ce.hour?h(r,c,u,o+i*f):e+d*f:h(r,c,u+i*f*(d===Ce.day?1:7)),i++;a.push(e),d<=Ce.hour&&me(a,function(t){"000000000"===fe("%H%M%S%L",t)&&(l[t]="day")})}return a.info=ve(t,{higherRanks:l,totalRange:d*f}),a},he.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var i,r=Ce[e[0]],o=e[1];for(i=0;i<n.length&&(e=n[i],r=Ce[e[0]],o=e[1],!(n[i+1]&&t<=(r*o[o.length-1]+Ce[n[i+1][0]])/2));i++);return r===Ce.year&&t<5*r&&(o=[1,2,5]),{unitRange:r,count:t=we(t/r,o,"year"===e[0]?Math.max(ye(t/r),1):1),unitName:e[0]}},_e=(ke=t).Axis,Se=ke.getMagnitude,$e=ke.map,Ee=ke.normalizeTickInterval,Te=ke.pick,_e.prototype.getLogTickPositions=function(t,e,n,i){var r=this.options,o=this.len,s=this.lin2log,a=this.log2lin,l=[];if(i||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),l=this.getLinearTickPositions(t,e,n);else if(.08<=t){var c,u,h,d,f;for(o=Math.floor(e),r=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<n+1&&!f;o++)for(u=r.length,c=0;c<u&&!f;c++)(h=a(s(o)*r[c]))>e&&(!i||d<=n)&&void 0!==d&&l.push(d),d>n&&(f=!0),d=h}else e=s(e),n=s(n),t=r[i?"minorTickInterval":"tickInterval"],t=Te("auto"===t?null:t,this._minorAutoInterval,r.tickPixelInterval/(i?5:1)*(n-e)/((i?o/this.tickPositions.length:o)||1)),t=Ee(t,null,Se(t)),l=$e(this.getLinearTickPositions(t,e,n),a),i||(this._minorAutoInterval=t/5);return i||(this.tickInterval=t),l},_e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},_e.prototype.lin2log=function(t){return Math.pow(10,t)},Me=(De=t).dateFormat,Ae=De.each,Pe=De.extend,Oe=De.format,Ne=De.isNumber,Ie=De.map,Le=De.merge,He=De.pick,Re=De.splat,Fe=De.stop,ze=De.syncTimeout,Be=De.timeUnits,De.Tooltip=function(){this.init.apply(this,arguments)},De.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){Ae(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),this.init(this.chart,Le(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,i){var r=this,o=r.now,s=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(t-o.x)||1<Math.abs(e-o.y)),a=r.followPointer||1<r.len;Pe(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?void 0:s?(2*o.anchorX+n)/3:n,anchorY:a?void 0:s?(o.anchorY+i)/2:i}),r.getLabel().attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,n,i)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=He(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=ze(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,i,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,c=0,u=0;return n=(t=Re(t))[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=o.pointer.normalize(e)),n=[e.chartX-o.plotLeft,e.chartY-a]),n||(Ae(t,function(t){i=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!s&&r?r.left-l:0),u+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&i?i.top-a:0)}),c/=t.length,u/=t.length,n=[s?o.plotWidth-u:c,this.shared&&!s&&1<t.length&&e?e.chartY-a:s?o.plotHeight-c:u]),Ie(n,Math.round)},getPosition:function(t,e,n){var i,r=this.chart,o=this.distance,s={},a=n.h||0,l=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],u=!this.followPointer&&He(n.ttBelow,!r.inverted==!!n.negative),h=function(t){var e=l;l=c,c=e,i=t},d=function(){!1!==function(t,e,n,i,r,l){var c=n<i-o,h=i+o+n<e,d=i-o-n;if(i+=o,u&&h)s[t]=i;else if(!u&&c)s[t]=d;else if(c)s[t]=Math.min(l-n,0>d-a?d:d-a);else{if(!h)return!1;s[t]=Math.max(r,i+a+n>e?i:i+a)}}.apply(0,l)?!1!==function(t,e,n,i){var r;return i<o||i>e-o?r=!1:s[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r}.apply(0,c)||i||(h(!0),d()):i?s.x=s.y=0:(h(!0),d())};return(r.inverted||1<this.len)&&h(),d(),s},defaultFormatter:function(t){var e,n=this.points||Re(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(t,e){var n,i,r,o=this.chart,s=this.getLabel(),a=this.options,l={},c=[];r=a.formatter||this.defaultFormatter,l=o.hoverPoints;var u=this.shared;clearTimeout(this.hideTimer),this.followPointer=Re(t)[0].series.tooltipOptions.followPointer,e=(i=this.getAnchor(t,e))[0],n=i[1],!u||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(o.hoverPoints=t,l&&Ae(l,function(t){t.setState()}),Ae(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),(l={x:t[0].category,y:t[0].y}).points=c,this.len=c.length,t=t[0]),r=r.call(l,this),l=t.series,this.distance=He(l.tooltipOptions.distance,16),!1===r?this.hide():(this.isHidden&&(Fe(s),s.attr({opacity:1}).show()),this.split?this.renderSplit(r,o.hoverPoints):(s.attr({text:r.join?r.join(""):r}),s.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+He(t.colorIndex,l.colorIndex)),s.attr({stroke:a.borderColor||t.color||l.color||"#666666"}),this.updatePosition({plotX:e,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:i[2]||0})),this.isHidden=!1)},renderSplit:function(t,e){var n,i=this,r=[],o=this.chart,s=o.renderer,a=!0,l=this.options,c=this.getLabel();Ae(t.slice(0,t.length-1),function(t,u){var h=(u=e[u-1]||{isHeader:!0,plotX:e[0].plotX}).series||i,d=h.tt,f=u.series||{},p="highcharts-color-"+He(u.colorIndex,f.colorIndex,"none");d||(h.tt=d=s.label(null,null,null,u.isHeader&&"callout").addClass("highcharts-tooltip-box "+p).attr({padding:l.padding,r:l.borderRadius,fill:l.backgroundColor,stroke:u.color||f.color||"#333333","stroke-width":l.borderWidth}).add(c),u.series&&(d.connector=s.path().addClass("highcharts-tooltip-connector "+p).attr({"stroke-width":f.options.lineWidth||2,stroke:u.color||f.color||"#666666"}).add(d))),d.isActive=!0,d.attr({text:t}),f=(t=d.getBBox()).width+d.strokeWidth(),u.isHeader?(n=t.height,f=Math.max(0,Math.min(u.plotX+o.plotLeft-f/2,o.chartWidth-f))):f=u.plotX+o.plotLeft-He(l.distance,16)-f,0>f&&(a=!1),t=(u.series&&u.series.yAxis&&u.series.yAxis.pos)+(u.plotY||0),t-=o.plotTop,r.push({target:u.isHeader?o.plotHeight+n:t,rank:u.isHeader?1:0,size:h.tt.getBBox().height+1,point:u,x:f,tt:d})}),this.cleanSplit(),De.distribute(r,o.plotHeight+n),Ae(r,function(t){var e,n=t.point,i=t.tt;e={visibility:void 0===t.pos?"hidden":"inherit",x:a||n.isHeader?t.x:n.plotX+o.plotLeft+He(l.distance,16),y:t.pos+o.plotTop},n.isHeader&&(e.anchorX=n.plotX+o.plotLeft,e.anchorY=e.y-100),i.attr(e),n.isHeader||i.connector.attr({d:["M",n.plotX+o.plotLeft-e.x,n.plotY+n.series.yAxis.pos-e.y,"L",(a?-1:1)*He(l.distance,16)+n.plotX+o.plotLeft-e.x,t.pos+o.plotTop+i.getBBox().height/2-e.y]})})},updatePosition:function(t){var e=this.chart,n=this.getLabel();n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t),this.move(Math.round(n.x),Math.round(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,n){var i;e=e.dateTimeLabelFormats;var r,o,s=n&&n.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(s){for(r in o=Me("%m-%d %H:%M:%S.%L",t.x),Be){if(s===Be.week&&+Me("%w",t.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(Be[r]>s){r=l;break}if(a[r]&&o.substr(a[r])!=="01-01 00:00:00.000".substr(a[r]))break;"week"!==r&&(l=r)}r&&(i=e[r])}else i=e.day;return i||e.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=(e=t.series).tooltipOptions,r=i.xDateFormat,o=e.xAxis,s=o&&"datetime"===o.options.type&&Ne(t.key);return n=i[n+"Format"],s&&!r&&(r=this.getXDateFormat(t,i,o)),s&&r&&(n=n.replace("{point.key}","{point.key:"+r+"}")),Oe(n,{point:t,series:e})},bodyFormatter:function(t){return Ie(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}},We=(je=t).addEvent,Ve=je.attr,qe=je.charts,Ye=je.color,Ue=je.css,Ge=je.defined,Xe=je.doc,Ke=je.each,Ze=je.extend,Qe=je.fireEvent,Je=je.offset,tn=je.pick,en=je.removeEvent,nn=je.splat,rn=je.Tooltip,on=je.win,je.Pointer=function(t,e){this.init(t,e)},je.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},rn&&e.tooltip.enabled&&(t.tooltip=new rn(t,e.tooltip),this.followTouchMove=tn(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(){var t=(n=this.chart).options.chart.zoomType,e=/x/.test(t),n=(t=/y/.test(t),n.inverted);this.zoomX=e,this.zoomY=t,this.zoomHor=e&&!n||t&&n,this.zoomVert=t&&!n||e&&n,this.hasZoom=e||t},normalize:function(t,e){var n,i;return(t=t||on.event).target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=Je(this.chart.container)),void 0===i.pageX?(n=Math.max(t.x,t.clientX-e.left),e=t.y):(n=i.pageX-e.left,e=i.pageY-e.top),Ze(t,{chartX:Math.round(n),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Ke(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,n,i,r,o=this.chart,s=o.series,a=o.tooltip,l=!!a&&a.shared,c=!0,u=o.hoverPoint,h=o.hoverSeries,d=[];if(!l&&!h)for(e=0;e<s.length;e++)!s[e].directTouch&&s[e].options.stickyTracking||(s=[]);if(h&&(l?h.noSharedTooltip:h.directTouch)&&u?d=[u]:(l||!h||h.options.stickyTracking||(s=[h]),Ke(s,function(e){n=e.noSharedTooltip&&l,i=!l&&e.directTouch,e.visible&&!n&&!i&&tn(e.options.enableMouseTracking,!0)&&(r=e.searchPoint(t,!n&&1===e.kdDimensions))&&r.series&&d.push(r)}),d.sort(function(t,e){var n=t.distX-e.distX,i=t.dist-e.dist;return 0!==n&&l?n:0!==i?i:t.series.group.zIndex>e.series.group.zIndex?-1:1})),l)for(e=d.length;e--;)(d[e].x!==d[0].x||d[e].series.noSharedTooltip)&&d.splice(e,1);if(d[0]&&(d[0]!==this.prevKDPoint||a&&a.isHidden)){if(l&&!d[0].series.noSharedTooltip){for(e=0;e<d.length;e++)d[e].onMouseOver(t,d[e]!==(h&&h.directTouch&&u||d[0]));d.length&&a&&a.refresh(d.sort(function(t,e){return t.series.index-e.series.index}),t)}else a&&a.refresh(d[0],t),h&&h.directTouch||d[0].onMouseOver(t);this.prevKDPoint=d[0],c=!1}c&&(s=h&&h.tooltipOptions.followPointer,a&&s&&!a.isHidden&&(s=a.getAnchor([{}],t),a.updatePosition({plotX:s[0],plotY:s[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(t){qe[je.hoverChartIndex]&&qe[je.hoverChartIndex].pointer.onDocumentMouseMove(t)},We(Xe,"mousemove",this._onDocumentMouseMove)),Ke(l?d:[tn(u,d[0])],function(e){Ke(o.axes,function(n){(!e||e.series&&e.series[n.coll]===n)&&n.drawCrosshair(t,e)})})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,a=s&&s.shared?o:r;t&&a&&Ke(nn(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&a&&(s.refresh(a),r&&(r.setState(r.state,!0),Ke(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&Ke(o,function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(e),this._onDocumentMouseMove&&(en(Xe,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ke(n.axes,function(t){t.hideCrosshair()}),this.hoverX=this.prevKDPoint=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;Ke(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,r=t.chartX,o=t.chartY,s=this.zoomHor,a=this.zoomVert,l=n.plotLeft,c=n.plotTop,u=n.plotWidth,h=n.plotHeight,d=this.selectionMarker,f=this.mouseDownX,p=this.mouseDownY,g=i.panKey&&t[i.panKey+"Key"];d&&d.touch||(r<l?r=l:r>l+u&&(r=l+u),o<c?o=c:o>c+h&&(o=c+h),this.hasDragged=Math.sqrt(Math.pow(f-r,2)+Math.pow(p-o,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-l,p-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!d&&(this.selectionMarker=d=n.renderer.rect(l,c,s?1:u,a?1:h,0).attr({fill:i.selectionMarkerFill||Ye("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),d&&s&&(r-=f,d.attr({width:Math.abs(r),x:(0<r?0:r)+f})),d&&a&&(r=o-p,d.attr({height:Math.abs(r),y:(0<r?0:r)+p})),e&&!d&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:t,xAxis:[],yAxis:[]},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,c=s.attr?s.attr("width"):s.width,u=s.attr?s.attr("height"):s.height;(this.hasDragged||i)&&(Ke(n.axes,function(n){if(n.zoomEnabled&&Ge(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,h="touchend"===t.type?n.minPixelPadding:0,d=n.toValue((s?a:l)+h);s=n.toValue((s?a+c:l+u)-h),o[n.coll].push({axis:n,min:Math.min(d,s),max:Math.max(d,s)}),r=!0}}),r&&Qe(n,"selection",o,function(t){n.zoom(Ze(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(Ue(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){qe[je.hoverChartIndex]&&qe[je.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var e=qe[je.hoverChartIndex];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;Ge(je.hoverChartIndex)&&qe[je.hoverChartIndex]&&qe[je.hoverChartIndex].mouseIsDown||(je.hoverChartIndex=e.index),(t=this.normalize(t)).returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=Ve(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(Qe(n.series,"click",Ze(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(Ze(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&Qe(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},We(e,"mouseleave",t.onContainerMouseLeave),1===je.chartCount&&We(Xe,"mouseup",t.onDocumentMouseUp),je.hasTouch&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===je.chartCount&&We(Xe,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;for(t in en(this.chart.container,"mouseleave",this.onContainerMouseLeave),je.chartCount||(en(Xe,"mouseup",this.onDocumentMouseUp),en(Xe,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[t]=null}},an=(sn=t).charts,ln=sn.each,cn=sn.extend,un=sn.map,hn=sn.noop,dn=sn.pick,cn(sn.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,h=this.chart,d=t?"x":"y",f=t?"X":"Y",p="chart"+f,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=a||1,y=h.inverted,b=h.bounds[t?"h":"v"],w=1===e.length,x=e[0][p],C=n[0][p],k=!w&&e[1][p],_=!w&&n[1][p];(n=function(){!w&&20<Math.abs(x-k)&&(v=a||Math.abs(C-_)/Math.abs(x-k)),c=(m-C)/v+x,l=h["plot"+(t?"Width":"Height")]/v})(),(e=c)<b.min?(e=b.min,u=!0):e+l>b.max&&(e=b.max-l,u=!0),u?(C-=.8*(C-s[d][0]),w||(_-=.8*(_-s[d][1])),n()):s[d]=[C,_],y||(o[d]=c-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,i[y?t?"scaleY":"scaleX":"scale"+f]=v,i["translate"+f]=o*m+(C-o*x)},pinch:function(t){var e=this,n=e.chart,i=e.pinchDown,r=t.touches,o=r.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,c={},u=1===o&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),h={};1<o&&(e.initiated=!0),a&&e.initiated&&!u&&t.preventDefault(),un(r,function(t){return e.normalize(t)}),"touchstart"===t.type?(ln(r,function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[i[0].chartX,i[1]&&i[1].chartX],s.y=[i[0].chartY,i[1]&&i[1].chartY],ln(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(dn(t.options.min,t.dataMin)),o=t.toPixels(dn(t.options.max,t.dataMax)),s=Math.max(r,o);e.min=Math.min(t.pos,Math.min(r,o)-i),e.max=Math.max(t.pos+t.len,s+i)}}),e.res=!0):i.length&&(l||(e.selectionMarker=l=cn({destroy:hn,touch:!0},n.plotBox)),e.pinchTranslate(i,r,c,l,h,s),e.hasPinched=a,e.scaleGroups(c,h),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var n,i=this.chart;sn.hoverChartIndex=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(n=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),dn(n,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.zoomOption(),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){an[sn.hoverChartIndex]&&an[sn.hoverChartIndex].pointer.drop(t)}}),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,c=t.win,u=t.wrap;if(c.PointerEvent||c.MSPointerEvent){var h={},d=!!c.PointerEvent,f=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),(o=n[t.hoverChartIndex].pointer)[i]({type:r,target:e.currentTarget,preventDefault:s,touches:function(){var t,e=[];for(t in e.item=function(t){return this[t]},h)h.hasOwnProperty(t)&&e.push({pageX:h[t].pageX,pageY:h[t].pageY,target:h[t].target});return e}()}))};o(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),u(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),gn=(fn=t).addEvent,mn=fn.css,vn=fn.discardElement,yn=fn.defined,bn=fn.each,wn=fn.extend,xn=fn.isFirefox,Cn=fn.marginNames,kn=fn.merge,_n=fn.pick,Sn=fn.setAnimation,$n=fn.stableSort,En=fn.win,Tn=fn.wrap,(pn=fn.Legend=function(t,e){this.init(t,e)}).prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),gn(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=_n(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=kn(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.initialItemX=this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=_n(t.symbolWidth,16),this.pages=[]},update:function(t,e){var n=this.chart;this.setOptions(kn(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,_n(e,!0)&&n.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n,i=this.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,l=(i=e?i.itemStyle.color:a,e&&t.color||a),c=t.options&&t.options.marker,u={fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),s){if(c&&s.isMarker&&(u=t.pointAttribs(),!e))for(n in u)u[n]=a;s.attr(u)}},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,i=(r=t._legendItemPos)[0],r=r[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(n?i:this.legendWidth-i-2*e-4,r),o&&(o.x=i,o.y=r)},destroyItem:function(t){var e=t.checkbox;bn(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&vn(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),bn(this.getAllItems(),function(t){bn(["legendItem","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())})}),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;n&&(e=n.translateY,bn(this.allItems,function(o){var s,a=o.checkbox;a&&(s=e+r+a.y+(t||0)+3,mn(a,{left:n.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:s>e-6&&s<e+i-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,n=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),n=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?fn.format(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r="horizontal"===i.layout,o=this.symbolWidth,s=i.symbolPadding,a=this.itemStyle,l=this.itemHiddenStyle,c=this.padding,u=r?_n(i.itemDistance,20):0,h=!i.rtl,d=i.width,f=i.itemMarginBottom||0,p=this.itemMarginTop,g=this.initialItemX,m=t.legendItem,v=!t.series,y=!v&&t.series.drawLegendSymbol?t.series:t,b=y.options,w=(b=this.createCheckboxForItem&&b&&b.showCheckbox,i.useHTML);m||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+y.type+"-series highcharts-color-"+t.colorIndex+" "+(t.options.className||"")+(v?"highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=m=n.text("",h?o+s:-s,this.baseline||0,w).css(kn(t.visible?a:l)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(a=a.fontSize,this.fontMetrics=n.fontMetrics(a,m),this.baseline=this.fontMetrics.f+3+p,m.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,m,w),b&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),n=m.getBBox(),o=t.checkboxOffset=i.itemWidth||t.legendItemWidth||o+s+n.width+u+(b?20:0),this.itemHeight=s=Math.round(t.legendItemHeight||n.height),r&&this.itemX-g+o>(d||e.chartWidth-2*c-g-i.x)&&(this.itemX=g,this.itemY+=p+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,o),this.lastItemY=p+this.itemY+f,this.lastLineHeight=Math.max(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=o:(this.itemY+=p+s+f,this.lastLineHeight=s),this.offsetWidth=d||Math.max((r?this.itemX-g-u:o)+c,this.offsetWidth)},getAllItems:function(){var t=[];return bn(this.chart.series,function(e){var n=e&&e.options;e&&_n(n.showInLegend,!yn(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);i.floating||bn([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!yn(t[s])&&(n[Cn[s]]=Math.max(n[Cn[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+_n(i.margin,12)+e[s]))})},render:function(){var t,e,n,i,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,c=r.options,u=r.padding;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),$n(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,bn(t,function(t){r.renderItem(t)}),n=(c.width||r.offsetWidth)+u,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=u,l||(r.box=l=s.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(a),l.isNew=!0),l.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),0<n&&0<i&&(l[l.isNew?"attr":"animate"](l.crisp({x:0,y:0,width:n,height:i},l.strokeWidth())),l.isNew=!1),l[e?"show":"hide"](),r.legendWidth=n,r.legendHeight=i,bn(t,function(t){r.positionItem(t)}),e&&a.align(wn({width:n,height:i},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,l=(a=r.spacingBox.height+("top"===s.verticalAlign?-a:a)-this.padding,s.maxHeight),c=this.clipRect,u=s.navigation,h=_n(u.animation,!0),d=u.arrowSize||12,f=this.nav,p=this.pages,g=this.padding,m=this.allItems,v=function(t){c.attr({height:t}),i.contentGroup.div&&(i.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+t)+"px,0)")};return"horizontal"===s.layout&&(a/=2),l&&(a=Math.min(a,l)),p.length=0,t>a&&!1!==u.enabled?(this.clipHeight=e=Math.max(a-20-this.titleHeight-g,0),this.currentPage=_n(this.currentPage,1),this.fullHeight=t,bn(m,function(t,i){var r=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var o=p.length;(!o||r-p[o-1]>e&&(n||r)!==p[o-1])&&(p.push(n||r),o++),i===m.length-1&&r+t-p[o-1]>e&&p.push(r),r!==n&&(n=r)}),c||(c=i.clipRect=o.clipRect(0,g,9999,0),i.contentGroup.clip(c)),v(e),f||(this.nav=f=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,d,d).on("click",function(){i.scroll(-1,h)}).add(f),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation").css(u.style).add(f),this.down=o.symbol("triangle-down",0,0,d,d).on("click",function(){i.scroll(1,h)}).add(f)),i.scroll(0),t=a):f&&(v(r.chartHeight),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&Sn(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),e=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},fn.LegendSymbolMixin={drawRectangle:function(t,e){var n=(i=t.options).symbolHeight||t.fontMetrics.f,i=i.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,_n(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker,r=t.symbolWidth,o=this.chart.renderer,s=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":n.lineWidth||0},n.dashStyle&&(e.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(e).add(s),i&&!1!==i.enabled&&(n=0===this.symbol.indexOf("url")?0:i.radius,this.legendSymbol=i=o.symbol(this.symbol,r/2-n,t-n,2*n,2*n,i).addClass("highcharts-point").add(s),i.isMarker=!0)}},(/Trident\/7\.0/.test(En.navigator.userAgent)||xn)&&Tn(pn.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)}),Mn=(Dn=t).addEvent,An=Dn.animate,Pn=Dn.animObject,On=Dn.attr,Nn=Dn.doc,In=Dn.Axis,Ln=Dn.createElement,Hn=Dn.defaultOptions,Rn=Dn.discardElement,Fn=Dn.charts,zn=Dn.css,Bn=Dn.defined,jn=Dn.each,Wn=Dn.error,Vn=Dn.extend,qn=Dn.fireEvent,Yn=Dn.getStyle,Un=Dn.grep,Gn=Dn.isNumber,Xn=Dn.isObject,Kn=Dn.isString,Zn=Dn.Legend,Qn=Dn.marginNames,Jn=Dn.merge,ti=Dn.Pointer,ei=Dn.pick,ni=Dn.pInt,ii=Dn.removeEvent,ri=Dn.seriesTypes,oi=Dn.splat,si=Dn.svg,ai=Dn.syncTimeout,li=Dn.win,ci=Dn.Renderer,ui=Dn.Chart=function(){this.getArgs.apply(this,arguments)},Dn.chart=function(t,e,n){return new ui(t,e,n)},ui.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(Kn(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var n,i,r=t.series;if(t.series=null,(n=Jn(Hn,t)).series=t.series=r,this.userOptions=t,this.respRules=[],r=(t=n.chart).events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=t.showAxes,this.index=Fn.length,Fn.push(this),Dn.chartCount++,r)for(i in r)Mn(this,i,r[i]);this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=ri[t.type||e.type||e.defaultSeriesType])||Wn(17,!0),(e=new e).init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(t){var e,n,i=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=r.length,h=u,d=this.renderer,f=d.isHidden(),p=[];for(Dn.setAnimation(t,this),f&&this.cloneRenderTo(),this.layOutTitles();h--;)if((t=r[h]).options.stacking&&(e=!0,t.isDirty)){n=!0;break}if(n)for(h=u;h--;)(t=r[h]).options.stacking&&(t.isDirty=!0);jn(r,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0),t.isDirtyData&&qn(t,"updatedData")}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&jn(i,function(t){t.updateNames(),t.setScale()}),this.getMargins(),l&&(jn(i,function(t){t.isDirty&&(c=!0)}),jn(i,function(t){var n=t.min+","+t.max;t.extKey!==n&&(t.extKey=n,p.push(function(){qn(t,"afterSetExtremes",Vn(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(c||e)&&t.redraw()})),c&&this.drawChartBox(),jn(r,function(t){(c||t.isDirty)&&t.visible&&t.redraw()}),o&&o.reset(!0),d.draw(),qn(this,"redraw"),f&&this.cloneRenderTo(!0),jn(p,function(t){t.call()})},get:function(t){var e,n,i=this.axes,r=this.series;for(e=0;e<i.length;e++)if(i[e].options.id===t)return i[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(n=r[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t=this,e=(n=this.options).xAxis=oi(n.xAxis||{}),n=n.yAxis=oi(n.yAxis||{});jn(e,function(t,e){t.index=e,t.isX=!0}),jn(n,function(t,e){t.index=e}),e=e.concat(n),jn(e,function(e){new In(t,e)})},getSelectedPoints:function(){var t=[];return jn(this.series,function(e){t=t.concat(Un(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Un(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=Jn(o.title,t),o=o.subtitle=Jn(o.subtitle,e),jn([["title",t,i],["subtitle",e,o]],function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&t.text&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;jn(["title","subtitle"],function(t){var e,o=this[t],s=this.options[t];o&&(e=s.style.fontSize,e=i.fontMetrics(e,o).b,o.css({width:(s.width||r.width+s.widthAdjust)+"px"}).align(Vn({y:n+e+("title"===t?-3:2)},s),!1,"spacingBox"),s.floating||s.verticalAlign||(n=Math.ceil(n+o.getBBox().height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&ei(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(e=this.options.chart).width,e=e.height,n=this.renderToClone||this.renderTo;Bn(t)||(this.containerWidth=Yn(n,"width")),Bn(e)||(this.containerHeight=Yn(n,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,ei(e,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;if(t){if(e){for(;e.childNodes.length;)this.renderTo.appendChild(e.firstChild);Rn(e),delete this.renderToClone}}else n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),zn(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),Nn.body.appendChild(e),n&&e.appendChild(n)},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var t,e,n,i=this.options,r=i.chart;t=this.renderTo;var o,s="highcharts-"+Dn.idCounter++;t||(this.renderTo=t=r.renderTo),Kn(t)&&(this.renderTo=t=Nn.getElementById(t)),t||Wn(13,!0),e=ni(On(t,"data-highcharts-chart")),Gn(e)&&Fn[e]&&Fn[e].hasRendered&&Fn[e].destroy(),On(t,"data-highcharts-chart",this.index),t.innerHTML="",r.skipClone||t.offsetWidth||this.cloneRenderTo(),this.getChartSize(),e=this.chartWidth,n=this.chartHeight,o=Vn({position:"relative",overflow:"hidden",width:e+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),this.container=t=Ln("div",{id:s},o,this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(Dn[r.renderer]||ci)(t,e,n,null,r.forExport,i.exporting&&i.exporting.allowHTML),this.setClassName(r.className),this.renderer.setStyle(r.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!Bn(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(n,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&jn(t.axes,function(t){t.visible&&t.getOffset()}),jn(Qn,function(i,r){Bn(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=Bn(n.width),o=n.width||Yn(i,"width");n=n.height||Yn(i,"height"),i=t?t.target:li,r||e.isPrinting||!o||!n||i!==li&&i!==Nn||(o===e.containerWidth&&n===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=ai(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=o,e.containerHeight=n)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Mn(li,"resize",e),Mn(t,"destroy",function(){ii(li,"resize",e)})},setSize:function(t,e,n){var i=this,r=i.renderer;i.isResizing+=1,Dn.setAnimation(n,i),i.oldChartHeight=i.chartHeight,i.oldChartWidth=i.chartWidth,void 0!==t&&(i.options.chart.width=t),void 0!==e&&(i.options.chart.height=e),i.getChartSize(),((t=r.globalAnimation)?An:zn)(i.container,{width:i.chartWidth+"px",height:i.chartHeight+"px"},t),i.setChartSize(!0),r.setSize(i.chartWidth,i.chartHeight,n),jn(i.axes,function(t){t.isDirty=!0,t.setScale()}),i.isDirtyLegend=!0,i.isDirtyBox=!0,i.layOutTitles(),i.getMargins(),i.setResponsive&&i.setResponsive(!1),i.redraw(n),i.oldChartHeight=null,qn(i,"resize"),ai(function(){i&&qn(i,"endResize",null,function(){--i.isResizing})},Pn(t).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,h[3])/2),s=Math.ceil(Math.max(a,h[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,h[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,h[2])/2-s))},t||jn(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;jn(["margin","spacing"],function(n){var i=e[n],r=Xn(i)?i:[i,i,i,i];jn(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=ei(e[n+i],r[o])})}),jn(Qn,function(e,n){t[e]=ei(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,u=n.backgroundColor,h=n.plotBackgroundColor,d=n.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,w="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),w="attr"),e=(t=n.borderWidth||0)+(n.shadow?8:0),u={fill:u||"none"},(t||s["stroke-width"])&&(u.stroke=n.borderColor,u["stroke-width"]=t),s.attr(u).shadow(n.shadow),s[w]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),w="animate",a||(w="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[w](v),a.attr({fill:h||"none"}).shadow(n.plotShadow),d&&(c?c.animate(v):this.plotBGImage=i.image(d,f,p,g,m).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),w="animate",l||(w="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:f,y:p,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;jn(["inverted","angular","polar"],function(s){for(t=ri[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=ri[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;jn(e,function(t){t.linkedSeries.length=0}),jn(e,function(e){var n=e.options.linkedTo;Kn(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=ei(e.options.visible,n.options.visible,e.visible))})},renderSeries:function(){jn(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&jn(e.items,function(n){var i=Vn(e.style,n.style),r=ni(i.left)+t.plotLeft,o=ni(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new Zn(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight-=21,jn(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(jn(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&jn(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=Jn(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(li.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,o=r&&r.parentNode;for(qn(e,"destroy"),Fn[e.index]=void 0,Dn.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),ii(e),t=n.length;t--;)n[t]=n[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=i.length;t--;)i[t]=i[t].destroy();for(t in jn("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",ii(r),o&&Rn(r)),e)delete e[t]},isReadyToRender:function(){var t=this;return!(!si&&li==li.top&&"complete"!==Nn.readyState&&(Nn.attachEvent("onreadystatechange",function(){Nn.detachEvent("onreadystatechange",t.firstRender),"complete"===Nn.readyState&&t.firstRender()}),1))},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),qn(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),jn(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),qn(t,"beforeRender"),ti&&(t.pointer=new ti(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){jn([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),qn(this,"load"),!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}},fi=(hi=t).each,pi=hi.extend,gi=hi.erase,mi=hi.fireEvent,vi=hi.format,yi=hi.isArray,bi=hi.isNumber,wi=hi.pick,xi=hi.removeEvent,(di=hi.Point=function(){}).prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=wi(this.colorIndex,n),t.chart.pointCount++,this},applyOptions:function(t,e){var n=this.series,i=n.options.pointValKey||n.pointValKey;return t=di.prototype.optionsToObject.call(this,t),pi(this,t),this.options=this.options?pi(this.options,t):t,t.group&&delete this.group,i&&(this.y=this[i]),this.isNull=wi(this.isValid&&!this.isValid(),null===this.x||!bi(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n&&(this.x=void 0===e?n.autoIncrement(this):e),this},optionsToObject:function(t){var e={},n=this.series,i=n.options.keys,r=i||n.pointArrayMap||["y"],o=r.length,s=0,a=0;if(bi(t)||null===t)e[r[0]]=t;else if(yi(t))for(!i&&t.length>o&&("string"==(n=typeof t[0])?e.name=t[0]:"number"===n&&(e.x=t[0]),s++);a<o;)i&&void 0===t[s]||(e[r[a]]=t[s]),s++,a++;else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||"y",i=0;for(t=e[i];this[n]>=t.value;)t=e[++i];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),gi(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(xi(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)this[t=e[n]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=wi(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return fi(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+i+"f}")}),vi(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),mi(this,t,e,n)},visible:!0},ki=(Ci=t).addEvent,_i=Ci.animObject,Si=Ci.arrayMax,$i=Ci.arrayMin,Ei=Ci.correctFloat,Ti=Ci.Date,Di=Ci.defaultOptions,Mi=Ci.defaultPlotOptions,Ai=Ci.defined,Pi=Ci.each,Oi=Ci.erase,Ni=Ci.error,Ii=Ci.extend,Li=Ci.fireEvent,Hi=Ci.grep,Ri=Ci.isArray,Fi=Ci.isNumber,zi=Ci.isString,Bi=Ci.merge,ji=Ci.pick,Wi=Ci.removeEvent,Vi=Ci.splat,qi=Ci.stableSort,Yi=Ci.SVGElement,Ui=Ci.syncTimeout,Gi=Ci.win,Ci.Series=Ci.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":Ci.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:Ci.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,e){var n,i,r=this,o=t.series,s=function(t,e){return ji(t.options.index,t._i)-ji(e.options.index,e._i)};for(n in r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),Ii(r,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),i=e.events)ki(r,n,i[n]);(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),Pi(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,qi(o,s),this.yAxis&&qi(this.yAxis.series,s),Pi(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;Pi(e.axisTypes||[],function(r){Pi(i[r],function(i){t=i.options,(n[r]===t.index||void 0!==n[r]&&n[r]===t.id||void 0===n[r]&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)}),e[r]||e.optionalAxis===r||Ni(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=Fi(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};Pi(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit;return n=ji(n,e.pointStart,0),this.pointInterval=t=ji(this.pointInterval,e.pointInterval,1),i&&(e=new Ti(n),"day"===i?e=+e[Ti.hcSetDate](e[Ti.hcGetDate]()+t):"month"===i?e=+e[Ti.hcSetMonth](e[Ti.hcGetMonth]()+t):"year"===i&&(e=+e[Ti.hcSetFullYear](e[Ti.hcGetFullYear]()+t)),t=e-n),this.xIncrement=n+t,n},setOptions:function(t){var e,n=(e=this.chart).options.plotOptions,i=(e=e.userOptions||{}).plotOptions||{},r=n[this.type];return this.userOptions=t,n=Bi(r,n.series,t),this.tooltipOptions=Bi(Di.tooltip,Di.plotOptions[this.type].tooltip,e.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,t.tooltip),null===r.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,t=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||t.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,className:"highcharts-negative",color:n.negativeColor,fillColor:n.negativeFillColor}),t.length&&Ai(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(t,e,n){var i,r=this.userOptions,o=t+"Index",s=t+"Counter",a=n?n.length:ji(this.chart.options.chart[t+"Count"],this.chart[t+"Count"]);e||(i=ji(r[o],r["_"+o]),Ai(i)||(r["_"+o]=i=this.chart[s]%a,this.chart[s]+=1),n&&(e=n[i])),void 0!==i&&(this[o]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||Mi[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:Ci.LegendSymbolMixin.drawLineMarker,setData:function(t,e,n,i){var r,o=this,s=o.points,a=s&&s.length||0,l=o.options,c=o.chart,u=null,h=o.xAxis,d=l.turboThreshold,f=this.xData,p=this.yData,g=(r=o.pointArrayMap)&&r.length;if(r=(t=t||[]).length,e=ji(e,!0),!1!==i&&r&&a===r&&!o.cropped&&!o.hasGroupedData&&o.visible)Pi(t,function(t,e){s[e].update&&t!==l.data[e]&&s[e].update(t,!1,null,!1)});else{if(o.xIncrement=null,o.colorCounter=0,Pi(this.parallelArrays,function(t){o[t+"Data"].length=0}),d&&r>d){for(n=0;null===u&&n<r;)u=t[n],n++;if(Fi(u))for(n=0;n<r;n++)f[n]=this.autoIncrement(),p[n]=t[n];else if(Ri(u))if(g)for(n=0;n<r;n++)u=t[n],f[n]=u[0],p[n]=u.slice(1,g+1);else for(n=0;n<r;n++)u=t[n],f[n]=u[0],p[n]=u[1];else Ni(12)}else for(n=0;n<r;n++)void 0!==t[n]&&(u={series:o},o.pointClass.prototype.applyOptions.apply(u,[t[n]]),o.updateParallelArrays(u,n));for(zi(p[0])&&Ni(14,!0),o.data=[],o.options.data=o.userOptions.data=t,n=a;n--;)s[n]&&s[n].destroy&&s[n].destroy();h&&(h.minRange=h.userMinRange),o.isDirty=c.isDirtyBox=!0,o.isDirtyData=!!s,n=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(n)},processData:function(t){var e,n=this.xData,i=this.yData,r=n.length;e=0;var o,s,a,l=this.xAxis;a=(f=this.options).cropThreshold;var c,u,h=this.getExtremesFromAll||f.getExtremesFromAll,d=this.isCartesian,f=l&&l.val2lin,p=l&&l.isLog;if(d&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(c=(t=l.getExtremes()).min,u=t.max),d&&this.sorted&&!h&&(!a||r>a||this.forceCrop)&&(n[r-1]<c||n[0]>u?(n=[],i=[]):(n[0]<c||n[r-1]>u)&&(n=(e=this.cropData(this.xData,this.yData,c,u)).xData,i=e.yData,e=e.start,o=!0)),a=n.length||1;--a;)0<(r=p?f(n[a])-f(n[a-1]):n[a]-n[a-1])&&(void 0===s||r<s)?s=r:0>r&&this.requireSorting&&Ni(15);this.cropped=o,this.cropStart=e,this.processedXData=n,this.processedYData=i,this.closestPointRange=s},cropData:function(t,e,n,i){var r,o=t.length,s=0,a=o,l=ji(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=n){s=Math.max(0,r-l);break}for(n=r;n<o;n++)if(t[n]>i){a=n+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,n,i,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,u=this.cropStart||0,h=this.hasGroupedData,d=[];for(o||h||((o=[]).length=r.length,o=this.data=o),i=0;i<c;i++)e=u+i,h?(d[i]=(new l).init(this,[s[i]].concat(Vi(a[i]))),d[i].dataGroup=this.groupMap[i]):(o[e]?n=o[e]:void 0!==r[e]&&(o[e]=n=(new l).init(this,r[e],s[i])),d[i]=n),d[i].index=e;if(o&&(c!==(t=o.length)||h))for(i=0;i<t;i++)i!==u||h||(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=void 0);this.data=o,this.points=d},getExtremes:function(t){var e,n,i,r,o,s=this.yAxis,a=this.processedXData,l=[],c=0,u=(e=this.xAxis.getExtremes()).min,h=e.max;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,o=0;o<e;o++)if(i=a[o],r=t[o],n=(Fi(r,!0)||Ri(r))&&(!s.isLog||r.length||0<r),i=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(a[o+1]||i)>=u&&(a[o-1]||i)<=h,n&&i)if(n=r.length)for(;n--;)null!==r[n]&&(l[c++]=r[n]);else l[c++]=r;this.dataMin=$i(l),this.dataMax=Si(l)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,n,i,r=(m=this.options).stacking,o=this.xAxis,s=o.categories,a=this.yAxis,l=this.points,c=l.length,u=!!this.modifyValue,h=m.pointPlacement,d="between"===h||Fi(h),f=m.threshold,p=m.startFromThreshold?f:0,g=Number.MAX_VALUE,m=0;m<c;m++){var v=l[m],y=v.x,b=v.y;e=v.low;var w,x=r&&a.stacks[(this.negStacks&&b<(p?0:f)?"-":"")+this.stackKey];a.isLog&&null!==b&&0>=b&&(v.isNull=!0),v.plotX=t=Ei(Math.min(Math.max(-1e5,o.translate(y,0,0,0,1,h,"flags"===this.type)),1e5)),r&&this.visible&&!v.isNull&&x&&x[y]&&(i=this.getStackIndicator(i,y,this.index),e=(b=(w=x[y]).points[i.key])[0],b=b[1],e===p&&i.key===x[y].base&&(e=ji(f,a.min)),a.isLog&&0>=e&&(e=null),v.total=v.stackTotal=w.total,v.percentage=w.total&&v.y/w.total*100,v.stackY=b,w.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=Ai(e)?a.translate(e,0,1,0,1):null,u&&(b=this.modifyValue(b,v)),v.plotY=e="number"==typeof b&&1/0!==b?Math.min(Math.max(-1e5,a.translate(b,0,1,0,1)),1e5):void 0,v.isInside=void 0!==e&&0<=e&&e<=a.len&&0<=t&&t<=o.len,v.clientX=d?Ei(o.translate(y,0,0,0,1,h)):t,v.negative=v.y<(f||0),v.category=s&&void 0!==s[v.x]?s[v.x]:v.x,v.isNull||(void 0!==n&&(g=Math.min(g,Math.abs(t-n))),n=t)}this.closestPointRangePx=g},getValidPoints:function(t,e){var n=this.chart;return Hi(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted)||t.isNull)})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=c=i.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n=this.chart,i=_i(this.options.animation);t?this.setClip(i):((t=n[e=this.sharedClipKey])&&t.animate({width:n.plotSizeX},i),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99},i),this.animate=null)},afterAnimate:function(){this.setClip(),Li(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,c=this.chart,u=this.options.marker,h=this.markerGroup,d=ji(u.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>2*u.radius);if(!1!==u.enabled||this._hasPointMarkers)for(e=l.length;e--;)t=(n=l[e]).plotY,i=n.graphic,r=n.marker||{},o=!!n.marker,s=d&&void 0===r.enabled||r.enabled,a=n.isInside,s&&Fi(t)&&null!==n.y?(t=ji(r.symbol,this.symbol),n.hasImage=0===t.indexOf("url"),s=this.markerAttribs(n,n.selected&&"select"),i?i[a?"show":"hide"](!0).animate(s):a&&(0<s.width||n.hasImage)&&(n.graphic=i=c.renderer.symbol(t,s.x,s.y,s.width,s.height,o?r:u).add(h)),i&&i.attr(this.pointAttribs(n,n.selected&&"select")),i&&i.addClass(n.getClassName(),!0)):i&&(n.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=(r=t&&t.options)&&r.marker||{},r=ji(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],r=ji(e&&e.radius,n&&n.radius,r+(n&&n.radiusPlus||0))),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var n,i=this.options.marker,r=(a=t&&t.options)&&a.marker||{},o=i.lineWidth,s=this.color,a=a&&a.color,l=t&&t.color;return t&&this.zones.length&&(t=t.getZone())&&t.color&&(n=t.color),s=a||n||l||s,n=r.fillColor||i.fillColor||s,s=r.lineColor||i.lineColor||s,e&&(i=i.states[e],e=r.states&&r.states[e]||{},o=i.lineWidth||o+i.lineWidthPlus,n=e.fillColor||i.fillColor||n,s=e.lineColor||i.lineColor||s),{stroke:s,"stroke-width":o,fill:n}},destroy:function(){var t,e,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test(Gi.navigator.userAgent),a=r.data||[];for(Li(r,"destroy"),Wi(r),Pi(r.axisTypes||[],function(t){(i=r[t])&&i.series&&(Oi(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();for(n in r.points=null,clearTimeout(r.animationTimeout),r)r[n]instanceof Yi&&!r[n].survive&&(t=s&&"group"===n?"hide":"destroy",r[n][t]());for(n in o.hoverSeries===r&&(o.hoverSeries=null),Oi(o.series,r),r)delete r[n]},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,l=[],c=[];return(i=(t=t||o.points).reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),Pi(t,function(i,u){var h=i.plotX,d=i.plotY,f=t[u-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!Ai(e)&&0<u?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===u||r?u=["M",i.plotX,i.plotY]:o.getPointSpline?u=o.getPointSpline(t,i,u):a?(u=1===a?["L",f.plotX,d]:2===a?["L",(f.plotX+h)/2,f.plotY,"L",(f.plotX+h)/2,d]:["L",h,f.plotY]).push("L",h,d):u=["L",h,d],c.push(i.x),a&&c.push(i.x),l.push.apply(l,u),r=!1)}),l.xMap=c,o.graphPath=l},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];Pi(this.zones,function(n,r){i.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(n.className||""),n.color||t.color,n.dashStyle||e.dashStyle])}),Pi(i,function(i,r){var o=i[0],s=t[o];s?(s.endX=n.xMap,s.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),s={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[o].attr(s).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},applyZones:function(){var t,e,n,i,r,o,s,a,l,c=this,u=this.chart,h=u.renderer,d=this.zones,f=this.clips||[],p=this.graph,g=this.area,m=Math.max(u.chartWidth,u.chartHeight),v=this[(this.zoneAxis||"y")+"Axis"],y=u.inverted,b=!1;d.length&&(p||g)&&v&&void 0!==v.min&&(r=v.reversed,o=v.horiz,p&&p.hide(),g&&g.hide(),i=v.getExtremes(),Pi(d,function(d,w){t=r?o?u.plotWidth:0:o?0:v.toPixels(i.min),t=Math.min(Math.max(ji(e,t),0),m),e=Math.min(Math.max(Math.round(v.toPixels(ji(d.value,i.max),!0)),0),m),b&&(t=e=v.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),v.isXAxis?(n={x:y?l:a,y:0,width:s,height:m},o||(n.x=u.plotHeight-n.x)):(n={x:0,y:y?l:a,width:m,height:s},o&&(n.y=u.plotWidth-n.y)),y&&h.isVML&&(n=v.isXAxis?{x:0,y:r?a:l,height:n.width,width:u.chartWidth}:{x:n.y-u.plotLeft-u.spacingBox.x,y:0,width:n.height,height:u.chartHeight}),f[w]?f[w].animate(n):(f[w]=h.clipRect(n),p&&c["zone-graph-"+w].clip(f[w]),g&&c["zone-area-"+w].clip(f[w])),b=d.value>i.max}),this.clips=f)},invertGroups:function(t){function e(){var e={width:n.yAxis.len,height:n.xAxis.len};Pi(["group","markerGroup"],function(i){n[i]&&n[i].attr(e).invert(t)})}var n=this,i=n.chart;n.xAxis&&(ki(i,"resize",e),ki(n,"destroy",function(){Wi(i,"resize",e)}),e(),n.invertGroups=e)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:i||.1}).add(r),o.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,r=!!e.animate&&n.renderer.isSVG&&_i(i.animation).duration,o=e.visible?"inherit":"hidden",s=i.zIndex,a=e.hasRendered,l=n.seriesGroup,c=n.inverted;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),r&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===i.clip||e.sharedClipKey||a||t.clip(n.clipRect),r&&e.animate(),a||(e.animationTimeout=Ui(function(){e.afterAnimate()},r)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:ji(i&&i.left,t.plotLeft),translateY:ji(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){var t=this,e=t.kdDimensions;delete t.kdTree,Ui(function(){t.kdTree=function e(n,i,r){var o,s;if(s=n&&n.length)return o=t.kdAxisArray[i%r],n.sort(function(t,e){return t[o]-e[o]}),{point:n[s=Math.floor(s/2)],left:e(n.slice(0,s),i+1,r),right:e(n.slice(s+1),i+1,r)}}(t.getValidPoints(null,!t.directTouch),e,e)},t.options.kdNow?0:1)},searchKDTree:function(t,e){var n=this,i=this.kdAxisArray[0],r=this.kdAxisArray[1],o=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return function t(e,s,a,l){var c,u,h=s.point,d=n.kdAxisArray[a%l],f=h;return u=Ai(e[i])&&Ai(h[i])?Math.pow(e[i]-h[i],2):null,c=Ai(e[r])&&Ai(h[r])?Math.pow(e[r]-h[r],2):null,c=(u||0)+(c||0),h.dist=Ai(c)?Math.sqrt(c):Number.MAX_VALUE,h.distX=Ai(u)?Math.sqrt(u):Number.MAX_VALUE,c=0>(d=e[d]-h[d])?"left":"right",u=0>d?"right":"left",s[c]&&(f=(c=t(e,s[c],a+1,l))[o]<f[o]?c:h),s[u]&&Math.sqrt(d*d)<f[o]&&(f=(e=t(e,s[u],a+1,l))[o]<f[o]?e:f),f}(t,this.kdTree,this.kdDimensions,this.kdDimensions)}}),function(t){function e(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:c(e.y,o?4:n?14:-6),x:c(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}var n=t.Axis,i=t.Chart,r=t.correctFloat,o=t.defined,s=t.destroyObjectProperties,a=t.each,l=t.format,c=t.pick;t=t.Series,e.prototype={destroy:function(){s(this,this.axis)},render:function(t){var e=this.options,n=(n=e.format)?l(n,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n=(s=this.axis).chart,i=n.inverted,r=s.reversed,o=(r=this.isNegative&&!r||!this.isNegative&&r,s.translate(s.usePercentage?100:this.total,0,0,0,1)),s=s.translate(0);s=Math.abs(o-s);t=n.xAxis[0].translate(this.x)+t;var a=n.plotHeight;i={x:i?r?o:o-s:t,y:i?a-t-e:r?a-o-s:a-o,width:i?s:e,height:i?e:s};(e=this.label)&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},i.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))})},n.prototype.buildStacks=function(){var t,e,n=this.series,i=c(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)n[i?e:r-e-1].setStackedPoints();for(e=r;e--;)(t=n[i?e:r-e-1]).setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)n[e].setPercentStacks()}},n.prototype.renderStackTotals=function(){var t,e,n=this.chart,i=n.renderer,r=this.stacks,o=this.stackTotalGroup;for(t in o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop),r)for(e in n=r[t])n[e].render(o)},n.prototype.resetStacks=function(){var t,e,n=this.stacks;if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].touched<this.stacksTouched?(n[t][e].destroy(),delete n[t][e]):(n[t][e].total=null,n[t][e].cum=0)},n.prototype.cleanStacks=function(){var t,e,n;if(!this.isXAxis)for(e in this.oldStacks&&(t=this.stacks=this.oldStacks),t)for(n in t[e])t[e][n].cum=t[e][n].total},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,n,i,s,a,l,u,h=this.processedXData,d=this.processedYData,f=[],p=d.length,g=(y=this.options).threshold,m=y.startFromThreshold?g:0,v=y.stack,y=y.stacking,b=this.stackKey,w="-"+b,x=this.negStacks,C=this.yAxis,k=C.stacks,_=C.oldStacks;for(C.stacksTouched+=1,a=0;a<p;a++)l=h[a],u=d[a],s=(t=this.getStackIndicator(t,l,this.index)).key,k[i=(n=x&&u<(m?0:g))?w:b]||(k[i]={}),k[i][l]||(_[i]&&_[i][l]?(k[i][l]=_[i][l],k[i][l].total=null):k[i][l]=new e(C,C.options.stackLabels,n,l,v)),i=k[i][l],null!==u&&(i.points[s]=i.points[this.index]=[c(i.cum,m)],o(i.cum)||(i.base=s),i.touched=C.stacksTouched,0<t.index&&!1===this.singleStacks&&(i.points[s][0]=i.points[this.index+","+l+",0"][0])),"percent"===y?(n=n?b:w,x&&k[n]&&k[n][l]?(n=k[n][l],i.total=n.total=Math.max(n.total,i.total)+Math.abs(u)||0):i.total=r(i.total+(Math.abs(u)||0))):i.total=r(i.total+(u||0)),i.cum=c(i.cum,m)+(u||0),null!==u&&(i.points[s].push(i.cum),f[a]=i.cum);"percent"===y&&(C.usePercentage=!0),this.stackedYData=f,C.oldStacks={}}},t.prototype.setPercentStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,o=e.processedXData;a([n,"-"+n],function(n){for(var s,a,l=o.length;l--;)s=o[l],t=e.getStackIndicator(t,s,e.index,n),(s=(a=i[n]&&i[n][s])&&a.points[t.key])&&(a=a.total?100/a.total:0,s[0]=r(s[0]*a),s[1]=r(s[1]*a),e.stackedYData[l]=s[1])})},t.prototype.getStackIndicator=function(t,e,n,i){return!o(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(t),Ki=(Xi=t).addEvent,Zi=Xi.animate,Qi=Xi.Axis,Ji=Xi.createElement,tr=Xi.css,er=Xi.defined,nr=Xi.each,ir=Xi.erase,rr=Xi.extend,or=Xi.fireEvent,sr=Xi.inArray,ar=Xi.isNumber,lr=Xi.isObject,cr=Xi.merge,ur=Xi.pick,hr=Xi.Point,dr=Xi.Series,fr=Xi.seriesTypes,pr=Xi.setAnimation,gr=Xi.splat,rr(Xi.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=ur(e,!0),or(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,i){var r=e?"xAxis":"yAxis",o=this.options;t=cr(t,{index:this[r].length,isX:e}),new Qi(this,t),o[r]=gr(o[r]||{}),o[r].push(t),ur(n,!0)&&this.redraw(i)},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,r=n.loading,o=function(){i&&tr(i,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};i||(e.loadingDiv=i=Ji("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container),e.loadingSpan=Ji("span",{className:"highcharts-loading-inner"},null,i),Ki(e,"redraw",o)),i.className="highcharts-loading",e.loadingSpan.innerHTML=t||n.lang.loading,tr(i,rr(r.style,{zIndex:10})),tr(e.loadingSpan,r.labelStyle),e.loadingShown||(tr(i,{opacity:0,display:""}),Zi(i,{opacity:r.style.opacity||.5},{duration:r.showDuration||0})),e.loadingShown=!0,o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",Zi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){tr(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:["chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions"],update:function(t,e){var n,i,r,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},s=t.chart;if(s){for(n in cr(!0,this.options.chart,s),"className"in s&&this.setClassName(s.className),("inverted"in s||"polar"in s)&&(this.propFromSeries(),i=!0),s)s.hasOwnProperty(n)&&(-1!==sr("chart."+n,this.propsRequireUpdateSeries)&&(r=!0),-1!==sr(n,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in s&&this.renderer.setStyle(s.style)}for(n in t)this[n]&&"function"==typeof this[n].update?this[n].update(t[n],!1):"function"==typeof this[o[n]]&&this[o[n]](t[n]),"chart"!==n&&-1!==sr(n,this.propsRequireUpdateSeries)&&(r=!0);t.colors&&(this.options.colors=t.colors),t.plotOptions&&cr(!0,this.options.plotOptions,t.plotOptions),nr(["xAxis","yAxis","series"],function(e){t[e]&&nr(gr(t[e]),function(t){var n=er(t.id)&&this.get(t.id)||this[e][0];n&&n.coll===e&&n.update(t,!1)},this)},this),i&&nr(this.axes,function(t){t.update({},!1)}),r&&nr(this.series,function(t){t.update({},!1)}),t.loading&&cr(!0,this.options.loading,t.loading),n=s&&s.width,s=s&&s.height,ar(n)&&n!==this.chartWidth||ar(s)&&s!==this.chartHeight?this.setSize(n,s):ur(e,!0)&&this.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),rr(hr.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),lr(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=lr(u.data[o],!0)?s.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;e=ur(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(sr(this,this.series.data),t,e)}}),rr(dr.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,c=this.data,u=this.chart,h=this.xAxis&&this.xAxis.names,d=l.data,f=this.xData;if(e=ur(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,this.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),h&&r.name&&(h[a]=r.name),d.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&u.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};pr(n,a),e=ur(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),ur(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?or(r,"remove",null,i):i()},update:function(t,e){var n,i=this,r=this.chart,o=this.userOptions,s=this.type,a=t.type||o.type||r.options.chart.type,l=fr[s].prototype,c=["group","markerGroup","dataLabelsGroup"];for(n in(a&&a!==s||void 0!==t.zIndex)&&(c.length=0),nr(c,function(t){c[t]=i[t],delete i[t]}),t=cr(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1,null,!1),l)this[n]=void 0;rr(this,fr[a||s].prototype),nr(c,function(t){i[t]=c[t]}),this.init(r,t),r.linkSeries(),ur(e,!0)&&r.redraw(!1)}}),rr(Qi.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=cr(this.userOptions,t),this.destroy(!0),this.init(n,rr(t,{events:void 0})),n.isDirtyBox=!0,ur(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);ir(e.axes,this),ir(e[n],this),e.options[n].splice(this.options.index,1),nr(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,ur(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}}),vr=(mr=t).color,yr=mr.each,br=mr.map,wr=mr.pick,xr=mr.Series,(0,mr.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var t,e,n,i=[],r=[],o=this.xAxis,s=this.yAxis,a=s.stacks[this.stackKey],l={},c=this.points,u=this.index,h=s.series,d=h.length,f=wr(s.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<c.length;e++)l[c[e].x]=c[e];for(n in a)null!==a[n].total&&r.push(n);r.sort(function(t,e){return t-e}),t=br(h,function(){return this.visible}),yr(r,function(n,c){var h,p,g=0;if(l[n]&&!l[n].isNull)i.push(l[n]),yr([-1,1],function(i){var o=1===i?"rightNull":"leftNull",s=0,g=a[r[c+i]];if(g)for(e=u;0<=e&&e<d;)(h=g.points[e])||(e===u?l[n][o]=!0:t[e]&&(p=a[n].points[e])&&(s-=p[1]-p[0])),e+=f;l[n][1===i?"rightCliff":"leftCliff"]=s});else{for(e=u;0<=e&&e<d;){if(h=a[n].points[e]){g=h[1];break}e+=f}g=s.toPixels(g,!0),i.push({isNull:!0,plotX:o.toPixels(n,!0),plotY:g,yBottom:g})}})}return i},getGraphPath:function(t){var e,n,i,r,o=xr.prototype.getGraphPath,s=(p=this.options).stacking,a=this.yAxis,l=[],c=[],u=this.index,h=a.stacks[this.stackKey],d=p.threshold,f=a.getThreshold(p.threshold),p=p.connectNulls||"percent"===s,g=function(e,n,r){var o=t[e];e=s&&h[o.x].points[u];var p,g,m=o[r+"Null"]||0;r=o[r+"Cliff"]||0,o=!0,r||m?(p=(m?e[0]:e[1])+r,g=e[0]+r,o=!!m):!s&&t[n]&&t[n].isNull&&(p=g=d),void 0!==p&&(c.push({plotX:i,plotY:null===p?f:a.getThreshold(p),isNull:o}),l.push({plotX:i,plotY:null===g?f:a.getThreshold(g),doCurve:!1}))};for(t=t||this.points,s&&(t=this.getStackPoints()),e=0;e<t.length;e++)n=t[e].isNull,i=wr(t[e].rectPlotX,t[e].plotX),r=wr(t[e].yBottom,f),(!n||p)&&(p||g(e,e-1,"left"),n&&!s&&p||(c.push(t[e]),l.push({x:e,plotX:i,plotY:r})),p||g(e,e+1,"right"));return e=o.call(this,c,!0,!0),l.reversed=!0,(n=o.call(this,l,!0,!0)).length&&(n[0]="L"),n=e.concat(n),o=o.call(this,c,!1,p),n.xMap=e.xMap,this.areaPath=n,o},drawGraph:function(){this.areaPath=[],xr.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=[["area","highcharts-area",this.color,n.fillColor]];yr(this.zones,function(e,r){i.push(["zone-area-"+r,"highcharts-area highcharts-zone-area-"+r+" "+e.className,e.color||t.color,e.fillColor||n.fillColor])}),yr(i,function(i){var r=i[0],o=t[r];o?(o.endX=e.xMap,o.animate({d:e})):(o=t[r]=t.chart.renderer.path(e).addClass(i[1]).attr({fill:wr(i[3],vr(i[2]).setOpacity(wr(n.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,o.startX=e.xMap,o.shiftUnit=n.step?2:1})},drawLegendSymbol:mr.LegendSymbolMixin.drawRectangle}),kr=(Cr=t).extendClass,_r=Cr.merge,Sr=Cr.pick,$r=Cr.Series,Er=Cr.seriesTypes,Cr.defaultPlotOptions.spline=_r(Cr.defaultPlotOptions.line),Er.spline=kr($r,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,s,a=e.plotX,l=e.plotY,c=t[n-1];if(n=t[n+1],c&&!c.isNull&&!1!==c.doCurve&&n&&!n.isNull&&!1!==n.doCurve){t=c.plotY,o=n.plotX;var u=0;r=(1.5*l+t)/2.5,s=(1.5*l+(n=n.plotY))/2.5,(o=(1.5*a+o)/2.5)!=(i=(1.5*a+c.plotX)/2.5)&&(u=(s-r)*(o-a)/(o-i)+l-s),s+=u,(r+=u)>t&&r>l?s=2*l-(r=Math.max(t,l)):r<t&&r<l&&(s=2*l-(r=Math.min(t,l))),s>n&&s>l?r=2*l-(s=Math.max(n,l)):s<n&&s<l&&(r=2*l-(s=Math.min(n,l))),e.rightContX=o,e.rightContY=s}return e=["C",Sr(c.rightContX,c.plotX),Sr(c.rightContY,c.plotY),Sr(i,a),Sr(r,l),a,l],c.rightContX=c.rightContY=null,e}}),Dr=(Tr=t).seriesTypes.area.prototype,(0,Tr.seriesType)("areaspline","spline",Tr.defaultPlotOptions.area,{getStackPoints:Dr.getStackPoints,getGraphPath:Dr.getGraphPath,setStackCliffs:Dr.setStackCliffs,drawGraph:Dr.drawGraph,drawLegendSymbol:Tr.LegendSymbolMixin.drawRectangle}),Ar=(Mr=t).animObject,Pr=Mr.color,Or=Mr.each,Nr=Mr.extend,Ir=Mr.isNumber,Lr=Mr.merge,Hr=Mr.pick,Rr=Mr.Series,Fr=Mr.seriesType,zr=Mr.stop,Br=Mr.svg,Fr("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Rr.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Or(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,i=e.xAxis,r=e.yAxis,o=i.reversed,s={},a=0;!1===n.grouping?a=1:Or(e.chart.series,function(n){var i,o=n.options,l=n.yAxis;n.type===e.type&&n.visible&&r.len===l.len&&r.pos===l.pos&&(o.stacking?(t=n.stackKey,void 0===s[t]&&(s[t]=a++),i=s[t]):!1!==o.grouping&&(i=a++),n.columnIndex=i)});var l=Math.min(Math.abs(i.transA)*(i.ordinalSlope||n.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=l*n.groupPadding,u=(l-2*c)/a;return n=Math.min(n.maxPointWidth||i.len,Hr(n.pointWidth,u*(1-2*n.pointPadding))),e.columnMetrics={width:n,offset:(u-n)/2+(c+((e.columnIndex||0)+(o?1:0))*u-l/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=-((s=this.borderWidth)%2?.5:0),s=s%2?.5:1;return r.inverted&&r.renderer.isVML&&(s+=1),n=Math.round(t+n)+o,t=Math.round(t)+o,i=Math.round(e+i)+s,o=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+s,o&&i&&(--e,i+=1),{x:t,y:e,width:n-t,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,i=t.dense=2>t.closestPointRange*t.xAxis.transA,r=(i=t.borderWidth=Hr(n.borderWidth,i?0:1),t.yAxis),o=t.translatedThreshold=r.getThreshold(n.threshold),s=Hr(n.minPointLength,5),a=t.getColumnMetrics(),l=a.width,c=t.barW=Math.max(l,1+2*i),u=t.pointXOffset=a.offset;e.inverted&&(o-=.5),n.pointPadding&&(c=Math.ceil(c)),Rr.prototype.translate.apply(t),Or(t.points,function(n){var i,a=Hr(n.yBottom,o),h=999+Math.abs(a),d=(h=Math.min(Math.max(-h,n.plotY),r.len+h),n.plotX+u),f=c,p=Math.min(h,a),g=Math.max(h,a)-p;Math.abs(g)<s&&s&&(g=s,i=!r.reversed&&!n.negative||r.reversed&&n.negative,p=Math.abs(p-o)>s?a-s:o-(i?s:0)),n.barX=d,n.pointWidth=l,n.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-h,t.xAxis.len-d-f/2,g]:[d+f/2,h+r.pos-e.plotTop,g],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[n.plotX,r.len/2,0,0]:[d,p,f,g])})},getSymbol:Mr.noop,drawLegendSymbol:Mr.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,i=this.options,r=(l=this.pointAttrToOptions||{}).stroke||"borderColor",o=l["stroke-width"]||"borderWidth",s=t&&t.color||this.color,a=t[r]||i[r]||this.color||s,l=i.dashStyle;return t&&this.zones.length&&(s=(s=t.getZone())&&s.color||t.options.color||this.color),e&&(n=(e=i.states[e]).brightness,s=e.color||void 0!==n&&Pr(s).brighten(e.brightness).get()||s,a=e[r]||a,l=e.dashStyle||l),t={fill:s,stroke:a,"stroke-width":t[o]||i[o]||this[o]||0},i.borderRadius&&(t.r=i.borderRadius),l&&(t.dashstyle=l),t},drawPoints:function(){var t,e=this,n=this.chart,i=e.options,r=n.renderer,o=i.animationLimit||250;Or(e.points,function(s){var a=s.graphic;Ir(s.plotY)&&null!==s.y?(t=s.shapeArgs,a?(zr(a),a[n.pointCount<o?"animate":"attr"](Lr(t))):s.graphic=a=r[s.shapeType](t).attr({class:s.getClassName()}).add(s.group||e.group),a.attr(e.pointAttribs(s,s.selected&&"select")).shadow(i.shadow,null,i.stacking&&!i.borderRadius)):a&&(s.graphic=a.destroy())})},animate:function(t){var e=this,n=this.yAxis,i=e.options,r=this.chart.inverted,o={};Br&&(t?(o.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(i.threshold))),r?o.translateX=t-n.len:o.translateY=t,e.group.attr(o)):(o[r?"translateX":"translateY"]=n.pos,e.group.animate(o,Nr(Ar(e.options.animation),{step:function(t,n){e.group.attr({scaleY:Math.max(.001,n.pos)})}})),e.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Or(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Rr.prototype.remove.apply(t,arguments)}}),(0,t.seriesType)("bar","column",null,{inverted:!0}),Wr=(jr=t).Series,(jr=jr.seriesType)("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Wr.prototype.drawGraph.call(this)}}),qr=(Vr=t).pick,Yr=Vr.relativeLength,Vr.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,i=this.chart,r=2*(n.slicedOffset||0),o=i.plotWidth-2*r,s=(i=i.plotHeight-2*r,n.center),a=(s=[qr(s[0],"50%"),qr(s[1],"50%"),n.size||"100%",n.innerSize||0],Math.min(o,i));for(t=0;4>t;++t)e=s[t],n=2>t||2===t&&/%$/.test(e),s[t]=Yr(e,[o,i,a,s[2]][t])+(n?r:0);return s[3]>s[2]&&(s[3]=s[2]),s}},Gr=(Ur=t).addEvent,Xr=Ur.defined,Kr=Ur.each,Zr=Ur.extend,Qr=Ur.inArray,Jr=Ur.noop,to=Ur.pick,eo=Ur.Point,no=Ur.Series,io=Ur.seriesType,ro=Ur.setAnimation,io("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:Ur.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(Kr(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)0>(e=i[t]).y&&(e.y=null),n+=o&&!e.visible?0:e.y;for(this.total=n,t=0;t<r;t++)(e=i[t]).percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){no.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,s=0,a=(f=this.options).slicedOffset,l=a+(f.borderWidth||0),c=f.startAngle||0,u=this.startAngleRad=Math.PI/180*(c-90),h=(c=(this.endAngleRad=Math.PI/180*(to(f.endAngle,c+360)-90))-u,this.points),d=f.dataLabels.distance,f=f.ignoreHiddenPoint,p=h.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+d),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+d)},r=0;r<p;r++)o=h[r],e=u+s*c,f&&!o.visible||(s+=o.percentage/100),n=u+s*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},(i=(n+e)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),o.slicedTranslation={translateX:Math.round(Math.cos(i)*a),translateY:Math.round(Math.sin(i)*a)},e=Math.cos(i)*t[2]/2,n=Math.sin(i)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*n],o.half=i<-Math.PI/2||i>Math.PI/2?1:0,o.angle=i,l=Math.min(l,d/5),o.labelPos=[t[0]+e+Math.cos(i)*d,t[1]+n+Math.sin(i)*d,t[0]+e+Math.cos(i)*l,t[1]+n+Math.sin(i)*l,t[0]+e,t[1]+n,0>d?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,r=this,o=r.chart.renderer,s=r.options.shadow;s&&!r.shadowGroup&&(r.shadowGroup=o.g("shadow").add(r.group)),Kr(r.points,function(a){if(null!==a.y){e=a.graphic,i=a.shapeArgs,t=a.sliced?a.slicedTranslation:{};var l=a.shadowGroup;s&&!l&&(l=a.shadowGroup=o.g("shadow").add(r.shadowGroup)),l&&l.attr(t),n=r.pointAttribs(a,a.selected&&"select"),e?e.setRadialReference(r.center).attr(n).animate(Zr(i,t)):(a.graphic=e=o[a.shapeType](i).addClass(a.getClassName()).setRadialReference(r.center).attr(t).add(r.group),a.visible||e.attr({visibility:"hidden"}),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(s,l))}})},searchPoint:Jr,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:Ur.LegendSymbolMixin.drawRectangle,getCenter:Ur.CenteredSeriesMixin.getCenter,getSymbol:Jr},{init:function(){eo.prototype.init.apply(this,arguments);var t,e=this;return e.name=to(e.name,"Slice"),Gr(e,"select",t=function(t){e.slice("select"===t.type)}),Gr(e,"unselect",t),e},setVisible:function(t,e){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint;e=to(e,o),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[Qr(n,i.data)]=n.options,Kr(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),o&&(i.isDirty=!0),e&&r.redraw())},slice:function(t,e,n){var i=this.series;ro(n,i.chart),to(e,!0),this.sliced=this.options.sliced=t=Xr(t)?t:!this.sliced,i.options.data[Qr(this,i.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),so=(oo=t).addEvent,ao=oo.arrayMax,lo=oo.defined,co=oo.each,uo=oo.extend,ho=oo.format,fo=oo.map,po=oo.merge,go=oo.noop,mo=oo.pick,vo=oo.relativeLength,yo=oo.Series,bo=oo.seriesTypes,wo=oo.stableSort,xo=oo.stop,oo.distribute=function(t,e){function n(t,e){return t.target-e.target}var i,r,o=!0,s=t,a=[];for(r=0,i=t.length;i--;)r+=t[i].size;if(r>e){for(wo(t,function(t,e){return(e.rank||0)-(t.rank||0)}),r=i=0;r<=e;)r+=t[i].size,i++;a=t.splice(i-1,t.length)}for(wo(t,n),t=fo(t,function(t){return{size:t.size,targets:[t.target]}});o;){for(i=t.length;i--;)o=t[i],r=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,r-o.size/2),e-o.size);for(i=t.length,o=!1;i--;)0<i&&t[i-1].pos+t[i-1].size>t[i].pos&&(t[i-1].size+=t[i].size,t[i-1].targets=t[i-1].targets.concat(t[i].targets),t[i-1].pos+t[i-1].size>e&&(t[i-1].pos=e-t[i-1].size),t.splice(i,1),o=!0)}i=0,co(t,function(t){var e=0;co(t.targets,function(){s[i].pos=t.pos+e,e+=s[i].size,i++})}),s.push.apply(s,a),wo(s,n)},yo.prototype.drawDataLabels=function(){var t,e,n,i,r=this,o=r.options,s=o.dataLabels,a=r.points,l=r.hasRendered||0,c=mo(s.defer,!0),u=r.chart.renderer;(s.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(s),i=r.plotGroup("dataLabelsGroup","data-labels",c&&!l?"hidden":"visible",s.zIndex||6),c&&(i.attr({opacity:+l}),l||so(r,"afterAnimate",function(){r.visible&&i.show(!0),i[o.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=s,co(a,function(a){var l,c,h,d,f=a.dataLabel,p=a.connector,g=!0,m={};if(t=a.dlOptions||a.options&&a.options.dataLabels,l=mo(t&&t.enabled,e.enabled)&&null!==a.y,f&&!l)a.dataLabel=f.destroy();else if(l){if(d=(s=po(e,t)).style,l=s.rotation,c=a.getLabelConfig(),n=s.format?ho(s.format,c):s.formatter.call(c,s),d.color=mo(s.color,d.color,r.color,"#000000"),f)lo(n)?(f.attr({text:n}),g=!1):(a.dataLabel=f=f.destroy(),p&&(a.connector=p.destroy()));else if(lo(n)){for(h in f={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth,r:s.borderRadius||0,rotation:l,padding:s.padding,zIndex:1},"contrast"===d.color&&(m.color=s.inside||0>s.distance||o.stacking?u.getContrast(a.color||r.color):"#000000"),o.cursor&&(m.cursor=o.cursor),f)void 0===f[h]&&delete f[h];(f=a.dataLabel=u[l?"text":"label"](n,0,-9999,s.shape,null,null,s.useHTML,null,"data-label").attr(f)).addClass("highcharts-data-label-color-"+a.colorIndex+" "+(s.className||"")),f.css(uo(d,m)),f.add(i),f.shadow(s.shadow)}f&&r.alignDataLabel(a,f,s,null,g)}}))},yo.prototype.alignDataLabel=function(t,e,n,i,r){var o,s=this.chart,a=s.inverted,l=mo(t.plotX,-9999),c=mo(t.plotY,-9999),u=e.getBBox(),h=n.rotation,d=n.align,f=this.visible&&(t.series.forceDL||s.isInsidePlot(l,Math.round(c),a)||i&&s.isInsidePlot(l,a?i.x+1:i.y+i.height-1,a)),p="justify"===mo(n.overflow,"justify");f&&(o=n.style.fontSize,o=s.renderer.fontMetrics(o,e).b,i=uo({x:a?s.plotWidth-c:l,y:Math.round(a?s.plotHeight-l:c),width:0,height:0},i),uo(n,{width:u.width,height:u.height}),h?(p=!1,a=s.renderer.rotCorr(o,h),a={x:i.x+n.x+i.width/2+a.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](a).attr({align:d}),l=180<(l=(h+720)%360)&&360>l,"left"===d?a.y-=l?u.height:0:"center"===d?(a.x-=u.width/2,a.y-=u.height/2):"right"===d&&(a.x-=u.width,a.y-=l?0:u.height)):(e.align(n,null,i),a=e.alignAttr),p?this.justifyDataLabel(e,n,a,u,i,r):mo(n.crop,!0)&&(f=s.isInsidePlot(a.x,a.y)&&s.isInsidePlot(a.x+u.width,a.y+u.height)),n.shape&&!h&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),f||(xo(e),e.attr({y:-9999}),e.placed=!1)},yo.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,h=t.box?0:t.padding||0;0>(s=n.x+h)&&("right"===c?e.align="left":e.x=-s,a=!0),(s=n.x+i.width-h)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),0>(s=n.y+h)&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),(s=n.y+i.height-h)>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},bo.pie&&(bo.pie.prototype.drawDataLabels=function(){var t,e,n,i,r,o,s,a,l,c,u=this,h=u.data,d=u.chart,f=u.options.dataLabels,p=mo(f.connectorPadding,10),g=mo(f.connectorWidth,1),m=d.plotWidth,v=d.plotHeight,y=f.distance,b=u.center,w=b[2]/2,x=b[1],C=0<y,k=[[],[]],_=[0,0,0,0];u.visible&&(f.enabled||u._hasPointLabels)&&(yo.prototype.drawDataLabels.apply(u),co(h,function(t){t.dataLabel&&t.visible&&(k[t.half].push(t),t.dataLabel._pos=null)}),co(k,function(e,h){var g,C,k,S,$,E=e.length;if(E)for(u.sortByAngle(e,h-.5),0<y&&(g=Math.max(0,x-w-y),C=Math.min(x+w+y,d.plotHeight),k=fo(e,function(t){if(t.dataLabel)return $=t.dataLabel.getBBox().height||21,{target:t.labelPos[1]-g+$/2,size:$,rank:t.y}}),oo.distribute(k,C+$-g)),c=0;c<E;c++)t=e[c],r=t.labelPos,n=t.dataLabel,l=!1===t.visible?"hidden":"inherit",S=r[1],k?void 0===k[c].pos?l="hidden":(o=k[c].size,a=g+k[c].pos):a=S,s=f.justify?b[0]+(h?-1:1)*(w+y):u.getX(a<g+2||a>C-2?S:a,h),n._attr={visibility:l,align:r[6]},n._pos={x:s+f.x+({left:p,right:-p}[r[6]]||0),y:a+f.y-10},r.x=s,r.y=a,null===u.options.size&&(i=n.width,s-i<p?_[3]=Math.max(Math.round(i-s+p),_[3]):s+i>m-p&&(_[1]=Math.max(Math.round(s+i-m+p),_[1])),0>a-o/2?_[0]=Math.max(Math.round(o/2-a),_[0]):a+o/2>v&&(_[2]=Math.max(Math.round(a+o/2-v),_[2])))}),0===ao(_)||this.verifyDataLabelOverflow(_))&&(this.placeDataLabels(),C&&g&&co(this.points,function(t){var i;e=t.connector,(n=t.dataLabel)&&n._pos&&t.visible?(l=n._attr.visibility,(i=!e)&&(t.connector=e=d.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(u.dataLabelsGroup),e.attr({"stroke-width":g,stroke:f.connectorColor||t.color||"#666666"})),e[i?"attr":"animate"]({d:u.connectorPath(t.labelPos)}),e.attr("visibility",l)):e&&(t.connector=e.destroy())}))},bo.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return mo(this.options.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},bo.pie.prototype.placeDataLabels=function(){co(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},bo.pie.prototype.alignDataLabel=go,bo.pie.prototype.verifyDataLabelOverflow=function(t){var e,n,i=this.center,r=this.options,o=r.center,s=r.minSize||80;return null!==o[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),s):(e=Math.max(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==o[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),s):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(vo(r.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):n=!0,n}),bo.column&&(bo.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,l=mo(t.below,t.plotY>mo(this.translatedThreshold,s.yAxis.len)),c=mo(n.inside,!!this.options.stacking);a&&(0>(i=po(a)).y&&(i.height+=i.y,i.y=0),0<(a=i.y+i.height-s.yAxis.len)&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),c||(o?(i.x+=l?0:i.width,i.width=0):(i.y+=l?i.height:0,i.height=0))),n.align=mo(n.align,!o||c?"center":l?"right":"left"),n.verticalAlign=mo(n.verticalAlign,o||c?"middle":l?"top":"bottom"),yo.prototype.alignDataLabel.call(this,t,e,n,i,r)}),ko=(Co=t).Chart,_o=Co.each,So=Co.pick,$o=Co.addEvent,ko.prototype.callbacks.push(function(t){function e(){var e=[];_o(t.series,function(t){var n=t.options.dataLabels,i=t.dataLabelCollections||["dataLabel"];(n.enabled||t._hasPointLabels)&&!n.allowOverlap&&t.visible&&_o(i,function(n){_o(t.points,function(t){t[n]&&(t[n].labelrank=So(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[n]))})})}),t.hideOverlappingLabels(e)}e(),$o(t,"redraw",e)}),ko.prototype.hideOverlappingLabels=function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y=t.length;for(n=0;n<y;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<y;n++)for(i=t[n],e=n+1;e<y;++e)r=t[e],i&&r&&i.placed&&r.placed&&0!==i.newOpacity&&0!==r.newOpacity&&(o=i.alignAttr,s=r.alignAttr,a=i.parentGroup,l=r.parentGroup,c=2*(i.box?0:i.padding),u=o.x+a.translateX,h=o.y+a.translateY,d=i.width-c,f=i.height-c,p=s.x+l.translateX,g=s.y+l.translateY,m=r.width-c,v=r.height-c,o=!(p>u+d||p+m<u||g>h+f||g+v<h))&&((i.labelrank<r.labelrank?i:r).newOpacity=0);_o(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})},Do=(Eo=t).addEvent,Mo=Eo.Chart,Ao=Eo.createElement,Po=Eo.css,Oo=Eo.defaultOptions,No=Eo.defaultPlotOptions,Io=Eo.each,Lo=Eo.extend,Ho=Eo.fireEvent,Ro=Eo.hasTouch,Fo=Eo.inArray,zo=Eo.isObject,Bo=Eo.Legend,jo=Eo.merge,Wo=Eo.pick,Vo=Eo.Point,qo=Eo.Series,Yo=Eo.seriesTypes,Uo=Eo.svg,To=Eo.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=function(t){for(var n,i=t.target;i&&!n;)n=i.point,i=i.parentNode;void 0!==n&&n!==e.hoverPoint&&n.onMouseOver(t)};Io(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Io(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){n.onTrackerMouseOut(t)}),Ro&&t[e].on("touchstart",i),t.options.cursor&&t[e].css(Po).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,l=s.renderer,c=s.options.tooltip.snap,u=e.tracker,h=function(){s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(Uo?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-c,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+c,r[t-1]);u?u.attr({d:r}):e.graph&&(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:i?d:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*c),zIndex:2}).add(e.group),Io([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),Ro&&t.on("touchstart",h)}))}},Yo.column&&(Yo.column.prototype.drawTracker=To.drawTrackerPoint),Yo.pie&&(Yo.pie.prototype.drawTracker=To.drawTrackerPoint),Yo.scatter&&(Yo.scatter.prototype.drawTracker=To.drawTrackerPoint),Lo(Bo.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.seriesGroup.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i.itemStyle:i.itemHiddenStyle),r.seriesGroup.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):Ho(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=Ao("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Do(t.checkbox,"click",function(e){Ho(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),Oo.legend.itemStyle.cursor="pointer",Lo(Mo.prototype,{showResetZoom:function(){var t=this,e=Oo.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,o)},zoomOut:function(){var t=this;Ho(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?Io(this.axes,function(t){e=t.zoom()}):Io(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,o=n.isXAxis;(i[o?"zoomX":"zoomY"]||i[o?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&zo(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(Wo(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&Io(r,function(t){t.setState()}),Io("xy"===e?[1,0]:[1],function(e){var r=(e=i[e?"xAxis":"yAxis"][0]).horiz,o=t[r?"chartX":"chartY"],s=i[r=r?"mouseDownX":"mouseDownY"],a=(e.pointRange||0)/2,l=e.getExtremes(),c=e.toValue(s-o,!0)+a;a=e.toValue(s+e.len-o,!0)-a,s=s>o,e.series.length&&(s||c>Math.min(l.dataMin,l.min))&&(!s||a<Math.max(l.dataMax,l.max))&&(e.setExtremes(c,a,!1,!1,{trigger:"pan"}),n=!0),i[r]=o}),n&&i.redraw(!1),Po(i.container,{cursor:"move"})}}),Lo(Vo.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=Wo(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[Fo(n,i.data)]=n.options,n.setState(t&&"select"),e||Io(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[Fo(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var n=this.series,i=n.chart,r=i.tooltip,o=i.hoverPoint;this.series&&(e||(o&&o!==this&&o.onMouseOut(),i.hoverSeries!==n&&n.onMouseOver(),i.hoverPoint=this),!r||r.shared&&!n.noSharedTooltip?r||this.setState("hover"):(this.setState("hover"),r.refresh(this,t)),this.firePointEvent("mouseOver"))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==Fo(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=jo(this.series.options.point,this.options).events;for(t in this.events=e,e)Do(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t]||{},a=No[o.type].marker&&o.options.marker,l=a&&!1===a.enabled,c=a&&a.states&&a.states[t]||{},u=!1===c.enabled,h=o.stateMarkerGraphic,d=this.marker||{},f=o.chart,p=o.halo;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(u||l&&!1===c.enabled)||t&&d.states&&d.states[t]&&!1===d.states[t].enabled||(a&&o.markerAttribs&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.attr(o.pointAttribs(this,t)),n&&this.graphic.animate(n,Wo(f.options.chart.animation,c.animation,a.animation)),h&&h.hide()):(t&&c&&(a=d.symbol||o.symbol,h&&h.currentSymbol!==a&&(h=h.destroy()),h?h[e?"animate":"attr"]({x:n.x,y:n.y}):a&&(o.stateMarkerGraphic=h=f.renderer.symbol(a,n.x,n.y,n.width,n.height).add(o.markerGroup),h.currentSymbol=a),h&&h.attr(o.pointAttribs(this,t))),h&&(h[t&&f.isInsidePlot(i,r,f.inverted)?"show":"hide"](),h.element.point=this)),(i=s.halo)&&i.size?(p||(o.halo=p=f.renderer.path().add(o.markerGroup||o.group)),Eo.stop(p),p[e?"animate":"attr"]({d:this.haloPath(i.size)}),p.attr({class:"highcharts-halo highcharts-color-"+Wo(this.colorIndex,o.colorIndex)}),p.attr(Lo({fill:this.color||o.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))):p&&p.animate({d:this.haloPath(0)}),this.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),Lo(qo.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Ho(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&Ho(this,"mouseOut"),!n||t.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth;if(n=0,t=t||"",e.state!==t&&(Io([e.group,e.markerGroup],function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle))for(r={"stroke-width":o},i.attr(r);e["zone-graph-"+n];)e["zone-graph-"+n].attr(r),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",Io(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&Io(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Io(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),Ho(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Ho(this,t?"select":"unselect")},drawTracker:To.drawTrackerGraph}),Xo=(Go=t).Chart,Ko=Go.each,Zo=Go.inArray,Qo=Go.isObject,Jo=Go.pick,ts=Go.splat,Xo.prototype.setResponsive=function(t){var e=this.options.responsive;e&&e.rules&&Ko(e.rules,function(e){this.matchResponsiveRule(e,t)},this)},Xo.prototype.matchResponsiveRule=function(t,e){var n,i=this.respRules,r=t.condition;n=t.callback||function(){return this.chartWidth<=Jo(r.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Jo(r.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Jo(r.minWidth,0)&&this.chartHeight>=Jo(r.minHeight,0)},void 0===t._id&&(t._id=Go.idCounter++),n=n.call(this),!i[t._id]&&n?t.chartOptions&&(i[t._id]=this.currentOptions(t.chartOptions),this.update(t.chartOptions,e)):i[t._id]&&!n&&(this.update(i[t._id],e),delete i[t._id])},Xo.prototype.currentOptions=function(t){var e={};return function t(e,n,i){var r,o;for(r in e)if(-1<Zo(r,["series","xAxis","yAxis"]))for(e[r]=ts(e[r]),i[r]=[],o=0;o<e[r].length;o++)i[r][o]={},t(e[r][o],n[r][o],i[r][o]);else Qo(e[r])?(i[r]={},t(e[r],n[r]||{},i[r])):i[r]=n[r]||null}(t,this.options,e),e},t}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";function t(t,e,n){void 0===n&&(n=0),n<0&&(n+=t.length),n<0&&(n=0);for(var i=t.length;n<i;n++)if(n in t&&t[n]===e)return n;return-1}function e(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(this,t),i?i.apply(this,t):void 0}}function n(t,e){if(angular.isArray(e)){t=angular.isArray(t)?t:[];for(var i=0;i<e.length;i++)t[i]=n(t[i]||{},e[i])}else if(angular.isObject(e))for(var r in t=angular.isObject(t)?t:{},e)t[r]=n(t[r]||{},e[r]);else t=e;return t}angular.module("highcharts-ng",[]).factory("highchartsNG",["$q","$window",function(t,e){var n=t.when(e.Highcharts);function i(){return n}return{getHighcharts:i,ready:function(t,e){i().then(function(){t.call(e)})}}}]).directive("highchart",["highchartsNG","$timeout",function(i,r){var o=0,s=function(t){var e=!1;return angular.forEach(t,function(t){angular.isDefined(t.id)||(t.id="series-"+o++,e=!0)}),e},a=["xAxis","yAxis"],l={stock:"StockChart",map:"Map",chart:"Chart"},c=function(t,i,o){var s={},l={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1},xAxis:{events:{}},yAxis:{events:{}}};return(s=o.options?n(l,o.options):l).chart.renderTo=i[0],angular.forEach(a,function(i){angular.isDefined(o[i])&&(s[i]=n(s[i]||{},o[i]),(angular.isDefined(o[i].currentMin)||angular.isDefined(o[i].currentMax))&&(e(s.chart.events,"selection",function(e){var n=this;e[i]?t.$apply(function(){t.config[i].currentMin=e[i][0].min,t.config[i].currentMax=e[i][0].max}):t.$apply(function(){t.config[i].currentMin=n[i][0].dataMin,t.config[i].currentMax=n[i][0].dataMax})}),e(s.chart.events,"addSeries",function(e){t.config[i].currentMin=this[i][0].min||t.config[i].currentMin,t.config[i].currentMax=this[i][0].max||t.config[i].currentMax}),e(s[i].events,"setExtremes",function(e){e.trigger&&"zoom"!==e.trigger&&r(function(){t.config[i].currentMin=e.min,t.config[i].currentMax=e.max,t.config[i].min=e.min,t.config[i].max=e.max},0)})))}),o.title&&(s.title=o.title),o.subtitle&&(s.subtitle=o.subtitle),o.credits&&(s.credits=o.credits),o.size&&(o.size.width&&(s.chart.width=o.size.width),o.size.height&&(s.chart.height=o.size.height)),s},u=function(t,e){var n=t.getExtremes();e.currentMin===n.dataMin&&e.currentMax===n.dataMax||(t.setExtremes?t.setExtremes(e.currentMin,e.currentMax,!1):t.detachedsetExtremes(e.currentMin,e.currentMax,!1))},h=function(t,e,n){(e.currentMin||e.currentMax)&&t[n][0].setExtremes(e.currentMin,e.currentMax,!0)},d=function(t){return angular.extend(n({},t),{data:null,visible:null})},f=function(t){return void 0===t.config?"Chart":l[(""+t.config.chartType).toLowerCase()]||(t.config.useHighStocks?"StockChart":"Chart")};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:function(e,n,o){i.getHighcharts().then(function(i){!function(e,n,i,o){var l={},p=!1,g=function(e,i){var r,o=[];if(e){var a=s(e);if(a&&!n.disableDataWatch)return!1;if(angular.forEach(e,function(t,e){o.push(t.id);var n=p.get(t.id);if(n)if(angular.equals(l[t.id],d(t)))if(void 0!==t.visible&&n.visible!==t.visible&&n.setVisible(t.visible,!1),e<i.length){var r=i[e],s=angular.copy(r),a=t.data[t.data.length-1];s.data.push(a),angular.equals(s,t)?n.addPoint(a,!1):(s.data.shift(),angular.equals(s,t)?n.addPoint(a,!1,!0):n.setData(angular.copy(t.data),!1))}else n.setData(angular.copy(t.data),!1);else n.update(angular.copy(t),!1);else p.addSeries(angular.copy(t),!1);l[t.id]=d(t)}),n.config.noData){var c=!1;for(r=0;r<e.length;r++)if(e[r].data&&e[r].data.length>0){c=!0;break}c?p.hideLoading():p.showLoading(n.config.noData)}}for(r=p.series.length-1;r>=0;r--){var u=p.series[r];"highcharts-navigator-series"!==u.options.id&&t(o,u.options.id)<0&&u.remove(!1)}return!0},m=function(){p&&p.destroy(),l={};var t=n.config||{},r=c(n,i,t),o=t.func||void 0,s=f(n);p=new e[s](r,o);for(var u=0;u<a.length;u++)t[a[u]]&&h(p,t[a[u]],a[u]);t.loading&&p.showLoading(),t.getHighcharts=function(){return p}};m(),n.disableDataWatch?n.$watchCollection("config.series",function(t,e){g(t),p.redraw()}):n.$watch("config.series",function(t,e){var n=g(t,e);n&&p.redraw()},!0);n.$watch("config.title",function(t){p.setTitle(t,!0)},!0),n.$watch("config.subtitle",function(t){p.setTitle(!0,t)},!0),n.$watch("config.loading",function(t){t?p.showLoading(!0===t?null:t):p.hideLoading()}),n.$watch("config.noData",function(t){n.config&&n.config.loading&&p.showLoading(t)},!0),n.$watch("config.credits.enabled",function(t){t?p.credits.show():p.credits&&p.credits.hide()}),n.$watch(f,function(t,e){t!==e&&m()}),angular.forEach(a,function(t){n.$watch("config."+t,function(e){if(e){if(angular.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];n<p[t].length&&(p[t][n].update(i,!1),u(p[t][n],angular.copy(i)))}else p[t][0].update(e,!1),u(p[t][0],angular.copy(e));p.redraw()}},!0)}),n.$watch("config.options",function(t,e,n){t!==e&&(m(),g(n.config.series),p.redraw())},!0),n.$watch("config.size",function(t,e){t!==e&&t&&p.setSize(t.width||p.chartWidth,t.height||p.chartHeight)},!0),n.$on("highchartsng.reflow",function(){p.reflow()}),n.$on("$destroy",function(){if(p){try{p.destroy()}catch(t){}r(function(){i.remove()},0)}})}(i,e,n)})}}}])}(),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t){return"static"===(i="position",((n=t).currentStyle?n.currentStyle[i]:e.getComputedStyle?e.getComputedStyle(n)[i]:n.style[i])||"static");var n,i}return{position:function(e){var i=this.offset(e),r={top:0,left:0},o=function(e){for(var i=t[0],r=e.offsetParent||i;r&&r!==i&&n(r);)r=r.offsetParent;return r||i}(e[0]);return o!=t[0]&&((r=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft),{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:i.top-r.top,left:i.left-r.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].body.scrollTop||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].body.scrollLeft||t[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(t,e,n,i){var r={day:a(e.dayFormat,i.dayFormat),month:a(e.monthFormat,i.monthFormat),year:a(e.yearFormat,i.yearFormat),dayHeader:a(e.dayHeaderFormat,i.dayHeaderFormat),dayTitle:a(e.dayTitleFormat,i.dayTitleFormat),monthTitle:a(e.monthTitleFormat,i.monthTitleFormat)},o=a(e.startingDay,i.startingDay),s=a(e.yearRange,i.yearRange);function a(e,n){return angular.isDefined(e)?t.$parent.$eval(e):n}function l(t,e,i,r){return{date:t,label:n(t,e),selected:!!i,secondary:!!r}}this.minDate=i.minDate?new Date(i.minDate):null,this.maxDate=i.maxDate?new Date(i.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(t,e){var i=t.getFullYear(),s=t.getMonth(),a=new Date(i,s,1),c=o-a.getDay(),u=c>0?7-c:-c,h=new Date(a),d=0;u>0&&(h.setDate(1-u),d+=u),d+=new Date(i,s+1,0).getDate();for(var f=function(t,e){for(var n=new Array(e),i=t,r=0;r<e;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}(h,d+=(7-d%7)%7),p=new Array(7),g=0;g<d;g++){var m=new Date(f[g]);f[g]=l(m,r.day,e&&e.getDate()===m.getDate()&&e.getMonth()===m.getMonth()&&e.getFullYear()===m.getFullYear(),m.getMonth()!==s)}for(var v=0;v<7;v++)p[v]=n(f[v].date,r.dayHeader);return{objects:f,title:n(t,r.dayTitle),labels:p}},compare:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(t,e){for(var i=new Array(12),o=t.getFullYear(),s=0;s<12;s++){var a=new Date(o,s,1);i[s]=l(a,r.month,e&&e.getMonth()===s&&e.getFullYear()===o)}return{objects:i,title:n(t,r.monthTitle)}},compare:function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(t,e){for(var n=new Array(s),i=t.getFullYear(),o=parseInt((i-1)/s,10)*s+1,a=0;a<s;a++){var c=new Date(o+a,0,1);n[a]=l(c,r.year,e&&e.getFullYear()===c.getFullYear())}return{objects:n,title:[n[0].label,n[s-1].label].join(" - ")}},compare:function(t,e){return t.getFullYear()-e.getFullYear()},split:5,step:{years:s}}],this.isDisabled=function(e,n){var i=this.modes[n||0];return this.minDate&&i.compare(e,this.minDate)<0||this.maxDate&&i.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:i.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(t,e,n,i){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,r,o,s){var a=s[0],l=s[1];if(l){var c=0,u=new Date,h=n.showWeeks;o.showWeeks?t.$parent.$watch(e(o.showWeeks),function(t){h=!!t,d()}):d(),o.min&&t.$parent.$watch(e(o.min),function(t){a.minDate=t?new Date(t):null,f()}),o.max&&t.$parent.$watch(e(o.max),function(t){a.maxDate=t?new Date(t):null,f()}),l.$render=function(){f(!0)},t.select=function(t){if(0===c){var e=new Date(l.$modelValue);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(e),f(!0)}else u=t,p(c-1)},t.move=function(t){var e=a.modes[c].step;u.setMonth(u.getMonth()+t*(e.months||0)),u.setFullYear(u.getFullYear()+t*(e.years||0)),f()},t.toggleMode=function(){p((c+1)%a.modes.length)},t.getWeekNumber=function(e){return 0===c&&t.showWeekNumbers&&7===e.length?function(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}(e[0].date):null}}function d(){t.showWeekNumbers=0===c&&h}function f(e){var n=null,r=!0;l.$modelValue&&(n=new Date(l.$modelValue),isNaN(n)?(r=!1,i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):e&&(u=n)),l.$setValidity("date",r);var o=a.modes[c],s=o.getVisibleDates(u,n);angular.forEach(s.objects,function(t){t.disabled=a.isDisabled(t.date,c)}),l.$setValidity("date-disabled",!n||!a.isDisabled(n)),t.rows=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n}(s.objects,o.split),t.labels=s.labels||[],t.title=s.title}function p(t){c=t,d(),f()}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(t,e,n,i,r,o){return{restrict:"EA",require:"ngModel",link:function(s,a,l,c){var u,h,d=angular.isDefined(l.closeOnDateSelection)?p.$eval(l.closeOnDateSelection):o.closeOnDateSelection,f=l.datepickerPopup||o.dateFormat,p=s.$new();function g(t){h?h(s,!!t):p.isOpen=!!t}s.$on("$destroy",function(){p.$destroy()}),l.isOpen&&(u=e(l.isOpen),h=u.assign,s.$watch(u,function(t){p.isOpen=!!t})),p.isOpen=!!u&&u(s);var m=function(t){p.isOpen&&t.target!==a[0]&&p.$apply(function(){g(!1)})},v=function(){p.$apply(function(){g(!0)})},y=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=y.find("datepicker");function w(){p.date=c.$modelValue,C()}function x(t,n,i){t&&(s.$watch(e(t),function(t){p[n]=t}),b.attr(i||n,n))}function C(){p.position=i.position(a),p.position.top=p.position.top+a.prop("offsetHeight")}l.datepickerOptions&&b.attr(angular.extend({},s.$eval(l.datepickerOptions))),c.$parsers.unshift(function(t){if(!t)return c.$setValidity("date",!0),null;if(angular.isDate(t))return c.$setValidity("date",!0),t;if(angular.isString(t)){var e=new Date(t);return isNaN(e)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),e)}c.$setValidity("date",!1)}),p.dateSelection=function(){c.$setViewValue(p.date),c.$render(),d&&g(!1)},a.bind("input change keyup",function(){p.$apply(function(){w()})}),c.$render=function(){var t=c.$viewValue?r(c.$viewValue,f):"";a.val(t),w()},x(l.min,"min"),x(l.max,"max"),l.showWeeks?x(l.showWeeks,"showWeeks","show-weeks"):(p.showWeeks=!0,b.attr("show-weeks","showWeeks")),l.dateDisabled&&b.attr("date-disabled",l.dateDisabled);var k=!1,_=!1;p.$watch("isOpen",function(t){t?(C(),n.bind("click",m),_&&a.unbind("focus",v),a[0].focus(),k=!0):(k&&n.unbind("click",m),a.bind("focus",v),_=!0),h&&h(s,t)});var S=e(l.ngModel).assign;p.today=function(){S(s,new Date)},p.clear=function(){S(s,null)},a.after(t(y)(p))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e,n){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var t={placement:"top",animation:!0,popupDelay:0},e={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(t){angular.extend(n,t)},this.setTriggers=function(t){angular.extend(e,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,r,o,s,a,l,c){return function(i,u,h){var d=angular.extend({},t,n);function f(t){var n=t||d.trigger||h;return{show:n,hide:e[n]||n}}var p=i.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),g=c.startSymbol(),m=c.endSymbol(),v="<"+p+'-popup title="'+g+"tt_title"+m+'" content="'+g+"tt_content"+m+'" placement="'+g+"tt_placement"+m+'" animation="tt_animation()" is-open="tt_isOpen"></'+p+"-popup>";return{restrict:"EA",scope:!0,link:function(t,e,n){var c,h,p,g=r(v)(t),m=!!angular.isDefined(d.appendToBody)&&d.appendToBody,y=f(void 0),b=!1;function w(){t.tt_isOpen?C():x()}function x(){t.tt_popupDelay?h=o(k,t.tt_popupDelay):t.$apply(k)}function C(){t.$apply(function(){_()})}function k(){var n,i,r,s;if(t.tt_content){switch(c&&o.cancel(c),g.css({top:0,left:0,display:"block"}),m?(p=p||a.find("body")).append(g):e.after(g),n=m?l.offset(e):l.position(e),i=g.prop("offsetWidth"),r=g.prop("offsetHeight"),t.tt_placement){case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width};break;case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;default:s={top:n.top-r,left:n.left+n.width/2-i/2}}s.top+="px",s.left+="px",g.css(s),t.tt_isOpen=!0}}function _(){t.tt_isOpen=!1,o.cancel(h),angular.isDefined(t.tt_animation)&&t.tt_animation()?c=o(function(){g.remove()},500):g.remove()}t.tt_isOpen=!1,n.$observe(i,function(e){t.tt_content=e}),n.$observe(u+"Title",function(e){t.tt_title=e}),n.$observe(u+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement}),n.$observe(u+"Animation",function(e){t.tt_animation=angular.isDefined(e)?s(e):function(){return d.animation}}),n.$observe(u+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?d.popupDelay:n}),n.$observe(u+"Trigger",function(t){b&&(e.unbind(y.show,x),e.unbind(y.hide,C)),(y=f(t)).show===y.hide?e.bind(y.show,w):(e.bind(y.show,x),e.bind(y.hide,C)),b=!0}),n.$observe(u+"AppendToBody",function(e){m=angular.isDefined(e)?s(e)(t):m}),m&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&_()}),t.$on("$destroy",function(){t.tt_isOpen?_():g.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(t,e,n){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,r,o,s){if(s){var a=new Date,l=n.meridians,c=n.hourStep;o.hourStep&&i.$parent.$watch(t(o.hourStep),function(t){c=parseInt(t,10)});var u=n.minuteStep;o.minuteStep&&i.$parent.$watch(t(o.minuteStep),function(t){u=parseInt(t,10)}),i.showMeridian=n.showMeridian,o.showMeridian&&i.$parent.$watch(t(o.showMeridian),function(t){if(i.showMeridian=!!t,s.$error.time){var e=m(),n=v();angular.isDefined(e)&&angular.isDefined(n)&&(a.setHours(e),b())}else x()});var h=r.find("input"),d=h.eq(0),f=h.eq(1);if(angular.isDefined(o.mousewheel)?i.$eval(o.mousewheel):n.mousewheel){var p=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};d.bind("mousewheel wheel",function(t){i.$apply(p(t)?i.incrementHours():i.decrementHours()),t.preventDefault()}),f.bind("mousewheel wheel",function(t){i.$apply(p(t)?i.incrementMinutes():i.decrementMinutes()),t.preventDefault()})}if(i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$eval(o.readonlyInput):n.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var g=function(t,e){s.$setViewValue(null),s.$setValidity("time",!1),angular.isDefined(t)&&(i.invalidHours=t),angular.isDefined(e)&&(i.invalidMinutes=e)};i.updateHours=function(){var t=m();angular.isDefined(t)?(a.setHours(t),b("h")):g(!0)},d.bind("blur",function(t){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=y(i.hours)})}),i.updateMinutes=function(){var t=v();angular.isDefined(t)?(a.setMinutes(t),b("m")):g(void 0,!0)},f.bind("blur",function(t){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=y(i.minutes)})})}s.$render=function(){var t=s.$modelValue?new Date(s.$modelValue):null;isNaN(t)?(s.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(a=t),w(),x())},i.incrementHours=function(){C(60*c)},i.decrementHours=function(){C(60*-c)},i.incrementMinutes=function(){C(u)},i.decrementMinutes=function(){C(-u)},i.toggleMeridian=function(){C(720*(a.getHours()<12?1:-1))}}function m(){var t=parseInt(i.hours,10);if(i.showMeridian?t>0&&t<13:t>=0&&t<24)return i.showMeridian&&(12===t&&(t=0),i.meridian===l[1]&&(t+=12)),t}function v(){var t=parseInt(i.minutes,10);return t>=0&&t<60?t:void 0}function y(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function b(t){w(),s.$setViewValue(new Date(a)),x(t)}function w(){s.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function x(t){var e=a.getHours(),n=a.getMinutes();i.showMeridian&&(e=0===e||12===e?12:e%12),i.hours="h"===t?e:y(e),i.minutes="m"===t?n:y(n),i.meridian=a.getHours()<12?l[0]:l[1]}function C(t){var e=new Date(a.getTime()+6e4*t);a.setHours(e.getHours(),e.getMinutes()),b()}}}}]),function(t,e,n){"use strict";var i,r,o,s,a=e.noop,l=e.copy,c=e.extend,u=e.element,h=e.forEach,d=e.isArray,f=e.isString,p=e.isObject,g=e.isUndefined,m=e.isDefined,v=e.isFunction,y=e.isElement,b=1,w="-add",x="-remove",C="ng-",k="ng-animate",_="$$ngAnimateChildren";g(t.ontransitionend)&&m(t.onwebkittransitionend)?("-webkit-",i="WebkitTransition",r="webkitTransitionEnd transitionend"):(i="transition",r="transitionend"),g(t.onanimationend)&&m(t.onwebkitanimationend)?("-webkit-",o="WebkitAnimation",s="webkitAnimationEnd animationend"):(o="animation",s="animationend");var S="Duration",$="TimingFunction",E="PlayState",T=o+"Delay",D=o+S,M=i+"Delay",A=i+S,P=e.$$minErr("ng");function O(t,e,n){if(!t)throw P("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function N(t,e){return t||e?t?e?(d(t)&&(t=t.join(" ")),d(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function I(t,e,n){var i="";return t=d(t)?t:t&&f(t)&&t.length?t.split(/\s+/):[],h(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function L(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==b)return n}}function H(t){return function(e,n){var i,r,o,s,a,l;n.addClass&&(i=t,r=e,o=n.addClass,h(r,function(t){i.addClass(t,o)}),n.addClass=null),n.removeClass&&(s=t,a=e,l=n.removeClass,h(a,function(t){s.removeClass(t,l)}),n.removeClass=null)}}function R(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||a;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=a},t.$$prepared=!0}return t}function F(t,e){z(t,e),B(t,e)}function z(t,e){e.from&&(t.css(e.from),e.from=null)}function B(t,e){e.to&&(t.css(e.to),e.to=null)}function j(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),s=(i.removeClass||"")+" "+(r.removeClass||""),l=function(t,e,n){var i={};t=o(t),e=o(e),h(e,function(t,e){i[e]=1}),n=o(n),h(n,function(t,e){i[e]=1===i[e]?null:-1});var r={addClass:"",removeClass:""};function o(t){f(t)&&(t=t.split(" "));var e={};return h(t,function(t){t.length&&(e[t]=!0)}),e}return h(i,function(e,n){var i,o;1===e?(i="addClass",o=!t[n]):-1===e&&(i="removeClass",o=t[n]),o&&(r[i].length&&(r[i]+=" "),r[i]+=n)}),r}(t.attr("class"),o,s);r.preparationClasses&&(i.preparationClasses=U(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var u=i.domOperation!==a?i.domOperation:null;return c(i,r),u&&(i.domOperation=u),l.addClass?i.addClass=l.addClass:i.addClass=null,l.removeClass?i.removeClass=l.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function W(t){return t instanceof e.element?t[0]:t}function V(t,e){var n=e?"-"+e+"s":"";return Y(t,[M,n]),[M,n]}function q(t,e){var n=e?"paused":"",i=o+E;return Y(t,[i,n]),[i,n]}function Y(t,e){var n=e[0],i=e[1];t.style[n]=i}function U(t,e){return t?e?t+" "+e:t:e}var G=["$interpolate",function(t){return{link:function(n,i,r){var o=r.ngAnimateChildren;function s(t){t="on"===t||"true"===t,i.data(_,t)}e.isString(o)&&0===o.length?i.data(_,!0):(s(t(o)(n)),r.$observe("ngAnimateChildren",s))}}}],X="$$animateCss",K=1e3,Z=3,Q=1.5,J={transitionDuration:A,transitionDelay:M,transitionProperty:i+"Property",animationDuration:D,animationDelay:T,animationIterationCount:o+"IterationCount"},tt={transitionDuration:A,transitionDelay:M,animationDuration:D,animationDelay:T};function et(t,e){return[e?T:M,t+"s"]}function nt(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return h(n,function(t,e){var n,o,s=r[t];if(s){var a=s.charAt(0);("-"===a||"+"===a||a>=0)&&(n=0,o=s.split(/\s*,\s*/),h(o,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),s=n),0===s&&(s=null),i[e]=s}}),i}function it(t){return 0===t||null!=t}function rt(t,e){var n=i,r=t+"s";return e?n+=S:r+=" linear all",[n,r]}function ot(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function st(t,e,n){h(n,function(n){t[n]=m(t[n])?t[n]:e.style.getPropertyValue(n)})}var at=["$animateProvider",function(t){var e=ot(),n=ot();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,c,u,f,p,g,m,v){var y=H(c),b=0;function k(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++b))+"-"+t.getAttribute("class")+"-"+e}var _=[];function S(t){_.push(t),m.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=p(),i=0;i<_.length;i++)_[i](t);_.length=0})}function E(n,i,r){var o,s,a,l,c=(o=n,s=r,a=J,(l=e.get(s))||"infinite"===(l=nt(t,o,a)).animationIterationCount&&(l.animationIterationCount=1),e.put(s,l),l),u=c.animationDelay,h=c.transitionDelay;return c.maxDelay=u&&h?Math.max(u,h):u||h,c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration),c}return function(p,m){var b=m||{};b.$$prepared||(b=R(l(b)));var _={},T=W(p);if(!T||!T.parentNode||!v.enabled())return It();var M,A,P,O,N,L,H,j,U,G,J,ot,at=[],lt=p.attr("class"),ct=(A={},(M=b)&&(M.to||M.from)&&(A.to=M.to,A.from=M.from),A),ut=[];if(0===b.duration||!g.animations&&!g.transitions)return It();var ht=b.event&&d(b.event)?b.event.join(" "):b.event,dt="",ft="";ht&&b.structural?dt=I(ht,C,!0):ht&&(dt=ht),b.addClass&&(ft+=I(b.addClass,w)),b.removeClass&&(ft.length&&(ft+=" "),ft+=I(b.removeClass,x)),b.applyClassesEarly&&ft.length&&y(p,b);var pt,gt,mt,vt=[dt,ft].join(" ").trim(),yt=lt+" "+vt,bt=I(vt,"-active"),wt=ct.to&&Object.keys(ct.to).length>0;if(!((b.keyframeStyle||"").length>0)&&!wt&&!vt)return It();if(b.stagger>0){var xt=parseFloat(b.stagger);gt={transitionDelay:xt,animationDelay:xt,transitionDuration:0,animationDuration:0}}else pt=k(T,yt),gt=function(i,r,o,s){var a;if(e.count(o)>0&&!(a=n.get(o))){var l=I(r,"-stagger");c.addClass(i,l),(a=nt(t,i,s)).animationDuration=Math.max(a.animationDuration,0),a.transitionDuration=Math.max(a.transitionDuration,0),c.removeClass(i,l),n.put(o,a)}return a||{}}(T,vt,pt,tt);if(b.$$skipPreparationClasses||c.addClass(p,vt),b.transitionStyle){var Ct=[i,b.transitionStyle];Y(T,Ct),at.push(Ct)}if(b.duration>=0){mt=T.style[i].length>0;var kt=rt(b.duration,mt);Y(T,kt),at.push(kt)}if(b.keyframeStyle){var _t=[o,b.keyframeStyle];Y(T,_t),at.push(_t)}var St=gt?b.staggerIndex>=0?b.staggerIndex:e.count(pt):0,$t=0===St;$t&&!b.skipBlocking&&V(T,9999);var Et=E(T,0,pt),Tt=Et.maxDelay;j=Math.max(Tt,0),G=Et.maxDuration;var Dt,Mt={};if(Mt.hasTransitions=Et.transitionDuration>0,Mt.hasAnimations=Et.animationDuration>0,Mt.hasTransitionAll=Mt.hasTransitions&&"all"==Et.transitionProperty,Mt.applyTransitionDuration=wt&&(Mt.hasTransitions&&!Mt.hasTransitionAll||Mt.hasAnimations&&!Mt.hasTransitions),Mt.applyAnimationDuration=b.duration&&Mt.hasAnimations,Mt.applyTransitionDelay=it(b.delay)&&(Mt.applyTransitionDuration||Mt.hasTransitions),Mt.applyAnimationDelay=it(b.delay)&&Mt.hasAnimations,Mt.recalculateTimingStyles=ft.length>0,(Mt.applyTransitionDuration||Mt.applyAnimationDuration)&&(G=b.duration?parseFloat(b.duration):G,Mt.applyTransitionDuration&&(Mt.hasTransitions=!0,Et.transitionDuration=G,mt=T.style[i+"Property"].length>0,at.push(rt(G,mt))),Mt.applyAnimationDuration&&(Mt.hasAnimations=!0,Et.animationDuration=G,at.push([D,G+"s"]))),0===G&&!Mt.recalculateTimingStyles)return It();null!=b.delay&&("boolean"!=typeof b.delay&&(Dt=parseFloat(b.delay),j=Math.max(Dt,0)),Mt.applyTransitionDelay&&at.push(et(Dt)),Mt.applyAnimationDelay&&at.push(et(Dt,!0)));return null==b.duration&&Et.transitionDuration>0&&(Mt.recalculateTimingStyles=Mt.recalculateTimingStyles||$t),U=j*K,J=G*K,b.skipBlocking||(Mt.blockTransition=Et.transitionDuration>0,Mt.blockKeyframeAnimation=Et.animationDuration>0&&gt.animationDelay>0&&0===gt.animationDuration),b.from&&(b.cleanupStyles&&st(_,T,Object.keys(b.from)),z(p,b)),Mt.blockTransition||Mt.blockKeyframeAnimation?Nt(G):b.skipBlocking||V(T,!1),{$$willAnimate:!0,end:At,start:function(){if(!P)return L=new u(H={end:At,cancel:Pt,resume:null,pause:null}),S(Ht),L}};function At(){Ot()}function Pt(){Ot(!0)}function Ot(t){if(!(P||N&&O)){P=!0,O=!1,b.$$skipPreparationClasses||c.removeClass(p,vt),c.removeClass(p,bt),q(T,!1),V(T,!1),h(at,function(t){T.style[t[0]]=""}),y(p,b),F(p,b),Object.keys(_).length&&h(_,function(t,e){t?T.style.setProperty(e,t):T.style.removeProperty(e)}),b.onDone&&b.onDone(),ut&&ut.length&&p.off(ut.join(" "),Lt);var e=p.data(X);e&&(f.cancel(e[0].timer),p.removeData(X)),L&&L.complete(!t)}}function Nt(t){Mt.blockTransition&&V(T,t),Mt.blockKeyframeAnimation&&q(T,!!t)}function It(){return L=new u({end:At,cancel:Pt}),S(a),Ot(),{$$willAnimate:!1,start:function(){return L},end:At}}function Lt(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(Z));Math.max(n-ot,0)>=U&&i>=G&&(N=!0,Ot())}function Ht(){if(!P)if(T.parentNode){var t=function(t){if(N)O&&t&&(O=!1,Ot());else if(O=!t,Et.animationDuration){var e=q(T,O);O?at.push(e):(i=e,r=(n=at).indexOf(i),i>=0&&n.splice(r,1))}var n,i,r},e=St>0&&(Et.transitionDuration&&0===gt.transitionDuration||Et.animationDuration&&0===gt.animationDuration)&&Math.max(gt.animationDelay,gt.transitionDelay);e?f(n,Math.floor(e*St*K),!1):n(),H.resume=function(){t(!0)},H.pause=function(){t(!1)}}else Ot();function n(){if(!P){if(Nt(!1),h(at,function(t){var e=t[0],n=t[1];T.style[e]=n}),y(p,b),c.addClass(p,bt),Mt.recalculateTimingStyles){if(yt=T.className+" "+vt,pt=k(T,yt),Et=E(T,0,pt),Tt=Et.maxDelay,j=Math.max(Tt,0),0===(G=Et.maxDuration))return void Ot();Mt.hasTransitions=Et.transitionDuration>0,Mt.hasAnimations=Et.animationDuration>0}if(Mt.applyAnimationDelay&&(Tt="boolean"!=typeof b.delay&&it(b.delay)?parseFloat(b.delay):Tt,j=Math.max(Tt,0),Et.animationDelay=Tt,Dt=et(Tt,!0),at.push(Dt),T.style[Dt[0]]=Dt[1]),U=j*K,J=G*K,b.easing){var t,e=b.easing;Mt.hasTransitions&&(t=i+$,at.push([t,e]),T.style[t]=e),Mt.hasAnimations&&(t=o+$,at.push([t,e]),T.style[t]=e)}Et.transitionDuration&&ut.push(r),Et.animationDuration&&ut.push(s),ot=Date.now();var n=U+Q*J,l=ot+n,u=p.data(X)||[],d=!0;if(u.length){var g=u[0];(d=l>g.expectedEndTime)?f.cancel(g.timer):u.push(Ot)}if(d){var m=f(a,n,!1);u[0]={timer:m,expectedEndTime:l},u.push(Ot),p.data(X,u)}ut.length&&p.on(ut.join(" "),Lt),b.to&&(b.cleanupStyles&&st(_,T,Object.keys(b.to)),B(p,b))}}function a(){var t=p.data(X);if(t){for(var e=1;e<t.length;e++)t[e]();p.removeData(X)}}}}}]}],lt=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",i="ng-anchor-out",r="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,o,s,l,c,d,p){if(!c.animations&&!c.transitions)return a;var g,m=p[0].body,v=W(l),y=u((g=v).parentNode&&11===g.parentNode.nodeType||m.contains(v)?v:m);H(d);return function(o){return o.from&&o.to?function(o,a,l,c){var d=x(o),f=x(a),p=[];if(h(c,function(o){var a=function(o,a,l){var c=u(W(a).cloneNode(!0)),d=b(C(c));a.addClass(e),l.addClass(e),c.addClass(n),y.append(c);var f,p,g=(p=t(c,{addClass:i,delay:!0,from:x(a)})).$$willAnimate?p:null;if(!g&&!(f=k()))return _();var v=g||f;return{start:function(){var t,e=v.start();return e.done(function(){if(e=null,!f&&(f=k()))return(e=f.start()).done(function(){e=null,_(),t.complete()}),e;_(),t.complete()}),t=new s({end:n,cancel:n});function n(){e&&e.end()}}};function x(t){var e={},n=W(t).getBoundingClientRect();return h(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=m.scrollTop;break;case"left":i+=m.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function C(t){return t.attr("class")||""}function k(){var e=b(C(l)),n=w(e,d),o=w(d,e),s=t(c,{to:x(l),addClass:r+" "+n,removeClass:i+" "+o,delay:!0});return s.$$willAnimate?s:null}function _(){c.remove(),a.removeClass(e),l.removeClass(e)}}(0,o.out,o.in);a&&p.push(a)}),!d&&!f&&0===p.length)return;return{start:function(){var t=[];d&&t.push(d.start()),f&&t.push(f.start()),h(p,function(e){t.push(e.start())});var e=new s({end:n,cancel:n});return s.all(t,function(t){e.complete(t)}),e;function n(){h(t,function(t){t.end()})}}}}(o.from,o.to,o.classes,o.anchors):x(o)};function b(t){return t.replace(/\bng-\S+\b/g,"")}function w(t,e){return f(t)&&(t=t.split(" ")),f(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function x(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=U(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}}]}],ct=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){var r=H(i);return function(i,o,s,l){var c=!1;3===arguments.length&&p(s)&&(l=s,s=null),l=R(l),s||(s=i.attr("class")||"",l.addClass&&(s+=" "+l.addClass),l.removeClass&&(s+=" "+l.removeClass));var u,f,g,m,y,b=l.addClass,w=l.removeClass,x=function(n){n=d(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var s=n[o],a=t.$$registeredAnimations[s];a&&!r[s]&&(i.push(e.get(a)),r[s]=!0)}return i}(s);x.length&&("leave"==o?(m="leave",g="afterLeave"):(m="before"+o.charAt(0).toUpperCase()+o.substr(1),g=o),"enter"!==o&&"move"!==o&&(u=S(i,o,l,x,m)),f=S(i,o,l,x,g));if(u||f)return{$$willAnimate:!0,end:function(){return y?y.end():(k(),(y=new n).complete(!0)),y},start:function(){if(y)return y;var t;y=new n;var e=[];return u&&e.push(function(e){t=u(e)}),e.length?e.push(function(t){C(),t(!0)}):C(),f&&e.push(function(e){t=f(e)}),y.setHost({end:function(){r()},cancel:function(){r(!0)}}),n.chain(e,i),y;function i(t){k(),y.complete(t)}function r(e){c||((t||a)(e),i(e))}}};function C(){l.domOperation(),r(i,l)}function k(){c=!0,C(),F(i,l)}function _(t,e,i,r,o){var s=[];return h(r,function(r){var l=r[o];l&&s.push(function(){var r,o,s=!1,c=function(t){s||(s=!0,(o||a)(t),r.complete(!t))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),o=function(t,e,i,r,o){var s;switch(i){case"animate":s=[e,r.from,r.to,o];break;case"setClass":s=[e,b,w,o];break;case"addClass":s=[e,b,o];break;case"removeClass":s=[e,w,o];break;default:s=[e,o]}s.push(r);var l=t.apply(t,s);if(l)if(v(l.start)&&(l=l.start()),l instanceof n)l.done(o);else if(v(l))return l;return a}(l,t,e,i,function(t){c(!1===t)}),r})}),s}function S(t,e,i,r,o){var s,a,l=_(t,e,i,r,o);0===l.length&&("beforeSetClass"===o?(s=_(t,"removeClass",i,r,"beforeRemoveClass"),a=_(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=_(t,"removeClass",i,r,"removeClass"),a=_(t,"addClass",i,r,"addClass")),s&&(l=l.concat(s)),a&&(l=l.concat(a)));if(0!==l.length)return function(t){var e=[];return l.length&&h(l,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){h(e,function(e){t?e.cancel():e.end()})}}}}}]}],ut=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){var t=[];i&&t.push(i.start()),r&&t.push(r.start()),e.all(t,function(t){n.complete(t)});var n=new e({end:o(),cancel:o()});return n;function o(){return function(){h(t,function(t){t.end()})}}}}}return n(t)};function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}}]}],ht="data-ng-animate",dt="$ngAnimatePin",ft=["$animateProvider",function(t){var e=1,n=2,i=" ",r=this.rules={skip:[],cancel:[],join:[]};function o(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(i),n=Object.create(null);return h(e,function(t){n[t]=!0}),n}(e);return t.split(i).some(function(t){return n[t]})}}function s(t,e,n,i){return r[t].some(function(t){return t(e,n,i)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}r.join.push(function(t,e,n){return!e.structural&&a(e)}),r.skip.push(function(t,e,n){return!e.structural&&!a(e)}),r.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),r.skip.push(function(t,e,i){return i.structural&&i.state===n&&!e.structural}),r.cancel.push(function(t,e,n){return n.structural&&e.structural}),r.cancel.push(function(t,e,i){return i.state===n&&e.structural}),r.cancel.push(function(t,e,n){var i=e.addClass,r=e.removeClass,s=n.addClass,a=n.removeClass;return!(g(i)&&g(r)||g(s)&&g(a))&&(o(i,a)||o(r,s))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,r,o,v,k,S,$,E,T,D){var M=new k,A=new k,P=null,N=v[0]||{hidden:!0};var z=r.$watch(function(){return 0===E.totalPendingRequests},function(t){t&&(z(),r.$$postDigest(function(){r.$$postDigest(function(){null===P&&(P=!0)})}))}),B={},V=t.classNameFilter(),q=V?function(t){return V.test(t)}:function(){return!0},Y=H(T);function G(t,e){return j(t,e,{})}var X=Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};return{on:function(t,e,n){var i=L(e);B[t]=B[t]||[],B[t].push({node:i,callback:n})},off:function(t,e,n){var i,r,o,s=B[t];s&&(B[t]=1===arguments.length?null:(i=s,r=n,o=L(e),i.filter(function(t){var e=t.node===o&&(!r||t.callback===r);return!e})))},pin:function(t,e){O(y(t),"element","not an element"),O(y(e),"parentElement","not an element"),t.data(dt,e)},push:function(t,c,v,y){return(v=v||{}).domOperation=y,function(t,c,v){var y,k,E=l(v);(t=function(t){if(t instanceof u)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===b)return t;break;default:return u(L(t))}if(t.nodeType===b)return u(t)}(t))&&(y=W(t),k=t.parent());E=R(E);var T=new $,D=(O=!1,function(t){O?t():r.$$postDigest(function(){O=!0,t()})});var O;d(E.addClass)&&(E.addClass=E.addClass.join(" "));E.addClass&&!f(E.addClass)&&(E.addClass=null);d(E.removeClass)&&(E.removeClass=E.removeClass.join(" "));E.removeClass&&!f(E.removeClass)&&(E.removeClass=null);E.from&&!p(E.from)&&(E.from=null);E.to&&!p(E.to)&&(E.to=null);if(!y)return mt(),T;var H=[y.className,E.addClass,E.removeClass].join(" ");if(!q(H))return mt(),T;var z=["enter","move","leave"].indexOf(c)>=0,V=N.hidden,J=!P||V||A.get(y),tt=!J&&M.get(y)||{},et=!!tt.state;J||et&&tt.state==e||(J=!function(t,e,n){var i,r=u(N.body),s=Z(t,r)||"HTML"===t[0].nodeName,a=Z(t,o),l=!1,c=A.get(W(t)),h=u.data(t[0],dt);h&&(e=h);e=W(e);for(;e&&(a||(a=Z(e,o)),e.nodeType===b);){var d=M.get(e)||{};if(!l){var f=A.get(e);if(!0===f&&!1!==c){c=!0;break}!1===f&&(c=!1),l=d.structural}if(g(i)||!0===i){var p=u.data(e,_);m(p)&&(i=p)}if(l&&!1===i)break;if(s||(s=Z(e,r)),s&&a)break;e=a||!(h=u.data(e,dt))?e.parentNode:W(h)}return(!l||i)&&!0!==c&&a&&s}(t,k));if(J)return V&&gt(T,c,"start"),mt(),V&&gt(T,c,"close"),T;z&&(nt=W(t).querySelectorAll("["+ht+"]"),h(nt,function(t){var i=parseInt(t.getAttribute(ht)),r=M.get(t);if(r)switch(i){case n:r.runner.end();case e:M.remove(t)}}));var nt;var it={structural:z,element:t,event:c,addClass:E.addClass,removeClass:E.removeClass,close:mt,options:E,runner:T};if(et){var rt=s("skip",t,it,tt);if(rt)return tt.state===n?(mt(),T):(j(t,tt,it),tt.runner);var ot=s("cancel",t,it,tt);if(ot)if(tt.state===n)tt.runner.end();else{if(!tt.structural)return j(t,tt,it),tt.runner;tt.close()}else{var st=s("join",t,it,tt);if(st){if(tt.state!==n)return at=t,ct=E,ut="",(lt=z?c:null)&&(ut=I(lt,C,!0)),ct.addClass&&(ut=U(ut,I(ct.addClass,w))),ct.removeClass&&(ut=U(ut,I(ct.removeClass,x))),ut.length&&(ct.preparationClasses=ut,at.addClass(ut)),c=it.event=tt.event,E=j(t,tt,it),tt.runner;G(t,it)}}}else G(t,it);var at,lt,ct,ut;var ft=it.structural;ft||(ft="animate"===it.event&&Object.keys(it.options.to||{}).length>0||a(it));if(!ft)return mt(),K(t),T;var pt=(tt.counter||0)+1;return it.counter=pt,Q(t,e,it),r.$$postDigest(function(){var e=M.get(y),i=!e;e=e||{};var r=(t.parent()||[]).length>0&&("animate"===e.event||e.structural||a(e));if(i||e.counter!==pt||!r)return i&&(Y(t,E),F(t,E)),(i||z&&e.event!==c)&&(E.domOperation(),T.end()),void(r||K(t));c=!e.structural&&a(e,!0)?"setClass":e.event,Q(t,n);var o=S(t,c,e.options);T.setHost(o),gt(T,c,"start",{}),o.done(function(e){mt(!e);var n=M.get(y);n&&n.counter===pt&&K(W(t)),gt(T,c,"close",{})})}),T;function gt(e,n,r,o){D(function(){var e,s,a,l,c,u,d=(e=k,s=n,a=W(t),l=W(e),c=[],(u=B[s])&&h(u,function(t){X.call(t.node,a)?c.push(t.callback):"leave"===s&&X.call(t.node,l)&&c.push(t.callback)}),c);d.length&&i(function(){h(d,function(e){e(t,r,o)})})}),e.progress(n,r,o)}function mt(e){var n,i;n=t,(i=E).preparationClasses&&(n.removeClass(i.preparationClasses),i.preparationClasses=null),i.activeClasses&&(n.removeClass(i.activeClasses),i.activeClasses=null),Y(t,E),F(t,E),E.domOperation(),T.complete(!e)}}(t,c,v)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!P;else if(y(t)){var i=W(t),r=A.get(i);1===n?e=!r:A.put(i,!e)}else e=P=!!t;return e}};function K(t){var e=W(t);e.removeAttribute(ht),M.remove(e)}function Z(t,e){return W(t)===W(e)}function Q(t,e,n){(n=n||{}).state=e;var i=W(t);i.setAttribute(ht,e);var r=M.get(i),o=r?c(r,n):n;M.put(i,o)}}]}],pt=["$animateProvider",function(t){var e="ng-animate-ref",n=this.drivers=[],i="$$animationRunner";function r(t){return t.data(i)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,o,s,a,l,c){var d=[],f=H(t);return function(p,g,m){m=R(m);var v,y=["enter","move","leave"].indexOf(g)>=0,b=new a({end:function(){S()},cancel:function(){S(!0)}});if(!n.length)return S(),b;v=b,p.data(i,v);var w,x=N(p.attr("class"),N(m.addClass,m.removeClass)),C=m.tempClasses;return C&&(x+=" "+C,m.tempClasses=null),y&&(w="ng-"+g+"-prepare",t.addClass(p,w)),d.push({element:p,classes:x,event:g,structural:y,options:m,beforeStart:function(){p.addClass(k),C&&t.addClass(p,C);w&&(t.removeClass(p,w),w=null)},close:S}),p.on("$destroy",_),d.length>1?b:(o.$$postDigest(function(){var t=[];h(d,function(e){r(e.element)?t.push(e):e.close()}),d.length=0;var i=function(t){var n=[],i={};h(t,function(t,r){var o,s,a,l,c=t.element,d=W(c),f=t.event,p=["enter","move"].indexOf(f)>=0,g=t.structural?(s="["+e+"]",a=(o=d).hasAttribute(e)?[o]:o.querySelectorAll(s),l=[],h(a,function(t){var n=t.getAttribute(e);n&&n.length&&l.push(t)}),l):[];if(g.length){var m=p?"to":"from";h(g,function(t){var n=t.getAttribute(e);i[n]=i[n]||{},i[n][m]={animationID:r,element:u(t)}})}else n.push(t)});var r={},o={};return h(i,function(e,i){var s=e.from,a=e.to;if(s&&a){var l=t[s.animationID],c=t[a.animationID],u=s.animationID.toString();if(!o[u]){var h=o[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}(l.classes,c.classes),from:l,to:c,anchors:[]};h.classes.length?n.push(h):(n.push(l),n.push(c))}o[u].anchors.push({out:s.element,in:a.element})}else{var d=s?s.animationID:a.animationID,f=d.toString();r[f]||(r[f]=!0,n.push(t[d]))}}),n}(t),o=[];h(i,function(t){o.push({domNode:W(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,i=t.close;if(r(t.anchors?t.from.element||t.to.element:t.element)){var o=function(t){for(var e=n.length-1;e>=0;e--){var i=n[e];if(s.has(i)){var r=s.get(i),o=r(t);if(o)return o}}}(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){i(!t)}),function(t,e){t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element);function n(t){r(t).setHost(e)}}(t,a)}else i()}})}),c(function(t){var e,n={children:[]},i=new l;for(e=0;e<t.length;e++){var r=t[e];i.put(r.domNode,t[e]={domNode:r.domNode,fn:r.fn,children:[]})}for(e=0;e<t.length;e++)o(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,s=[];for(e=0;e<i.length;e++){var a=i[e];r<=0&&(r=o,o=0,n.push(s),s=[]),s.push(a.fn),a.children.forEach(function(t){o++,i.push(t)}),r--}return s.length&&n.push(s),n}(n);function o(t){if(t.processed)return t;t.processed=!0;var e,r=t.domNode,s=r.parentNode;for(i.put(r,t);s;){if(e=i.get(s)){e.processed||(e=o(e));break}s=s.parentNode}return(e||n).children.push(t),t}}(o))}),b);function _(){var t=r(p);!t||"leave"===g&&m.$$domOperationFired||t.end()}function S(e){p.off("$destroy",_),p.removeData(i),f(p,m),F(p,m),m.domOperation(),C&&t.removeClass(p,C),p.removeClass(k),b.complete(!e)}}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",G).factory("$$rAFScheduler",["$$rAF",function(t){var e,n;function i(t){e=e.concat(t),r()}return e=i.queue=[],i.waitUntilQuiet=function(e){n&&n(),n=t(function(){n=null,e(),r()})},i;function r(){if(e.length){for(var i=e.shift(),o=0;o<i.length;o++)i[o]();n||t(function(){n||r()})}}}]).provider("$$animateQueue",ft).provider("$$animation",pt).provider("$animateCss",at).provider("$$animateCssDriver",lt).provider("$$animateJs",ct).provider("$$animateJsDriver",ut)}(window,window.angular),function(t){"use strict";var e="[data-toggle=dropdown]",n=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};function i(){t(".dropdown-backdrop").remove(),t(e).each(function(){r(t(this)).removeClass("open")})}function r(e){var n,i=e.attr("data-target");return i||(i=(i=e.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),(n=i&&t(i))&&n.length||(n=e.parent()),n}n.prototype={constructor:n,toggle:function(e){var n,o,s=t(this);if(!s.is(".disabled, :disabled"))return o=(n=r(s)).hasClass("open"),i(),o||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",i),n.toggleClass("open")),s.focus(),!1},keydown:function(n){var i,o,s,a,l;if(/(38|40|27)/.test(n.keyCode)&&(i=t(this),n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled"))){if(!(a=(s=r(i)).hasClass("open"))||a&&27==n.keyCode)return 27==n.which&&s.find(e).focus(),i.click();(o=t("[role=menu] li:not(.divider):visible a",s)).length&&(l=o.index(o.filter(":focus")),38==n.keyCode&&l>0&&l--,40==n.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),r=i.data("dropdown");r||i.data("dropdown",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",i).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",e,n.prototype.toggle).on("keydown.dropdown.data-api",e+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,o,s,a,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,l=(s=this.options.trigger.split(" ")).length;l--;)"click"==(a=s[l])?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,r={};if(this._options&&t.each(this._options,function(t,e){i[t]!=e&&(r[t]=e)},this),!(n=t(e.currentTarget)[this.type](r).data(this.type)).options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},show:function(){var e,n,i,r,o,s,a=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,r=e[0].offsetHeight,o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(t).addClass(e).addClass("in"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,o=!0),"bottom"==e||"top"==e?(r=0,t.left<0&&(r=-2*t.left,t.left=0,s.offset(t),n=s[0].offsetWidth,i=s[0].offsetHeight),this.replaceArrow(r-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&s.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var e,n=this.tip(),i=t.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?(e=setTimeout(function(){n.off(t.support.transition.end).detach()},500),n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})):n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),function(t){"use strict";function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,n,i,r,o,s){return e((a=e(e(n,t),e(r,s)))<<(l=o)|a>>>32-l,i);var a,l}function i(t,e,i,r,o,s,a){return n(e&i|~e&r,t,e,o,s,a)}function r(t,e,i,r,o,s,a){return n(e&r|i&~r,t,e,o,s,a)}function o(t,e,i,r,o,s,a){return n(e^i^r,t,e,o,s,a)}function s(t,e,i,r,o,s,a){return n(i^(e|~r),t,e,o,s,a)}function a(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var a,l,c,u,h,d=1732584193,f=-271733879,p=-1732584194,g=271733878;for(a=0;a<t.length;a+=16)l=d,c=f,u=p,h=g,f=s(f=s(f=s(f=s(f=o(f=o(f=o(f=o(f=r(f=r(f=r(f=r(f=i(f=i(f=i(f=i(f,p=i(p,g=i(g,d=i(d,f,p,g,t[a],7,-680876936),f,p,t[a+1],12,-389564586),d,f,t[a+2],17,606105819),g,d,t[a+3],22,-1044525330),p=i(p,g=i(g,d=i(d,f,p,g,t[a+4],7,-176418897),f,p,t[a+5],12,1200080426),d,f,t[a+6],17,-1473231341),g,d,t[a+7],22,-45705983),p=i(p,g=i(g,d=i(d,f,p,g,t[a+8],7,1770035416),f,p,t[a+9],12,-1958414417),d,f,t[a+10],17,-42063),g,d,t[a+11],22,-1990404162),p=i(p,g=i(g,d=i(d,f,p,g,t[a+12],7,1804603682),f,p,t[a+13],12,-40341101),d,f,t[a+14],17,-1502002290),g,d,t[a+15],22,1236535329),p=r(p,g=r(g,d=r(d,f,p,g,t[a+1],5,-165796510),f,p,t[a+6],9,-1069501632),d,f,t[a+11],14,643717713),g,d,t[a],20,-373897302),p=r(p,g=r(g,d=r(d,f,p,g,t[a+5],5,-701558691),f,p,t[a+10],9,38016083),d,f,t[a+15],14,-660478335),g,d,t[a+4],20,-405537848),p=r(p,g=r(g,d=r(d,f,p,g,t[a+9],5,568446438),f,p,t[a+14],9,-1019803690),d,f,t[a+3],14,-187363961),g,d,t[a+8],20,1163531501),p=r(p,g=r(g,d=r(d,f,p,g,t[a+13],5,-1444681467),f,p,t[a+2],9,-51403784),d,f,t[a+7],14,1735328473),g,d,t[a+12],20,-1926607734),p=o(p,g=o(g,d=o(d,f,p,g,t[a+5],4,-378558),f,p,t[a+8],11,-2022574463),d,f,t[a+11],16,1839030562),g,d,t[a+14],23,-35309556),p=o(p,g=o(g,d=o(d,f,p,g,t[a+1],4,-1530992060),f,p,t[a+4],11,1272893353),d,f,t[a+7],16,-155497632),g,d,t[a+10],23,-1094730640),p=o(p,g=o(g,d=o(d,f,p,g,t[a+13],4,681279174),f,p,t[a],11,-358537222),d,f,t[a+3],16,-722521979),g,d,t[a+6],23,76029189),p=o(p,g=o(g,d=o(d,f,p,g,t[a+9],4,-640364487),f,p,t[a+12],11,-421815835),d,f,t[a+15],16,530742520),g,d,t[a+2],23,-995338651),p=s(p,g=s(g,d=s(d,f,p,g,t[a],6,-198630844),f,p,t[a+7],10,1126891415),d,f,t[a+14],15,-1416354905),g,d,t[a+5],21,-57434055),p=s(p,g=s(g,d=s(d,f,p,g,t[a+12],6,1700485571),f,p,t[a+3],10,-1894986606),d,f,t[a+10],15,-1051523),g,d,t[a+1],21,-2054922799),p=s(p,g=s(g,d=s(d,f,p,g,t[a+8],6,1873313359),f,p,t[a+15],10,-30611744),d,f,t[a+6],15,-1560198380),g,d,t[a+13],21,1309151649),p=s(p,g=s(g,d=s(d,f,p,g,t[a+4],6,-145523070),f,p,t[a+11],10,-1120210379),d,f,t[a+2],15,718787259),g,d,t[a+9],21,-343485551),d=e(d,l),f=e(f,c),p=e(p,u),g=e(g,h);return[d,f,p,g]}function l(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function c(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function u(t){var e,n,i="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=i.charAt(e>>>4&15)+i.charAt(15&e);return r}function h(t){return unescape(encodeURIComponent(t))}function d(t){return l(a(c(e=h(t)),8*e.length));var e}function f(t,e){return function(t,e){var n,i,r=c(t),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=a(r,8*t.length)),n=0;16>n;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=a(o.concat(c(e)),512+8*e.length),l(a(s.concat(i),640))}(h(t),h(e))}function p(t,e,n){return e?n?f(e,t):u(f(e,t)):n?d(t):u(d(t))}"function"==typeof define&&define.amd?define(function(){return p}):t.md5=p}(this),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,n,i,r,o,s){function a(){i.cancel(c),s.complete(),h=0,u=0}function l(e){var i,r=n.get("$http"),o=t.defaults;!e.cache&&!o.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(i=angular.isObject(e.cache)?e.cache:angular.isObject(o.cache)?o.cache:r);var s=void 0!==i&&void 0!==i.get(e.url);return void 0!==e.cached&&s!==e.cached?e.cached:(e.cached=s,s)}var c,u=0,h=0,d=s.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||l(t)||(r.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===u&&(c=i(function(){s.start()},d)),u++,s.set(h/u)),t},response:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(h++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),h>=u?a():s.set(h/u)),t):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t)},responseError:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(h++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),h>=u?a():s.set(h/u)),e.reject(t)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t))}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,n,i){function r(t){if(g){var e=100*t+"%";f.css("width",e),m=t,v&&(n.cancel(c),c=n(function(){o()},250))}}function o(){if(!(s()>=1)){var t,e=s();t=e>=0&&.25>e?(3*Math.random()+3)/100:e>=.25&&.65>e?3*Math.random()/100:e>=.65&&.9>e?2*Math.random()/100:e>=.9&&.99>e?.005:0,r(s()+t)}}function s(){return m}function a(){m=0,g=!1}var l,c,u,h=this.parentSelector,d=angular.element(this.loadingBarTemplate),f=d.find("div").eq(0),p=angular.element(this.spinnerTemplate),g=!1,m=0,v=this.autoIncrement,y=this.includeSpinner,b=this.includeBar,w=this.startSize;return{start:function(){if(l||(l=t.get("$animate")),n.cancel(u),!g){var o=e[0],s=o.querySelector?o.querySelector(h):e.find(h)[0];s||(s=o.getElementsByTagName("body")[0]);var a=angular.element(s),c=s.lastChild&&angular.element(s.lastChild);i.$broadcast("cfpLoadingBar:started"),g=!0,b&&l.enter(d,a,c),y&&l.enter(p,a,d),r(w)}},set:r,status:s,inc:o,complete:function(){l||(l=t.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),r(1),n.cancel(u),u=n(function(){var t=l.leave(d,a);t&&t.then&&t.then(a),l.leave(p)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(){function t(t){return{restrict:"A",link:function(e,n,i,r){var o=n[0];e.$watch(function(){var t=o.querySelector("tbody tr:first-child td:first-child");return t&&!t.style.width},function(e){e&&(angular.element(o.querySelectorAll("thead, tbody, tfoot")).css("display",""),t(function(){angular.forEach(o.querySelectorAll("tr:first-child th"),function(t,e){var n=o.querySelector("tbody tr:first-child td:nth-child("+(e+1)+")"),i=o.querySelector("tfoot tr:first-child td:nth-child("+(e+1)+")"),r=n?n.offsetWidth:t.offsetWidth;n&&(n.style.width=r+"px"),t&&(t.style.width=r+"px"),i&&(i.style.width=r+"px")}),angular.element(o.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(o.querySelectorAll("tbody")).css({display:"block",height:i.tableHeight||"inherit",overflow:"auto"});var t=o.querySelector("tbody"),e=t.offsetWidth-t.clientWidth;if(e>0){e-=2;var n=o.querySelector("tbody tr:first-child td:last-child");n.style.width=n.offsetWidth-e+"px"}}))})}}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",t),t.$inject=["$timeout"]}(),angular.module("dcbImgFallback",[]).directive("fallbackSrc",["imageService",function(t){return{restrict:"A",link:function(e,n,i){var r=i.fallbackSrc?t.setMissing(i.fallbackSrc):t.getMissing(),o=function(){var e=i.fallbackSrc?t.setMissing(i.fallbackSrc):t.getMissing();n[0].src!==e&&(n[0].src=e)};n[0].src===t.getLoading()&&(n[0].src=r),n.on("error",o),e.$on("$destroy",function(){n.off("error",o)})}}}]).directive("loadingSrc",["$interpolate","imageService",function(t,e){var n=function(n,i,r){i[0].src=r.loadingSrc?e.setLoading(r.loadingSrc):e.getLoading();var o=new Image;o.src=t(r.imgSrc)(n),o.onload=function(){o.onload=null,i[0].src!==o.src&&(i[0].src=o.src)}};return{restrict:"A",compile:function(t,e){return e.imgSrc=e.ngSrc,delete e.ngSrc,n}}}]).factory("imageService",function(){var t="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxkZWZzPjxyYWRpYWxHcmFkaWVudCBpZD0icmFkaWFsLWdyYWRpZW50IiBjeD0iNTAwIiBjeT0iNTAwIiByPSI1MDAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNkZmRmZGYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM5OTkiLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48cmVjdCBmaWxsPSJ1cmwoI3JhZGlhbC1ncmFkaWVudCkiIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNjAxIDQxNGwwIDBWNTg2bDAgMEgzOTlsMCAwVjQxNGwwIDBINjAxWm0wLTE0SDM5OUExNCAxNCAwIDAgMCAzODUgNDE0djE3M2ExNCAxNCAwIDAgMCAxNCAxNEg2MDFBMTQgMTQgMCAwIDAgNjE1IDU4NlY0MTRhMTQgMTQgMCAwIDAtMTQtMTRoMFpNNTc",e=t+"1IDUwMmE3NyA3NyAwIDAgMC0yNC01NCA3NiA3NiAwIDAgMC0yNS0xNiA3NSA3NSAwIDAgMC01NyAxQTc0IDc0IDAgMCAwIDQzMCA0NzQgNzMgNzMgMCAwIDAgNDMxIDUzMGE3MiA3MiAwIDAgMCAzOSAzOCA3MCA3MCAwIDAgMCA1NC0xIDY5IDY5IDAgMCAwIDM3LTM4IDY4IDY4IDAgMCAwIDQtMTZsMSAwYTEwIDEwIDAgMCAwIDEwLTEwYzAgMCAwLTEgMC0xaDBabS0xNSAyNmE2NyA2NyAwIDAgMS0zNyAzNSA2NiA2NiAwIDAgMS01MC0xIDY0IDY0IDAgMCAxLTM0LTM1QTYzIDYzIDAgMCAxIDQ0MCA0NzkgNjIgNjIgMCAwIDEgNDU0IDQ1OSA2MiA2MiAwIDAgMSA0NzQgNDQ2YTYxIDYxIDAgMCAxIDIzLTQgNjAgNjAgMCAwIDEgNDIgMTlBNTkgNTkgMCAwIDEgNTUyIDQ4MGE1OCA1OCAwIDAgMSA0IDIyaDBjMCAwIDAgMSAwIDFhMTAgMTAgMCAwIDAgOSAxMCA2NyA2NyAwIDAgMS01IDE1aDBaIi8+PC9zdmc+",n=t+"yIDQ1MGEyMiAyMiAwIDEgMS0yMi0yMkEyMiAyMiAwIDAgMSA1NzIgNDUwWk01ODYgNTcySDQxNFY1NDNsNTAtODYgNTggNzJoMTRsNTAtNDN2ODZaIi8+PC9zdmc+";return{getLoading:function(){return e},getMissing:function(){return n},setLoading:function(t){return e=t},setMissing:function(t){return n=t}}}),angular.module("mm.foundation",["mm.foundation.accordion","mm.foundation.alert","mm.foundation.bindHtml","mm.foundation.buttons","mm.foundation.position","mm.foundation.dropdownToggle","mm.foundation.interchange","mm.foundation.transition","mm.foundation.modal","mm.foundation.offcanvas","mm.foundation.pagination","mm.foundation.tooltip","mm.foundation.popover","mm.foundation.progressbar","mm.foundation.rating","mm.foundation.tabs","mm.foundation.topbar","mm.foundation.tour","mm.foundation.typeahead"]),angular.module("mm.foundation.accordion",[]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){-1!==this.groups.indexOf(t)&&this.groups.splice(this.groups.indexOf(t),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",open:"=",close:"="},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,n,i,r){var o,s;r.addGroup(e),e.isOpen=!1,i.isOpen&&(o=t(i.isOpen),s=o.assign,e.$parent.$watch(o,function(t){e.isOpen=!!t})),i.open&&e.$watch("open",function(t){t&&(e.isOpen=!0)}),i.close&&e.$watch("close",function(t){t&&(e.isOpen=!1)}),e.$watch("isOpen",function(t){t&&r.closeOthers(e),s&&s(e.$parent,t)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(t,e,n){return function(t,e,i,r){r.setHeading(n(t,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("mm.foundation.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("mm.foundation.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("mm.foundation.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass,this.toggleEvent=t.toggleEvent}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(r.toggleEvent,function(){e.hasClass(r.activeClass)||t.$apply(function(){o.$setViewValue(t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];function s(){return a(n.btnCheckboxTrue,!0)}function a(e,n){var i=t.$eval(e);return angular.isDefined(i)?i:n}o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,s()))},e.bind(r.toggleEvent,function(){t.$apply(function(){o.$setViewValue(e.hasClass(r.activeClass)?a(n.btnCheckboxFalse,!1):s()),o.$render()})})}}}),angular.module("mm.foundation.position",[]).factory("$position",["$document","$window",function(t,e){function n(t){return"static"===(i="position",((n=t).currentStyle?n.currentStyle[i]:e.getComputedStyle?e.getComputedStyle(n)[i]:n.style[i])||"static");var n,i}return{position:function(e){var i=this.offset(e),r={top:0,left:0},o=function(e){for(var i=t[0],r=e.offsetParent||i;r&&r!==i&&n(r);)r=r.offsetParent;return r||i}(e[0]);o!=t[0]&&((r=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var s=e[0].getBoundingClientRect();return{width:s.width||e.prop("offsetWidth"),height:s.height||e.prop("offsetHeight"),top:i.top-r.top,left:i.left-r.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].body.scrollTop||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].body.scrollLeft||t[0].documentElement.scrollLeft)}}}}]),angular.module("mm.foundation.dropdownToggle",["mm.foundation.position"]).directive("dropdownToggle",["$document","$location","$position",function(t,e,n){var i=null,r=angular.noop;return{restrict:"CA",scope:{dropdownToggle:"@"},link:function(e,o,s){var a=angular.element(t[0].querySelector(e.dropdownToggle));e.$watch("$location.path",function(){r()}),o.bind("click",function(s){a=angular.element(t[0].querySelector(e.dropdownToggle));var l=o===i;if(s.preventDefault(),s.stopPropagation(),i&&r(),!l&&!o.hasClass("disabled")&&!o.prop("disabled")){a.css("display","block");var c=n.offset(o),u=n.offset(angular.element(a[0].offsetParent));a.css({left:c.left-u.left+"px",top:c.top-u.top+c.height+"px"}),i=o,r=function(e){t.unbind("click",r),a.css("display","none"),r=angular.noop,i=null},t.bind("click",r)}}),a&&a.css("display","none")}}}]),angular.module("mm.foundation.interchange",[]).factory("interchangeQueries",["$document",function(t){for(var e,n={default:"only screen",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},i="foundation-mq-",r=["small","medium","large","xlarge","xxlarge"],o=angular.element(t[0].querySelector("head")),s=0;s<r.length;s++)o.append('<meta class="'+i+r[s]+'" />'),e=getComputedStyle(o[0].querySelector("meta."+i+r[s])).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),n[r[s]]=e;return n}]).factory("interchangeQueriesManager",["interchangeQueries",function(t){return{add:function(e,n){return!(!(e&&n&&angular.isString(e)&&angular.isString(n))||t[e])&&(t[e]=n,!0)}}}]).factory("interchangeTools",["$window","interchangeQueries",function(t,e){return{parseAttribute:function(t){for(var e,n=t.split(/\[(.*?)\]/),i=n.length,r=/^(.+)\,\ \((.+)\)$/,o={};i--;)n[i].replace(/[\W\d]+/,"").length>4&&(e=r.exec(n[i]))&&3===e.length&&(o[e[2]]=e[1]);return o},findCurrentMediaFile:function(n){var i,r;for(i in n)if(r=e[i]||i,t.matchMedia(r).matches)return n[i]}}}]).directive("interchange",["$window","$rootScope","interchangeTools",function(t,e,n){var i=/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)\ *,/i;return{restrict:"A",scope:!0,priority:450,compile:function(r,o){return"DIV"!==r[0].nodeName||i.test(o.interchange)||r.html('<ng-include src="currentFile"></ng-include>'),{pre:function(t,e,n){},post:function(i,r,o){var s,a;switch(a=r&&r[0]&&r[0].nodeName,i.fileMap=n.parseAttribute(o.interchange),a){case"DIV":s=n.findCurrentMediaFile(i.fileMap),/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)$/i.test(s)?i.type="background":i.type="include";break;case"IMG":i.type="image";break;default:return}var l=function(t){var o=n.findCurrentMediaFile(i.fileMap);if(!i.currentFile||i.currentFile!==o){switch(i.currentFile=o,i.type){case"image":r.attr("src",i.currentFile);break;case"background":r.css("background-image","url("+i.currentFile+")")}e.$emit("replace",r,i),t&&i.$apply()}};l(),t.addEventListener("resize",l),i.$on("$destroy",function(){t.removeEventListener("resize",l)})}}}}}]),angular.module("mm.foundation.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){var i=function(r,o,s){s=s||{};var a=t.defer(),l=i[s.animation?"animationEndEventName":"transitionEndEventName"],c=function(t){n.$apply(function(){r.unbind(l,c),a.resolve(r)})};return l&&r.bind(l,c),e(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),l||a.resolve(r)}),a.promise.cancel=function(){l&&r.unbind(l,c),a.reject("Transition cancelled")},a.promise},r=document.createElement("trans");function o(t){for(var e in t)if(void 0!==r.style[e])return t[e]}return i.transitionEndEventName=o({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),i.animationEndEventName=o({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),i}]),angular.module("mm.foundation.modal",["mm.foundation.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e==t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(t,e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(n){n.animate=!1,e(function(){n.animate=!0}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,n,i){t.windowClass=i.windowClass||"",e(function(){t.animate=!0,n[0].focus()})}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,i,r,o){var s,a,l="modal-open",c=o.createNew(),u={};function h(){for(var t=-1,e=c.keys(),n=0;n<e.length;n++)c.get(e[n]).value.backdrop&&(t=n);return t}function d(t){var e=n.find("body").eq(0),i=c.get(t).value;c.remove(t),p(i.modalDomEl,i.modalScope,300,f),e.toggleClass(l,c.length()>0)}function f(){if(s&&-1==h()){var t=a;p(s,a,150,function(){t.$destroy(),t=null}),s=void 0,a=void 0}}function p(n,i,r,o){i.animate=!1;var s=t.transitionEndEventName;if(s){var a=e(l,r);n.bind(s,function(){e.cancel(a),l(),i.$apply()})}else e(l,0);function l(){l.done||(l.done=!0,n.remove(),o&&o())}}return r.$watch(h,function(t){a&&(a.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=c.top())&&e.value.keyboard&&r.$apply(function(){u.dismiss(e.key)})}),u.open=function(t,e){c.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),u=h();u>=0&&!s&&((a=r.$new(!0)).index=u,s=i("<div modal-backdrop></div>")(a),o.append(s));var d=angular.element("<div modal-window></div>");d.attr("window-class",e.windowClass),d.attr("index",c.length()-1),d.attr("animate","animate"),d.html(e.content);var f=i(d)(e.scope);c.top().value.modalDomEl=f,o.append(f),o.addClass(l)},u.close=function(t,e){var n=c.get(t).value;n&&(n.deferred.resolve(e),d(t))},u.dismiss=function(t,e){var n=c.get(t).value;n&&(n.deferred.reject(e),d(t))},u.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},u.getTop=function(){return c.top()},u}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,i,r,o,s,a){var l={};return l.open=function(l){var c=i.defer(),u=i.defer(),h={result:c.promise,opened:u.promise,close:function(t){a.close(h,t)},dismiss:function(t){a.dismiss(h,t)}};if((l=angular.extend({},t.options,l)).resolve=l.resolve||{},!l.template&&!l.templateUrl)throw new Error("One of template or templateUrl options is required.");var d,f,p,g=i.all([(p=l,p.template?i.when(p.template):r.get(p.templateUrl,{cache:o}).then(function(t){return t.data}))].concat((d=l.resolve,f=[],angular.forEach(d,function(t,n){(angular.isFunction(t)||angular.isArray(t))&&f.push(i.when(e.invoke(t)))}),f)));return g.then(function(t){var e=(l.scope||n).$new();e.$close=h.close,e.$dismiss=h.dismiss;var i={},r=1;l.controller&&(i.$scope=e,i.$modalInstance=h,angular.forEach(l.resolve,function(e,n){i[n]=t[r++]}),s(l.controller,i)),a.open(h,{scope:e,deferred:c,content:t[0],backdrop:l.backdrop,keyboard:l.keyboard,windowClass:l.windowClass})},function(t){c.reject(t)}),g.then(function(){u.resolve(!0)},function(){u.reject(!1)}),h},l}]};return t}),angular.module("mm.foundation.offcanvas",[]).directive("offCanvasWrap",["$window",function(t){return{scope:{},restrict:"C",link:function(e,n,i){var r=angular.element(t),o=e.sidebar=n;e.hide=function(){o.removeClass("move-left"),o.removeClass("move-right")},r.bind("resize.body",e.hide),e.$on("$destroy",function(){r.unbind("resize.body",e.hide)})},controller:["$scope",function(t){this.leftToggle=function(){t.sidebar.toggleClass("move-right")},this.rightToggle=function(){t.sidebar.toggleClass("move-left")},this.hide=function(){t.hide()}}]}}]).directive("leftOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.leftToggle()})}}}]).directive("rightOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.rightToggle()})}}}]).directive("exitOffCanvas",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.hide()})}}}]).directive("offCanvasList",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(t,e,n,i){e.on("click",function(){i.hide()})}}}]),angular.module("mm.foundation.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(t,e,n,i){var r=this,o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(i){e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=i},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===t.totalPages},this.isActive=function(t){return this.page===t},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.getAttributeValue=function(e,n,r){return angular.isDefined(e)?r?i(e)(t.$parent):t.$parent.$eval(e):n},this.render=function(){this.page=parseInt(t.page,10)||1,this.page>0&&this.page<=t.totalPages&&(t.pages=this.getPages(this.page,t.totalPages))},t.selectPage=function(e){!r.isActive(e)&&e>0&&e<=t.totalPages&&(t.page=e,t.onSelectPage({page:e}))},t.$watch("page",function(){r.render()}),t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),r.page>e?t.selectPage(e):r.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){var s,a=o.getAttributeValue(r.boundaryLinks,e.boundaryLinks),l=o.getAttributeValue(r.directionLinks,e.directionLinks),c=o.getAttributeValue(r.firstText,e.firstText,!0),u=o.getAttributeValue(r.previousText,e.previousText,!0),h=o.getAttributeValue(r.nextText,e.nextText,!0),d=o.getAttributeValue(r.lastText,e.lastText,!0),f=o.getAttributeValue(r.rotate,e.rotate);function p(t,e,n,i){return{number:t,text:e,active:n,disabled:i}}o.init(e.itemsPerPage),r.maxSize&&n.$parent.$watch(t(r.maxSize),function(t){s=parseInt(t,10),o.render()}),o.getPages=function(t,e){var n=[],i=1,r=e,g=angular.isDefined(s)&&s<e;g&&(f?(r=(i=Math.max(t-Math.floor(s/2),1))+s-1)>e&&(i=(r=e)-s+1):(i=(Math.ceil(t/s)-1)*s+1,r=Math.min(i+s-1,e)));for(var m=i;m<=r;m++){var v=p(m,m,o.isActive(m),!1);n.push(v)}if(g&&!f){if(i>1){var y=p(i-1,"...",!1,!1);n.unshift(y)}if(r<e){var b=p(r+1,"...",!1,!1);n.push(b)}}if(l){var w=p(t-1,u,!1,o.noPrevious());n.unshift(w);var x=p(t+1,h,!1,o.noNext());n.push(x)}if(a){var C=p(1,c,!1,o.noPrevious());n.unshift(C);var k=p(e,d,!1,o.noNext());n.push(k)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,i,r){var o=r.getAttributeValue(i.previousText,t.previousText,!0),s=r.getAttributeValue(i.nextText,t.nextText,!0),a=r.getAttributeValue(i.align,t.align);function l(t,e,n,i,r){return{number:t,text:e,disabled:n,previous:a&&i,next:a&&r}}r.init(t.itemsPerPage),r.getPages=function(t){return[l(t-1,o,r.noPrevious(),!0,!1),l(t+1,s,r.noNext(),!1,!0)]}}}}]),angular.module("mm.foundation.tooltip",["mm.foundation.position","mm.foundation.bindHtml"]).provider("$tooltip",function(){var t={placement:"top",animation:!0,popupDelay:0},e={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(t){angular.extend(n,t)},this.setTriggers=function(t){angular.extend(e,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,r,o,s,a,l,c){return function(i,u,h){var d=angular.extend({},t,n);function f(t){var n=t||d.trigger||h;return{show:n,hide:e[n]||n}}var p=i.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),g=c.startSymbol(),m=c.endSymbol(),v="<div "+p+'-popup title="'+g+"tt_title"+m+'" content="'+g+"tt_content"+m+'" placement="'+g+"tt_placement"+m+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(t,e){var n=r(v);return function(t,e,r){var c,h,p,g=!!angular.isDefined(d.appendToBody)&&d.appendToBody,m=f(void 0),v=!1,y=angular.isDefined(r[u+"Enable"]),b=function(){var n,i,r,o;switch(n=g?l.offset(e):l.position(e),i=c.prop("offsetWidth"),r=c.prop("offsetHeight"),t.tt_placement){case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width+10};break;case"bottom":o={top:n.top+n.height+10,left:n.left};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i-10};break;default:o={top:n.top-r-10,left:n.left}}o.top+="px",o.left+="px",c.css(o)};function w(){t.tt_isOpen?C():x()}function x(){y&&!t.$eval(r[u+"Enable"])||(t.tt_popupDelay?(p=o(k,t.tt_popupDelay,!1)).then(function(t){t()}):k()())}function C(){t.$apply(function(){_()})}function k(){return t.tt_content?(function(){c&&S();c=n(t,function(){}),t.$digest()}(),h&&o.cancel(h),c.css({top:0,left:0,display:"block"}),g?a.find("body").append(c):e.after(c),b(),t.tt_isOpen=!0,t.$digest(),b):angular.noop}function _(){t.tt_isOpen=!1,o.cancel(p),t.tt_animation?h=o(S,500):S()}function S(){c&&(c.remove(),c=null)}t.tt_isOpen=!1,r.$observe(i,function(e){t.tt_content=e,!e&&t.tt_isOpen&&_()}),r.$observe(u+"Title",function(e){t.tt_title=e}),r.$observe(u+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement}),r.$observe(u+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?d.popupDelay:n});var $=function(){v&&(e.unbind(m.show,x),e.unbind(m.hide,C))},E=function(){};r[u+"Trigger"]=r[u+"Trigger"]||null,r.$observe(u+"Trigger",function(n){$(),E(),m=f(n),angular.isFunction(m.show)?E=t.$watch(function(){return m.show(t,e,r)},function(t){return o(t?k:_)}):m.show===m.hide?e.bind(m.show,w):(e.bind(m.show,x),e.bind(m.hide,C)),v=!0});var T=t.$eval(r[u+"Animation"]);t.tt_animation=angular.isDefined(T)?!!T:d.animation,r.$observe(u+"AppendToBody",function(e){g=angular.isDefined(e)?s(e)(t):g}),g&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&_()}),t.$on("$destroy",function(){o.cancel(h),o.cancel(p),$(),E(),S()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("mm.foundation.popover",["mm.foundation.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("mm.foundation.progressbar",["mm.foundation.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(t,e,n,i){var r=this,o=[],s=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,a=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.addBar=function(t,e){var n=0,i=t.$parent.$index;angular.isDefined(i)&&o[i]&&(n=o[i].value),o.push(t),this.update(e,t.value,n),t.$watch("value",function(t,n){t!==n&&r.update(e,t,n)}),t.$on("$destroy",function(){r.removeBar(t)})},this.update=function(t,e,n){var r=this.getPercentage(e);a?(t.css("width",this.getPercentage(n)+"%"),i(t,{width:r+"%"})):t.css({transition:"none",width:r+"%"})},this.removeBar=function(t){o.splice(o.indexOf(t),1)},this.getPercentage=function(t){return Math.round(100*t/s)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("mm.foundation.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(t,e,n,i){this.maxRange=angular.isDefined(e.max)?t.$parent.$eval(e.max):i.max,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):i.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):i.stateOff,this.createRateObjects=function(t){for(var e={stateOn:this.stateOn,stateOff:this.stateOff},n=0,i=t.length;n<i;n++)t[n]=angular.extend({index:n},e,t[n]);return t},t.range=angular.isDefined(e.ratingStates)?this.createRateObjects(angular.copy(t.$parent.$eval(e.ratingStates))):this.createRateObjects(new Array(this.maxRange)),t.rate=function(e){t.value===e||t.readonly||(t.value=e)},t.enter=function(e){t.readonly||(t.val=e),t.onHover({value:e})},t.reset=function(){t.val=angular.copy(t.value),t.onLeave()},t.$watch("value",function(e){t.val=e}),t.readonly=!1,e.readonly&&t.$parent.$watch(n(e.readonly),function(e){t.readonly=!!e})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("mm.foundation.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(t){t.active=!1}),t.active=!0},e.addTab=function(t){n.push(t),(1===n.length||t.active)&&e.select(t)},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1){var r=i==n.length-1?i-1:i+1;e.select(n[r])}n.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified),t.type=angular.isDefined(n.type)?t.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,i){return function(e,n,r,o){var s,a;r.active?(s=t(r.active),a=s.assign,e.$parent.$watch(s,function(t,n){t!==n&&(e.active=!!t)}),e.active=s(e.$parent)):a=s=angular.noop,e.$watch("active",function(t){a(e.$parent,t),t?(o.select(e),e.onSelect()):e.onDeselect()}),e.disabled=!1,r.disabled&&e.$parent.$watch(t(r.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e,n,i){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(t,e,n){var i=t.$eval(n.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){var n;(n=t).tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||"tab-heading"===n.tagName.toLowerCase()||"data-tab-heading"===n.tagName.toLowerCase())?i.headingElement=t:e.append(t)})})}}}),angular.module("mm.foundation.topbar",[]).factory("closest",[function(){return function(t,e){for(var n=function(t,e){for(var n=(t.parentNode||t.document).querySelectorAll(e),i=-1;n[++i]&&n[i]!=t;);return!!n[i]},i=t[0];i;){if(n(i,e))return angular.element(i);i=i.parentElement}return!1}}]).directive("topBar",["$timeout","$compile","$window","$document",function(t,e,n,i){var r=angular.element(n),o=angular.element(i[0].querySelector("head"));o.append('<meta class="foundation-mq-topbar" />'),o.append('<meta class="foundation-mq-small" />'),o.append('<meta class="foundation-mq-medium" />'),o.append('<meta class="foundation-mq-large" />');var s,a,l,c,u,h,d=n.matchMedia||(s=i[0],l=s.documentElement,c=l.firstElementChild||l.firstChild,u=s.createElement("body"),(h=s.createElement("div")).id="mq-test-1",h.style.cssText="position:absolute;top:-100em",u.style.background="none",u.appendChild(h),function(t){return h.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',l.insertBefore(u,c),a=42===h.offsetWidth,l.removeChild(u),{matches:a,media:t}});return{scope:{stickyClass:"@",backText:"@",stickyOn:"=",customBackText:"=",isHover:"=",mobileShowParentLink:"=",scrolltop:"="},restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar.html",transclude:!0,link:function(t,e,s){var a=t.topbar=e,l=a.parent(),c=/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,u=(t.mediaQueries={topbar:getComputedStyle(o[0].querySelector("meta.foundation-mq-topbar")).fontFamily.replace(c,""),small:getComputedStyle(o[0].querySelector("meta.foundation-mq-small")).fontFamily.replace(c,""),medium:getComputedStyle(o[0].querySelector("meta.foundation-mq-medium")).fontFamily.replace(c,""),large:getComputedStyle(o[0].querySelector("meta.foundation-mq-large")).fontFamily.replace(c,"")},angular.element(i[0].querySelector("body"))),h=t.isSticky=function(){var e=l.hasClass(t.settings.stickyClass);return!(!e||"all"!==t.settings.stickyOn)||(!(!e||!small()||"small"!==t.settings.stickyOn)||(!(!e||!medium()||"medium"!==t.settings.stickyOn)||!(!e||!large()||"large"!==t.settings.stickyOn)))},d=function(){if(t.stickyTopbar&&t.isSticky()){var e=angular.element(i[0].querySelector("."+t.settings.stickyClass)),n=f;r.scrollTop()>n&&!e.hasClass("fixed")?(e.addClass("fixed"),u.css("padding-top",t.originalHeight+"px")):r.scrollTop()<=n&&e.hasClass("fixed")&&(e.removeClass("fixed"),u.css("padding-top",""))}};if(t.toggle=function(e){if(!t.breakpoint())return!1;var i=void 0===e?!a.hasClass("expanded"):e;i?a.addClass("expanded"):a.removeClass("expanded"),t.settings.scrolltop?!i&&a.hasClass("fixed")?(a.parent().addClass("fixed"),a.removeClass("fixed"),u.css("padding-top",t.originalHeight+"px")):i&&a.parent().hasClass("fixed")&&(a.parent().removeClass("fixed"),a.addClass("fixed"),u.css("padding-top",""),n.scrollTo(0,0)):(h()&&a.parent().addClass("fixed"),a.parent().hasClass("fixed")&&(i?(a.addClass("fixed"),a.parent().addClass("expanded"),u.css("padding-top",t.originalHeight+"px")):(a.removeClass("fixed"),a.parent().removeClass("expanded"),d())))},l.hasClass("fixed")||h()){t.stickyTopbar=!0,t.height=l[0].offsetHeight;var f=l[0].getBoundingClientRect().top}else t.height=a[0].offsetHeight;t.originalHeight=t.height,t.$watch("height",function(t){t?a.css("height",t+"px"):a.css("height","")}),r.bind("resize",function(){var e=angular.element(a[0].querySelectorAll("section"));angular.forEach(e,function(t){angular.element(t.querySelectorAll("li.moved")).removeClass("moved")}),a.removeClass("expanded"),t.height="",t.$apply()}),r.bind("scroll",function(){d(),t.$apply()}),t.$on("$destroy",function(){r.unbind("scroll"),r.unbind("resize")}),l.hasClass("fixed")&&u.css("padding-top",t.originalHeight+"px")},controller:["$window","$scope","closest",function(e,n,r){n.settings={},n.settings.stickyClass=n.stickyClass||"sticky",n.settings.backText=n.backText||"Back",n.settings.stickyOn=n.stickyOn||"all",n.settings.customBackText=void 0===n.customBackText||n.customBackText,n.settings.isHover=void 0===n.isHover||n.isHover,n.settings.mobileShowParentLink=void 0===n.mobileShowParentLink||n.mobileShowParentLink,n.settings.scrolltop=void 0===n.scrolltop||n.scrolltop,this.settings=n.settings,n.index=0;var o=function(t){var e=t.offsetHeight,n=t.currentStyle||getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},s=n.breakpoint=this.breakpoint=function(){return!d(n.mediaQueries.topbar).matches},a=[];this.addSection=function(t){a.push(t)},this.removeSection=function(t){var e=a.indexOf(t);e>-1&&a.splice(e,1)};var l=/rtl/i.test(i.find("html").attr("dir"))?"right":"left";n.$watch("index",function(t){for(var e=0;e<a.length;e++)a[e].move(l,t)}),this.toggle=function(t){n.toggle(t);for(var e=0;e<a.length;e++)a[e].reset();n.index=0,n.height="",n.$apply()},this.back=function(e){if(!(n.index<1)&&s()){var i=angular.element(e.currentTarget),a=r(i,"li.moved"),l=a.parent();n.index=n.index-1,0===n.index?n.height="":n.height=n.originalHeight+o(l[0]),t(function(){a.removeClass("moved")},300)}},this.forward=function(t){if(!s())return!1;var e=angular.element(t.currentTarget);r(e,"li").addClass("moved"),n.height=n.originalHeight+o(e.parent()[0].querySelector("ul")),n.index=n.index+1,n.$apply()}}]}}]).directive("toggleTopBar",["closest",function(t){return{scope:{},require:"^topBar",restrict:"A",replace:!0,templateUrl:"template/topbar/toggle-top-bar.html",transclude:!0,link:function(e,n,i,r){n.bind("click",function(e){var n=t(angular.element(e.currentTarget),"li");n.hasClass("back")||n.hasClass("has-dropdown")||r.toggle()}),e.$on("$destroy",function(){n.unbind("click")})}}}]).directive("topBarSection",["$compile","closest",function(t,e){return{scope:{},require:"^topBar",restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar-section.html",transclude:!0,link:function(t,n,i,r){var o=n;t.reset=function(){angular.element(o[0].querySelectorAll("li.moved")).removeClass("moved")},t.move=function(t,e){"left"===t?o.css({left:-100*e+"%"}):o.css({right:-100*e+"%"})},r.addSection(t),t.$on("$destroy",function(){r.removeSection(t)});var s=o[0].querySelectorAll("li>a");angular.forEach(s,function(n){var i=angular.element(n),o=e(i,"li");o.hasClass("has-dropdown")||o.hasClass("back")||o.hasClass("title")||(i.bind("click",function(){r.toggle(!1)}),t.$on("$destroy",function(){i.bind("click")}))})}}}]).directive("hasDropdown",[function(){return{scope:{},require:["^topBar"],restrict:"A",templateUrl:"template/topbar/has-dropdown.html",replace:!0,transclude:!0,link:function(t,e,n,i){var r=i[0];i[1];t.triggerLink=e.children("a")[0];var o=angular.element(t.triggerLink);o.bind("click",function(t){r.forward(t)}),t.$on("$destroy",function(){o.unbind("click")}),e.bind("mouseenter",function(){r.settings.isHover&&!r.breakpoint()&&e.addClass("not-click")}),e.bind("click",function(t){r.settings.isHover||r.breakpoint()||(was_clicked_twice=e[0].className.indexOf("not-click"),$("#main").click(function(){$(".not-click").toggleClass("not-click"),$("#main").unbind("click")}),0!=$(".not-click").size()&&$(".not-click").toggleClass("not-click"),-1!=was_clicked_twice&&e.toggleClass("not-click"),e.toggleClass("not-click"))}),e.bind("mouseleave",function(){r.settings.isHover&&e.removeClass("not-click")}),t.$on("$destroy",function(){e.unbind("click"),e.unbind("mouseenter"),e.unbind("mouseleave")})},controller:["$window","$scope",function(t,e){this.triggerLink=e.triggerLink}]}}]).directive("topBarDropdown",["$compile",function(t){return{scope:{},require:["^topBar","^hasDropdown"],restrict:"A",replace:!0,templateUrl:"template/topbar/top-bar-dropdown.html",transclude:!0,link:function(e,n,i,r){var o,s=r[0],a=r[1],l=angular.element(a.triggerLink),c=l.attr("href");e.linkText=l.text(),e.back=function(t){s.back(t)},s.settings.customBackText?e.backText=s.settings.backText:e.backText="&laquo; "+l.html(),o=s.settings.mobileShowParentLink&&c&&c.length>1?angular.element('<li class="title back js-generated"><h5><a href="#" ng-click="back($event);">{{backText}}</a></h5></li><li><a class="parent-link js-generated" href="'+c+'">{{linkText}}</a></li>'):angular.element('<li class="title back js-generated"><h5><a href="" ng-click="back($event);">{{backText}}</a></h5></li>'),t(o)(e),n.prepend(o)}}}]),angular.module("mm.foundation.tour",["mm.foundation.position","mm.foundation.tooltip"]).service("$tour",["$window","$rootScope",function(t,e){var n=parseInt(t.localStorage.getItem("mm.tour.step"),10),i={};function r(e){n=e,t.localStorage.setItem("mm.tour.step",e)}this.add=function(t,e){i[t]=e},this.has=function(t){return!!i[t]},this.isActive=function(){return n>0},this.current=function(t){if(!t)return n;r(n)},this.start=function(){r(1)},this.next=function(){r(n+1)},this.end=function(){e.$emit("tour_ended"),r(0)}}]).directive("stepTextPopup",["$tour",function(t){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tour/tour.html",link:function(e,n){e.isLastStep=function(){return!t.has(t.current()+1)},e.endTour=function(){n.remove(),t.end()},e.nextStep=function(){n.remove(),t.next()}}}}]).directive("stepText",["$position","$tooltip","$tour","$window","Page",function(t,e,n,i,r){return e("stepText","step",function(e,o,s){var a,l=parseInt(s.stepIndex,10);if(s.pageName)var c=s.pageName.replace(".","_");if(n.isActive()&&l&&c==r.pageName()&&(n.add(l,s),l===n.current())){if(!((a=o[0].getBoundingClientRect()).top>=0&&a.left>=0&&a.bottom<=i.innerHeight-80&&a.right<=i.innerWidth)){var u=t.offset(o);i.scrollTo(0,u.top-i.innerHeight/2)}return!0}return!1})}]),angular.module("mm.foundation.typeahead",["mm.foundation.position","mm.foundation.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,i,r,o,s){var a=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,h){var d,f=l.$eval(u.typeaheadMinLength)||1,p=l.$eval(u.typeaheadWaitMs)||0,g=!1!==l.$eval(u.typeaheadEditable),m=e(u.typeaheadLoading).assign||angular.noop,v=e(u.typeaheadOnSelect),y=u.typeaheadInputFormatter?e(u.typeaheadInputFormatter):void 0,b=!!u.typeaheadAppendToBody&&e(u.typeaheadAppendToBody),w=e(u.ngModel).assign,x=s.parse(u.typeahead),C=angular.element("<div typeahead-popup></div>");C.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&C.attr("template-url",u.typeaheadTemplateUrl);var k=l.$new();l.$on("$destroy",function(){k.$destroy()});var _,S=function(){k.matches=[],k.activeIdx=-1},$=function(t){var e={$viewValue:t};m(l,!0),n.when(x.source(l,e)).then(function(n){if(t===h.$viewValue&&d){if(n.length>0){k.activeIdx=0,k.matches.length=0;for(var i=0;i<n.length;i++)e[x.itemName]=n[i],k.matches.push({label:x.viewMapper(k,e),model:n[i]});k.query=t,k.position=b?o.offset(c):o.position(c),k.position.top=k.position.top+c.prop("offsetHeight")}else S();m(l,!1)}},function(){S(),m(l,!1)})};S(),k.query=void 0,h.$parsers.unshift(function(t){return d=!0,t&&t.length>=f?p>0?(_&&i.cancel(_),_=i(function(){$(t)},p)):$(t):(m(l,!1),S()),g?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),t)}),h.$formatters.push(function(t){var e,n={};return y?(n.$model=t,y(l,n)):(n[x.itemName]=t,e=x.viewMapper(l,n),n[x.itemName]=void 0,e!==x.viewMapper(l,n)?e:t)}),k.select=function(t){var e,n,i={};i[x.itemName]=n=k.matches[t].model,e=x.modelMapper(l,i),w(l,e),h.$setValidity("editable",!0),v(l,{$item:n,$model:e,$label:x.viewMapper(l,i)}),S(),c[0].focus()},c.bind("keydown",function(t){0!==k.matches.length&&-1!==a.indexOf(t.which)&&(t.preventDefault(),40===t.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===t.which?(k.activeIdx=(k.activeIdx?k.activeIdx:k.matches.length)-1,k.$digest()):13===t.which||9===t.which?k.$apply(function(){k.select(k.activeIdx)}):27===t.which&&(t.stopPropagation(),S(),k.$digest()))}),c.bind("blur",function(t){d=!1});var E=function(t){c[0]!==t.target&&(S(),k.$digest())};r.bind("click",E),l.$on("$destroy",function(){r.unbind("click",E)});var T=t(C)(k);b?r.find("body").append(T):c.after(T)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,o,s){var a=i(s.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";t.get(a,{cache:e}).success(function(t){o.replaceWith(n(t.trim())(r))})}}}]).filter("typeaheadHighlight",function(){return function(t,e){return e?t.replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t}}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(t,e){for(;t&&t.nodeType!==i;){if(t.matches(e))return t;t=t.parentNode}}},{}],2:[function(t,e,n){var i=t("./closest");e.exports=function(t,e,n,r,o){var s=function(t,e,n,r){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&r.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){var i=t("./is"),r=t("delegate");e.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return s=e,a=n,(o=t).addEventListener(s,a),{destroy:function(){o.removeEventListener(s,a)}};var o,s,a,l,c,u,h,d,f;if(i.nodeList(t))return l=t,c=e,u=n,Array.prototype.forEach.call(l,function(t){t.addEventListener(c,u)}),{destroy:function(){Array.prototype.forEach.call(l,function(t){t.removeEventListener(c,u)})}};if(i.string(t))return h=t,d=e,f=n,r(document.body,h,d,f);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(t,e,n){e.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}},{}],6:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],7:[function(t,e,n){!function(i,r){if(void 0!==n)r(e,t("select"));else{var o={exports:{}};r(o,i.select),i.clipboardAction=o.exports}}(this,function(t,e){"use strict";var n,i=(n=e)&&n.__esModule?n:{default:n},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:5}],8:[function(t,e,n){!function(i,r){if(void 0!==n)r(e,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};r(o,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports}}(this,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=r(e),a=r(n),l=r(i),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),c(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,l.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return o("action",t)}},{key:"defaultTarget",value:function(t){var e=o("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return o("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),e}();t.exports=u})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(){"use strict";var t,e,n="ngclipboard";"object"==typeof module&&module.exports?(t=require("angular"),e=require("clipboard"),module.exports=n):(t=window.angular,e=window.Clipboard),t.module(n,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(t,n){var i=new e(n[0]);i.on("success",function(e){t.$apply(function(){t.ngclipboardSuccess({e:e})})}),i.on("error",function(e){t.$apply(function(){t.ngclipboardError({e:e})})})}}})}(),angular.module("ngTextTruncate",[]).directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function(t,e,n,i){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"@ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:["$scope","$element","$attrs",function(t,e,n){t.toggleShow=function(){t.open=!t.open},t.useToggling=void 0===n.ngTtNoToggling}],link:function(t,r,o){t.open=!1,e.failIfWrongThreshouldConfig(t.charsThreshould,t.wordsThreshould);var s=parseInt(t.charsThreshould),a=parseInt(t.wordsThreshould);s?t.text&&n.truncationApplies(t,s)?n.applyTruncation(s,t,r):r.append(t.text):t.text&&i.truncationApplies(t,a)?i.applyTruncation(a,t,r):r.append(t.text)}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(t,e){if(!t&&!e||t&&e)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function(t){return{truncationApplies:function(t,e){return t.text.length>e},applyTruncation:function(e,n,i){if(n.useToggling){var r=angular.element("<span>"+n.text.substr(0,e)+"<span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(n.customMoreLabel?n.customMoreLabel:"More")+"</span><span ng-show='open'>"+n.text.substring(e)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(n.customLessLabel?n.customLessLabel:"Less")+"</span></span></span>");t(r)(n),i.append(r)}else i.append(n.text.substr(0,e)+"...")}}}]).factory("WordBasedTruncation",["$compile",function(t){return{truncationApplies:function(t,e){return t.text.split(" ").length>e},applyTruncation:function(e,n,i){var r=n.text.split(" ");if(n.useToggling){var o=angular.element("<span>"+r.slice(0,e).join(" ")+" <span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> More</span><span ng-show='open'>"+r.slice(e,r.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> Less</span></span></span>");t(o)(n),i.append(o)}else i.append(r.slice(0,e).join(" ")+"...")}}}]),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(t){!n&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){this.element.bind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),r.call(this)},i._mouseDestroy=function(){this.element.unbind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),o.call(this)}}}(jQuery),function(t,e){"undefined"!=typeof module&&module.exports?module.exports="undefined"==typeof angular?e(require("angular")):e(angular):"function"==typeof define&&define.amd?define(["angular"],e):e(t.angular)}(this,function(t){"use strict";var e=t.module("ngDialog",[]),n=t.element,i=t.isDefined,r=(document.body||document.documentElement).style,o=i(r.animation)||i(r.WebkitAnimation)||i(r.MozAnimation)||i(r.MsAnimation)||i(r.OAnimation),s="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",a={html:!1,body:!1},l={},c=[],u=!1;return e.provider("ngDialog",function(){var e=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceHtmlReload=function(t){a.html=t||!1},this.setForceBodyReload=function(t){a.body=t||!1},this.setDefaults=function(n){t.extend(e,n)};var i,r=0,h=0,d={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(f,p,g,m,v,y,b,w,x,C){var k=[];t.forEach(["html","body"],function(t){if(k[t]=f.find(t),a[t]){var e=_.getRouterLocationEventName();y.$on(e,function(){k[t]=f.find(t)})}});var _={onDocumentKeydown:function(t){27===t.keyCode&&S.close("$escape")},activate:function(t){t.data("$ngDialogOptions").trapFocus&&(t.on("keydown",_.onTrapFocusKeydown),k.body.on("keydown",_.onTrapFocusKeydown))},deactivate:function(t){t.off("keydown",_.onTrapFocusKeydown),k.body.off("keydown",_.onTrapFocusKeydown)},deactivateAll:function(){t.forEach(function(e){var n=t.element(e);_.deactivate(n)})},setBodyPadding:function(t){var e=parseInt(k.body.css("padding-right")||0,10);k.body.css("padding-right",e+t+"px"),k.body.data("ng-dialog-original-padding",e)},resetBodyPadding:function(){var t=k.body.data("ng-dialog-original-padding");t?k.body.css("padding-right",t+"px"):k.body.css("padding-right","")},performCloseDialog:function(t,e){var n=t.data("$ngDialogOptions"),r=t.attr("id"),a=l[r];if(a){if(void 0!==w.Hammer){var f=a.hammerTime;f.off("tap",i),f.destroy&&f.destroy(),delete a.hammerTime}else t.unbind("click");1===h&&k.body.unbind("keydown",_.onDocumentKeydown),t.hasClass("ngdialog-closing")||(h-=1);var p=t.data("$ngDialogPreviousFocus");p&&p.focus(),y.$broadcast("ngDialog.closing",t,e),h=0>h?0:h,o&&!n.disableAnimation?(a.$destroy(),t.unbind(s).bind(s,function(){_.closeDialogElement(t,e)}).addClass("ngdialog-closing")):(a.$destroy(),_.closeDialogElement(t,e)),d[r]&&(d[r].resolve({id:r,value:e,$dialog:t,remainingDialogs:h}),delete d[r]),l[r]&&delete l[r],c.splice(c.indexOf(r),1),c.length||(k.body.unbind("keydown",_.onDocumentKeydown),u=!1)}},closeDialogElement:function(t,e){t.remove(),0===h&&(k.html.removeClass("ngdialog-open"),k.body.removeClass("ngdialog-open"),_.resetBodyPadding()),y.$broadcast("ngDialog.closed",t,e)},closeDialog:function(e,n){var i=e.data("$ngDialogPreCloseCallback");if(i&&t.isFunction(i)){var r=i.call(e,n);t.isObject(r)?r.closePromise?r.closePromise.then(function(){_.performCloseDialog(e,n)}):r.then(function(){_.performCloseDialog(e,n)},function(){}):!1!==r&&_.performCloseDialog(e,n)}else _.performCloseDialog(e,n)},onTrapFocusKeydown:function(e){var n,i=t.element(e.currentTarget);if(i.hasClass("ngdialog"))n=i;else if(null===(n=_.getActiveDialog()))return;var r=9===e.keyCode,o=!0===e.shiftKey;r&&_.handleTab(n,e,o)},handleTab:function(t,e,n){var i=_.getFocusableElements(t);if(0!==i.length){var r=document.activeElement,o=Array.prototype.indexOf.call(i,r),s=-1===o,a=0===o,l=o===i.length-1,c=!1;n?(s||a)&&(i[i.length-1].focus(),c=!0):(s||l)&&(i[0].focus(),c=!0),c&&(e.preventDefault(),e.stopPropagation())}else document.activeElement&&document.activeElement.blur()},autoFocus:function(t){var e=t[0],i=e.querySelector("*[autofocus]");if(null===i||(i.focus(),document.activeElement!==i)){var r=_.getFocusableElements(t);if(r.length>0)return void r[0].focus();var o=_.filterVisibleElements(e.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(o.length>0){var s=o[0];n(s).attr("tabindex","-1").css("outline","0"),s.focus()}}},getFocusableElements:function(t){var e=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=_.filterTabbableElements(e);return _.filterVisibleElements(n)},filterTabbableElements:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];"-1"!==n(r).attr("tabindex")&&e.push(r)}return e},filterVisibleElements:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];(i.offsetWidth>0||i.offsetHeight>0)&&e.push(i)}return e},getActiveDialog:function(){var t=document.querySelectorAll(".ngdialog");return 0===t.length?null:n(t[t.length-1])},applyAriaAttributes:function(t,e){if(e.ariaAuto){if(!e.ariaRole){var n=_.getFocusableElements(t).length>0?"dialog":"alertdialog";e.ariaRole=n}e.ariaLabelledBySelector||(e.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),e.ariaDescribedBySelector||(e.ariaDescribedBySelector="article,section,p")}e.ariaRole&&t.attr("role",e.ariaRole),_.applyAriaAttribute(t,"aria-labelledby",e.ariaLabelledById,e.ariaLabelledBySelector),_.applyAriaAttribute(t,"aria-describedby",e.ariaDescribedById,e.ariaDescribedBySelector)},applyAriaAttribute:function(t,e,i,r){if(i&&t.attr(e,i),r){var o=t.attr("id"),s=t[0].querySelector(r);if(!s)return;var a=o+"-"+e;return n(s).attr("id",a),t.attr(e,a),a}},detectUIRouter:function(){try{return t.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return _.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},S={open:function(o){function s(t,e){return y.$broadcast("ngDialog.templateLoading",t),v.get(t,e||{}).then(function(e){return y.$broadcast("ngDialog.templateLoaded",t),e.data||""})}var a,f,$=t.copy(e),E=++r,T="ngdialog"+E;c.push(T),o=o||{},t.extend($,o),d[T]=a=m.defer(),l[T]=f=t.isObject($.scope)?$.scope.$new():y.$new();var D,M,A,P=t.extend({},$.resolve);return t.forEach(P,function(e,n){P[n]=t.isString(e)?C.get(e):C.invoke(e,null,null,n)}),m.all({template:(A=$.template||$.templateUrl,A?t.isString(A)&&$.plain?A:"boolean"!=typeof $.cache||$.cache?s(A,{cache:p}):s(A,{cache:!1}):"Empty template"),locals:m.all(P)}).then(function(e){var r,o=e.template,s=e.locals;if($.showClose&&(o+='<div class="ngdialog-close"></div>'),(D=n('<div id="ngdialog'+E+'" class="ngdialog"></div>')).html($.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+o+"</div>":'<div class="ngdialog-content" role="document">'+o+"</div>"),D.data("$ngDialogOptions",$),f.ngDialogId=T,$.data&&t.isString($.data)){var a=$.data.replace(/^\s*/,"")[0];f.ngDialogData="{"===a||"["===a?t.fromJson($.data):$.data,f.ngDialogData.ngDialogId=T}else $.data&&t.isObject($.data)&&(f.ngDialogData=$.data,f.ngDialogData.ngDialogId=T);if($.controller&&(t.isString($.controller)||t.isArray($.controller)||t.isFunction($.controller))){var l;$.controllerAs&&t.isString($.controllerAs)&&(l=$.controllerAs);var c=x($.controller,t.extend(s,{$scope:f,$element:D}),null,l);D.data("$ngDialogControllerController",c)}($.className&&D.addClass($.className),$.disableAnimation&&D.addClass("ngdialog-disabled-animation"),M=$.appendTo&&t.isString($.appendTo)?t.element(document.querySelector($.appendTo)):k.body,_.applyAriaAttributes(D,$),$.preCloseCallback)&&(t.isFunction($.preCloseCallback)?r=$.preCloseCallback:t.isString($.preCloseCallback)&&f&&(t.isFunction(f[$.preCloseCallback])?r=f[$.preCloseCallback]:f.$parent&&t.isFunction(f.$parent[$.preCloseCallback])?r=f.$parent[$.preCloseCallback]:y&&t.isFunction(y[$.preCloseCallback])&&(r=y[$.preCloseCallback])),r&&D.data("$ngDialogPreCloseCallback",r));if(f.closeThisDialog=function(t){_.closeDialog(D,t)},b(function(){var t=document.querySelectorAll(".ngdialog");_.deactivateAll(t),g(D)(f);var e=w.innerWidth-k.body.prop("clientWidth");k.html.addClass("ngdialog-open"),k.body.addClass("ngdialog-open");var n=e-(w.innerWidth-k.body.prop("clientWidth"));n>0&&_.setBodyPadding(n),M.append(D),_.activate(D),$.trapFocus&&_.autoFocus(D),$.name?y.$broadcast("ngDialog.opened",{dialog:D,name:$.name}):y.$broadcast("ngDialog.opened",D)}),u||(k.body.bind("keydown",_.onDocumentKeydown),u=!0),$.closeByNavigation){var d=_.getRouterLocationEventName();y.$on(d,function(){_.closeDialog(D)})}($.preserveFocus&&D.data("$ngDialogPreviousFocus",document.activeElement),i=function(t){var e=!!$.closeByDocument&&n(t.target).hasClass("ngdialog-overlay"),i=n(t.target).hasClass("ngdialog-close");(e||i)&&S.close(D.attr("id"),i?"$closeButton":"$document")},void 0!==w.Hammer)?(f.hammerTime=w.Hammer(D[0])).on("tap",i):D.bind("click",i);return h+=1,S}),{id:T,closePromise:a.promise,close:function(t){_.closeDialog(D,t)}}},openConfirm:function(e){var i=m.defer(),r={closeByEscape:!1,closeByDocument:!1};t.extend(r,e),r.scope=t.isObject(r.scope)?r.scope.$new():y.$new(),r.scope.confirm=function(t){i.resolve(t);var e=n(document.getElementById(o.id));_.performCloseDialog(e,t)};var o=S.open(r);return o.closePromise.then(function(t){return t?i.reject(t.value):i.reject()}),i.promise},isOpen:function(t){return n(document.getElementById(t)).length>0},close:function(t,e){var i=n(document.getElementById(t));if(i.length)_.closeDialog(i,e);else if("$escape"===t){var r=c[c.length-1];(i=n(document.getElementById(r))).data("$ngDialogOptions").closeByEscape&&_.closeDialog(i,e)}else S.closeAll(e);return S},closeAll:function(t){for(var e=document.querySelectorAll(".ngdialog"),i=e.length-1;i>=0;i--){var r=e[i];_.closeDialog(n(r),t)}},getOpenDialogs:function(){return c},getDefaults:function(){return e}};return S}]}),e.directive("ngDialog",["ngDialog",function(e){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,i,r){i.on("click",function(i){i.preventDefault();var o=t.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";t.isDefined(r.ngDialogClosePrevious)&&e.close(r.ngDialogClosePrevious);var s=e.getDefaults();e.open({template:r.ngDialog,className:r.ngDialogClass||s.className,controller:r.ngDialogController,controllerAs:r.ngDialogControllerAs,bindToController:r.ngDialogBindToController,scope:o,data:r.ngDialogData,showClose:"false"!==r.ngDialogShowClose&&("true"===r.ngDialogShowClose||s.showClose),closeByDocument:"false"!==r.ngDialogCloseByDocument&&("true"===r.ngDialogCloseByDocument||s.closeByDocument),closeByEscape:"false"!==r.ngDialogCloseByEscape&&("true"===r.ngDialogCloseByEscape||s.closeByEscape),overlay:"false"!==r.ngDialogOverlay&&("true"===r.ngDialogOverlay||s.overlay),preCloseCallback:r.ngDialogPreCloseCallback||s.preCloseCallback})})}}}]),e});var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=t.URL||t.webkitURL||t,i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r=!t.externalHost&&"download"in i,o=t.webkitRequestFileSystem,s=t.requestFileSystem||o||t.mozRequestFileSystem,a=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",c=0,u=[],h=function(){for(var t=u.length;t--;){var e=u[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}u.length=0},d=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){a(t)}}},f=function(n,a){var h,f,p,g=this,m=n.type,v=!1,y=function(){var e=(t.URL||t.webkitURL||t).createObjectURL(n);return u.push(e),e},b=function(){d(g,"writestart progress write writeend".split(" "))},w=function(){!v&&h||(h=y()),f?f.location.href=h:window.open(h,"_blank"),g.readyState=g.DONE,b()},x=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},C={create:!0,exclusive:!1};if(g.readyState=g.INIT,a||(a="download"),r){h=y(),e=t.document,(i=e.createElementNS("http://www.w3.org/1999/xhtml","a")).href=h,i.download=a;var k=e.createEvent("MouseEvents");return k.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(k),g.readyState=g.DONE,void b()}t.chrome&&m&&m!==l&&(p=n.slice||n.webkitSlice,n=p.call(n,0,n.size,l),v=!0),o&&"download"!==a&&(a+=".download"),(m===l||o)&&(f=t),s?(c+=n.size,s(t.TEMPORARY,c,x(function(t){t.root.getDirectory("saved",C,x(function(t){var e=function(){t.getFile(a,C,x(function(t){t.createWriter(x(function(e){e.onwriteend=function(e){f.location.href=t.toURL(),u.push(t),g.readyState=g.DONE,d(g,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=g["on"+t]}),e.write(n),g.abort=function(){e.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),w)}),w)};t.getFile(a,{create:!1},x(function(t){t.remove(),e()}),x(function(t){t.code===t.NOT_FOUND_ERR?e():w()}))}),w)}),w)):w()},p=f.prototype,g=function(t,e){return new f(t,e)};return p.abort=function(){this.readyState=this.DONE,d(this,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,t.addEventListener("unload",h,!1),g.unload=function(){h(),t.removeEventListener("unload",h,!1)},g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);if("undefined"!=typeof module&&(module.exports=saveAs),"function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof URL)if("function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof webkitURL)var Blob=function(t){"use strict";var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=t.URL||t.webkitURL||t,h=u.createObjectURL,d=u.revokeObjectURL,f=u,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array;for(i.fake=o.fake=!0;c--;)a.prototype[l[c]]=c+1;return u.createObjectURL||(f=t.URL={}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(u,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(u,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),l=0,c=o.length;l<c;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var u=new s;n.push(u.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},n}(t);return function(t,n){var i=n&&n.type||"",r=new e;if(t)for(var o=0,s=t.length;o<s;o++)r.append(t[o]);return r.getBlob(i)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);else self.URL=webkitURL;var ics=function(){"use strict";if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){var t=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",e=[],n=["BEGIN:VCALENDAR","VERSION:2.0"].join(t),i=t+"END:VCALENDAR";return{events:function(){return e},calendar:function(){return n+t+e.join(t)+i},addEvent:function(n,i,r,o,s){if(void 0===n||void 0===i||void 0===r||void 0===o||void 0===s)return!1;var a=new Date(o),l=new Date(s),c=("0000"+a.getFullYear().toString()).slice(-4),u=("00"+(a.getMonth()+1).toString()).slice(-2),h=("00"+a.getDate().toString()).slice(-2),d=("00"+a.getHours().toString()).slice(-2),f=("00"+a.getMinutes().toString()).slice(-2),p=("00"+a.getMinutes().toString()).slice(-2),g=("0000"+l.getFullYear().toString()).slice(-4),m=("00"+(l.getMonth()+1).toString()).slice(-2),v=("00"+l.getDate().toString()).slice(-2),y=("00"+l.getHours().toString()).slice(-2),b=("00"+l.getMinutes().toString()).slice(-2),w=("00"+l.getMinutes().toString()).slice(-2),x="",C="";f+p+b+w!=0&&(x="T"+d+f+p,C="T"+y+b+w);var k=["BEGIN:VEVENT","CLASS:PUBLIC","DESCRIPTION:"+i,"DTSTART;VALUE=DATE:"+(c+u+h+x),"DTEND;VALUE=DATE:"+(g+m+v+C),"LOCATION:"+r,"SUMMARY;LANGUAGE=en-us:"+n,"TRANSP:TRANSPARENT","END:VEVENT"].join(t);return e.push(k),k},download:function(r,o){if(e.length<1)return!1;o=void 0!==o?o:".ics",r=void 0!==r?r:"calendar";var s,a=n+t+e.join(t)+i;if(-1===navigator.userAgent.indexOf("MSIE 10"))s=new Blob([a]);else{var l=new BlobBuilder;l.append(a),s=l.getBlob("text/x-vCalendar;charset="+document.characterSet)}return saveAs(s,r+o),a}}}console.log("Unsupported Browser")};function wizardButtonDirective(t){angular.module("mgo-angular-wizard").directive(t,function(){return{restrict:"A",replace:!1,require:"^wizard",link:function(e,n,i,r){n.on("click",function(n){n.preventDefault(),e.$apply(function(){e.$eval(i[t]),r[t.replace("wz","").toLowerCase()]()})})}}})}angular.module("templates-angularwizard",["step.html","wizard.html"]),angular.module("step.html",[]).run(["$templateCache",function(t){t.put("step.html",'<section ng-show="selected" ng-class="{current: selected, done: completed}" class="step" ng-transclude>\n</section>')}]),angular.module("wizard.html",[]).run(["$templateCache",function(t){t.put("wizard.html",'<div>\n    <div class="steps" ng-if="indicatorsPosition === \'bottom\'" ng-transclude></div>\n    <ul class="steps-indicator steps-{{getEnabledSteps().length}}" ng-if="!hideIndicators">\n      <li ng-class="{default: !step.completed && !step.selected, current: step.selected && !step.completed, done: step.completed && !step.selected, editing: step.selected && step.completed}" ng-repeat="step in getEnabledSteps()">\n        <a ng-click="goTo(step)">{{step.title || step.wzTitle}}</a>\n      </li>\n    </ul>\n    <div class="steps" ng-if="indicatorsPosition === \'top\'" ng-transclude></div>\n</div>\n')}]),angular.module("mgo-angular-wizard",["templates-angularwizard"]),angular.module("mgo-angular-wizard").directive("wzStep",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{wzTitle:"@",canenter:"=",canexit:"=",disabled:"@?wzDisabled",description:"@",wzData:"=",wzOrder:"@?"},require:"^wizard",templateUrl:function(t,e){return e.template||"step.html"},link:function(t,e,n,i){n.$observe("wzTitle",function(e){t.title=t.wzTitle}),t.title=t.wzTitle,i.addStep(t),t.$on("$destroy",function(){i.removeStep(t)})}}}),angular.module("mgo-angular-wizard").directive("wizard",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{currentStep:"=",onFinish:"&",hideIndicators:"=",editMode:"=",name:"@",indicatorsPosition:"@?"},templateUrl:function(t,e){return e.template||"wizard.html"},controller:["$scope","$element","$log","WizardHandler","$q","$timeout",function(t,e,n,i,r,o){function s(){angular.forEach(t.getEnabledSteps(),function(t){t.selected=!1}),t.selectedStep=null}void 0==t.indicatorsPosition&&(t.indicatorsPosition="bottom");var a=!0;i.addWizard(t.name||i.defaultName,this),t.$on("$destroy",function(){i.removeWizard(t.name||i.defaultName)}),t.steps=[];var l=function(e){var n=0,i=-1;return angular.forEach(t.getEnabledSteps(),function(t){t===e&&(i=n),n++}),i},c=function(e){var n=null;return angular.forEach(t.getEnabledSteps(),function(t){t.wzTitle===e&&(n=t)}),n};t.context={},t.$watch("currentStep",function(e){if(e){var n=t.selectedStep.wzTitle;t.selectedStep&&n!==t.currentStep&&t.goTo(c(t.currentStep))}}),t.$watch("[editMode, steps.length]",function(){var e=t.editMode;if(!angular.isUndefined(e)&&null!==e)if(e)angular.forEach(t.getEnabledSteps(),function(t){t.completed=!0});else{var n=t.currentStepNumber()-1;angular.forEach(t.getEnabledSteps(),function(t,e){e>=n&&(t.completed=!1)})}},!0),this.addStep=function(e){var n=e.wzOrder>=0&&!t.steps[e.wzOrder]?e.wzOrder:t.steps.length;t.steps[n]=e,t.getEnabledSteps()[0]===e&&t.goTo(t.getEnabledSteps()[0])},this.removeStep=function(e){var n=t.steps.indexOf(e);n>0&&t.steps.splice(n,1)},this.context=t.context,t.getStepNumber=function(t){return l(t)+1},t.goTo=function(e){var n,i,o,c,u,h,d,f;a?(s(),t.selectedStep=e,angular.isUndefined(t.currentStep)||(t.currentStep=e.wzTitle),e.selected=!0,t.$emit("wizard:stepChanged",{step:e,index:l(e)}),a=!1):(t.currentStepNumber()>0?n=t.currentStepNumber()-1:0===t.currentStepNumber()&&(n=0),r.all([(u=t.getEnabledSteps()[n],h=e,void 0===u.canexit||t.getStepNumber(h)<t.currentStepNumber()||("boolean"==typeof u.canexit?u.canexit:(f=u.canexit(t.context),angular.isFunction(f.then)?(d=r.defer(),f.then(function(t){d.resolve(t)}),d.promise):!0===f))),(i=e,void 0===i.canenter||("boolean"==typeof i.canenter?i.canenter:(c=i.canenter(t.context),angular.isFunction(c.then)?(o=r.defer(),c.then(function(t){o.resolve(t)}),o.promise):!0===c)))]).then(function(n){n[0]&&n[1]&&(s(),t.selectedStep=e,angular.isUndefined(t.currentStep)||(t.currentStep=e.wzTitle),e.selected=!0,t.$emit("wizard:stepChanged",{step:e,index:l(e)}))}))},t.currentStepNumber=function(){return l(t.selectedStep)+1},t.getEnabledSteps=function(){return t.steps.filter(function(t){return t&&"true"!==t.disabled})},this.currentStepTitle=function(){return t.selectedStep.wzTitle},this.currentStepDescription=function(){return t.selectedStep.description},this.currentStep=function(){return t.selectedStep},this.totalStepCount=function(){return t.getEnabledSteps().length},this.getEnabledSteps=function(){return t.getEnabledSteps()},this.currentStepNumber=function(){return t.currentStepNumber()},this.next=function(e){var n=t.getEnabledSteps(),i=l(t.selectedStep);if(angular.isFunction(e)){if(!e())return;i===n.length-1?this.finish():t.goTo(n[i+1])}e||(t.selectedStep.completed=!0),i===n.length-1?this.finish():t.goTo(n[i+1])},this.goTo=function(e){o(function(){var n,i=t.getEnabledSteps();n=angular.isNumber(e)?i[e]:c(e),t.goTo(n)})},this.finish=function(){t.onFinish&&t.onFinish()},this.previous=function(){var e=l(t.selectedStep);if(0===e)throw new Error("Can't go back. It's already in step 0");t.goTo(t.getEnabledSteps()[e-1])},this.cancel=function(){if(0===l(t.selectedStep))throw new Error("Can't go back. It's already in step 0");t.goTo(t.getEnabledSteps()[0])},this.reset=function(){angular.forEach(t.getEnabledSteps(),function(t){t.completed=!1}),this.goTo(0)}}]}}),wizardButtonDirective("wzNext"),wizardButtonDirective("wzPrevious"),wizardButtonDirective("wzFinish"),wizardButtonDirective("wzCancel"),wizardButtonDirective("wzReset"),angular.module("mgo-angular-wizard").factory("WizardHandler",function(){var t={},e={};return t.defaultName="defaultWizard",t.addWizard=function(t,n){e[t]=n},t.removeWizard=function(t){delete e[t]},t.wizard=function(n){var i=n;return n||(i=t.defaultName),e[i]},t}),"classList"in document.createElement("_")||function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[n]=[],h=function(){return new c(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==l(this,t+="")},u.add=function(){var t,e=arguments,n=0,i=e.length,r=!1;do{t=e[n]+"",-1===l(this,t)&&(this.push(t),r=!0)}while(++n<i);r&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,r=n.length,o=!1;do{for(t=n[i]+"",e=l(this,t);-1!==e;)this.splice(e,1),o=!0,e=l(this,t)}while(++i<r);o&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},r.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,d)}catch(t){-2146823252===t.number&&(d.enumerable=!1,r.defineProperty(i,e,d))}}else r[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=t.URL||t.webkitURL||t,h=u.createObjectURL,d=u.revokeObjectURL,f=u,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;c--;)a.prototype[l[c]]=c+1;return u.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(u,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(u,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),l=0,c=o.length;l<c;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var u=new s;n.push(u.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var i=n&&n.type||"",r=new e;if(t)for(var o=0,s=t.length;o<s;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var a=r.getBlob(i);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t,e){"use strict";"object"==typeof module?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.MediumEditor=e}(this,function(){"use strict";function t(t,e){return this.init(t,e)}var e,n,i,r,o,s,a,l,c,u,h;return t.extensions={},function(e){function n(t,e){var n,i=Array.prototype.slice.call(arguments,2);e=e||{};for(var r=0;r<i.length;r++){var o=i[r];if(o)for(n in o)o.hasOwnProperty(n)&&void 0!==o[n]&&(t||!1===e.hasOwnProperty(n))&&(e[n]=o[n])}return e}var i=!1;try{var r=document.createElement("div"),o=document.createTextNode(" ");r.appendChild(o),i=r.contains(o)}catch(t){}var s={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:e.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(t){return!!(s.isMac&&t.metaKey||!s.isMac&&t.ctrlKey)},isKey:function(t,e){var n=s.getKeyCode(t);return!1===Array.isArray(e)?n===e:-1!==e.indexOf(n)},getKeyCode:function(t){var e=t.which;return null===e&&(e=null!==t.charCode?t.charCode:t.keyCode),e},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var t=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,t)},defaults:function(){var t=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,t)},createLink:function(t,e,n,i){var r=t.createElement("a");return s.moveTextRangeIntoElement(e[0],e[e.length-1],r),r.setAttribute("href",n),i&&r.setAttribute("target",i),r},findOrCreateMatchingTextNodes:function(t,e,n){for(var i=t.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),r=[],o=0,a=!1,l=null,c=null;null!==(l=i.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!a&&n.start<o+l.nodeValue.length&&(a=!0,c=s.splitStartNodeIfNeeded(l,n.start,o)),a&&s.splitEndNodeIfNeeded(l,c,n.end,o),a&&o===n.end)break;if(a&&o>n.end+1)throw new Error("PerformLinking overshot the target!");a&&r.push(c||l),o+=l.nodeValue.length,null!==c&&(o+=c.nodeValue.length,i.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!a&&n.start<=o&&(a=!0),a&&r.push(l));return r},splitStartNodeIfNeeded:function(t,e,n){return e!==n?t.splitText(e-n):null},splitEndNodeIfNeeded:function(t,e,n,i){var r,o;r=i+(e||t).nodeValue.length+(e?t.nodeValue.length:0)-1,o=(e||t).nodeValue.length-(r+1-n),r>=n&&i!==r&&0!==o&&(e||t).splitText(o)},splitByBlockElements:function(e){if(3!==e.nodeType&&1!==e.nodeType)return[];var n=[],i=t.util.blockContainerElementNames.join(",");if(3===e.nodeType||0===e.querySelectorAll(i).length)return[e];for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];if(3===o.nodeType)n.push(o);else if(1===o.nodeType){0===o.querySelectorAll(i).length?n.push(o):n=n.concat(t.util.splitByBlockElements(o))}}return n},findAdjacentTextNodeWithContent:function(t,e,n){var i,r=!1,o=n.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);for(i=o.nextNode();i;){if(i===e)r=!0;else if(r&&3===i.nodeType&&i.nodeValue&&i.nodeValue.trim().length>0)break;i=o.nextNode()}return i},findPreviousSibling:function(t){if(!t||s.isMediumEditorElement(t))return!1;for(var e=t.previousSibling;!e&&!s.isMediumEditorElement(t.parentNode);)e=(t=t.parentNode).previousSibling;return e},isDescendant:function(t,e,n){if(!t||!e)return!1;if(t===e)return!!n;if(1!==t.nodeType)return!1;if(i||3!==e.nodeType)return t.contains(e);for(var r=e.parentNode;null!==r;){if(r===t)return!0;r=r.parentNode}return!1},isElement:function(t){return!(!t||1!==t.nodeType)},throttle:function(t,e){var n,i,r,o=null,s=0,a=function(){s=Date.now(),o=null,r=t.apply(n,i),o||(n=i=null)};return e||0===e||(e=50),function(){var l=Date.now(),c=e-(l-s);return n=this,i=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),s=l,r=t.apply(n,i),o||(n=i=null)):o||(o=setTimeout(a,c)),r}},traverseUp:function(t,e){if(!t)return!1;do{if(1===t.nodeType){if(e(t))return t;if(s.isMediumEditorElement(t))return!1}t=t.parentNode}while(t);return!1},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(e,n){var i,r,o,a,l,c,u,h=!1,d=["insertHTML",!1,n];if(!t.util.isEdge&&e.queryCommandSupported("insertHTML"))try{return e.execCommand.apply(e,d)}catch(t){}if((i=e.getSelection()).rangeCount){if(u=(r=i.getRangeAt(0)).commonAncestorContainer,s.isMediumEditorElement(u)&&!u.firstChild)r.selectNode(u.appendChild(e.createTextNode("")));else if(3===u.nodeType&&0===r.startOffset&&r.endOffset===u.nodeValue.length||3!==u.nodeType&&u.innerHTML===r.toString()){for(;!s.isMediumEditorElement(u)&&u.parentNode&&1===u.parentNode.childNodes.length&&!s.isMediumEditorElement(u.parentNode);)u=u.parentNode;r.selectNode(u)}for(r.deleteContents(),(o=e.createElement("div")).innerHTML=n,a=e.createDocumentFragment();o.firstChild;)l=o.firstChild,c=a.appendChild(l);r.insertNode(a),c&&((r=r.cloneRange()).setStartAfter(c),r.collapse(!0),t.selection.selectRange(e,r)),h=!0}return e.execCommand.callListeners&&e.execCommand.callListeners(d,h),h},execFormatBlock:function(e,n){var i=s.getTopBlockContainer(t.selection.getSelectionStart(e));if("blockquote"===n){if(i&&Array.prototype.slice.call(i.childNodes).some(function(t){return s.isBlockContainer(t)}))return e.execCommand("outdent",!1,null);if(s.isIE)return e.execCommand("indent",!1,n)}if(i&&n===i.nodeName.toLowerCase()&&(n="p"),s.isIE&&(n="<"+n+">"),i&&"blockquote"===i.nodeName.toLowerCase()){if(s.isIE&&"<p>"===n)return e.execCommand("outdent",!1,n);if((s.isFF||s.isEdge)&&"p"===n)return Array.prototype.slice.call(i.childNodes).some(function(t){return!s.isBlockContainer(t)})&&e.execCommand("formatBlock",!1,n),e.execCommand("outdent",!1,n)}return e.execCommand("formatBlock",!1,n)},setTargetBlank:function(t,e){var n,i=e||!1;if("a"===t.nodeName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)!1!==i&&i!==t[n].attributes.href.value||(t[n].target="_blank")},removeTargetBlank:function(t,e){var n;if("a"===t.nodeName.toLowerCase())t.removeAttribute("target");else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)e===t[n].attributes.href.value&&t[n].removeAttribute("target")},addClassToAnchors:function(t,e){var n,i,r=e.split(" ");if("a"===t.nodeName.toLowerCase())for(i=0;i<r.length;i+=1)t.classList.add(r[i]);else for(t=t.getElementsByTagName("a"),n=0;n<t.length;n+=1)for(i=0;i<r.length;i+=1)t[n].classList.add(r[i])},isListItem:function(t){if(!t)return!1;if("li"===t.nodeName.toLowerCase())return!0;for(var e=t.parentNode,n=e.nodeName.toLowerCase();"li"===n||!s.isBlockContainer(e)&&"div"!==n;){if("li"===n)return!0;if(!(e=e.parentNode))return!1;n=e.nodeName.toLowerCase()}return!1},cleanListDOM:function(e,n){if("li"===n.nodeName.toLowerCase()){var i=n.parentElement;"p"===i.parentElement.nodeName.toLowerCase()&&(s.unwrap(i.parentElement,e),t.selection.moveCursor(e,n.firstChild,n.firstChild.textContent.length))}},splitOffDOMTree:function(t,e,n){for(var i=e,r=null,o=!n;i!==t;){var s,a=i.parentNode,l=a.cloneNode(!1),c=o?i:a.firstChild;for(r&&(o?l.appendChild(r):s=r),r=l;c;){var u=c.nextSibling;c===i?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&r.appendChild(c),c=o?u:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&r.appendChild(c),c=u)}s&&r.appendChild(s),i=a}return r},moveTextRangeIntoElement:function(t,e,n){if(!t||!e)return!1;var i=s.findCommonRoot(t,e);if(!i)return!1;if(e===t){var r=t.parentNode,o=t.nextSibling;return r.removeChild(t),n.appendChild(t),o?r.insertBefore(n,o):r.appendChild(n),n.hasChildNodes()}for(var a,l,c,u=[],h=0;h<i.childNodes.length;h++)if(c=i.childNodes[h],a){if(s.isDescendant(c,e,!0)){l=c;break}u.push(c)}else s.isDescendant(c,t,!0)&&(a=c);var d=l.nextSibling,f=i.ownerDocument.createDocumentFragment();return a===t?(a.parentNode.removeChild(a),f.appendChild(a)):f.appendChild(s.splitOffDOMTree(a,t)),u.forEach(function(t){t.parentNode.removeChild(t),f.appendChild(t)}),l===e?(l.parentNode.removeChild(l),f.appendChild(l)):f.appendChild(s.splitOffDOMTree(l,e,!0)),n.appendChild(f),l.parentNode===i?i.insertBefore(n,l):d?i.insertBefore(n,d):i.appendChild(n),n.hasChildNodes()},depthOfNode:function(t){for(var e=0,n=t;null!==n.parentNode;)n=n.parentNode,e++;return e},findCommonRoot:function(t,e){for(var n=s.depthOfNode(t),i=s.depthOfNode(e),r=t,o=e;n!==i;)n>i?(r=r.parentNode,n-=1):(o=o.parentNode,i-=1);for(;r!==o;)r=r.parentNode,o=o.parentNode;return r},isElementAtBeginningOfBlock:function(t){for(var e;!s.isBlockContainer(t)&&!s.isMediumEditorElement(t);){for(e=t;e=e.previousSibling;)if((3===e.nodeType?e.nodeValue:e.textContent).length>0)return!1;t=t.parentNode}return!0},isMediumEditorElement:function(t){return t&&t.getAttribute&&!!t.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(t){return s.traverseUp(t,function(t){return s.isMediumEditorElement(t)})},isBlockContainer:function(t){return t&&3!==t.nodeType&&-1!==s.blockContainerElementNames.indexOf(t.nodeName.toLowerCase())},getClosestBlockContainer:function(t){return s.traverseUp(t,function(t){return s.isBlockContainer(t)||s.isMediumEditorElement(t)})},getTopBlockContainer:function(t){var e=!!s.isBlockContainer(t)&&t;return s.traverseUp(t,function(t){return s.isBlockContainer(t)&&(e=t),!(e||!s.isMediumEditorElement(t))&&(e=t,!0)}),e},getFirstSelectableLeafNode:function(t){for(;t&&t.firstChild;)t=t.firstChild;if("table"===(t=s.traverseUp(t,function(t){return-1===s.emptyElementNames.indexOf(t.nodeName.toLowerCase())})).nodeName.toLowerCase()){var e=t.querySelector("th, td");e&&(t=e)}return t},getFirstTextNode:function(t){return s.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),s._getFirstTextNode(t)},_getFirstTextNode:function(t){if(3===t.nodeType)return t;for(var e=0;e<t.childNodes.length;e++){var n=s._getFirstTextNode(t.childNodes[e]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(t){return-1===t.indexOf("://")?"http://"+t:t},warn:function(){void 0!==e.console&&"function"==typeof e.console.warn&&e.console.warn.apply(e.console,arguments)},deprecated:function(t,e,n){var i=t+" is deprecated, please use "+e+" instead.";n&&(i+=" Will be removed in "+n),s.warn(i)},deprecatedMethod:function(t,e,n,i){s.deprecated(t,e,i),"function"==typeof this[e]&&this[e].apply(this,n)},cleanupAttrs:function(t,e){e.forEach(function(e){t.removeAttribute(e)})},cleanupTags:function(t,e){e.forEach(function(e){t.nodeName.toLowerCase()===e&&t.parentNode.removeChild(t)})},getClosestTag:function(t,e){return s.traverseUp(t,function(t){return t.nodeName.toLowerCase()===e.toLowerCase()})},unwrap:function(t,e){for(var n=e.createDocumentFragment(),i=Array.prototype.slice.call(t.childNodes),r=0;r<i.length;r++)n.appendChild(i[r]);n.childNodes.length?t.parentNode.replaceChild(n,t):t.parentNode.removeChild(t)},guid:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}};t.util=s}(window),(e=function(e){t.util.extend(this,e)}).extend=function(e){var n,i=this;n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return i.apply(this,arguments)},t.util.extend(n,i);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&t.util.extend(n.prototype,e),n},e.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(t){return this.base.options[t]}},["execAction","on","off","subscribe","trigger"].forEach(function(t){e.prototype[t]=function(){return this.base[t].apply(this.base,arguments)}}),t.Extension=e,function(){function e(e){return t.util.isBlockContainer(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(e,n){var i,r=n.getSelection();return 0!==r.rangeCount&&(i=r.getRangeAt(0).commonAncestorContainer,t.util.traverseUp(i,e))},getSelectionElement:function(e){return this.findMatchingSelectionParent(function(e){return t.util.isMediumEditorElement(e)},e)},exportSelection:function(t,e){if(!t)return null;var n=null,i=e.getSelection();if(i.rangeCount>0){var r,o=i.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(t),s.setEnd(o.startContainer,o.startOffset),n={start:r=s.toString().length,end:r+o.toString().length},this.doesRangeStartWithImages(o,e)&&(n.startsWithImage=!0);var a=this.getTrailingImageCount(t,n,o.endContainer,o.endOffset);if(a&&(n.trailingImageCount=a),0!==r){var l=this.getIndexRelativeToAdjacentEmptyBlocks(e,t,o.startContainer,o.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(t,e,n,i){if(t&&e){var r=n.createRange();r.setStart(e,0),r.collapse(!0);var o,s=e,a=[],l=0,c=!1,u=!1,h=0,d=!1,f=!1,p=null;for((i||t.startsWithImage||void 0!==t.emptyBlocksIndex)&&(f=!0);!d&&s;)if(s.nodeType>3)s=a.pop();else{if(3!==s.nodeType||u){if(t.trailingImageCount&&u&&("img"===s.nodeName.toLowerCase()&&h++,h===t.trailingImageCount)){for(var g=0;s.parentNode.childNodes[g]!==s;)g++;r.setEnd(s.parentNode,g+1),d=!0}if(!d&&1===s.nodeType)for(var m=s.childNodes.length-1;m>=0;)a.push(s.childNodes[m]),m-=1}else o=l+s.length,!c&&t.start>=l&&t.start<=o&&(f||t.start<o?(r.setStart(s,t.start-l),c=!0):p=s),c&&t.end>=l&&t.end<=o&&(t.trailingImageCount?u=!0:(r.setEnd(s,t.end-l),d=!0)),l=o;d||(s=a.pop())}!c&&p&&(r.setStart(p,p.length),r.setEnd(p,p.length)),void 0!==t.emptyBlocksIndex&&(r=this.importSelectionMoveCursorPastBlocks(n,e,t.emptyBlocksIndex,r)),i&&(r=this.importSelectionMoveCursorPastAnchor(t,r)),this.selectRange(n,r)}},importSelectionMoveCursorPastAnchor:function(e,n){if(e.start===e.end&&3===n.startContainer.nodeType&&n.startOffset===n.startContainer.nodeValue.length&&t.util.traverseUp(n.startContainer,function(t){return"a"===t.nodeName.toLowerCase()})){for(var i=n.startContainer,r=n.startContainer.parentNode;null!==r&&"a"!==r.nodeName.toLowerCase();)r.childNodes[r.childNodes.length-1]!==i?r=null:(i=r,r=r.parentNode);if(null!==r&&"a"===r.nodeName.toLowerCase()){for(var o=null,s=0;null===o&&s<r.parentNode.childNodes.length;s++)r.parentNode.childNodes[s]===r&&(o=s);n.setStart(r.parentNode,o+1),n.collapse(!0)}}return n},importSelectionMoveCursorPastBlocks:function(n,i,r,o){var s,a,l=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,e,!1),c=o.startContainer,u=0;for(r=r||1,s=3===c.nodeType&&t.util.isBlockContainer(c.previousSibling)?c.previousSibling:t.util.getClosestBlockContainer(c);l.nextNode();)if(a){if(a=l.currentNode,++u===r)break;if(a.textContent.length>0)break}else s===l.currentNode&&(a=l.currentNode);return a||(a=s),o.setStart(t.util.getFirstSelectableLeafNode(a),0),o},getIndexRelativeToAdjacentEmptyBlocks:function(n,i,r,o){if(r.textContent.length>0&&o>0)return-1;var s=r;if(3!==s.nodeType&&(s=r.childNodes[o]),s){if(!t.util.isElementAtBeginningOfBlock(s))return-1;var a=t.util.findPreviousSibling(s);if(!a)return-1;if(a.nodeValue)return-1}for(var l=t.util.getClosestBlockContainer(r),c=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,e,!1),u=0;c.nextNode();){var h=""===c.currentNode.textContent;if((h||u>0)&&(u+=1),c.currentNode===l)return u;h||(u=0)}return u},doesRangeStartWithImages:function(t,e){if(0!==t.startOffset||1!==t.startContainer.nodeType)return!1;if("img"===t.startContainer.nodeName.toLowerCase())return!0;var n=t.startContainer.querySelector("img");if(!n)return!1;for(var i=e.createTreeWalker(t.startContainer,NodeFilter.SHOW_ALL,null,!1);i.nextNode();){var r=i.currentNode;if(r===n)break;if(r.nodeValue)return!1}return!0},getTrailingImageCount:function(t,e,n,i){if(0===i||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var r=n.childNodes[i-1];r.hasChildNodes();)r=r.lastChild;for(var o,s=t,a=[],l=0,c=!1,u=!1,h=!1,d=0;!h&&s;)if(s.nodeType>3)s=a.pop();else{if(3!==s.nodeType||u){if("img"===s.nodeName.toLowerCase()&&d++,s===r)h=!0;else if(1===s.nodeType)for(var f=s.childNodes.length-1;f>=0;)a.push(s.childNodes[f]),f-=1}else d=0,o=l+s.length,!c&&e.start>=l&&e.start<=o&&(c=!0),c&&e.end>=l&&e.end<=o&&(u=!0),l=o;h||(s=a.pop())}return d},selectionContainsContent:function(t){var e=t.getSelection();if(!e||e.isCollapsed||!e.rangeCount)return!1;if(""!==e.toString().trim())return!0;var n=this.getSelectedParentElement(e.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(t){var e,n=this.findMatchingSelectionParent(function(t){var n=t&&t.getAttribute("contenteditable");return"true"===n&&(e=!0),"#text"!==t.nodeName&&"false"===n},t);return!e&&n},getSelectionHtml:function(t){var e,n,i,r="",o=t.getSelection();if(o.rangeCount){for(i=t.createElement("div"),e=0,n=o.rangeCount;e<n;e+=1)i.appendChild(o.getRangeAt(e).cloneContents());r=i.innerHTML}return r},getCaretOffsets:function(t,e){var n,i;return e||(e=window.getSelection().getRangeAt(0)),n=e.cloneRange(),i=e.cloneRange(),n.selectNodeContents(t),n.setEnd(e.endContainer,e.endOffset),i.selectNodeContents(t),i.setStart(e.endContainer,e.endOffset),{left:n.toString().length,right:i.toString().length}},rangeSelectsSingleNode:function(t){var e=t.startContainer;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===t.startOffset+1},getSelectedParentElement:function(t){return t?this.rangeSelectsSingleNode(t)&&3!==t.startContainer.childNodes[t.startOffset].nodeType?t.startContainer.childNodes[t.startOffset]:3===t.startContainer.nodeType?t.startContainer.parentNode:t.startContainer:null},getSelectedElements:function(t){var e,n,i,r=t.getSelection();if(!r.rangeCount||r.isCollapsed||!r.getRangeAt(0).commonAncestorContainer)return[];if(3===(e=r.getRangeAt(0)).commonAncestorContainer.nodeType){for(n=[],i=e.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)n.push(i.parentNode),i=i.parentNode;return n}return[].filter.call(e.commonAncestorContainer.getElementsByTagName("*"),function(t){return"function"!=typeof r.containsNode||r.containsNode(t,!0)})},selectNode:function(t,e){var n=e.createRange();n.selectNodeContents(t),this.selectRange(e,n)},select:function(t,e,n,i,r){var o=t.createRange();return o.setStart(e,n),i?o.setEnd(i,r):o.collapse(!0),this.selectRange(t,o),o},clearSelection:function(t,e){e?t.getSelection().collapseToStart():t.getSelection().collapseToEnd()},moveCursor:function(t,e,n){this.select(t,e,n)},getSelectionRange:function(t){var e=t.getSelection();return 0===e.rangeCount?null:e.getRangeAt(0)},selectRange:function(t,e){var n=t.getSelection();n.removeAllRanges(),n.addRange(e)},getSelectionStart:function(t){var e=t.getSelection().anchorNode;return e&&3===e.nodeType?e.parentNode:e}};t.selection=n}(),function(){function e(e,n){return e.some(function(e){if("function"!=typeof e.getInteractionElements)return!1;var i=e.getInteractionElements();return!!i&&(Array.isArray(i)||(i=[i]),i.some(function(e){return t.util.isDescendant(e,n,!0)}))})}var n=function(t){this.base=t,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!t.util.isIE&&!t.util.isEdge,attachDOMEvent:function(e,n,i,r){e=t.util.isElement(e)||[window,document].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(t){t.addEventListener(n,i,r),this.events.push([t,n,i,r])}.bind(this))},detachDOMEvent:function(e,n,i,r){var o,s;e=t.util.isElement(e)||[window,document].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(t){-1!==(o=this.indexOfListener(t,n,i,r))&&(s=this.events.splice(o,1)[0])[0].removeEventListener(s[1],s[2],s[3])}.bind(this))},indexOfListener:function(t,e,n,i){var r,o,s;for(r=0,o=this.events.length;r<o;r+=1)if((s=this.events[r])[0]===t&&s[1]===e&&s[2]===n&&s[3]===i)return r;return-1},detachAllDOMEvents:function(){for(var t=this.events.pop();t;)t[0].removeEventListener(t[1],t[2],t[3]),t=this.events.pop()},detachAllEventsFromElement:function(t){for(var e=this.events.filter(function(e){return e&&e[0].getAttribute&&e[0].getAttribute("medium-editor-index")===t.getAttribute("medium-editor-index")}),n=0,i=e.length;n<i;n++){var r=e[n];this.detachDOMEvent(r[0],r[1],r[2],r[3])}},attachAllEventsToElement:function(t){this.listeners.editableInput&&(this.contentCache[t.getAttribute("medium-editor-index")]=t.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(e){this.attachDOMEvent(t,e.name,e.handler.bind(this))},this)},enableCustomEvent:function(t){void 0!==this.disabledEvents[t]&&delete this.disabledEvents[t]},disableCustomEvent:function(t){this.disabledEvents[t]=!0},attachCustomEvent:function(t,e){this.setupListener(t),this.customEvents[t]||(this.customEvents[t]=[]),this.customEvents[t].push(e)},detachCustomEvent:function(t,e){var n=this.indexOfCustomListener(t,e);-1!==n&&this.customEvents[t].splice(n,1)},indexOfCustomListener:function(t,e){return this.customEvents[t]&&this.customEvents[t].length?this.customEvents[t].indexOf(e):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(t,e,n){this.customEvents[t]&&!this.disabledEvents[t]&&this.customEvents[t].forEach(function(t){t(e,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(t){t.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(t){this.handleDocumentExecCommand(t)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var t=this.options.ownerDocument;if(this.execCommandListener&&t.execCommand.listeners){var e=t.execCommand.listeners.indexOf(this.execCommandListener);-1!==e&&t.execCommand.listeners.splice(e,1),t.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var t=this.options.ownerDocument;if(!t.execCommand.listeners){var e=function(e,n){t.execCommand.listeners&&t.execCommand.listeners.forEach(function(t){t({command:e[0],value:e[2],args:e,result:n})})},n=function(){var n=t.execCommand.orig.apply(this,arguments);if(!t.execCommand.listeners)return n;var i=Array.prototype.slice.call(arguments);return e(i,n),n};n.orig=t.execCommand,n.listeners=[],n.callListeners=e,t.execCommand=n}},unwrapExecCommand:function(){var t=this.options.ownerDocument;t.execCommand.orig&&(t.execCommand=t.execCommand.orig)},setupListener:function(t){if(!this.listeners[t]){switch(t){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(t){this.contentCache[t.getAttribute("medium-editor-index")]=t.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[t]=!0}},attachToEachElement:function(t,e){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(n){this.attachDOMEvent(n,t,e.bind(this))},this),this.eventsCache.push({name:t,handler:e})},cleanupElement:function(t){var e=t.getAttribute("medium-editor-index");e&&(this.detachAllEventsFromElement(t),this.contentCache&&delete this.contentCache[e])},focusElement:function(t){t.focus(),this.updateFocus(t,{target:t,type:"focus"})},updateFocus:function(n,i){var r,o=this.base.getFocusedElement();o&&"click"===i.type&&this.lastMousedownTarget&&(t.util.isDescendant(o,this.lastMousedownTarget,!0)||e(this.base.extensions,this.lastMousedownTarget))&&(r=o),r||this.base.elements.some(function(e){return!r&&t.util.isDescendant(e,n,!0)&&(r=e),!!r},this);var s=!t.util.isDescendant(o,n,!0)&&!e(this.base.extensions,n);r!==o&&(o&&s&&(o.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,o)),r&&(r.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,r))),s&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(t,e){if(this.contentCache){var n=t.getAttribute("medium-editor-index"),i=t.innerHTML;i!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",e,t),this.contentCache[n]=i}},handleDocumentSelectionChange:function(e){if(e.currentTarget&&e.currentTarget.activeElement){var n,i=e.currentTarget.activeElement;this.base.elements.some(function(e){return!!t.util.isDescendant(e,i,!0)&&(n=e,!0)},this),n&&this.updateInput(n,{target:i,currentTarget:n})}},handleDocumentExecCommand:function(){var t=this.base.getFocusedElement();t&&this.updateInput(t,{target:t,currentTarget:t})},handleBodyClick:function(t){this.updateFocus(t.target,t)},handleBodyFocus:function(t){this.updateFocus(t.target,t)},handleBodyMousedown:function(t){this.lastMousedownTarget=t.target},handleInput:function(t){this.updateInput(t.currentTarget,t)},handleClick:function(t){this.triggerCustomEvent("editableClick",t,t.currentTarget)},handleBlur:function(t){this.triggerCustomEvent("editableBlur",t,t.currentTarget)},handleKeypress:function(t){if(this.triggerCustomEvent("editableKeypress",t,t.currentTarget),this.keypressUpdateInput){var e={target:t.target,currentTarget:t.currentTarget};setTimeout(function(){this.updateInput(e.currentTarget,e)}.bind(this),0)}},handleKeyup:function(t){this.triggerCustomEvent("editableKeyup",t,t.currentTarget)},handleMouseover:function(t){this.triggerCustomEvent("editableMouseover",t,t.currentTarget)},handleDragging:function(t){this.triggerCustomEvent("editableDrag",t,t.currentTarget)},handleDrop:function(t){this.triggerCustomEvent("editableDrop",t,t.currentTarget)},handlePaste:function(t){this.triggerCustomEvent("editablePaste",{currentTarget:t.currentTarget,target:t.target},t.currentTarget)},handleKeydown:function(e){return this.triggerCustomEvent("editableKeydown",e,e.currentTarget),t.util.isKey(e,t.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",e,e.currentTarget):t.util.isKey(e,t.util.keyCode.ENTER)||e.ctrlKey&&t.util.isKey(e,t.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",e,e.currentTarget):t.util.isKey(e,t.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",e,e.currentTarget):t.util.isKey(e,[t.util.keyCode.DELETE,t.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",e,e.currentTarget):void 0}},t.Events=n}(),(n=t.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(e){n.isBuiltInButton(e)?t.Extension.call(this,this.defaults[e]):t.Extension.call(this,e)},init:function(){t.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var t=this.document.createElement("button"),e=this.contentDefault,n=this.getAria(),i=this.getEditorOption("buttonLabels");return t.classList.add("medium-editor-action"),t.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(e){t.classList.add(e)}),t.setAttribute("data-action",this.getAction()),n&&(t.setAttribute("title",n),t.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(e){t.setAttribute(e,this.attrs[e])},this),"fontawesome"===i&&this.contentFA&&(e=this.contentFA),t.innerHTML=e,t},handleClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.getAction();e&&this.execAction(e)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var t=null;return this.useQueryState&&(t=this.base.queryCommandState(this.getAction())),t},isAlreadyApplied:function(t){var e,n,i=!1,r=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(r&&r.length>0&&(i=-1!==r.indexOf(t.nodeName.toLowerCase())),!i&&this.style&&(e=this.style.value.split("|"),n=this.window.getComputedStyle(t,null).getPropertyValue(this.style.prop),e.forEach(function(t){this.knownState||((i=-1!==n.indexOf(t))||"text-decoration"!==this.style.prop)&&(this.knownState=i)},this)),i)}})).isBuiltInButton=function(e){return"string"==typeof e&&t.extensions.button.prototype.defaults.hasOwnProperty(e)},t.extensions.button=n,t.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}},i=t.extensions.button.extend({init:function(){t.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.hideToolbarDefaultActions()},setToolbarPosition:function(){var t=this.base.getExtensionByName("toolbar");t&&t.setToolbarPosition()}}),t.extensions.form=i,r=t.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(e){e.preventDefault(),e.stopPropagation();var n=t.selection.getSelectionRange(this.document);return"a"===n.startContainer.nodeName.toLowerCase()||"a"===n.endContainer.nodeName.toLowerCase()||t.util.getClosestTag(t.selection.getSelectedParentElement(n),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(e){t.util.isKey(e,t.util.keyCode.K)&&t.util.isMetaCtrlKey(e)&&!e.shiftKey&&this.handleClick(e)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var t=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return t.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),t.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),t.join("")},isDisplayed:function(){return t.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){t.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(e){var n=this.getInput(),i=this.getAnchorTargetCheckbox(),r=this.getAnchorButtonCheckbox();if("string"==typeof(e=e||{value:""})&&(e={value:e}),this.base.saveSelection(),this.hideToolbarDefaultActions(),t.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),n.value=e.value,n.focus(),i&&(i.checked="_blank"===e.target),r){var o=e.buttonClass?e.buttonClass.split(" "):[];r.checked=-1!==o.indexOf(this.customClassOption)}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var t=this.getAnchorTargetCheckbox(),e=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",t&&t.checked&&(n.target="_blank"),e&&e.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var t=this.getFormOpts();this.completeFormSave(t)},completeFormSave:function(t){this.base.restoreSelection(),this.execAction(this.action,t),this.base.checkSelection()},checkLinkFormat:function(t){return/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/.test(t)?"tel:"+t:(/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i.test(t)?"":"http://")+encodeURI(t)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(t){var e=t.querySelector(".medium-editor-toolbar-close"),n=t.querySelector(".medium-editor-toolbar-save"),i=t.querySelector(".medium-editor-toolbar-input");this.on(t,"click",this.handleFormClick.bind(this)),this.on(i,"keyup",this.handleTextboxKeyup.bind(this)),this.on(e,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var t=this.document.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(e){if(e.keyCode===t.util.keyCode.ENTER)return e.preventDefault(),void this.doFormSave();e.keyCode===t.util.keyCode.ESCAPE&&(e.preventDefault(),this.doFormCancel())},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),t.extensions.anchor=r,o=t.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var t=this.document.createElement("div");return t.id="medium-editor-anchor-preview-"+this.getEditorId(),t.className="medium-editor-anchor-preview",t.innerHTML=this.getTemplate(),this.on(t,"click",this.handleClick.bind(this)),t},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(t){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!t.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=t.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=t.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=t,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(t){t=t||this.activeAnchor;var e,n,i=this.anchorPreview.offsetHeight,r=t.getBoundingClientRect(),o=(r.left+r.right)/2,s=this.diffLeft,a=this.diffTop;e=this.anchorPreview.offsetWidth/2;var l=this.base.getExtensionByName("toolbar");l&&(s=l.diffLeft,a=l.diffTop),n=s-e,this.anchorPreview.style.top=Math.round(i+r.bottom-a+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",this.anchorPreview.style.right="initial",o<e?(this.anchorPreview.style.left=n+e+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-o<e?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+o+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(t){var e=this.base.getExtensionByName("anchor"),n=this.activeAnchor;e&&n&&(t.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var t={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};e.showForm(t),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var n=t.util.getClosestTag(e.target,"a");if(!1!==n){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(n.outerHTML)||/href=["']#\S+["']/.test(n.outerHTML)))return!0;var i=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(t){t.relatedTarget&&/anchor-preview/.test(t.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),t.extensions.anchorPreview=o,function(){var e,n,i,r;e=[" ","\t","\n","\r","","","","","","\u2028","\u2029"],i="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+(n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw")+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+n+"))",r=new RegExp("^("+n+")$","i");var o=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var t=0,e=0;e<this.window._mediumEditors.length;e++){var n=this.window._mediumEditors[e];null!==n&&void 0!==n.getExtensionByName("autoLink")&&t++}return 1===t},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(t,e){this.performLinking(e)},onKeypress:function(e){this.disableEventHandling||t.util.isKey(e,[t.util.keyCode.SPACE,t.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var t=this.base.exportSelection();this.performLinking(e.target)&&this.base.importSelection(t,!0)}catch(t){window.console&&window.console.error("Failed to perform linking",t),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(e){var n=t.util.splitByBlockElements(e),i=!1;0===n.length&&(n=[e]);for(var r=0;r<n.length;r++)i=this.removeObsoleteAutoLinkSpans(n[r])||i,i=this.performLinkingWithinElement(n[r])||i;return this.base.events.updateInput(e,{target:e,currentTarget:e}),i},removeObsoleteAutoLinkSpans:function(e){if(!e||3===e.nodeType)return!1;for(var n,i=e.querySelectorAll('span[data-auto-link="true"]'),r=!1,o=0;o<i.length;o++){var s=i[o].textContent;if(-1===s.indexOf("://")&&(s=t.util.ensureUrlHasProtocol(s)),i[o].getAttribute("data-href")!==s&&(n=i[o],!t.util.getClosestTag(n,"a"))){r=!0;var a=s.replace(/\s+$/,"");if(i[o].getAttribute("data-href")===a){var l=s.length-a.length,c=t.util.splitOffDOMTree(i[o],this.splitTextBeforeEnd(i[o],l));i[o].parentNode.insertBefore(c,i[o].nextSibling)}else t.util.unwrap(i[o],this.document)}}return r},splitTextBeforeEnd:function(t,e){for(var n,i,r,o=this.document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),s=!0;s;)s=null!==o.lastChild();for(;e>0&&null!==r;)(i=(n=o.currentNode).nodeValue).length>e?(r=n.splitText(i.length-e),e=0):(r=o.previousNode(),e-=i.length);return r},performLinkingWithinElement:function(e){for(var n=this.findLinkableText(e),i=0;i<n.length;i++){var r=t.util.findOrCreateMatchingTextNodes(this.document,e,n[i]);this.shouldNotLink(r)||this.createAutoLink(r,n[i].href)}return!1},shouldNotLink:function(e){for(var n=!1,i=0;i<e.length&&!1===n;i++)n=!!t.util.traverseUp(e[i],function(t){return"a"===t.nodeName.toLowerCase()||t.getAttribute&&"true"===t.getAttribute("data-auto-link")});return n},findLinkableText:function(t){for(var n=new RegExp(i,"gi"),o=t.textContent,s=null,a=[];null!==(s=n.exec(o));){var l=s.index+s[0].length;!(0!==s.index&&-1===e.indexOf(o[s.index-1])||l!==o.length&&-1===e.indexOf(o[l]))&&(-1!==s[0].indexOf("/")||r.test(s[0].split(".").pop().split("?").shift()))&&a.push({href:s[0],start:s.index,end:l})}return a},createAutoLink:function(e,n){n=t.util.ensureUrlHasProtocol(n);var i=t.util.createLink(this.document,e,n,this.getEditorOption("targetBlank")?"_blank":null),r=this.document.createElement("span");for(r.setAttribute("data-auto-link","true"),r.setAttribute("data-href",n),i.insertBefore(r,i.firstChild);i.childNodes.length>1;)r.appendChild(i.childNodes[1])}});t.extensions.autoLink=o}(),function(){var e="medium-editor-dragover";function n(n){var i=t.util.getContainerEditorElement(n);Array.prototype.slice.call(i.parentElement.querySelectorAll("."+e)).forEach(function(t){t.classList.remove(e)})}var i=t.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var i=t.target.classList?t.target:t.target.parentElement;n(i),"dragover"===t.type&&i.classList.add(e)},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),this.base.selectElement(t.target);var e=this.base.exportSelection();e.start=e.end,this.base.importSelection(e),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files).forEach(function(t){this.isAllowedFile(t)&&t.type.match("image")&&this.insertImageFile(t)},this),n(t.target)},isAllowedFile:function(t){return this.allowedTypes.some(function(e){return!!t.type.match(e)})},insertImageFile:function(e){if("function"==typeof FileReader){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",function(e){var n=this.document.createElement("img");n.src=e.target.result,t.util.insertHTMLCommand(this.document,n.outerHTML)}.bind(this))}}});t.extensions.fileDragging=i}(),s=t.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(t){var e=t.key.charCodeAt(0);this.keys[e]||(this.keys[e]=[]),this.keys[e].push(t)},this)},handleKeydown:function(e){var n=t.util.getKeyCode(e);if(this.keys[n]){var i=t.util.isMetaCtrlKey(e),r=!!e.shiftKey,o=!!e.altKey;this.keys[n].forEach(function(t){t.meta!==i||t.shift!==r||t.alt!==o&&void 0!==t.alt||(e.preventDefault(),e.stopPropagation(),"function"==typeof t.command?t.command.apply(this):!1!==t.command&&this.execAction(t.command))},this)}}}),t.extensions.keyboardCommands=s,a=t.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontName")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(t){var e=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var t,e=this.document,n=e.createElement("div"),i=e.createElement("select"),r=e.createElement("a"),o=e.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var s=0;s<this.fonts.length;s++)(t=e.createElement("option")).innerHTML=this.fonts[s],t.value=this.fonts[s],i.appendChild(t);return i.className="medium-editor-toolbar-select",n.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){t.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("face")&&t.removeAttribute("face")})},handleFontChange:function(){var t=this.getSelect().value;""===t?this.clearFontName():this.execAction("fontName",{value:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),t.extensions.fontName=a,l=t.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontSize")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(t){var e=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var t=this.document,e=t.createElement("div"),n=t.createElement("input"),i=t.createElement("a"),r=t.createElement("a");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",e.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),r.setAttribute("href","#"),r.className="medium-editor-toobar-save",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(r),this.on(r,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",e.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){t.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("size")&&t.removeAttribute("size")})},handleSliderChange:function(){var t=this.getInput().value;"4"===t?this.clearFontSize():this.execAction("fontSize",{value:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}}),t.extensions.fontSize=l,function(){var e="%ME_PASTEBIN%",n=null,i=null,r=function(t){t.stopPropagation()};function o(t,e,n){var i=t.clipboardData||e.clipboardData||n.dataTransfer,r={};if(!i)return r;if(i.getData){var o=i.getData("Text");o&&o.length>0&&(r["text/plain"]=o)}if(i.types)for(var s=0;s<i.types.length;s++){var a=i.types[s];r[a]=i.getData(a)}return r}var s=t.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){t.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editablePaste",this.handlePaste.bind(this)),this.subscribe("editableKeydown",this.handleKeydown.bind(this)))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(t,e){if(!t.defaultPrevented){var n=o(t,this.window,this.document),i=n["text/html"],r=n["text/plain"];this.window.clipboardData&&void 0===t.clipboardData&&!i&&(i=r),(i||r)&&(t.preventDefault(),this.doPaste(i,r,e))}},doPaste:function(e,n,i){var r,o,s="";if(this.cleanPastedHTML&&e)return this.cleanPaste(e);if(this.getEditorOption("disableReturn")||i&&i.getAttribute("data-disable-return"))s=t.util.htmlEntities(n);else if((r=n.split(/[\r\n]+/g)).length>1)for(o=0;o<r.length;o+=1)""!==r[o]&&(s+="<p>"+t.util.htmlEntities(r[o])+"</p>");else s=t.util.htmlEntities(r[0]);t.util.insertHTMLCommand(this.document,s)},handlePasteBinPaste:function(t){if(t.defaultPrevented)this.removePasteBin();else{var e=o(t,this.window,this.document),n=e["text/html"],r=e["text/plain"],s=i;if(!this.cleanPastedHTML||n)return t.preventDefault(),this.removePasteBin(),this.doPaste(n,r,s),void this.trigger("editablePaste",{currentTarget:s,target:s},s);setTimeout(function(){this.cleanPastedHTML&&(n=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(n,r,s),this.trigger("editablePaste",{currentTarget:s,target:s},s)}.bind(this),0)}},handleKeydown:function(e,n){t.util.isKey(e,t.util.keyCode.V)&&t.util.isMetaCtrlKey(e)&&(e.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(n))},createPasteBin:function(o){var s,a=t.selection.getSelectionRange(this.document),l=this.window.pageYOffset;i=o,a&&((s=a.getClientRects()).length?l+=s[0].top:l+=a.startContainer.getBoundingClientRect().top),n=a;var c=this.document.createElement("div");c.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),c.setAttribute("style","border: 1px red solid; position: absolute; top: "+l+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),c.setAttribute("contentEditable",!0),c.innerHTML=e,this.document.body.appendChild(c),this.on(c,"focus",r),this.on(c,"focusin",r),this.on(c,"focusout",r),c.focus(),t.selection.selectNode(c,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(c,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==n&&(t.selection.selectRange(this.document,n),n=null),null!==i&&(i=null);var e=this.getPasteBin();e&&e&&(this.off(e,"focus",r),this.off(e,"focusin",r),this.off(e,"focusout",r),this.off(e,"paste",this.boundHandlePaste),e.parentElement.removeChild(e))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var t=this.getPasteBin();if(!t)return!1;if(t.firstChild&&"mcepastebin"===t.firstChild.id)return!1;var n=t.innerHTML;return!(!n||n===e)&&n},cleanPaste:function(t){var e,n,i,r,o=/<p|<br|<div/.test(t),s=[].concat(this.preCleanReplacements||[],[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"||)(((?!&quot;|&rdquo;|&ldquo;|"||).)*)(?:&quot;|&rdquo;|&ldquo;|"||)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]],this.cleanReplacements||[]);for(e=0;e<s.length;e+=1)t=t.replace(s[e][0],s[e][1]);if(!o)return this.pasteHTML(t);for((i=this.document.createElement("div")).innerHTML="<p>"+t.split("<br><br>").join("</p><p>")+"</p>",n=i.querySelectorAll("a,p,div,br"),e=0;e<n.length;e+=1)switch((r=n[e]).innerHTML=r.innerHTML.replace(/\n/gi," "),r.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(r);break;case"br":this.filterLineBreak(r)}this.pasteHTML(i.innerHTML)},pasteHTML:function(e,n){n=t.util.defaults({},n,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var i,r,o,s,a=this.document.createDocumentFragment();for(a.appendChild(this.document.createElement("body")),(s=a.querySelector("body")).innerHTML=e,this.cleanupSpans(s),i=s.querySelectorAll("*"),o=0;o<i.length;o+=1)"a"===(r=i[o]).nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&t.util.setTargetBlank(r),t.util.cleanupAttrs(r,n.cleanAttrs),t.util.cleanupTags(r,n.cleanTags);t.util.insertHTMLCommand(this.document,s.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(t){return t&&("p"===t.nodeName.toLowerCase()||"div"===t.nodeName.toLowerCase())},filterCommonBlocks:function(t){/^\s*$/.test(t.textContent)&&t.parentNode&&t.parentNode.removeChild(t)},filterLineBreak:function(t){this.isCommonBlock(t.previousElementSibling)?this.removeWithParent(t):!this.isCommonBlock(t.parentNode)||t.parentNode.firstChild!==t&&t.parentNode.lastChild!==t?t.parentNode&&1===t.parentNode.childElementCount&&""===t.parentNode.textContent&&this.removeWithParent(t):this.removeWithParent(t)},removeWithParent:function(t){t&&t.parentNode&&(t.parentNode.parentNode&&1===t.parentNode.childElementCount?t.parentNode.parentNode.removeChild(t.parentNode):t.parentNode.removeChild(t))},cleanupSpans:function(e){var n,i,r,o=e.querySelectorAll(".replace-with"),s=function(t){return t&&"#text"!==t.nodeName&&"false"===t.getAttribute("contenteditable")};for(n=0;n<o.length;n+=1)i=o[n],r=this.document.createElement(i.classList.contains("bold")?"b":"i"),i.classList.contains("bold")&&i.classList.contains("italic")?r.innerHTML="<i>"+i.innerHTML+"</i>":r.innerHTML=i.innerHTML,i.parentNode.replaceChild(r,i);for(o=e.querySelectorAll("span"),n=0;n<o.length;n+=1){if(i=o[n],t.util.traverseUp(i,s))return!1;t.util.unwrap(i,this.document)}}});t.extensions.paste=s}(),c=t.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")||t.setAttribute("data-placeholder",this.text),this.updatePlaceholder(t)},this)},destroy:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")===this.text&&t.removeAttribute("data-placeholder")},this)},showPlaceholder:function(e){e&&(t.util.isFF&&0===e.childNodes.length?(e.classList.add("medium-editor-placeholder-relative"),e.classList.remove("medium-editor-placeholder")):(e.classList.add("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(t){t&&(t.classList.remove("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(t,e){if(t.querySelector("img, blockquote, ul, ol")||""!==t.textContent.replace(/^\s+|\s+$/g,""))return this.hidePlaceholder(t);e||this.showPlaceholder(t)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(t,e){var n=this.hideOnClick&&e===this.base.getFocusedElement();this.updatePlaceholder(e,n)},handleFocus:function(t,e){this.hidePlaceholder(e)},handleBlur:function(t,e){this.updatePlaceholder(e)}}),t.extensions.placeholder=c,u=t.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(t,e){return this.base.extensions.forEach(function(n){if(n!==this)return t.apply(e||this,arguments)},this)},createToolbar:function(){var t=this.document.createElement("div");return t.id="medium-editor-toolbar-"+this.getEditorId(),t.className="medium-editor-toolbar",this.static?t.className+=" static-toolbar":this.relativeContainer?t.className+=" medium-editor-relative-toolbar":t.className+=" medium-editor-stalker-toolbar",t.appendChild(this.createToolbarButtons()),this.forEachExtension(function(e){e.hasForm&&t.appendChild(e.getForm())}),this.attachEventHandlers(),t},createToolbarButtons:function(){var e,n,i,r,o,s,a=this.document.createElement("ul");return a.id="medium-editor-toolbar-actions"+this.getEditorId(),a.className="medium-editor-toolbar-actions",a.style.display="block",this.buttons.forEach(function(i){"string"==typeof i?(o=i,s=null):(o=i.name,s=i),(r=this.base.addBuiltInExtension(o,s))&&"function"==typeof r.getButton&&(n=r.getButton(this.base),e=this.document.createElement("li"),t.util.isElement(n)?e.appendChild(n):e.innerHTML=n,a.appendChild(e))},this),(i=a.querySelectorAll("button")).length>0&&(i[0].classList.add(this.firstButtonClass),i[i.length-1].classList.add(this.lastButtonClass)),a},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=t.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(e){if(e&&e.target&&t.util.isDescendant(this.getToolbarElement(),e.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(t){t.hasForm&&t.isDisplayed()&&t.hideForm()})},multipleBlockElementsSelected:function(){var e=new RegExp("<("+t.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=t.selection.getSelectionHtml(this.document).replace(/<[^\/>][^>]*><\/[^>]+>/gim,"").match(e);return!!n&&n.length>1},modifySelection:function(){var e=this.window.getSelection().getRangeAt(0);if(this.standardizeSelectionStart&&e.startContainer.nodeValue&&e.startOffset===e.startContainer.nodeValue.length){var n=t.util.findAdjacentTextNodeWithContent(t.selection.getSelectionElement(this.window),e.startContainer,this.document);if(n){for(var i=0;0===n.nodeValue.substr(i,1).trim().length;)i+=1;e=t.selection.select(this.document,n,i,e.endContainer,e.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||t.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var e=t.selection.getSelectionElement(this.window);return!e||-1===this.getEditorElements().indexOf(e)||e.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!t.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(t){"function"==typeof t.isActive&&"function"==typeof t.setInactive&&t.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var e,n=[],i=null,r=t.selection.getSelectionRange(this.document),o=function(t){"function"==typeof t.checkState?t.checkState(e):"function"==typeof t.isActive&&"function"==typeof t.isAlreadyApplied&&"function"==typeof t.setActive&&!t.isActive()&&t.isAlreadyApplied(e)&&t.setActive()};if(r&&(this.forEachExtension(function(t){"function"!=typeof t.queryCommandState||null===(i=t.queryCommandState())?n.push(t):i&&"function"==typeof t.setActive&&t.setActive()}),e=t.selection.getSelectedParentElement(r),this.getEditorElements().some(function(n){return t.util.isDescendant(n,e,!0)})))for(;e&&(n.forEach(o),!t.util.isMediumEditorElement(e));)e=e.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var t=this.base.getFocusedElement(),e=this.window.getSelection();if(!t)return this;!this.static&&e.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(t):this.positionToolbar(e)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(t){this.getToolbarElement().style.left="0";var e,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,r=this.getToolbarElement(),o=t.getBoundingClientRect(),s=o.top+n,a=o.left+o.width/2,l=r.offsetHeight,c=r.offsetWidth,u=c/2;switch(this.sticky?n>s+t.offsetHeight-l-this.stickyTopOffset?(r.style.top=s+t.offsetHeight-l+"px",r.classList.remove("medium-editor-sticky-toolbar")):n>s-l-this.stickyTopOffset?(r.classList.add("medium-editor-sticky-toolbar"),r.style.top=this.stickyTopOffset+"px"):(r.classList.remove("medium-editor-sticky-toolbar"),r.style.top=s-l+"px"):r.style.top=s-l+"px",this.align){case"left":e=o.left;break;case"right":e=o.right-c;break;case"center":e=a-u}e<0?e=0:e+c>i&&(e=i-Math.ceil(c)-1),r.style.left=e+"px"},positionToolbar:function(t){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var e=t.getRangeAt(0),n=e.getBoundingClientRect();(!n||0===n.height&&0===n.width&&e.startContainer===e.endContainer)&&(n=1===e.startContainer.nodeType&&e.startContainer.querySelector("img")?e.startContainer.querySelector("img").getBoundingClientRect():e.startContainer.getBoundingClientRect());var i=this.window.innerWidth,r=(n.left+n.right)/2,o=this.getToolbarElement(),s=o.offsetHeight,a=o.offsetWidth/2,l=this.diffLeft-a;n.top<50?(o.classList.add("medium-toolbar-arrow-over"),o.classList.remove("medium-toolbar-arrow-under"),o.style.top=50+n.bottom-this.diffTop+this.window.pageYOffset-s+"px"):(o.classList.add("medium-toolbar-arrow-under"),o.classList.remove("medium-toolbar-arrow-over"),o.style.top=n.top+this.diffTop+this.window.pageYOffset-s+"px"),r<a?(o.style.left=l+a+"px",o.style.right="initial"):i-r<a?(o.style.left="auto",o.style.right=0):(o.style.left=l+r+"px",o.style.right="initial")}}),t.extensions.toolbar=u,h=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){var e="medium-editor-dragover";t.preventDefault(),t.dataTransfer.dropEffect="copy","dragover"===t.type?t.target.classList.add(e):"dragleave"===t.type&&t.target.classList.remove(e)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files,0).some(function(e){var n,i;e.type.match("image")&&((n=new FileReader).readAsDataURL(e),i="medium-img-"+ +new Date,t.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+i+'" />'),n.onload=function(){var t=this.document.getElementById(i);t&&(t.removeAttribute("id"),t.removeAttribute("class"),t.src=n.result)}.bind(this))}.bind(this)),e.target.classList.remove("medium-editor-dragover")}}),t.extensions.imageDragging=h,function(){function e(e,n){if(this.options.disableReturn||n.getAttribute("data-disable-return"))e.preventDefault();else if(this.options.disableDoubleReturn||n.getAttribute("data-disable-double-return")){var i=t.selection.getSelectionStart(this.options.ownerDocument);(i&&""===i.textContent.trim()&&"li"!==i.nodeName.toLowerCase()||i.previousElementSibling&&"br"!==i.previousElementSibling.nodeName.toLowerCase()&&""===i.previousElementSibling.textContent.trim())&&e.preventDefault()}}function n(e){var n,i=t.selection.getSelectionStart(this.options.ownerDocument),r=i.nodeName.toLowerCase(),o=/^(\s+|<br\/?>)?$/i,s=/h\d/i;t.util.isKey(e,[t.util.keyCode.BACKSPACE,t.util.keyCode.ENTER])&&i.previousElementSibling&&s.test(r)&&0===t.selection.getCaretOffsets(i).left?t.util.isKey(e,t.util.keyCode.BACKSPACE)&&o.test(i.previousElementSibling.innerHTML)?(i.previousElementSibling.parentNode.removeChild(i.previousElementSibling),e.preventDefault()):!this.options.disableDoubleReturn&&t.util.isKey(e,t.util.keyCode.ENTER)&&((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",i.previousElementSibling.parentNode.insertBefore(n,i),e.preventDefault()):t.util.isKey(e,t.util.keyCode.DELETE)&&i.nextElementSibling&&i.previousElementSibling&&!s.test(r)&&o.test(i.innerHTML)&&s.test(i.nextElementSibling.nodeName.toLowerCase())?(t.selection.moveCursor(this.options.ownerDocument,i.nextElementSibling),i.previousElementSibling.parentNode.removeChild(i),e.preventDefault()):t.util.isKey(e,t.util.keyCode.BACKSPACE)&&"li"===r&&o.test(i.innerHTML)&&!i.previousElementSibling&&!i.parentElement.previousElementSibling&&i.nextElementSibling&&"li"===i.nextElementSibling.nodeName.toLowerCase()?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",i.parentElement.parentElement.insertBefore(n,i.parentElement),t.selection.moveCursor(this.options.ownerDocument,n),i.parentElement.removeChild(i),e.preventDefault()):t.util.isKey(e,t.util.keyCode.BACKSPACE)&&!1!==t.util.getClosestTag(i,"blockquote")&&0===t.selection.getCaretOffsets(i).left&&(e.preventDefault(),t.util.execFormatBlock(this.options.ownerDocument,"p"))}function i(e,n,i){var r=[];if(e||(e=[]),"string"==typeof e&&(e=n.querySelectorAll(e)),t.util.isElement(e)&&(e=[e]),i)for(var o=0;o<e.length;o++){var s=e[o];!t.util.isElement(s)||s.getAttribute("data-medium-editor-element")||s.getAttribute("medium-editor-textarea-id")||r.push(s)}else r=Array.prototype.slice.apply(e);return r}function r(t){var e=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');e&&(e.classList.remove("medium-editor-hidden"),e.removeAttribute("medium-editor-textarea-id")),t.parentNode&&t.parentNode.removeChild(t)}function o(t,e,n){var i,r,o={window:n.options.contentWindow,document:n.options.ownerDocument,base:n};return i=t,r=o,Object.keys(r).forEach(function(t){void 0===i[t]&&(i[t]=r[t])}),"function"==typeof(t=i).init&&t.init(),t.name||(t.name=e),t}function s(){return!this.elements.every(function(t){return!!t.getAttribute("data-disable-toolbar")})&&!1!==this.options.toolbar}function a(n,i){if(!n.getAttribute("data-medium-editor-element")){"textarea"===n.nodeName.toLowerCase()&&(n=function(t){for(var e=this.options.ownerDocument.createElement("div"),n=Date.now(),i="medium-editor-"+n,r=t.attributes;this.options.ownerDocument.getElementById(i);)i="medium-editor-"+ ++n;e.className=t.className,e.id=i,e.innerHTML=t.value,t.setAttribute("medium-editor-textarea-id",i);for(var o=0,s=r.length;o<s;o++)e.hasAttribute(r[o].nodeName)||e.setAttribute(r[o].nodeName,r[o].nodeValue);return t.form&&this.on(t.form,"reset",function(t){t.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(i))}.bind(this)),t.classList.add("medium-editor-hidden"),t.parentNode.insertBefore(e,t),e}.call(this,n),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=function(t,e){var n=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=e.innerHTML.trim())}.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||n.getAttribute("data-disable-editing")||(n.setAttribute("contentEditable",!0),n.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(n.getAttribute("data-disable-return")||n.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=e.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||n.getAttribute("data-disable-return")||this.on(n,"keyup",function(e){var n=t.selection.getSelectionStart(this.options.ownerDocument);n&&(t.util.isMediumEditorElement(n)&&0===n.children.length&&!t.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!t.util.isKey(e,t.util.keyCode.ENTER)||t.util.isListItem(n)||t.util.isBlockContainer(n)||("a"===n.nodeName.toLowerCase()?this.options.ownerDocument.execCommand("unlink",!1,null):e.shiftKey||e.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}.bind(this));var r=t.util.guid();n.setAttribute("data-medium-editor-element",!0),n.classList.add("medium-editor-element"),n.setAttribute("role","textbox"),n.setAttribute("aria-multiline",!0),n.setAttribute("data-medium-editor-editor-index",i),n.setAttribute("medium-editor-index",r),h[r]=n.innerHTML,this.events.attachAllEventsToElement(n)}return n}function l(){this.subscribe("editableKeydownTab",function(e){var n=t.selection.getSelectionStart(this.options.ownerDocument);"pre"===(n&&n.nodeName.toLowerCase())&&(e.preventDefault(),t.util.insertHTMLCommand(this.options.ownerDocument,"    ")),t.util.isListItem(n)&&(e.preventDefault(),e.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}.bind(this)),this.subscribe("editableKeydownDelete",n.bind(this)),this.subscribe("editableKeydownEnter",n.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",function(e){var n=t.selection.getSelectionStart(this.options.ownerDocument),i=n.textContent,r=t.selection.getCaretOffsets(n);(void 0===i[r.left-1]||""===i[r.left-1].trim()||void 0!==i[r.left]&&""===i[r.left].trim())&&e.preventDefault()}.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=e.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function c(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(t){"toolbar"!==t&&this.options.extensions[t]&&this.extensions.push(o(this.options.extensions[t],t,this))},this),function(){return!this.options.extensions.imageDragging}.call(this)){var e=this.options.fileDragging;e||(e={},function(){return!1!==this.options.imageDragging}.call(this)||(e.allowedTypes=[])),this.addBuiltInExtension("fileDragging",e)}var n={paste:!0,"anchor-preview":function(){return!!s.call(this)&&!1!==this.options.anchorPreview}.call(this),autoLink:function(){return!1!==this.options.autoLink}.call(this),keyboardCommands:function(){return!1!==this.options.keyboardCommands}.call(this),placeholder:function(){return!1!==this.options.placeholder}.call(this)};Object.keys(n).forEach(function(t){n[t]&&this.addBuiltInExtension(t)},this);var i=this.options.extensions.toolbar;if(!i&&s.call(this)){var r=t.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});i=new t.extensions.toolbar(r)}i&&this.extensions.push(o(i,"toolbar",this))}function u(e,n){var i,r;if(i=/^append-(.+)$/gi.exec(e))return t.util.execFormatBlock(this.options.ownerDocument,i[1]);if("fontSize"===e)return n.size&&t.util.deprecated(".size option for fontSize command",".value","6.0.0"),r=n.value||n.size,this.options.ownerDocument.execCommand("fontSize",!1,r);if("fontName"===e)return n.name&&t.util.deprecated(".name option for fontName command",".value","6.0.0"),r=n.value||n.name,this.options.ownerDocument.execCommand("fontName",!1,r);if("createLink"===e)return this.createLink(n);if("image"===e){var o=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,o)}if(/justify([A-Za-z]*)$/g.exec(e)){var s=this.options.ownerDocument.execCommand(e,!1,null),a=t.selection.getSelectedParentElement(t.selection.getSelectionRange(this.options.ownerDocument));return a&&function(e){if(!e)return;var n,i=Array.prototype.slice.call(e.childNodes).filter(function(t){var e="div"===t.nodeName.toLowerCase();return e&&!n&&(n=t.style.textAlign),e});i.length&&(this.saveSelection(),i.forEach(function(e){if(e.style.textAlign===n){var i=e.lastChild;if(i){t.util.unwrap(e,this.options.ownerDocument);var r=this.options.ownerDocument.createElement("BR");i.parentNode.insertBefore(r,i.nextSibling)}}},this),e.style.textAlign=n,this.restoreSelection())}.call(this,t.util.getTopBlockContainer(a)),s}return r=n&&n.value,this.options.ownerDocument.execCommand(e,!1,r)}var h={};t.prototype={init:function(e,n){return this.options=function(e,n){return n&&[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]].forEach(function(e){n.hasOwnProperty(e[0])&&void 0!==n[e[0]]&&t.util.deprecated(e[0],e[1],"v6.0.0")}),t.util.defaults({},n,e)}.call(this,this.defaults,n),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(function(t){t._mediumEditors||(t._mediumEditors=[null]),this.id||(this.id=t._mediumEditors.length),t._mediumEditors[this.id]=this}.call(this,this.options.contentWindow),this.events=new t.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,c.call(this),l.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(t){"function"==typeof t.destroy&&t.destroy()},this),this.events.destroy(),this.elements.forEach(function(t){this.options.spellcheck&&(t.innerHTML=t.innerHTML),t.removeAttribute("contentEditable"),t.removeAttribute("spellcheck"),t.removeAttribute("data-medium-editor-element"),t.classList.remove("medium-editor-element"),t.removeAttribute("role"),t.removeAttribute("aria-multiline"),t.removeAttribute("medium-editor-index"),t.removeAttribute("data-medium-editor-editor-index"),t.getAttribute("medium-editor-textarea-id")&&r(t)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,function(t){t._mediumEditors&&t._mediumEditors[this.id]&&(t._mediumEditors[this.id]=null)}.call(this,this.options.contentWindow))},on:function(t,e,n,i){return this.events.attachDOMEvent(t,e,n,i),this},off:function(t,e,n,i){return this.events.detachDOMEvent(t,e,n,i),this},subscribe:function(t,e){return this.events.attachCustomEvent(t,e),this},unsubscribe:function(t,e){return this.events.detachCustomEvent(t,e),this},trigger:function(t,e,n){return this.events.triggerCustomEvent(t,e,n),this},delay:function(t){var e=this;return setTimeout(function(){e.isActive&&t()},this.options.delay)},serialize:function(){var t,e={},n=this.elements.length;for(t=0;t<n;t+=1)e[""!==this.elements[t].id?this.elements[t].id:"element-"+t]={value:this.elements[t].innerHTML.trim()};return e},getExtensionByName:function(t){var e;return this.extensions&&this.extensions.length&&this.extensions.some(function(n){return n.name===t&&(e=n,!0)}),e},addBuiltInExtension:function(e,n){var i,r=this.getExtensionByName(e);if(r)return r;switch(e){case"anchor":i=t.util.extend({},this.options.anchor,n),r=new t.extensions.anchor(i);break;case"anchor-preview":r=new t.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":r=new t.extensions.autoLink;break;case"fileDragging":r=new t.extensions.fileDragging(n);break;case"fontname":r=new t.extensions.fontName(this.options.fontName);break;case"fontsize":r=new t.extensions.fontSize(n);break;case"keyboardCommands":r=new t.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":r=new t.extensions.paste(this.options.paste);break;case"placeholder":r=new t.extensions.placeholder(this.options.placeholder);break;default:t.extensions.button.isBuiltInButton(e)&&(n?(i=t.util.defaults({},n,t.extensions.button.prototype.defaults[e]),r=new t.extensions.button(i)):r=new t.extensions.button(e))}return r&&this.extensions.push(o(r,e,this)),r},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var t=this.getExtensionByName("toolbar");return t&&t.checkState(),this},queryCommandState:function(t){var e,n=null;(e=/^full-(.+)$/gi.exec(t))&&(t=e[1]);try{n=this.options.ownerDocument.queryCommandState(t)}catch(t){n=null}return n},execAction:function(e,n){var i,r;return(i=/^full-(.+)$/gi.exec(e))?(this.saveSelection(),this.selectAllContents(),r=u.call(this,i[1],n),this.restoreSelection()):r=u.call(this,e,n),"insertunorderedlist"!==e&&"insertorderedlist"!==e||t.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),r},getSelectedParentElement:function(e){return void 0===e&&(e=this.options.contentWindow.getSelection().getRangeAt(0)),t.selection.getSelectedParentElement(e)},selectAllContents:function(){var e=t.selection.getSelectionElement(this.options.contentWindow);if(e){for(;1===e.children.length;)e=e.children[0];this.selectElement(e)}},selectElement:function(e){t.selection.selectNode(e,this.options.ownerDocument);var n=t.selection.getSelectionElement(this.options.contentWindow);n&&this.events.focusElement(n)},getFocusedElement:function(){var t;return this.elements.some(function(e){return!t&&e.getAttribute("data-medium-focused")&&(t=e),!!t},this),t},exportSelection:function(){var e=t.selection.getSelectionElement(this.options.contentWindow),n=this.elements.indexOf(e),i=null;return n>=0&&(i=t.selection.exportSelection(e,this.options.ownerDocument)),null!==i&&0!==n&&(i.editableElementIndex=n),i},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(e,n){if(e){var i=this.elements[e.editableElementIndex||0];t.selection.importSelection(e,i,this.options.ownerDocument,n)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(e){var n,i=t.selection.getSelectionElement(this.options.contentWindow),r={};if(-1!==this.elements.indexOf(i)){try{if(this.events.disableCustomEvent("editableInput"),e.url&&t.util.deprecated(".url option for createLink",".value","6.0.0"),(n=e.url||e.value)&&n.trim().length>0){var o=this.options.contentWindow.getSelection();if(o){var s,a,l,c,u=o.getRangeAt(0),h=u.commonAncestorContainer;if(3===u.endContainer.nodeType&&3!==u.startContainer.nodeType&&0===u.startOffset&&u.startContainer.firstChild===u.endContainer&&(h=u.endContainer),a=t.util.getClosestBlockContainer(u.startContainer),l=t.util.getClosestBlockContainer(u.endContainer),3!==h.nodeType&&0!==h.textContent.length&&a===l){var d=a||i,f=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),s=this.exportSelection(),f.appendChild(d.cloneNode(!0)),i===d?t.selection.select(this.options.ownerDocument,d.firstChild,0,d.lastChild,3===d.lastChild.nodeType?d.lastChild.nodeValue.length:d.lastChild.childNodes.length):t.selection.select(this.options.ownerDocument,d,0,d,d.childNodes.length);var p=this.exportSelection();0===(c=t.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,f,{start:s.start-p.start,end:s.end-p.start,editableElementIndex:s.editableElementIndex})).length&&((f=this.options.ownerDocument.createDocumentFragment()).appendChild(h.cloneNode(!0)),c=[f.firstChild.firstChild,f.firstChild.lastChild]),t.util.createLink(this.options.ownerDocument,c,n.trim());var g=(f.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;t.util.insertHTMLCommand(this.options.ownerDocument,f.firstChild.innerHTML.replace(/^\s+/,"")),s.start-=g,s.end-=g,this.importSelection(s)}else this.options.ownerDocument.execCommand("createLink",!1,n);this.options.targetBlank||"_blank"===e.target?t.util.setTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),n):t.util.removeTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),n),e.buttonClass&&t.util.addClassToAnchors(t.selection.getSelectionStart(this.options.ownerDocument),e.buttonClass)}}if(this.options.targetBlank||"_blank"===e.target||e.buttonClass){(r=this.options.ownerDocument.createEvent("HTMLEvents")).initEvent("input",!0,!0,this.options.contentWindow);for(var m=0,v=this.elements.length;m<v;m+=1)this.elements[m].dispatchEvent(r)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",r,i)}},cleanPaste:function(t){this.getExtensionByName("paste").cleanPaste(t)},pasteHTML:function(t,e){this.getExtensionByName("paste").pasteHTML(t,e)},setContent:function(t,e){if(e=e||0,this.elements[e]){var n=this.elements[e];n.innerHTML=t,this.checkContentChanged(n)}},getContent:function(t){return t=t||0,this.elements[t]?this.elements[t].innerHTML.trim():null},checkContentChanged:function(e){e=e||t.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(e,{target:e,currentTarget:e})},resetContent:function(t){if(t){var e=this.elements.indexOf(t);-1!==e&&this.setContent(h[t.getAttribute("medium-editor-index")],e)}else this.elements.forEach(function(t,e){this.setContent(h[t.getAttribute("medium-editor-index")],e)},this)},addElements:function(t){var e=i(t,this.options.ownerDocument,!0);if(0===e.length)return!1;e.forEach(function(t){t=a.call(this,t,this.id),this.elements.push(t)},this)},removeElements:function(t){var e=i(t,this.options.ownerDocument).map(function(t){return t.getAttribute("medium-editor-textarea-id")&&t.parentNode?t.parentNode.querySelector('div[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]'):t});this.elements=this.elements.filter(function(t){return-1===e.indexOf(t)||(this.events.cleanupElement(t),t.getAttribute("medium-editor-textarea-id")&&r(t),!1)},this)}},t.getEditorFromElement=function(t){var e=t.getAttribute("data-medium-editor-editor-index"),n=t&&t.ownerDocument&&(t.ownerDocument.defaultView||t.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[e]?n._mediumEditors[e]:null}}(),t.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0},t.parseVersionString=function(t){var e=t.split("-"),n=e[0].split("."),i=e.length>1?e[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:i,toString:function(){return[n[0],n[1],n[2]].join(".")+(i?"-"+i:"")}}},t.version=t.parseVersionString.call(this,"5.20.2"),t}()),angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{require:"ngModel",restrict:"AE",scope:{bindOptions:"&"},link:function(t,e,n,i){angular.element(e).addClass("angular-medium-editor"),i.editor=new MediumEditor(e,t.bindOptions()),i.$render=function(){var t=e;"textarea"===e[0].tagName.toLowerCase()&&(t=e.parent().find(".medium-editor-element")),t.html(i.$viewValue||"");var n=i.editor.getExtensionByName("placeholder");n&&n.updatePlaceholder(t[0])},i.$isEmpty=function(t){return/[<>]/.test(t)?0===(e=t,n=document.createElement("div"),n.innerHTML=e,(n.textContent||"").trim()).length&&!/[<>]img/.test(t):!t||0===t.length;var e,n},i.editor.subscribe("editableInput",function(e,n){t.$apply(function(){var t=$(n);""===t.text().trim()&&0==t.find("img").length&&t.html(""),t.find("p").addClass("medium-editor-p"),i.$setViewValue(t.html().trim())})}),t.$on("$destroy",function(){i.editor.destroy()})}}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";var n={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),a=function(){var t="";if(r)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(e,n,i,r){for(var s=[],a=0;a<e.length;a++){var l=e[a];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,l)?" sp-thumb-active":"";var h=c.toString(r.preferredFormat||"rgb"),d=o?"background-color:"+c.toRgbString():"filter:"+c.toFilter();s.push('<span title="'+h+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{s.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+s.join("")+"</div>"}function c(c,u){var g,m,v,y,b,w,x,C=(b=u,w=c,(x=t.extend({},n,b)).callbacks={move:d(x.move,w),change:d(x.change,w),show:d(x.show,w),hide:d(x.hide,w),beforeShow:d(x.beforeShow,w)},x),k=C.flat,_=C.showSelectionPalette,S=C.localStorageKey,$=C.theme,E=C.callbacks,T=(g=Yt,m=10,function(){var t=this,e=arguments;v&&clearTimeout(y),!v&&y||(y=setTimeout(function(){y=null,g.apply(t,e)},m))}),D=!1,M=!1,A=0,P=0,O=0,N=0,I=0,L=0,H=0,R=0,F=0,z=0,B=1,j=[],W=[],V={},q=C.selectionPalette.slice(0),Y=C.maxSelectionSize,U="sp-dragging",G=null,X=c.ownerDocument,K=(X.body,t(c)),Z=!1,Q=t(a,X).addClass($),J=Q.find(".sp-picker-container"),tt=Q.find(".sp-color"),et=Q.find(".sp-dragger"),nt=Q.find(".sp-hue"),it=Q.find(".sp-slider"),rt=Q.find(".sp-alpha-inner"),ot=Q.find(".sp-alpha"),st=Q.find(".sp-alpha-handle"),at=Q.find(".sp-input"),lt=Q.find(".sp-palette"),ct=Q.find(".sp-initial"),ut=Q.find(".sp-cancel"),ht=Q.find(".sp-clear"),dt=Q.find(".sp-choose"),ft=Q.find(".sp-palette-toggle"),pt=K.is("input"),gt=pt&&"color"===K.attr("type")&&p(),mt=pt&&!k,vt=mt?t(s).addClass($).addClass(C.className).addClass(C.replacerClassName):t([]),yt=mt?vt:K,bt=vt.find(".sp-preview-inner"),wt=C.color||pt&&K.val(),xt=!1,Ct=C.preferredFormat,kt=!C.showButtons||C.clickoutFiresChange,_t=!wt,St=C.allowEmpty&&!gt;function $t(){if(C.showPaletteOnly&&(C.showPalette=!0),ft.text(C.showPaletteOnly?C.togglePaletteMoreText:C.togglePaletteLessText),C.palette){j=C.palette.slice(0),W=t.isArray(j[0])?j:[j],V={};for(var e=0;e<W.length;e++)for(var n=0;n<W[e].length;n++){var i=tinycolor(W[e][n]).toRgbString();V[i]=!0}}Q.toggleClass("sp-flat",k),Q.toggleClass("sp-input-disabled",!C.showInput),Q.toggleClass("sp-alpha-enabled",C.showAlpha),Q.toggleClass("sp-clear-enabled",St),Q.toggleClass("sp-buttons-disabled",!C.showButtons),Q.toggleClass("sp-palette-buttons-disabled",!C.togglePaletteOnly),Q.toggleClass("sp-palette-disabled",!C.showPalette),Q.toggleClass("sp-palette-only",C.showPaletteOnly),Q.toggleClass("sp-initial-disabled",!C.showInitial),Q.addClass(C.className).addClass(C.containerClassName),Yt()}function Et(){if(S&&window.localStorage){try{var e=window.localStorage[S].split(",#");e.length>1&&(delete window.localStorage[S],t.each(e,function(t,e){Tt(e)}))}catch(t){}try{q=window.localStorage[S].split(";")}catch(t){}}}function Tt(e){if(_){var n=tinycolor(e).toRgbString();if(!V[n]&&-1===t.inArray(n,q))for(q.push(n);q.length>Y;)q.shift();if(S&&window.localStorage)try{window.localStorage[S]=q.join(";")}catch(t){}}}function Dt(){var e=Bt(),n=t.map(W,function(t,n){return l(t,e,"sp-palette-row sp-palette-row-"+n,C)});Et(),q&&n.push(l(function(){var t=[];if(C.showPalette)for(var e=0;e<q.length;e++){var n=tinycolor(q[e]).toRgbString();V[n]||t.push(q[e])}return t.reverse().slice(0,C.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",C)),lt.html(n.join(""))}function Mt(){if(C.showInitial){var t=xt,e=Bt();ct.html(l([t,e],e,"sp-palette-row-initial",C))}}function At(){(P<=0||A<=0||N<=0)&&Yt(),M=!0,Q.addClass(U),G=null,K.trigger("dragstart.spectrum",[Bt()])}function Pt(){M=!1,Q.removeClass(U),K.trigger("dragstop.spectrum",[Bt()])}function Ot(){var t=at.val();if(null!==t&&""!==t||!St){var e=tinycolor(t);e.isValid()?(zt(e),qt(!0)):at.addClass("sp-validation-error")}else zt(null),qt(!0)}function Nt(){D?Rt():It()}function It(){var e=t.Event("beforeShow.spectrum");D?Yt():(K.trigger(e,[Bt()]),!1===E.beforeShow(Bt())||e.isDefaultPrevented()||(!function(){for(var t=0;t<i.length;t++)i[t]&&i[t].hide()}(),D=!0,t(X).bind("keydown.spectrum",Lt),t(X).bind("click.spectrum",Ht),t(window).bind("resize.spectrum",T),vt.addClass("sp-active"),Q.removeClass("sp-hidden"),Yt(),Wt(),xt=Bt(),Mt(),E.show(xt),K.trigger("show.spectrum",[xt])))}function Lt(t){27===t.keyCode&&Rt()}function Ht(t){2!=t.button&&(M||(kt?qt(!0):Ft(),Rt()))}function Rt(){D&&!k&&(D=!1,t(X).unbind("keydown.spectrum",Lt),t(X).unbind("click.spectrum",Ht),t(window).unbind("resize.spectrum",T),vt.removeClass("sp-active"),Q.addClass("sp-hidden"),E.hide(Bt()),K.trigger("hide.spectrum",[Bt()]))}function Ft(){zt(xt,!0)}function zt(t,e){var n,i;tinycolor.equals(t,Bt())?Wt():(!t&&St?_t=!0:(_t=!1,i=(n=tinycolor(t)).toHsv(),R=i.h%360/360,F=i.s,z=i.v,B=i.a),Wt(),n&&n.isValid()&&!e&&(Ct=C.preferredFormat||n.getFormat()))}function Bt(t){return t=t||{},St&&_t?null:tinycolor.fromRatio({h:R,s:F,v:z,a:Math.round(100*B)/100},{format:t.format||Ct})}function jt(){Wt(),E.move(Bt()),K.trigger("move.spectrum",[Bt()])}function Wt(){at.removeClass("sp-validation-error"),Vt();var t=tinycolor.fromRatio({h:R,s:1,v:1});tt.css("background-color",t.toHexString());var e=Ct;B<1&&(0!==B||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Bt({format:e}),i="";if(bt.removeClass("sp-clear-display"),bt.css("background-color","transparent"),!n&&St)bt.addClass("sp-clear-display");else{var s=n.toHexString(),a=n.toRgbString();if(o||1===n.alpha?bt.css("background-color",a):(bt.css("background-color","transparent"),bt.css("filter",n.toFilter())),C.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),u="linear-gradient(left, "+c+", "+s+")";r?rt.css("filter",tinycolor(c).toFilter({gradientType:1},s)):(rt.css("background","-webkit-"+u),rt.css("background","-moz-"+u),rt.css("background","-ms-"+u),rt.css("background","linear-gradient(to right, "+c+", "+s+")"))}i=n.toString(e)}C.showInput&&at.val(i),C.showPalette&&Dt(),Mt()}function Vt(){var t=F,e=z;if(St&&_t)st.hide(),it.hide(),et.hide();else{st.show(),it.show(),et.show();var n=t*A,i=P-e*P;n=Math.max(-O,Math.min(A-O,n-O)),i=Math.max(-O,Math.min(P-O,i-O)),et.css({top:i+"px",left:n+"px"});var r=B*I;st.css({left:r-L/2+"px"});var o=R*N;it.css({top:o-H+"px"})}}function qt(t){var e=Bt(),n="",i=!tinycolor.equals(e,xt);e&&(n=e.toString(Ct),Tt(e)),pt&&K.val(n),t&&i&&(E.change(e),K.trigger("change",[e]))}function Yt(){var e,n,i,r,o,s,a,l,c,u;D&&(A=tt.width(),P=tt.height(),O=et.height(),nt.width(),N=nt.height(),H=it.height(),I=ot.width(),L=st.width(),k||(Q.css("position","absolute"),C.offset?Q.offset(C.offset):Q.offset((n=yt,i=(e=Q).outerWidth(),r=e.outerHeight(),o=n.outerHeight(),s=e[0].ownerDocument,a=s.documentElement,l=a.clientWidth+t(s).scrollLeft(),c=a.clientHeight+t(s).scrollTop(),(u=n.offset()).top+=o,u.left-=Math.min(u.left,u.left+i>l&&l>i?Math.abs(u.left+i-l):0),u.top-=Math.min(u.top,u.top+r>c&&c>r?Math.abs(r+o-0):0),u))),Vt(),C.showPalette&&Dt(),K.trigger("reflow.spectrum"))}function Ut(){Rt(),Z=!0,K.attr("disabled",!0),yt.addClass("sp-disabled")}!function(){if(r&&Q.find("*:not(input)").attr("unselectable","on"),$t(),mt&&K.after(vt).hide(),St||ht.hide(),k)K.after(Q).hide();else{var e="parent"===C.appendTo?K.parent():t(C.appendTo);1!==e.length&&(e=t("body")),e.append(Q)}function n(e){return e.data&&e.data.ignore?(zt(t(e.target).closest(".sp-thumb-el").data("color")),jt()):(zt(t(e.target).closest(".sp-thumb-el").data("color")),jt(),qt(!0),C.hideAfterPaletteSelect&&Rt()),!1}Et(),yt.bind("click.spectrum touchstart.spectrum",function(e){Z||Nt(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(K.is(":disabled")||!0===C.disabled)&&Ut(),Q.click(h),at.change(Ot),at.bind("paste",function(){setTimeout(Ot,1)}),at.keydown(function(t){13==t.keyCode&&Ot()}),ut.text(C.cancelText),ut.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Ft(),Rt()}),ht.attr("title",C.clearText),ht.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),_t=!0,jt(),k&&qt(!0)}),dt.text(C.chooseText),dt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),r&&at.is(":focus")&&at.trigger("change"),at.hasClass("sp-validation-error")||(qt(!0),Rt())}),ft.text(C.showPaletteOnly?C.togglePaletteMoreText:C.togglePaletteLessText),ft.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),C.showPaletteOnly=!C.showPaletteOnly,C.showPaletteOnly||k||Q.css("left","-="+(J.outerWidth(!0)+5)),$t()}),f(ot,function(t,e,n){B=t/I,_t=!1,n.shiftKey&&(B=Math.round(10*B)/10),jt()},At,Pt),f(nt,function(t,e){R=parseFloat(e/N),_t=!1,C.showAlpha||(B=1),jt()},At,Pt),f(tt,function(t,e,n){if(n.shiftKey){if(!G){var i=F*A,r=P-z*P,o=Math.abs(t-i)>Math.abs(e-r);G=o?"x":"y"}}else G=null;var s=!G||"y"===G;(!G||"x"===G)&&(F=parseFloat(t/A)),s&&(z=parseFloat((P-e)/P)),_t=!1,C.showAlpha||(B=1),jt()},At,Pt),wt?(zt(wt),Wt(),Ct=C.preferredFormat||tinycolor(wt).format,Tt(wt)):Wt(),k&&It();var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";lt.delegate(".sp-thumb-el",i,n),ct.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},n)}();var Gt={show:It,hide:Rt,toggle:Nt,reflow:Yt,option:function(n,i){return n===e?t.extend({},C):i===e?C[n]:(C[n]=i,"preferredFormat"===n&&(Ct=C.preferredFormat),void $t())},enable:function(){Z=!1,K.attr("disabled",!1),yt.removeClass("sp-disabled")},disable:Ut,offset:function(t){C.offset=t,Yt()},set:function(t){zt(t),qt()},get:Bt,destroy:function(){K.show(),yt.unbind("click.spectrum touchstart.spectrum"),Q.remove(),vt.remove(),i[Gt.id]=null},container:Q};return Gt.id=i.push(Gt)-1,Gt}function u(){}function h(t){t.stopPropagation()}function d(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function f(e,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var s=document,a=!1,l={},c=0,u=0,h="ontouchstart"in window,d={};function f(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function p(t){if(a){if(r&&s.documentMode<9&&!t.button)return g();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],o=i&&i.pageX||t.pageX,d=i&&i.pageY||t.pageY,p=Math.max(0,Math.min(o-l.left,u)),m=Math.max(0,Math.min(d-l.top,c));h&&f(t),n.apply(e,[p,m,t])}}function g(){a&&(t(s).unbind(d),t(s.body).removeClass("sp-dragging"),setTimeout(function(){o.apply(e,arguments)},0)),a=!1}d.selectstart=f,d.dragstart=f,d["touchmove mousemove"]=p,d["touchend mouseup"]=g,t(e).bind("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||a||!1!==i.apply(e,arguments)&&(a=!0,c=t(e).height(),u=t(e).width(),l=t(e).offset(),t(s).bind(d),t(s.body).addClass("sp-dragging"),p(n),f(n))})}function p(){return t.fn.spectrum.inputTypeColorSupport()}var g="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=i[t(this).data(g)];if(n){var s=n[e];if(!s)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,o):"destroy"==e?(n.destroy(),t(this).removeData(g)):s.apply(n,o)}}),r}return this.spectrum("destroy").each(function(){var n=c(this,t.extend({},e,t(this).data()));t(this).data(g,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=f,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!p()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,i=Math,r=i.round,o=i.min,s=i.max,a=i.random,l=function(a,c){if(a=a||"",c=c||{},a instanceof l)return a;if(!(this instanceof l))return new l(a,c);var u=function(n){var r={r:0,g:0,b:0},a=1,l=!1,c=!1;"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var i,r=!1;if($[n])n=$[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(i=H.rgb.exec(n))return{r:i[1],g:i[2],b:i[3]};if(i=H.rgba.exec(n))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=H.hsl.exec(n))return{h:i[1],s:i[2],l:i[3]};if(i=H.hsla.exec(n))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=H.hsv.exec(n))return{h:i[1],s:i[2],v:i[3]};if(i=H.hsva.exec(n))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=H.hex8.exec(n))return{a:(o=i[1],A(o)/255),r:A(i[2]),g:A(i[3]),b:A(i[4]),format:r?"name":"hex8"};var o;if(i=H.hex6.exec(n))return{r:A(i[1]),g:A(i[2]),b:A(i[3]),format:r?"name":"hex"};if(i=H.hex3.exec(n))return{r:A(i[1]+""+i[1]),g:A(i[2]+""+i[2]),b:A(i[3]+""+i[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(u=n.r,h=n.g,d=n.b,r={r:255*D(u,255),g:255*D(h,255),b:255*D(d,255)},l=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=O(n.s),n.v=O(n.v),r=function(t,e,n){t=6*D(t,360),e=D(e,100),n=D(n,100);var r=i.floor(t),o=t-r,s=n*(1-e),a=n*(1-o*e),l=n*(1-(1-o)*e),c=r%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c]}}(n.h,n.s,n.v),l=!0,c="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=O(n.s),n.l=O(n.l),r=function(t,e,n){var i,r,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=D(t,360),e=D(e,100),n=D(n,100),0===e)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s(l,a,t+1/3),r=s(l,a,t),o=s(l,a,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(n.h,n.s,n.l),l=!0,c="hsl"),n.hasOwnProperty("a")&&(a=n.a));var u,h,d;return a=T(a),{ok:l,format:n.format||c,r:o(255,s(r.r,0)),g:o(255,s(r.g,0)),b:o(255,s(r.b,0)),a:a}}(a);this._originalInput=a,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=r(100*this._a)/100,this._format=c.format||u.format,this._gradientType=c.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=u.ok,this._tc_id=n++};function c(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),c=(a+l)/2;if(a==l)i=r=0;else{var u=a-l;switch(r=c>.5?u/(2-a-l):u/(a+l),a){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,l:c}}function u(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),c=a,u=a-l;if(r=0===a?0:u/a,a==l)i=0;else{switch(a){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,v:c}}function h(t,e,n,i){var o=[P(r(t).toString(16)),P(r(e).toString(16)),P(r(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function d(t,e,n,i){var o;return[P((o=i,Math.round(255*parseFloat(o)).toString(16))),P(r(t).toString(16)),P(r(e).toString(16)),P(r(n).toString(16))].join("")}function f(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=M(n.s),l(n)}function p(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=M(n.s),l(n)}function g(t){return l(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=M(n.l),l(n)}function v(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=s(0,o(255,n.r-r(-e/100*255))),n.g=s(0,o(255,n.g-r(-e/100*255))),n.b=s(0,o(255,n.b-r(-e/100*255))),l(n)}function y(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=M(n.l),l(n)}function b(t,e){var n=l(t).toHsl(),i=(r(n.h)+e)%360;return n.h=i<0?360+i:i,l(n)}function w(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function x(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function C(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function k(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function _(t,e,n){e=e||6,n=n||30;var i=l(t).toHsl(),r=360/n,o=[l(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(l(i));return o}function S(t,e){e=e||6;for(var n=l(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(l({h:i,s:r,v:o})),o=(o+a)%1;return s}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=T(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=c(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return d(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*D(this._r,255))+"%",g:r(100*D(this._g,255))+"%",b:r(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%)":"rgba("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=l(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:O(t[i]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:a(),g:a(),b:a()})},l.mix=function(t,e,n){n=0===n?0:n||50;var i,r=l(t).toRgb(),o=l(e).toRgb(),s=n/100,a=2*s-1,c=o.a-r.a,u=1-(i=((i=a*c==-1?a:(a+c)/(1+a*c))+1)/2),h={r:o.r*i+r.r*u,g:o.g*i+r.g*u,b:o.b*i+r.b*u,a:o.a*s+r.a*(1-s)};return l(h)},l.readability=function(t,e){var n=l(t),i=l(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),c=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:c}},l.isReadable=function(t,e){var n=l.readability(t,e);return n.brightness>125&&n.color>500},l.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=l.readability(t,e[o]),a=s.brightness>125&&s.color>500,c=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&c>i||!a&&!r&&c>i)&&(r=a,i=c,n=l(e[o]))}return n};var $=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}($);function T(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function D(t,e){var n;"string"==typeof(n=t)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(t="100%");var r,a="string"==typeof(r=t)&&-1!=r.indexOf("%");return t=o(e,s(0,parseFloat(t))),a&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return o(1,s(0,t))}function A(t){return parseInt(t,16)}function P(t){return 1==t.length?"0"+t:""+t}function O(t){return t<=1&&(t=100*t+"%"),t}var N,I,L,H=(I="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",L="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+L),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),function(t,e){"use strict";t.module("smart-table",[]).run(["$templateCache",function(t){t.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="javascript: void(0);" ng-click="selectPage(page)">{{page}}</a></li></ul></nav>')}]),t.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),t.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(n,i,r,o){function s(t){return t?[].concat(t):[]}function a(){m=s(l(n)),!0===y&&b.pipe()}var l,c,u,h=o.stTable,d=i(h),f=d.assign,p=r("orderBy"),g=r("filter"),m=s(d(n)),v={sort:{},search:{},pagination:{start:0,totalItemCount:0}},y=!0,b=this;o.stSafeSrc&&(l=i(o.stSafeSrc),n.$watch(function(){var t=l(n);return t&&t.length?t[0]:e},function(t,e){t!==e&&a()}),n.$watch(function(){var t=l(n);return t?t.length:0},function(t){t!==m.length&&a()}),n.$watch(function(){return l(n)},function(t,e){t!==e&&(v.pagination.start=0,a())})),this.sortBy=function(e,n){return v.sort.predicate=e,v.sort.reverse=!0===n,t.isFunction(e)?v.sort.functionName=e.name:delete v.sort.functionName,v.pagination.start=0,this.pipe()},this.search=function(e,n){var r=v.search.predicateObject||{},o=n||"$";return e=t.isString(e)?e.trim():e,i(o).assign(r,e),e||function t(e,n){if(-1!=n.indexOf(".")){var r=n.split("."),o=r.pop(),s=r.join("."),a=i(s)(e);delete a[o],0==Object.keys(a).length&&t(e,s)}else delete e[n]}(r,o),v.search.predicateObject=r,v.pagination.start=0,this.pipe()},this.pipe=function(){var t,i=v.pagination;c=v.search.predicateObject?g(m,v.search.predicateObject):m,v.sort.predicate&&(c=p(c,v.sort.predicate,v.sort.reverse)),i.totalItemCount=c.length,i.number!==e&&(i.numberOfPages=c.length>0?Math.ceil(c.length/i.number):1,i.start=i.start>=c.length?(i.numberOfPages-1)*i.number:i.start,t=c.slice(i.start,i.start+parseInt(i.number))),f(n,t||c)},this.select=function(t,i){var r=s(d(n)),o=r.indexOf(t);-1!==o&&("single"===i?(t.isSelected=!0!==t.isSelected,u&&(u.isSelected=!1),u=!0===t.isSelected?t:e):r[o].isSelected=!r[o].isSelected)},this.slice=function(t,e){return v.pagination.start=t,v.pagination.number=e,this.pipe()},this.tableState=function(){return v},this.getFilteredCollection=function(){return c||m},this.setFilterFunction=function(t){g=r(t)},this.setSortFunction=function(t){p=r(t)},this.preventPipeOnWatch=function(){y=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(t,e,n,i){n.stSetFilter&&i.setFilterFunction(n.stSetFilter),n.stSetSort&&i.setSortFunction(n.stSetSort)}}}),t.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(t,e,n){return{require:"^stTable",link:function(i,r,o,s){var a=s,l=null,c=o.stDelay||t.search.delay,u=o.stInputEvent||t.search.inputEvent;o.$observe("stSearch",function(t,e){var n=r[0].value;t!==e&&n&&(s.tableState().search={},a.search(n,t))}),i.$watch(function(){return s.tableState().search},function(t){var e=o.stSearch||"$";t.predicateObject&&n(e)(t.predicateObject)!==r[0].value&&(r[0].value=n(e)(t.predicateObject)||"")},!0),r.bind(u,function(t){t=t.originalEvent||t,null!==l&&e.cancel(l),l=e(function(){a.search(t.target.value,o.stSearch||""),l=null},c)})}}}]),t.module("smart-table").directive("stSelectRow",["stConfig",function(t){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(e,n,i,r){var o=i.stSelectMode||t.select.mode;n.bind("click",function(){e.$apply(function(){r.select(e.row,o)})}),e.$watch("row.isSelected",function(e){!0===e?n.addClass(t.select.selectedClass):n.removeClass(t.select.selectedClass)})}}}]),t.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(n,i,r){return{restrict:"A",require:"^stTable",link:function(o,s,a,l){function c(){var e;y?f=0===f?2:f-1:f++,h=t.isFunction(d(o))||t.isArray(d(o))?d(o):a.stSort,f%3==0&&1!=!!v?(f=0,l.tableState().sort={},l.tableState().pagination.start=0,e=l.pipe.bind(l)):e=l.sortBy.bind(l,h,f%2==0),null!==b&&r.cancel(b),0>w?e():b=r(e,w)}var u,h=a.stSort,d=i(h),f=0,p=a.stClassAscent||n.sort.ascentClass,g=a.stClassDescent||n.sort.descentClass,m=[p,g],v=a.stSkipNatural!==e?a.stSkipNatural:n.sort.skipNatural,y=a.stDescendingFirst!==e?a.stDescendingFirst:n.sort.descendingFirst,b=null,w=a.stDelay||n.sort.delay;a.stSortDefault&&(u=o.$eval(a.stSortDefault)!==e?o.$eval(a.stSortDefault):a.stSortDefault),s.bind("click",function(){h&&o.$apply(c)}),u&&(f="reverse"===u?1:0,c()),o.$watch(function(){return l.tableState().sort},function(t){t.predicate!==h?(f=0,s.removeClass(p).removeClass(g)):(f=!0===t.reverse?2:1,s.removeClass(m[f%2]).addClass(m[f-1]))},!0)}}}]),t.module("smart-table").directive("stPagination",["stConfig",function(t){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(e,n){return n.stTemplate?n.stTemplate:t.pagination.template},link:function(e,n,i,r){function o(){var t,n,i=r.tableState().pagination,o=1,s=e.currentPage;for(e.totalItemCount=i.totalItemCount,e.currentPage=Math.floor(i.start/i.number)+1,(t=(o=Math.max(o,e.currentPage-Math.abs(Math.floor(e.stDisplayedPages/2))))+e.stDisplayedPages)>i.numberOfPages&&(t=i.numberOfPages+1,o=Math.max(1,t-e.stDisplayedPages)),e.pages=[],e.numPages=i.numberOfPages,n=o;t>n;n++)e.pages.push(n);s!==e.currentPage&&e.stPageChange({newPage:e.currentPage})}e.stItemsByPage=e.stItemsByPage?+e.stItemsByPage:t.pagination.itemsByPage,e.stDisplayedPages=e.stDisplayedPages?+e.stDisplayedPages:t.pagination.displayedPages,e.currentPage=1,e.pages=[],e.$watch(function(){return r.tableState().pagination},o,!0),e.$watch("stItemsByPage",function(t,n){t!==n&&e.selectPage(1)}),e.$watch("stDisplayedPages",o),e.selectPage=function(t){t>0&&t<=e.numPages&&r.slice((t-1)*e.stItemsByPage,e.stItemsByPage)},r.tableState().pagination.number||r.slice(0,e.stItemsByPage)}}}]),t.module("smart-table").directive("stPipe",["stConfig","$timeout",function(e,n){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(i,r,o,s){var a=null;t.isFunction(i.stPipe)&&(s.preventPipeOnWatch(),s.pipe=function(){return null!==a&&n.cancel(a),a=n(function(){i.stPipe(s.tableState(),s)},e.pipe.delay)})},post:function(t,e,n,i){i.pipe()}}}}])}(angular);